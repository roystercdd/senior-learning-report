---
title: æ ‘
date: 2024-10-04 20:35:15
categories: å­¦ä¹ 
tags:
    - ç®—æ³•ç«èµ›
    - æ•°æ®ç»“æ„
    - æ ‘
---

<meta name="referrer" content="no-referrer" />

# æ ‘

<!-- toc -->



## 1. æ ‘çš„éå†

* ç»•è¡Œè¸©ç‚¹ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºéå†æ•´æ£µæ ‘ï¼Œç»è¿‡æ ‘çš„å·¦ä¾§æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯å…ˆåºéå†åºåˆ—ï¼Œç»è¿‡æ ‘çš„ä¸‹æ–¹æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ä¸­åºéå†åºåˆ—ï¼Œç»è¿‡æ•°çš„å³ä¾§"ğŸ”º"æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ååºéå†åºåˆ—ã€‚

![image-20240304151152074](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151152074.png)



![image-20240304151653655](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151653655.png)

* è‹¥è¾“å…¥ $(0,0)$ è¡¨ç¤ºå¶å­èŠ‚ç‚¹

``` c++
#include<bits/stdc++.h>
#define x first
#define y second

using namespace std;

typedef long long ll;
typedef pair<int,int> PII;

// è§£é¢˜æ€è·¯: ç”¨å·¦å³å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ³•

const int N=1e6+5;

struct Node {
	int l;
	int r;
}node[N];

void pre_Order(int root) {
	cout<<root<<' ';
	if(node[root].l!=0) pre_Order(node[root].l);
	if(node[root].r!=0) pre_Order(node[root].r);
}

void in_Order(int root) {
	if(node[root].l!=0) in_Order(node[root].l);
	cout<<root<<' ';
	if(node[root].r!=0) in_Order(node[root].r);
}

void post_Order(int root) {
	if(node[root].l!=0) post_Order(node[root].l);
	if(node[root].r!=0) post_Order(node[root].r);
	cout<<root<<' ';
}

int main() {
	int n;
	cin>>n;
    // è¾“å…¥ç¼–å·1~nçš„å·¦å³å­©å­çš„ç¼–å·
	for(int i=1;i<=n;i++) {
		int l,r;
		scanf("%d%d",&l,&r);
		node[i]={l,r}; // ç¼–å·å³ä¸ºå€¼
	}
	pre_Order(1); // å‰åºéå†ç»“æœ
	cout<<endl;
	in_Order(1); // ä¸­åºéå†ç»“æœ
	cout<<endl;
	post_Order(1); // ååºéå†ç»“æœ
	cout<<endl;
	return 0;
}
```





## 2. æ¨æ–­äºŒå‰æ ‘

* å·²çŸ¥ä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ç¡®å®šå®ƒçš„å››ç§éå†åºåˆ—ï¼ˆå‰åºã€ä¸­åºã€ååºã€æŒ‰å±‚éå†ï¼‰ï¼Œåè¿‡æ¥ï¼Œå·²çŸ¥ä¸¤ç§éå†åºåˆ—ï¼Œä¹Ÿèƒ½ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚

* æ ¹æ®å…ˆåºåºåˆ—ç¬¬ä¸€ä¸ªç»“ç‚¹ç¡®å®šæ ¹ç»“ç‚¹
* æ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å­æ ‘å’Œå³å­æ ‘
* å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ç»§ç»­åˆ†è§£

### 2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„

``` c++
#include<bits/stdc++.h>
#define x first
#define y second

using namespace std;

typedef long long ll;
typedef pair<int,int> PII;

// è§£é¢˜æ€è·¯: è¾“å…¥å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—æ¨æ–­å‡ºååºåºåˆ—

const int N=1e3+5;

struct Node {
	char val; 
	int l,r; // å·¦å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·,å³å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·
}node[N];
int idx; // å»ºæ ‘å› å­
string s_pre,s_in; // å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—

// æ ¹æ®å…ˆåºå’Œä¸­åºå»ºäºŒå‰æ ‘,è¿”å›æ ‘æ ¹
int create(string sp,string si) {
	int k; // åˆ†å‰²ç‚¹
	int root=++idx;
	node[root].val=sp[0]; // å…ˆåºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ‘æ ¹
	// æ‰¾åˆ°æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®
	for(int i=0;i<si.length();i++) {
		if(sp[0]==si[i]) {
			k=i;
			break; 
		} 
	}
	// ç¡®å®šå·¦å³å­æ ‘åºåˆ—çš„é•¿åº¦
	int len_l=k,len_r=si.length()-1-k;
	// åºåˆ—é•¿åº¦>0,å»ºç«‹æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘,å¹¶é€’å½’å¯¹å·¦å­æ ‘æŒ‰ç…§å…ˆåºå’Œä¸­åºé€’å½’æ±‚è§£
	// æ³¨æ„å¯¹spå’Œsiéƒ½å–ç›¸åŒçš„å­—ç¬¦ä¸²é•¿åº¦
	// å…ˆåºéå†ä¸­,æ ¹èŠ‚ç‚¹æ€»æ˜¯åœ¨æœ€å‰é¢,æ‰€ä»¥å¯¹spè·³è¿‡æ ¹èŠ‚ç‚¹
	// ä¸­åºéå†ä¸­,å·¦å­æ ‘æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¹‹å‰,æ‰€ä»¥ä¸éœ€è¦è·³è¿‡ä»»ä½•èŠ‚ç‚¹
	if(len_l>0) {
		node[root].l=create(sp.substr(1,len_l),si.substr(0,len_l));
	} 
	if(len_r>0) {
		node[root].r=create(sp.substr(k+1,len_r),si.substr(k+1,len_r));
	}
	return root; // è¿”å›å¤´ç»“ç‚¹ç¼–å·
}

// ååºéå†
void postOrder(int root) {
	if(root!=0) {
		postOrder(node[root].l);
		postOrder(node[root].r);
		cout<<node[root].val;
	}
}

// å¦‚æœæƒ³æŒ‰å±‚éå†,åˆ™ç”¨BFS
void bfs(int root) {
	if(root==0) return;
	queue<int> q;
	q.push(root);
	while(q.size()) {
		int x=q.front();
		q.pop();
//		cout<<x<<' '; // è‹¥è¾“å‡ºç¼–å·
		cout<<node[x].val<<' ';
		if(node[x].l!=0) q.push(node[x].l);
		if(node[x].r!=0) q.push(node[x].r);
	}
}

int main() {
	cin>>s_pre>>s_in;
	int root=create(s_pre,s_in);
	postOrder(root); // è¾“å‡ºåç»­éå†ç»“æœ
	cout<<endl;
	bfs(root); // è¾“å‡ºæŒ‰å±‚éå†çš„ç»“æœ
	return 0;
}
/*
æ ·ä¾‹è¾“å…¥:
abdec
dbeac
*/
```



### 2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„

* æŒ‰å±‚éå†æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ˜¯æŒ‰å±‚ï¼Œä¸€èˆ¬ç”¨å¹¿æœå®ç°ï¼Œä¸‹é¢è¿™æ®µä»£ç çš„æŠ€å·§åœ¨äºï¼Œæ–°å¼€ä¸€ç§æ•°æ®ç±»å‹**ç”¨äºå­˜å‚¨å°†ä¸­åºéå†æŒ‰ç…§æŒ‰å±‚éå†ä¸­æ‰¾åˆ°çš„æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯**ï¼Œå­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬è¿™ä¸ªå¾…åˆ†è§£çš„ä¸­åºéå†åºåˆ—ä»¥åŠå…¶æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚

``` c++
// è§£é¢˜æ€è·¯: å°†æŒ‰å±‚éå†çš„åºåˆ—æŒ‰ç…§ä¸­åºéå†åºåˆ—åˆ†è§£é‚£ä¹ˆæ’åœ¨å‰é¢çš„ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹
// ä½†æ˜¯æŒ‰ç…§å¸¸è§„ç®—æ³•æ¥åšæ—¶é—´å¤æ‚åº¦ä¼šå˜æˆO(nÂ²),ä»‹ç»ä¸‹é¢è¿™ç§åšæ³•

const int N=1e2+5;

// é¢å¤–å¼€ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨æŒ‰å±‚éå†ç»“æœå°†ä¸­åºéå†åˆ†æˆçš„æ¯æ®µä¸­åºéå†åºåˆ—çš„ä¿¡æ¯
struct QNode {
	string s_in; // ä¸­åºéå†åºåˆ—
	int idx; // è¯¥ä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·
	QNode(){}
	QNode(string a,int b):s_in(a),idx(b){} // æ„é€ æ–¹æ³•
};
struct Node {
	char val;
	int l,r;
}node[N];

string s_in,s_lev; // ä¸­åºéå†åºåˆ—å’Œå±‚æ¬¡éå†åºåˆ—
int cnt; // å»ºæ ‘å› å­
int lev_i; // s_levçš„ä¸‹æ ‡

void createTree() {
	queue<QNode> q;
	int k; // åˆ†å‰²ç‚¹
	q.push(QNode(s_in,++cnt)); // æ ¹èŠ‚ç‚¹åœ°å€ä¸º1
	while(q.size()) {
		QNode u=q.front();
		q.pop();
		// å¯»æ‰¾ä¸­åºéå†åºåˆ—ä¸­æ ¹èŠ‚ç‚¹(æ ¹æ®å±‚éå†)å…ƒç´ çš„ä¸‹æ ‡
		for(int i=0;i<u.s_in.length();i++) {
			// lev_iä»0å¼€å§‹
			if(u.s_in[i]==s_lev[lev_i]) {
				k=i;
				break;
			}
		}	
		// è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹,æ›´æ¸…æ™°
		node[u.idx].val=s_lev[lev_i++]; // ä¸‹ä¸€æ¬¡åœ¨å±‚æ¬¡éå†ä¸­çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦
		string sl=u.s_in.substr(0,k),sr=u.s_in.substr(k+1); // å·¦å­æ ‘çš„ä¸­åºéå†åºåˆ—,å³å­æ ‘çš„ä¸­åºéå†åºåˆ—
		// å­˜åœ¨å·¦å­æ ‘,å»ºæ ‘
		if(sl.length()>0) {
			int lroot=++cnt; // æ ¹èŠ‚ç‚¹åˆ†é…ç¼–å·
			node[u.idx].l=lroot;
			q.push(QNode(sl,lroot)); // slæ˜¯ä¸­åºéå†åºåˆ—,lrootæ˜¯è¯¥ä¸­åºéå†åºåˆ—çš„æ ¹èŠ‚ç‚¹
		}
		if(sr.length()>0) {
			int rroot=++cnt;
			node[u.idx].r=rroot;
			q.push(QNode(sr,rroot));
		}
	}
}

// å‰åºéå†
void preOrder(int root) {
	if(root==0) return;
	cout<<node[root].val;
	preOrder(node[root].l);
	preOrder(node[root].r);
}

int main() {
	cin>>s_in>>s_lev;
	createTree();
	preOrder(1); // è¾“å‡ºå‰åº
	return 0;
}
/*
è¾“å…¥æ ·ä¾‹:
DBEAC
ABCDE
è¾“å‡ºæ ·ä¾‹:
ABDEC
*/
```





### 2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„

* çŸ¥é“ä¸‰ç§éå†ä¸­çš„å…¶ä¸­ä¸¤ç§å¯ä»¥æ¨æ–­å‡ºæ ‘çš„ç»“æ„ï¼Œä½†æ˜¯ç”¨æ‰©å±•äºŒå‰æ ‘æ ‡è®°æ³•çš„æ—¶å€™åªéœ€è¦çŸ¥é“å‰åºæˆ–è€…ååºä¸­çš„ä¸€ç§ä¹Ÿèƒ½å¤Ÿæ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„
* å•ç‹¬çŸ¥é“ä¸­åºéå†æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„
* ä¸‹é¢ä»£ç çš„æ ·ä¾‹è¾“å…¥ï¼š$ABD..EF..G..C..$ å…¶ä¸­"."è¡¨ç¤ºçš„æ˜¯è¡¥å……çš„å­©å­èŠ‚ç‚¹

``` c++
#include<bits/stdc++.h>
#define x first
#define y second

using namespace std;

typedef long long ll;
typedef pair<int,int> PII;

// è§£é¢˜æ€è·¯: çŸ¥é“æ‰©å±•äºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœå³å¯åè§£å‡ºä¸­åºéå†å’Œååºéå†
// ä¸­åºéå†å’Œååºéå†çš„ä»£ç ç®€å•,å…³é”®åœ¨äºå¦‚ä½•å»ºæ ‘

const int N=1e3+5;

struct Node {
	char val;
	int l,r;
}node[N];

int idx; // å»ºæ ‘å› å­

void inOrder(int r) {
	if(r==0) return;
	inOrder(node[r].l);
	cout<<node[r].val;
	inOrder(node[r].r);	
}

void postOrder(int r) {
	if(r==0) return;
	postOrder(node[r].l);
	postOrder(node[r].r);
	cout<<node[r].val;
}

// ä¼ å…¥ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹å€¼,è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„ç¼–å·
int createTree(char val) {
	if(val=='.') return 0; // è¯´æ˜åˆ°æ ¹èŠ‚ç‚¹äº†,å·¦å­æ ‘/å³å­æ ‘å»ºæ ‘ç»“æŸ
	else {
		int root=++idx;
		node[root].val=val;
		node[root].l=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å·¦å­æ ‘
		node[root].r=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å³å­æ ‘
		return root;
	}
}

int main() {
	int root=createTree(cin.get()); // ä¸æ–­è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦
	inOrder(root);
	cout<<endl;
	postOrder(root);
	return 0;
}
/*
è¾“å…¥æ ·ä¾‹:
ABD..EF..G..C..
è¾“å‡ºæ ·ä¾‹:
DBFEGAC
DFGEBCA
*/
```
