{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"themes/ayer/source/404.html","path":"404.html","modified":1,"renderable":1},{"_id":"themes/ayer/source/deadpool.ico","path":"deadpool.ico","modified":1,"renderable":1},{"_id":"themes/ayer/source/deadpool.png","path":"deadpool.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/clipboard.styl","path":"css/clipboard.styl","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/custom.styl","path":"css/custom.styl","modified":1,"renderable":1},{"_id":"themes/ayer/source/dist/main.css","path":"dist/main.css","modified":1,"renderable":1},{"_id":"themes/ayer/source/dist/main.js","path":"dist/main.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/404.jpg","path":"images/404.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/alipay.jpg","path":"images/alipay.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/ayer-sea-side.svg","path":"images/ayer-sea-side.svg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/ayer-side.svg","path":"images/ayer-side.svg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/ayer.png","path":"images/ayer.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/beian.png","path":"images/beian.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/ayer.svg","path":"images/ayer.svg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover2.jpg","path":"images/cover2.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover1.jpg","path":"images/cover1.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover3.jpg","path":"images/cover3.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover4.jpg","path":"images/cover4.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover5.jpg","path":"images/cover5.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover6.jpg","path":"images/cover6.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/cover7.jpg","path":"images/cover7.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/forkme.png","path":"images/forkme.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/gitee.png","path":"images/gitee.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/github.png","path":"images/github.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/hexo-tag-chart.png","path":"images/hexo-tag-chart.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/hexo.png","path":"images/hexo.png","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/mouse.cur","path":"images/mouse.cur","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/sponsor.jpg","path":"images/sponsor.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/images/wechat.jpg","path":"images/wechat.jpg","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/busuanzi-2.3.pure.min.js","path":"js/busuanzi-2.3.pure.min.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/clickBoom1.js","path":"js/clickBoom1.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/clickBoom2.js","path":"js/clickBoom2.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/clickLove.js","path":"js/clickLove.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/dz.js","path":"js/dz.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/jquery-3.6.0.min.js","path":"js/jquery-3.6.0.min.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/lazyload.min.js","path":"js/lazyload.min.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/js/tocbot.min.js","path":"js/tocbot.min.js","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.css","path":"css/fonts/remixicon.css","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.eot","path":"css/fonts/remixicon.eot","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.svg","path":"css/fonts/remixicon.svg","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.ttf","path":"css/fonts/remixicon.ttf","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.woff2","path":"css/fonts/remixicon.woff2","modified":1,"renderable":1},{"_id":"themes/ayer/source/css/fonts/remixicon.woff","path":"css/fonts/remixicon.woff","modified":1,"renderable":1}],"Cache":[{"_id":"source/friends/index.md","hash":"9e33de96355ac69d813ee7249c86265985d02628","modified":1727761537602},{"_id":"source/categories/index.md","hash":"0ae5a83f4d9f8e55c9b8f1f84138b83ea90815fa","modified":1727877647246},{"_id":"source/tags/index.md","hash":"a727fda9b80e340f2052e807a56501f47888e77c","modified":1727877706907},{"_id":"source/photos/index.md","hash":"671e4ac9f85f2870ebb4b90b1a4129cb805ad3eb","modified":1727761624681},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":499162500000},{"_id":"source/about/index.md","hash":"5880bc9d67fb83f2a5b293e8745cb031e1b755ce","modified":1727877568656},{"_id":"source/_posts/KMPç®—æ³•.md","hash":"b19283520272a6294f4058e8d0f26301dc9e8717","modified":1728267787200},{"_id":"source/_posts/strcmpã€compareå‡½æ•°.md","hash":"119b3477f2b955dcb0fb532e23a0cdfc818ad56f","modified":1728115143188},{"_id":"source/_posts/lower-boundã€upper-boundå‡½æ•°.md","hash":"b935689bc13ef4faa8c81d5e0c3d7b21e1c6ed84","modified":1728115133887},{"_id":"source/_posts/ACè‡ªåŠ¨æœº.md","hash":"1003824eec8bdf89164260393b84265885c46097","modified":1728116287426},{"_id":"source/_posts/substrå‡½æ•°.md","hash":"a2042503ac5f968baf2843228c955472b8af2da4","modified":1728115152036},{"_id":"source/_posts/ä¹˜æ³•é€†å…ƒ.md","hash":"f9ed9b668b4c07417cb5927d93db21c2ccb2f195","modified":1728269227223},{"_id":"source/_posts/äºŒåˆ†å›¾.md","hash":"9944564a303035edefcdaf9579f56c4bc9a8e881","modified":1728115214711},{"_id":"source/_posts/å•è°ƒé˜Ÿåˆ—.md","hash":"8e933cd60bb82c8840b8154457fce79930d2ec68","modified":1728115177421},{"_id":"source/_posts/äºŒåˆ†.md","hash":"bdf20ddb42a3f727666b092d8658387b7ff11a6b","modified":1728115204384},{"_id":"source/_posts/å›¾è®ºæœ€çŸ­è·¯.md","hash":"94aa5da6c612fd5b8b28d5a50eaaa0e38012a11e","modified":1728115530301},{"_id":"source/_posts/å­—ç¬¦ä¸²å“ˆå¸Œ.md","hash":"248e32cdf65e2b8481c9ee5f16de9bd9e98fed3f","modified":1728116036458},{"_id":"source/_posts/å­—å…¸æ ‘.md","hash":"6531e4cb27b102fdc722579fcbb7706ad92b4654","modified":1728115114471},{"_id":"source/_posts/å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§.md","hash":"1d0a8de948f3894b7999bdf34321d74efc3a0837","modified":1728115222661},{"_id":"source/_posts/å·®åˆ†.md","hash":"764839841c99472331e6dc118b7467b8c08676a9","modified":1728115169657},{"_id":"source/_posts/å‰ç¼€å’Œ.md","hash":"feb5518ccef38ac915d1f77220abf56cde20f12e","modified":1728115443291},{"_id":"source/_posts/å¹¶æŸ¥é›†.md","hash":"17bd4a9e49f014e6d185eeb4bbd1e0c039c8d478","modified":1728115161134},{"_id":"source/_posts/å¿«é€Ÿå¹‚.md","hash":"2396017c65e9a0f954c3d0769566934889165780","modified":1728268787000},{"_id":"source/_posts/æ’åº.md","hash":"f2f6ee0871fdc603eff042398085edf1dc7bed12","modified":1728115434733},{"_id":"source/_posts/æ‹“æ‰‘æ’åº.md","hash":"4b359fc89cff79f31cee777bd2e58fc6aeaeab11","modified":1728115493187},{"_id":"source/_posts/æœç´¢å¼€å…³é—®é¢˜.md","hash":"f79de898c46feb5eaa3ad273adcd4ed65fc72211","modified":1728117579354},{"_id":"source/_posts/æœç´¢æ€»ç»“.md","hash":"8effd4f35b1b31c29cee1f1df690138dbd23f1da","modified":1728116662951},{"_id":"source/_posts/æœ€å°ç”Ÿæˆæ ‘.md","hash":"6e1058c3f29cf724ae58dcad0425429b1eb7bbcb","modified":1728116811579},{"_id":"source/_posts/æ—¥æœŸé—®é¢˜.md","hash":"e9b3c119f171627c272651fd2c0d6dfeba8a71fc","modified":1728115451454},{"_id":"source/_posts/æ¡¶.md","hash":"8d6bdc7a999bf3f2a60d3722ba661f502a67ed48","modified":1728115510767},{"_id":"source/_posts/æ·±åº¦ä¼˜å…ˆæœç´¢.md","hash":"576b534eb371e5a70a63d2ca7bb35d2760cfde01","modified":1728115460604},{"_id":"source/_posts/æ ‘.md","hash":"dac52cb2af9c663f7cb8297bff718a7340ea483b","modified":1728115485475},{"_id":"source/_posts/ç¦»æ•£åŒ–.md","hash":"0db69bb056f12a557071cace15752b35da373393","modified":1728115407110},{"_id":"source/_posts/æ¬§æ‹‰ç­›.md","hash":"dc66699efdedfee04de509c86e98deedad9c4d63","modified":1728269025951},{"_id":"source/_posts/ç®€å•æ•°è®º.md","hash":"87de93b05799d53b33a3b895bf66e991b0dab85a","modified":1728268076614},{"_id":"source/_posts/è´ªå¿ƒåŒºé—´é—®é¢˜.md","hash":"ca32108cc13fba725a9d0db4512866daacc3913e","modified":1728117548605},{"_id":"source/_posts/è¿›åˆ¶è½¬æ¢.md","hash":"50445df8466aedba1b397d18d1ade218b71609c1","modified":1728115398462},{"_id":"source/_posts/é€’æ¨.md","hash":"adb2722d9102e625c14c0b3362f8c00e2469c610","modified":1728115185071},{"_id":"source/_posts/é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ.md","hash":"341f956460c68194adbfb1194a94b1dc18b69f07","modified":1728115415659},{"_id":"source/_posts/å¹¿åº¦ä¼˜å…ˆæœç´¢.md","hash":"0665377474020fb2724cbb58a3b0ac89e31fcbf0","modified":1728047606537},{"_id":"source/_posts/é«˜ç²¾åº¦.md","hash":"3671ac87dab79e00d073ba9085343855848836bc","modified":1728115232743},{"_id":"source/_posts/é‚»æ¥çŸ©é˜µ.md","hash":"f471ca12e2543a9dd073fe349fd755848ba2e4b9","modified":1728115423434},{"_id":"themes/ayer/.gitattributes","hash":"2e08e93c6f6790b02ab7f81a6191ed097b20cbf9","modified":1727748113858},{"_id":"themes/ayer/.gitignore","hash":"8faed9be54528620a8da662ad9f242e7305d6757","modified":1727748113861},{"_id":"themes/ayer/.travis.yml","hash":"870fcd9eb33bc4269d53bc84ddc6f8a69db7c611","modified":1727748113863},{"_id":"themes/ayer/.npmignore","hash":"13239db7290ce1d6dfc62fb60191a8048c6e5781","modified":1727748113861},{"_id":"themes/ayer/.stylintrc","hash":"eec4e824067be1a223745ca426aa367c8d482673","modified":1727748113862},{"_id":"themes/ayer/LICENSE","hash":"d7308ddbd63bf372429401e188a906c52622f62e","modified":1727748113863},{"_id":"themes/ayer/index.js","hash":"a144d64baec7130267f64272fb256a9be3aa7cd5","modified":1727748113864},{"_id":"themes/ayer/README.md","hash":"ecea9b9cef0ec80181b98644b8a62655d9bb47f5","modified":1727748113863},{"_id":"themes/ayer/move_config.js","hash":"9fde64d58714990bf93ba877bbc3b48f6b8fb7d9","modified":1727748113883},{"_id":"themes/ayer/package.json","hash":"f171e4375353a66c8b609b3bc8aece58e8b7cd01","modified":1727748113884},{"_id":"themes/ayer/rollup.config.js","hash":"3d98bd1db1dcf2e0878b6fcbbbf8ff9c3da6d357","modified":1727748113884},{"_id":"themes/ayer/_config - å‰¯æœ¬.yml","hash":"7e318b5994e658ea3675235210afed60633fb2ff","modified":1727748113864},{"_id":"themes/ayer/.github/config.yml","hash":"d786334df2ea7feca64d07e573055c3452843f8a","modified":1727748113861},{"_id":"themes/ayer/scripts/default_config.js","hash":"617c2614d8bd8ffda2f2f84ab54fb18866e39b33","modified":1727748113887},{"_id":"themes/ayer/logo.png","hash":"16fbb131601570b21890a922cd6e596691ccff42","modified":1727748113883},{"_id":"themes/ayer/source-src/main.js","hash":"fcb7c6c5ffcfd72ba9bd55b475af8a0e74484634","modified":1727748113901},{"_id":"themes/ayer/source/404.html","hash":"fce8d48b2534f5ba5feb3a91e43813f8f85b07d8","modified":1727748113901},{"_id":"themes/ayer/source/deadpool.png","hash":"28f73b15e9fb5a8e0a737f735cc60e43e94f8566","modified":1727749389809},{"_id":"themes/ayer/.github/FUNDING.yml","hash":"56f5ebae29b5bd4551df79f38c09ab452e0ab28f","modified":1727748113858},{"_id":"themes/ayer/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1727748113880},{"_id":"themes/ayer/layout/categories.ejs","hash":"b2deae0c31dd7fbf42a124db1b4c8c28d435c8e5","modified":1727748113880},{"_id":"themes/ayer/source/deadpool.ico","hash":"dae5df6d593edf3bc716c5f597cee7529e9b86eb","modified":1727749571717},{"_id":"themes/ayer/layout/index.ejs","hash":"c40a98c0a6f55c27959e44c9e8e4f2619fc2ad3f","modified":1727748113881},{"_id":"themes/ayer/layout/friends.ejs","hash":"2a4c0bfdf189ebae720f1325786a87c7cac51d37","modified":1727748113880},{"_id":"themes/ayer/layout/page.ejs","hash":"75879224e47b3329d7accfc2403580a2412dce25","modified":1727748113882},{"_id":"themes/ayer/layout/plain-page.ejs","hash":"d351ff4aadd020a1960cc00f17fdd91a17e0cc54","modified":1727748113883},{"_id":"themes/ayer/layout/post.ejs","hash":"75879224e47b3329d7accfc2403580a2412dce25","modified":1727748113883},{"_id":"themes/ayer/layout/tags.ejs","hash":"e7c9f93c6f7041a7d2aa95e85cc131b22aa426b7","modified":1727748113883},{"_id":"themes/ayer/_config.yml","hash":"e50c90465d94d95e0d4fbd433b41379a6973c838","modified":1727761883025},{"_id":"themes/ayer/languages/de.yml","hash":"2b7fa47fbe06f6928a43ea3b345ab3aeaa2cee81","modified":1727748113864},{"_id":"themes/ayer/languages/default.yml","hash":"1853255c243858cf9d26a589d7d26571e11ed5d1","modified":1727748113864},{"_id":"themes/ayer/languages/en.yml","hash":"1853255c243858cf9d26a589d7d26571e11ed5d1","modified":1727748113865},{"_id":"themes/ayer/languages/fr.yml","hash":"3dac4d53b9b2a1b10c0273ce7472b2e76576dc5a","modified":1727748113865},{"_id":"themes/ayer/languages/es.yml","hash":"fc27661276313c1c539252517d664359cb286f8a","modified":1727748113865},{"_id":"themes/ayer/languages/ja.yml","hash":"aea06ea7bcb439d2b84501924cdd092293ee891a","modified":1727748113865},{"_id":"themes/ayer/languages/ko.yml","hash":"00db39dd43875774088511b4d467dcb71f1ce8ac","modified":1727748113866},{"_id":"themes/ayer/source/favicon.ico","hash":"473ba682e828a7e34f24fae320e77b6bed4260c7","modified":1727748113914},{"_id":"themes/ayer/layout/layout.ejs","hash":"ad2222b1819f763cd981f72b8204a19cb0fa75ae","modified":1727748113881},{"_id":"themes/ayer/languages/nl.yml","hash":"d619955fd9659a209c58f696ee2160dfe8c6ac41","modified":1727748113866},{"_id":"themes/ayer/languages/no.yml","hash":"fa4d2da9bb00ad0febc631afaf17f76aaa17e950","modified":1727748113866},{"_id":"themes/ayer/languages/pt.yml","hash":"fa0b3a4a01a0493f3ef402039e394a291a1251fd","modified":1727748113866},{"_id":"themes/ayer/languages/ru.yml","hash":"45edcadb57176d0b11a839055df1964da8ca08f9","modified":1727748113867},{"_id":"themes/ayer/.github/ISSUE_TEMPLATE/bug-report.md","hash":"109c742a5829ca6c9a39d9df5023f6ecc6ff886e","modified":1727748113859},{"_id":"themes/ayer/languages/zh-CN.yml","hash":"edf1f8c164f3d166f94e213148e984fdfc3a7c85","modified":1727748113867},{"_id":"themes/ayer/.github/ISSUE_TEMPLATE/other.md","hash":"e4c347d70c3b8044eec656e8cfb78cfd49f2d991","modified":1727748113860},{"_id":"themes/ayer/.github/ISSUE_TEMPLATE/feature-request.md","hash":"ca76e0709f2e97edfa004922da78599ef35eb039","modified":1727748113859},{"_id":"themes/ayer/languages/vi.yml","hash":"20f25fe0e9017d530a771687fe9d21353e034fff","modified":1727748113867},{"_id":"themes/ayer/scripts/events/index.js","hash":"f3a5d9bda901565e3c302bcb5ed716b6d006089e","modified":1727748113887},{"_id":"themes/ayer/scripts/filters/index.js","hash":"e0c3b821ecd1cb614569282fb4f6e6f555545f8b","modified":1727748113888},{"_id":"themes/ayer/scripts/filters/meta_generator.js","hash":"46f6461a2bdc509837c36ede4d32c8b12e3d49b9","modified":1727748113888},{"_id":"themes/ayer/.github/workflows/npmpublish.yml","hash":"6a748fbb9f13da90a00e35d1e8f54bbe71a14571","modified":1727748113861},{"_id":"themes/ayer/scripts/lib/core.js","hash":"00509e97554914e5b0a20e0843dc90bcf53461aa","modified":1727748113889},{"_id":"themes/ayer/scripts/helpers/ayer-plus-vendors.js","hash":"611f3bcd8220312f92c11fa6a5dad02f011068d2","modified":1727748113888},{"_id":"themes/ayer/scripts/helpers/wordcount.js","hash":"2014b5c5053ad737887b61014a045cc1b08799cd","modified":1727748113889},{"_id":"themes/ayer/scripts/utils/object.js","hash":"d798779ec79a53ce04b8ac79efd5d064981d95bd","modified":1727748113890},{"_id":"themes/ayer/scripts/utils/join-path.js","hash":"ec068c699155565aea4aa4ab55d8a10b2947a114","modified":1727748113889},{"_id":"themes/ayer/languages/zh-TW.yml","hash":"750fba5314d340ddb00812fc17a608a084f04462","modified":1727748113867},{"_id":"themes/ayer/.github/ISSUE_TEMPLATE/question.md","hash":"20a7174d36e8f090ba7800c08b0c44b15b753736","modified":1727748113860},{"_id":"themes/ayer/source-src/css/_extend.styl","hash":"996ed7faa5ebf69af1f14f90f774dc7a53774537","modified":1727748113890},{"_id":"themes/ayer/source-src/css/_remixicon.styl","hash":"6e7671af612868b750f1dc195f2e7c1c34931800","modified":1727748113898},{"_id":"themes/ayer/source-src/css/_normalize.styl","hash":"b90386215434cc76549c046e7f67392049492a6a","modified":1727748113891},{"_id":"themes/ayer/source-src/css/_darkmode.styl","hash":"eda0bf55d64f2cdeb75f9489818c34635bc85c00","modified":1727748113890},{"_id":"themes/ayer/source-src/css/style.styl","hash":"dd5f5d0fef358ea1eba3f782458f72e13f764bba","modified":1727748113900},{"_id":"themes/ayer/source-src/js/ayer.js","hash":"a3d349fb8af029e710d064c15373163680da2d39","modified":1727748113900},{"_id":"themes/ayer/source-src/css/_variables.styl","hash":"2fdb4425b6213fed28921f53179e825aee0500cf","modified":1727748113899},{"_id":"themes/ayer/source-src/css/_mixins.styl","hash":"e4804d78ded3714495f8ac9cebdbd2871ed97549","modified":1727748113890},{"_id":"themes/ayer/source/css/clipboard.styl","hash":"145f335d6369744a75c2c39a50f63a88f720f85b","modified":1727748113902},{"_id":"themes/ayer/source-src/js/share.js","hash":"7c105c427d472d84bee2ef3f0a61efa4ac6d564f","modified":1727748113900},{"_id":"themes/ayer/source/css/custom.styl","hash":"32990e811ea6fba84673b6d7175c88a3b890b109","modified":1727748113902},{"_id":"themes/ayer/source/dist/main.css","hash":"1f49cde949291ed86277d30721a7e728a4f8671a","modified":1727748113914},{"_id":"themes/ayer/source/images/404.jpg","hash":"4f36a8d378712427cded03f5166949f5e0ba754c","modified":1727748113916},{"_id":"themes/ayer/source/images/ayer-sea-side.svg","hash":"e92a3b2a113d4e0776e9d4f3cae34664c9656271","modified":1727748890142},{"_id":"themes/ayer/source/images/ayer.png","hash":"0466c05244273f645d239cd27513bfa3c50308aa","modified":1727748113918},{"_id":"themes/ayer/source/dist/main.js","hash":"4338ca7a7bc35ee139016c91d4746643a3ee01c8","modified":1727748113914},{"_id":"themes/ayer/source/images/beian.png","hash":"29c400bc3b89f6085766dac4e0330ded5cb73d52","modified":1727748113919},{"_id":"themes/ayer/source/images/ayer-side.svg","hash":"ad004ce7a873de0f91774f3d5923e010396a07bd","modified":1727748113918},{"_id":"themes/ayer/source/images/ayer.svg","hash":"379c3307f97c364718a1dbc1e52fb14de12eb11a","modified":1727748113919},{"_id":"themes/ayer/source/images/cover7.jpg","hash":"573bff6899d2d9c5bcba0dc9c60cd1ec9eb8b029","modified":1727748113937},{"_id":"themes/ayer/source/images/gitee.png","hash":"250da578e0bd1393f22737f58d0fbae95119e527","modified":1727748113937},{"_id":"themes/ayer/source/images/forkme.png","hash":"99c3e21a169421e4f249befb428396c729863a75","modified":1727748113937},{"_id":"themes/ayer/source/images/hexo-tag-chart.png","hash":"6db432aae30556d151c2fd2c1d11015d9309ba81","modified":1727748113938},{"_id":"themes/ayer/source/images/hexo.png","hash":"6b0315fba8a8f496491079b361e2fb5253e19a04","modified":1727748113938},{"_id":"themes/ayer/source/images/mouse.cur","hash":"c1ffe93a6ba0d25ef06bb3d097560762e4807593","modified":1727748113938},{"_id":"themes/ayer/layout/_partial/ads.ejs","hash":"2be035aeef82265c5b0cb6aec6f4135ad1e0aa75","modified":1727748113868},{"_id":"themes/ayer/source/images/sponsor.jpg","hash":"5b5e4498177b369a7eca7ab2b1d0710b8690e21d","modified":1727748113939},{"_id":"themes/ayer/layout/_partial/archive-post.ejs","hash":"6b3e77cdbf8271c2a22b839608cccaa651f84e93","modified":1727748113868},{"_id":"themes/ayer/source/images/github.png","hash":"4853ff37f9d859e7faa77675632a73f8ef089a15","modified":1727748113937},{"_id":"themes/ayer/layout/_partial/after-footer.ejs","hash":"ec2dd8a5e55b99350d7606a4f4ba0918fd656116","modified":1727748113868},{"_id":"themes/ayer/layout/_partial/ayer.ejs","hash":"84f5c967f5019f4964711f3edd408a7503702e58","modified":1727748113869},{"_id":"themes/ayer/layout/_partial/baidu-analytics.ejs","hash":"155327c23607f69989b58845f24d842a54e504b8","modified":1727748113870},{"_id":"themes/ayer/layout/_partial/float-btns.ejs","hash":"b2fc5726168f012bc61845f33a46404ff4065947","modified":1727748113871},{"_id":"themes/ayer/layout/_partial/google-analytics.ejs","hash":"1a9b8574d4341354ed00127ffb873c80ac1beee9","modified":1727748113872},{"_id":"themes/ayer/layout/_partial/broadcast.ejs","hash":"21fadeb390cff713fd432d0565bb901f8caff0c0","modified":1727748113871},{"_id":"themes/ayer/layout/_partial/archive.ejs","hash":"1da014dd52294e132bc91eb2f45f67264a41e059","modified":1727748113869},{"_id":"themes/ayer/layout/_partial/katex.ejs","hash":"bef830bc48db44c19bfa922d8ed5f6ee1e924ea7","modified":1727748113872},{"_id":"themes/ayer/layout/_partial/head.ejs","hash":"38abac221b79d83fd8d3ec8ee0fba55ef162d148","modified":1727748113872},{"_id":"themes/ayer/layout/_partial/lock.ejs","hash":"72ec0a339f98399c5141f4b3aca4cc8e8310f03a","modified":1727748113872},{"_id":"themes/ayer/layout/_partial/article.ejs","hash":"9ef0ed563dd6e3277534f9601ab290b72b3dc42b","modified":1727748113869},{"_id":"themes/ayer/layout/_partial/music.ejs","hash":"4a67b36cadf2661a5579a454b7d6e0be34e7a0d4","modified":1727748113873},{"_id":"themes/ayer/layout/_partial/modal.ejs","hash":"b9caece8b5fb47e250c67f6f80f101f08d04eba9","modified":1727748113873},{"_id":"themes/ayer/layout/_partial/mathjax.ejs","hash":"4d6b2bbe0d50f609a9d6e5d646d07f7ab29e8c66","modified":1727748113873},{"_id":"themes/ayer/source/js/busuanzi-2.3.pure.min.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1727748113940},{"_id":"themes/ayer/layout/_partial/footer.ejs","hash":"16c6877db510a28afff0334be8d2ffe2f76d7a3e","modified":1727748113872},{"_id":"themes/ayer/source/js/clickBoom2.js","hash":"2bc7267652ec49cea5dc3a8bd470c7d5ec57c721","modified":1727748113941},{"_id":"themes/ayer/source/js/clickBoom1.js","hash":"c97ea1f120dba2c6804d0420186ef5d6f2419b7c","modified":1727748113941},{"_id":"themes/ayer/layout/_partial/sidebar.ejs","hash":"b7efb7f2b300de23d12ef310d710d809d979f4fd","modified":1727748113879},{"_id":"themes/ayer/source/js/clickLove.js","hash":"a35dfb7ff19796c005ee30b55fd95e39d6d59a89","modified":1727748113941},{"_id":"themes/ayer/layout/_partial/viewer.ejs","hash":"ba0639363016f5badd13fefd000ef967c6a4e47b","modified":1727748113880},{"_id":"themes/ayer/source/js/dz.js","hash":"079ae73e2e396c2e00919a50a6fe0d064f99303a","modified":1727748113942},{"_id":"themes/ayer/source/js/tocbot.min.js","hash":"bae97e8a24a05a99335f8e725641c8ca9c50502a","modified":1727748113944},{"_id":"themes/ayer/scripts/events/lib/hello.js","hash":"058c73fa3900d143affb9cc7ea0b2105d3925915","modified":1727748113887},{"_id":"themes/ayer/scripts/events/lib/merge-configs.js","hash":"734aac9a53cf168ee51482b02b75954a2a3df150","modified":1727748113887},{"_id":"themes/ayer/source-src/css/_partial/ads.styl","hash":"e3e533ac5b9b6c5ef7d3829c890aff42dc29cfc1","modified":1727748113891},{"_id":"themes/ayer/source-src/css/_partial/albums.styl","hash":"5802253789028a4d9dac474168fc7132045e72ff","modified":1727748113891},{"_id":"themes/ayer/source/js/search.js","hash":"6d5c093d12e922ad204dab1723b786c35847bf1b","modified":1727748113943},{"_id":"themes/ayer/source/js/lazyload.min.js","hash":"d9bc50752cd7e331dbd0a833386838397c9a079f","modified":1727748113943},{"_id":"themes/ayer/source-src/css/_partial/articles.styl","hash":"ddbe833939180afdc832659c5cdad08f77ef4f46","modified":1727748113892},{"_id":"themes/ayer/source-src/css/_partial/article.styl","hash":"659a35544b321a101f7cf114f0c9fdf2cc125625","modified":1727748113892},{"_id":"themes/ayer/source-src/css/_partial/ayer.styl","hash":"38187e5c88eaf1ea099f2ded56f1f60194c95ec4","modified":1727748113893},{"_id":"themes/ayer/source-src/css/_partial/float.styl","hash":"b1abfdfd05e74745484f7e6d043ef2842b3f6b41","modified":1727748113894},{"_id":"themes/ayer/source-src/css/_partial/categories.styl","hash":"cb3b1667c83182d6309e6d066f53f2771723729e","modified":1727748113894},{"_id":"themes/ayer/source-src/css/_partial/footer.styl","hash":"ae22e9d1525f267be368359ed0096f26791b809e","modified":1727748113894},{"_id":"themes/ayer/source-src/css/_partial/friends.styl","hash":"10332c63736e4ce31353b7605012caf744a8286a","modified":1727748113895},{"_id":"themes/ayer/source-src/css/_partial/gallery.styl","hash":"f5eae1b0030cfd97f1646844c9d3f692dbb38946","modified":1727748113895},{"_id":"themes/ayer/source-src/css/_partial/gitalk.styl","hash":"0678e8b330daea56fa30d14e97de73289a7d6f22","modified":1727748113895},{"_id":"themes/ayer/source-src/css/_partial/archive.styl","hash":"9dbb04cf0ae07b50acd6f343e673df215a3c868e","modified":1727748113892},{"_id":"themes/ayer/source-src/css/_partial/apple.styl","hash":"333f9e59dc6625c4dee126a1c1a9c25ce9292655","modified":1727748113892},{"_id":"themes/ayer/source-src/css/_partial/lists.styl","hash":"dc45f8b1a5942d4d979fb0859bc47a86f73fe0a9","modified":1727748113896},{"_id":"themes/ayer/source-src/css/_partial/mobile.styl","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1727748113896},{"_id":"themes/ayer/source-src/css/_partial/justifiedGallery.styl","hash":"9828c78fb59c3ea3de7cce2569313d12c4b1a6ff","modified":1727748113895},{"_id":"themes/ayer/source-src/css/_partial/pace.styl","hash":"bbda18c692fc66ae99e45347ff52c14e44a08e3b","modified":1727748113897},{"_id":"themes/ayer/source-src/css/_partial/layout.styl","hash":"d4613f176636cae6a4af6124863a176c32ea6471","modified":1727748113896},{"_id":"themes/ayer/source-src/css/_partial/navbar.styl","hash":"266df43ec4041226f1801719e873265b75fe6515","modified":1727748113896},{"_id":"themes/ayer/source-src/css/_partial/highlight.styl","hash":"1210f704aae34ef653e3a458cccb700b05353ea1","modified":1727748113895},{"_id":"themes/ayer/source-src/css/_partial/sidebar.styl","hash":"cdc7bea47a768b18991decde0d38c554399621ee","modified":1727748113898},{"_id":"themes/ayer/source-src/css/_partial/tag.styl","hash":"6072aa6bd16e0a1e75f0258d7b20587cab56fff8","modified":1727748113898},{"_id":"themes/ayer/source-src/css/_partial/reward.styl","hash":"924114f723a22dbb8970d023bc2e033141b3438d","modified":1727748113897},{"_id":"themes/ayer/source-src/css/_partial/search.styl","hash":"3f2c7bd1371f6f25aec7c581dbae7b52f95ec4c6","modified":1727748113897},{"_id":"themes/ayer/source-src/css/_partial/totop.styl","hash":"b6010788be1d99a345abcf0cf9cdf0a564b90d3c","modified":1727748113898},{"_id":"themes/ayer/source-src/css/_partial/tocbot.styl","hash":"130e29937aa750e63e8cf216934dbdd4ea95969f","modified":1727748113898},{"_id":"themes/ayer/source-src/css/_partial/share.styl","hash":"4a6e6ac9156553dd5cee1eeee8fdc6f1f8a5d117","modified":1727748113897},{"_id":"themes/ayer/layout/_partial/post/author.ejs","hash":"0e6c2862d75e5b21faf28a5cc3310d3515340287","modified":1727748113874},{"_id":"themes/ayer/layout/_partial/post/albums.ejs","hash":"f4cfbabca9f59a9e5aa457a6f2a9cf6f56cd22b3","modified":1727748113874},{"_id":"themes/ayer/layout/_partial/post/category.ejs","hash":"89cb32e8d98bad81d3ef33377212e9b253699d3d","modified":1727748113874},{"_id":"themes/ayer/layout/_partial/post/busuanzi.ejs","hash":"895293405b2b3b19fe97d79f4a25e16bea153ae8","modified":1727748113874},{"_id":"themes/ayer/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1727748113875},{"_id":"themes/ayer/layout/_partial/post/gallery.ejs","hash":"6f78a49edc91f230b0a838c77630e9671d8d6089","modified":1727748113875},{"_id":"themes/ayer/layout/_partial/post/clipboard.ejs","hash":"55f2fafe9c6a151eeee39d1a2556742ebe89b2a2","modified":1727748113874},{"_id":"themes/ayer/layout/_partial/post/justifiedGallery.ejs","hash":"a313df6a014a0f2ba6b869dabc56bacb8ff6324d","modified":1727748113877},{"_id":"themes/ayer/layout/_partial/post/search.ejs","hash":"47c818c236b063d6ce0c41e0824f9f10a3521414","modified":1727748113877},{"_id":"themes/ayer/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1727748113878},{"_id":"themes/ayer/layout/_partial/post/title.ejs","hash":"e55c57b8cb8c8acf0ed998ea31c2fbc1d6256027","modified":1727748113878},{"_id":"themes/ayer/layout/_partial/post/tocbot.ejs","hash":"17ac504f2a6d561765046a0ba19dcce504104517","modified":1727748113878},{"_id":"themes/ayer/layout/_partial/post/topping.ejs","hash":"de2c50fb5b7a816287c6d048a2a22ae9c29abcdd","modified":1727748113879},{"_id":"themes/ayer/layout/_partial/post/valine.ejs","hash":"d5b568a3554f0d6572e7b232b8a0ab3ea81a1845","modified":1727748113879},{"_id":"themes/ayer/layout/_partial/post/twikoo.ejs","hash":"1e591e7b71880ca0a1dd9ab9913aa67fdd91633a","modified":1727748113879},{"_id":"themes/ayer/layout/_partial/post/nav.ejs","hash":"a73010cbbc463089a1376889850fb0890143c988","modified":1727748113877},{"_id":"themes/ayer/source/images/alipay.jpg","hash":"8f5409e29764fca573f1d274003910aa3c919de1","modified":1727748113918},{"_id":"themes/ayer/source/images/cover2.jpg","hash":"f61dd08c95327468c5f6bc5175eff68d00f05b46","modified":1727748113923},{"_id":"themes/ayer/source/images/wechat.jpg","hash":"93a362574a8498e75dca469b7bceb0b321fda387","modified":1727748113940},{"_id":"themes/ayer/source/js/jquery-3.6.0.min.js","hash":"4cd5ddc413b3024d7b56331c0d0d0b2bd933f27f","modified":1727748113943},{"_id":"themes/ayer/source/css/fonts/remixicon.woff2","hash":"d83e667e2d8583bcd2d97b4ebe13ff1f147b947c","modified":1727748113913},{"_id":"themes/ayer/source/css/fonts/remixicon.css","hash":"8b54eed3270fae6d5bde5b0a6b522a32b5bd39a0","modified":1727748113903},{"_id":"themes/ayer/source/css/fonts/remixicon.woff","hash":"8d6a423fd373c0a1f45b927d37f8f932aaea21ec","modified":1727748113912},{"_id":"themes/ayer/layout/_partial/post/gitalk.ejs","hash":"9f0250bc192a59a8577ea3048c8f5eef91ac10ef","modified":1727748113876},{"_id":"themes/ayer/source/images/cover6.jpg","hash":"a5b8a5dddff2607fee5fccf5fdef3b214a8468cc","modified":1727748113936},{"_id":"themes/ayer/layout/_partial/post/word.ejs","hash":"5b785368a0a6f3b5538aa1b9e7574daa8dfb0df6","modified":1727748113879},{"_id":"themes/ayer/layout/_partial/post/share.ejs","hash":"9a978d55358878c97186ed010e536e1b314adb35","modified":1727748113878},{"_id":"themes/ayer/screenshots/hexo-theme-ayer.png","hash":"4111670e622ce09837b6b9cc641782af75805079","modified":1727748113886},{"_id":"themes/ayer/source/images/cover1.jpg","hash":"e019fbed6158ae3e4ec3d255b41bddc1afcbfa90","modified":1727748113922},{"_id":"themes/ayer/source/images/cover3.jpg","hash":"7b4e7c9ce19ce5d5c1588b2567e88ecbb04370af","modified":1727748113925},{"_id":"themes/ayer/source/css/fonts/remixicon.eot","hash":"7e929b884b2201250fc49e8e79c3aba6cd9e4482","modified":1727748113905},{"_id":"themes/ayer/source/images/cover4.jpg","hash":"77040e609d2f1c60e00a8e47cb95b25bf7ff5b9c","modified":1727748113929},{"_id":"themes/ayer/source/css/fonts/remixicon.ttf","hash":"7eba83fb4482a63f3b338ccb6dca312e8e95db7f","modified":1727748113912},{"_id":"themes/ayer/source/images/cover5.jpg","hash":"1a2d6182d94b015a45fe4bf8e8a239dfcc0ef776","modified":1727748113935},{"_id":"themes/ayer/source/css/fonts/remixicon.svg","hash":"d5ab3ec2fd85b327b8c806228d2cd84b6d6b24c8","modified":1727748113909},{"_id":"public/atom.xml","hash":"d35ef18007967909cba20cc51d72667b541cf020","modified":1729743751116},{"_id":"public/search.xml","hash":"c487be07a194955c16bfb54e677403d2da071097","modified":1729743751116},{"_id":"public/categories/index.html","hash":"6cb0e558fdbd7c6d15be563ff61dfe77e4f40c01","modified":1729743751116},{"_id":"public/tags/index.html","hash":"94ce01113e0f908a3fdfdf4dfda98f54a6c73685","modified":1729743751116},{"_id":"public/photos/index.html","hash":"b77e0b6d48c65d33d360b0770932525be0c41810","modified":1729743751116},{"_id":"public/friends/index.html","hash":"6ebe4239f30b9cf0699972f50cdf4c4abdaeb5cd","modified":1729743751116},{"_id":"public/categories/å­¦ä¹ /page/4/index.html","hash":"3b0b98e7c48b147935dc731ac0550eb5c36728c0","modified":1729743751116},{"_id":"public/categories/åˆ†ç±»/index.html","hash":"6382f42cf7e6420ec8de5833ccbecee55246a9b9","modified":1729743751116},{"_id":"public/tags/æ¨¡å¼åŒ¹é…/index.html","hash":"22be023d0a1b3717d942d264fef52e3096b18d23","modified":1729743751116},{"_id":"public/tags/å‡½æ•°é€ŸæŸ¥/index.html","hash":"b0e9bcdc769e78a8b1e91f542e067c534ad7371c","modified":1729743751116},{"_id":"public/tags/ä¹˜æ³•é€†å…ƒ/index.html","hash":"6252c287eaf50c4957a5f14ad9410dbab2f1e8ca","modified":1729743751116},{"_id":"public/tags/äºŒåˆ†/index.html","hash":"f1815d756364afd502552c7294b1ece3f69d1d40","modified":1729743751116},{"_id":"public/tags/å‰ç¼€å’Œ/index.html","hash":"5904dac051e24dc093947fc8bb35f998f3c96edb","modified":1729743751116},{"_id":"public/tags/é¢„å¤„ç†/index.html","hash":"830252c2cf3e45cb52b25cd8f0a088e5a2fd4a15","modified":1729743751116},{"_id":"public/tags/å‰ç½®çŸ¥è¯†/index.html","hash":"b523470db5754e9fd24a657f79672fc7ef2f59b0","modified":1729743751116},{"_id":"public/tags/æœ€çŸ­è·¯/index.html","hash":"7a30609e072aeb49f3324d8d2f130481de819b34","modified":1729743751116},{"_id":"public/tags/æ ‘/index.html","hash":"8121537a6101605baa052a28e0063f5602d07905","modified":1729743751116},{"_id":"public/tags/å·®åˆ†/index.html","hash":"8541d3cc9eeee8ea9e725e911c944dfef8ac0255","modified":1729743751116},{"_id":"public/tags/å¿«é€Ÿå¹‚/index.html","hash":"73ea0dd450bc8810ca430b1a58f08320c3ba547d","modified":1729743751116},{"_id":"public/tags/æ’åº/index.html","hash":"029f76c642fb143c8069d66e403ae61f5c539be9","modified":1729743751116},{"_id":"public/tags/ä½è¿ç®—/index.html","hash":"986aed7a35a90aa123e1d8ab074c7d8c9e3d4a90","modified":1729743751116},{"_id":"public/tags/æ¨¡æ‹Ÿ/index.html","hash":"9524683604610e8b5c19fc81518571c516d2917c","modified":1729743751116},{"_id":"public/tags/æ¬§æ‹‰ç­›/index.html","hash":"d970ace94a0fd23c4e7639c40f850d5a3e5ec640","modified":1729743751116},{"_id":"public/tags/é€’æ¨/index.html","hash":"aa56b933fcb5a3d28c52f14139d48cf1f0162ceb","modified":1729743751116},{"_id":"public/tags/è´ªå¿ƒ/index.html","hash":"7592efef3ed9752f8800d85c9456fd8f1acda842","modified":1729743751116},{"_id":"public/tags/é«˜ç²¾åº¦/index.html","hash":"d14e44860fea56c44dfe14dfd32b70aa86c1301e","modified":1729743751116},{"_id":"public/about/index.html","hash":"fa9ebe59cc0c8304c117fe9c608e904d594d3f79","modified":1729743751116},{"_id":"public/2024/10/07/ä¹˜æ³•é€†å…ƒ/index.html","hash":"6357eebcbf540a40ca1664d0133b8e5153a7428a","modified":1729743751116},{"_id":"public/2024/10/07/æ¬§æ‹‰ç­›/index.html","hash":"9b020e934b15c35d84050e353e43347bf8c9d129","modified":1729743751116},{"_id":"public/2024/10/07/å¿«é€Ÿå¹‚/index.html","hash":"85e1240095d61c10e0d4c992cb95e54f8fd5f629","modified":1729743751116},{"_id":"public/2024/10/07/ç®€å•æ•°è®º/index.html","hash":"ff5d8f65248b4ea3a82d7f59c2a293c050a5d127","modified":1729743751116},{"_id":"public/2024/10/07/KMPç®—æ³•/index.html","hash":"1ec6ad1b7d7b9cf7019e26ee20e5d034faf8083f","modified":1729743751116},{"_id":"public/2024/10/05/è´ªå¿ƒåŒºé—´é—®é¢˜/index.html","hash":"212b3922584a0e59024743952027bb6d9c2e241b","modified":1729743751116},{"_id":"public/2024/10/05/æœç´¢å¼€å…³é—®é¢˜/index.html","hash":"2635722d2a14945e62695111bbf37f572096935e","modified":1729743751116},{"_id":"public/2024/10/05/æœ€å°ç”Ÿæˆæ ‘/index.html","hash":"140bb8ddaabbb7e0e1af7b9ef4a4da303e2502a5","modified":1729743751116},{"_id":"public/2024/10/05/æœç´¢æ€»ç»“/index.html","hash":"296fdd6706e7735a7b442fdfd757851efd23d163","modified":1729743751116},{"_id":"public/2024/10/05/ACè‡ªåŠ¨æœº/index.html","hash":"a9143d867ad049bba8444a6345a23e7c437d3969","modified":1729743751116},{"_id":"public/2024/10/05/å­—ç¬¦ä¸²å“ˆå¸Œ/index.html","hash":"cd189816a7d074934c19b5ab83b3428d1df0758a","modified":1729743751116},{"_id":"public/2024/10/05/å­—å…¸æ ‘/index.html","hash":"337b650b0f8091b8af43a8048a8266b21471adb0","modified":1729743751116},{"_id":"public/2024/10/04/å¹¿åº¦ä¼˜å…ˆæœç´¢/index.html","hash":"85678a0a4fc957dbc4101e08d57ad78dbcc07bbe","modified":1729743751116},{"_id":"public/2024/10/04/æ·±åº¦ä¼˜å…ˆæœç´¢/index.html","hash":"cadd153fcda7b2f14b7e3218ea94e3bffce11435","modified":1729743751116},{"_id":"public/2024/10/04/å›¾è®ºæœ€çŸ­è·¯/index.html","hash":"78d5ed0cae911d2be8104d504b4000c75295f3d3","modified":1729743751116},{"_id":"public/2024/10/04/é‚»æ¥çŸ©é˜µ/index.html","hash":"54ca42c5c4fbe8b434f50c01c870ae3dfbd5b3f2","modified":1729743751116},{"_id":"public/2024/10/04/é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ/index.html","hash":"674db6d3f681e6b52e0ecbf44131bb5bd3266705","modified":1729743751116},{"_id":"public/2024/10/04/æ‹“æ‰‘æ’åº/index.html","hash":"fea28a526baa6732d028f90795bf618518cdb3d5","modified":1729743751116},{"_id":"public/2024/10/04/äºŒåˆ†å›¾/index.html","hash":"d4cc06108a0abd9c4a9ad393d2dea53afa940efb","modified":1729743751116},{"_id":"public/2024/10/04/æ ‘/index.html","hash":"896579041d23844d4dff0222d43fb42d449a593b","modified":1729743751116},{"_id":"public/2024/10/03/å•è°ƒé˜Ÿåˆ—/index.html","hash":"73ca6cc3c122f1ce837abe9a182e922911692399","modified":1729743751116},{"_id":"public/2024/10/03/å¹¶æŸ¥é›†/index.html","hash":"0dccec496aa5bcf1c3245b06abfbf750f1f36bcf","modified":1729743751116},{"_id":"public/2024/10/03/lower-boundã€upper-boundå‡½æ•°/index.html","hash":"e8198048e281650bd22c3abc7bf65052326ebee7","modified":1729743751116},{"_id":"public/2024/10/03/strcmpã€compareå‡½æ•°/index.html","hash":"cf12f99aa78d82f9e8d18bec9006cf7ad9cbdf90","modified":1729743751116},{"_id":"public/2024/10/03/å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§/index.html","hash":"030b5474485bf40cbe27eeca87990f31cb3f877d","modified":1729743751116},{"_id":"public/2024/10/03/substrå‡½æ•°/index.html","hash":"d77c882bc6f8c0f8576d261d4973f72eb4972009","modified":1729743751116},{"_id":"public/2024/10/03/ç¦»æ•£åŒ–/index.html","hash":"4f92b4c9f2d8fbd2000052658f84f4e83e66fc99","modified":1729743751116},{"_id":"public/2024/10/03/æ¡¶/index.html","hash":"bf859d3770fb86da8da04a3e54536b01a0c8bf11","modified":1729743751116},{"_id":"public/2024/10/03/é€’æ¨/index.html","hash":"263ddbcbfe31f2bb1ea3c3913e724486d629406a","modified":1729743751116},{"_id":"public/2024/10/03/å·®åˆ†/index.html","hash":"56cec84b8498e6e864f457a6f7ac0f65a421c11e","modified":1729743751116},{"_id":"public/2024/10/03/å‰ç¼€å’Œ/index.html","hash":"c2c6e6295bb8663d1e619bcccdbd16c27b37b653","modified":1729743751116},{"_id":"public/2024/10/02/æ—¥æœŸé—®é¢˜/index.html","hash":"9619a7c0fe4bbadbeb7af025fb36650c0f0f02f0","modified":1729743751116},{"_id":"public/2024/10/02/è¿›åˆ¶è½¬æ¢/index.html","hash":"6de3b078017222d299de2ba1839b20a5a6035918","modified":1729743751116},{"_id":"public/2024/10/02/æ’åº/index.html","hash":"23ca8638c4ecd55cbcc977b262a7c753525c349c","modified":1729743751116},{"_id":"public/2024/10/02/é«˜ç²¾åº¦/index.html","hash":"0b29a8b4e2542cc0c4fb3e85e74e42ea39e091d7","modified":1729743751116},{"_id":"public/2024/10/02/äºŒåˆ†/index.html","hash":"27620828eeb798f0f2e0c1122c12d4773e778e3c","modified":1729743751116},{"_id":"public/2024/10/01/hello-world/index.html","hash":"970ad5bae752aee6405df5c9dbdb0a92191258ee","modified":1729743751116},{"_id":"public/archives/index.html","hash":"d4981674830f31dcec2063fca46072f0e4447f79","modified":1729743751116},{"_id":"public/archives/page/2/index.html","hash":"358c20965a99f0514ce3fbb89058b9218cfd78c3","modified":1729743751116},{"_id":"public/archives/page/3/index.html","hash":"b48d30e3112c5dc97e161e59a7ea947fe08b93d9","modified":1729743751116},{"_id":"public/archives/page/4/index.html","hash":"df80252d965c3533da6f481f27de428801946f3a","modified":1729743751116},{"_id":"public/archives/2024/index.html","hash":"d97c327bd1543e894a8df377c8432609ee98b374","modified":1729743751116},{"_id":"public/archives/2024/page/2/index.html","hash":"d79965d6b1091838514ca94c990f9d3e638bdf47","modified":1729743751116},{"_id":"public/archives/2024/page/3/index.html","hash":"5ab31542b3e3465304dac53c476375708cd9a613","modified":1729743751116},{"_id":"public/archives/2024/page/4/index.html","hash":"c17fbf738f5e8ebca2f2e6e4ae5d0b6026192b97","modified":1729743751116},{"_id":"public/archives/2024/10/index.html","hash":"201496f323f088f020d5fdd86668e559d3fca8aa","modified":1729743751116},{"_id":"public/archives/2024/10/page/2/index.html","hash":"3da4f71648e7c12b9ddd1507cdc1ebc6653cd348","modified":1729743751116},{"_id":"public/index.html","hash":"bcd11ebec4b24e47574c5741331e5c8fb22c09bd","modified":1729743751116},{"_id":"public/archives/2024/10/page/3/index.html","hash":"abd521a63d1c1d9a2c01cf5d9693b4e2b88da6d2","modified":1729743751116},{"_id":"public/archives/2024/10/page/4/index.html","hash":"e49ee07b98bc910d81f414a2e4dc23a175db7925","modified":1729743751116},{"_id":"public/page/2/index.html","hash":"2d973b6c175aa6b4d7ba6ca03b7226737781aa83","modified":1729743751116},{"_id":"public/page/3/index.html","hash":"c7365d555e4d346343a10b7c10cf4ed57434a783","modified":1729743751116},{"_id":"public/page/4/index.html","hash":"c06724ce8207797e1eb6f0ec287fc2264828798c","modified":1729743751116},{"_id":"public/categories/å­¦ä¹ /index.html","hash":"60ab1f0bc93482dfb041b2736f0ce314ee3f1f63","modified":1729743751116},{"_id":"public/categories/å­¦ä¹ /page/2/index.html","hash":"20421bf07f05e6624d4851976e81506e9dfcfd3f","modified":1729743751116},{"_id":"public/categories/å­¦ä¹ /page/3/index.html","hash":"6d5834ad67466758cd239dc6618ca7bd187c161f","modified":1729743751116},{"_id":"public/tags/ç®—æ³•ç«èµ›/index.html","hash":"26df986c9297b87749ad1720ddea2d3e33a573f5","modified":1729743751116},{"_id":"public/tags/ç®—æ³•ç«èµ›/page/2/index.html","hash":"fd34ae8d41d52b657a94165956301d4f28abbd96","modified":1729743751116},{"_id":"public/tags/ç®—æ³•ç«èµ›/page/3/index.html","hash":"eadac257a01604dc2787994050dfd48b761615ee","modified":1729743751116},{"_id":"public/tags/ç®—æ³•ç«èµ›/page/4/index.html","hash":"338ec9c0de823d064c26f5e3173cf092dac04d90","modified":1729743751116},{"_id":"public/tags/å­—ç¬¦ä¸²/index.html","hash":"8b035f35d01d428ae8e3511290012e51ad9c2d84","modified":1729743751116},{"_id":"public/tags/æ•°æ®ç»“æ„/index.html","hash":"03617a66fda3d16309abe7947bf783985ff9f5e1","modified":1729743751116},{"_id":"public/tags/æ•°è®º/index.html","hash":"9e54806497e7320a934761d42b993ef9d2773941","modified":1729743751116},{"_id":"public/tags/å›¾è®º/index.html","hash":"e05da1186d595a59b0b6385126ef47e01d494adb","modified":1729743751116},{"_id":"public/tags/æœç´¢/index.html","hash":"10a5ae3c8b0eb74d96dfa0ce4a1aae3a024a37ef","modified":1729743751116},{"_id":"public/deadpool.ico","hash":"dae5df6d593edf3bc716c5f597cee7529e9b86eb","modified":1729743751116},{"_id":"public/deadpool.png","hash":"28f73b15e9fb5a8e0a737f735cc60e43e94f8566","modified":1729743751116},{"_id":"public/favicon.ico","hash":"473ba682e828a7e34f24fae320e77b6bed4260c7","modified":1729743751116},{"_id":"public/images/404.jpg","hash":"4f36a8d378712427cded03f5166949f5e0ba754c","modified":1729743751116},{"_id":"public/images/ayer-sea-side.svg","hash":"e92a3b2a113d4e0776e9d4f3cae34664c9656271","modified":1729743751116},{"_id":"public/images/ayer.png","hash":"0466c05244273f645d239cd27513bfa3c50308aa","modified":1729743751116},{"_id":"public/images/ayer-side.svg","hash":"ad004ce7a873de0f91774f3d5923e010396a07bd","modified":1729743751116},{"_id":"public/images/beian.png","hash":"29c400bc3b89f6085766dac4e0330ded5cb73d52","modified":1729743751116},{"_id":"public/images/ayer.svg","hash":"379c3307f97c364718a1dbc1e52fb14de12eb11a","modified":1729743751116},{"_id":"public/images/gitee.png","hash":"250da578e0bd1393f22737f58d0fbae95119e527","modified":1729743751116},{"_id":"public/images/cover7.jpg","hash":"573bff6899d2d9c5bcba0dc9c60cd1ec9eb8b029","modified":1729743751116},{"_id":"public/images/forkme.png","hash":"99c3e21a169421e4f249befb428396c729863a75","modified":1729743751116},{"_id":"public/images/github.png","hash":"4853ff37f9d859e7faa77675632a73f8ef089a15","modified":1729743751116},{"_id":"public/images/hexo-tag-chart.png","hash":"6db432aae30556d151c2fd2c1d11015d9309ba81","modified":1729743751116},{"_id":"public/images/hexo.png","hash":"6b0315fba8a8f496491079b361e2fb5253e19a04","modified":1729743751116},{"_id":"public/images/mouse.cur","hash":"c1ffe93a6ba0d25ef06bb3d097560762e4807593","modified":1729743751116},{"_id":"public/images/sponsor.jpg","hash":"5b5e4498177b369a7eca7ab2b1d0710b8690e21d","modified":1729743751116},{"_id":"public/images/alipay.jpg","hash":"8f5409e29764fca573f1d274003910aa3c919de1","modified":1729743751116},{"_id":"public/images/cover2.jpg","hash":"f61dd08c95327468c5f6bc5175eff68d00f05b46","modified":1729743751116},{"_id":"public/images/wechat.jpg","hash":"93a362574a8498e75dca469b7bceb0b321fda387","modified":1729743751116},{"_id":"public/css/fonts/remixicon.woff2","hash":"d83e667e2d8583bcd2d97b4ebe13ff1f147b947c","modified":1729743751116},{"_id":"public/images/cover6.jpg","hash":"a5b8a5dddff2607fee5fccf5fdef3b214a8468cc","modified":1729743751116},{"_id":"public/css/fonts/remixicon.woff","hash":"8d6a423fd373c0a1f45b927d37f8f932aaea21ec","modified":1729743751116},{"_id":"public/404.html","hash":"155c674062d18ab392fa47ac837dd7afe77f8a56","modified":1729743751116},{"_id":"public/css/clipboard.css","hash":"7990b92ffeda1b06b94b50140d9c95dac21bd418","modified":1729743751116},{"_id":"public/css/custom.css","hash":"58950a4f4cd82465f85428ec17b3bc05f8153b56","modified":1729743751116},{"_id":"public/dist/main.js","hash":"436093b4310b4656fb1e60ae946d04b85d6b1fa5","modified":1729743751116},{"_id":"public/js/busuanzi-2.3.pure.min.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1729743751116},{"_id":"public/js/clickBoom1.js","hash":"afd4a981d3a56c40898248152009d478a3cd0d1e","modified":1729743751116},{"_id":"public/js/dz.js","hash":"079ae73e2e396c2e00919a50a6fe0d064f99303a","modified":1729743751116},{"_id":"public/js/clickBoom2.js","hash":"d3fe9e8c7046bec9745628f61d61e4102171ac2b","modified":1729743751116},{"_id":"public/js/clickLove.js","hash":"9e8e79d69ad8338761272f86fe5cad0ad5e503cc","modified":1729743751116},{"_id":"public/js/lazyload.min.js","hash":"b801b3946fb9b72e03512c0663458e140e1fa77b","modified":1729743751116},{"_id":"public/js/search.js","hash":"118be0e0918532ac1225f62e1a0a6f0673e0b173","modified":1729743751116},{"_id":"public/js/tocbot.min.js","hash":"bae97e8a24a05a99335f8e725641c8ca9c50502a","modified":1729743751116},{"_id":"public/css/fonts/remixicon.ttf","hash":"7eba83fb4482a63f3b338ccb6dca312e8e95db7f","modified":1729743751116},{"_id":"public/dist/main.css","hash":"1f49cde949291ed86277d30721a7e728a4f8671a","modified":1729743751116},{"_id":"public/images/cover3.jpg","hash":"7b4e7c9ce19ce5d5c1588b2567e88ecbb04370af","modified":1729743751116},{"_id":"public/images/cover1.jpg","hash":"e019fbed6158ae3e4ec3d255b41bddc1afcbfa90","modified":1729743751116},{"_id":"public/css/fonts/remixicon.eot","hash":"7e929b884b2201250fc49e8e79c3aba6cd9e4482","modified":1729743751116},{"_id":"public/js/jquery-3.6.0.min.js","hash":"b82d238d4e31fdf618bae8ac11a6c812c03dd0d4","modified":1729743751116},{"_id":"public/css/fonts/remixicon.css","hash":"be1956502b9cf5081091ff78d7f11cd7ea733be8","modified":1729743751116},{"_id":"public/images/cover4.jpg","hash":"77040e609d2f1c60e00a8e47cb95b25bf7ff5b9c","modified":1729743751116},{"_id":"public/images/cover5.jpg","hash":"1a2d6182d94b015a45fe4bf8e8a239dfcc0ef776","modified":1729743751116},{"_id":"public/css/fonts/remixicon.svg","hash":"d5ab3ec2fd85b327b8c806228d2cd84b6d6b24c8","modified":1729743751116}],"Category":[{"name":"å­¦ä¹ ","_id":"cm2msrps60004c0nf8xeycxuy"},{"name":"åˆ†ç±»","_id":"cm2msrpti0041c0nf0mw55go9"}],"Data":[],"Page":[{"title":"about","type":"about","layout":"about","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ\n\n> æœ¬ç«™çº¯ä¸ªäººç»´æŠ¤ï¼Œåˆ›ç«‹åŸå› å’Œæˆ‘æ‰€åšä¸‹åˆ—ä¸€åˆ‡åŸå› éƒ½ä¸€æ ·ï¼Œé‚£å°±æ˜¯å…´è¶£ä½¿ç„¶ğŸ˜œ\n\n* æœ¬ç«™çš„ä¸»è¦ç”¨é€”æ˜¯çŸ¥è¯†åˆ†äº«å’Œç”Ÿæ´»è®°å½•ï¼Œç”¨äºæ•´ç†æˆ‘æ‰€å­¦ä¹ è¿‡çš„å†…å®¹ï¼ˆç®—æ³•ç«èµ›ã€æœºå™¨å­¦ä¹ ã€æ•°æ®æŒ–æ˜ç­‰ç­‰ï¼‰ã€æ‹æ‘„çš„ç…§ç‰‡ã€éŸ³ä¹ä½œå“ç”šè‡³æ˜¯æ—¥å¸¸ï¼ŒæŸç§æ„ä¹‰ä¸Šï¼Œä¹Ÿç®—æ˜¯ä¸€åœºè‡ªæˆ‘è§è¯å§\n\n* å¦‚æœæ„Ÿå…´è¶£å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„bç«™ï¼Œåœ¨21å¹´ï¼Œæˆ‘æ›¾æ›´æ–°è¿‡ä¸€äº›å…³äºæ•°å­¦å»ºæ¨¡çš„æ•™å­¦ç±»è§†é¢‘ï¼Œç°åœ¨ä¿ç ”å·¥ä½œå·²ç»“æŸå•¦ï¼Œæœªæ¥æœ‰ç©ºä¼šä¸å®šæœŸæ›´æ–°\n\n![image-20241002215830761](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158817.png)\n\n* å¦‚æœå¯¹æˆ‘çš„éŸ³ä¹ä½œå“æ„Ÿå…´è¶£å˜~ä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ‘çš„ç½‘æ˜“äº‘ï¼Œä¸è¿‡ç›®å‰æˆ‘çš„åˆ¶ä½œç»éªŒè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œå¯ä»¥å…ˆå½“å¬ä¸ªå“ï¼Œå—¯ï¼\n\n![image-20241002215849011](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158048.png)\n\n* æœ€åï¼Œå¦‚æœæœ¬ç«™çš„å†…å®¹å¯¹æ‚¨çš„å­¦ä¹ æˆ–å·¥ä½œæœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ‰“èµæ”¯æŒ~ç»™äºˆæˆ‘ç»§ç»­æ›´æ–°çš„åŠ¨åŠ›ğŸ’ª\n\n![image-20241002215911098](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159135.png)\n\n![image-20241002215925394](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159425.png)\n\n* æœ€åæ„Ÿè°¢æ‚¨å…‰ä¸´æœ¬ç«™ï¼Œcheers!!!ğŸº\n","source":"about/index.md","raw":"---\ntitle: about\ntype: \"about\"\nlayout: \"about\"\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ\n\n> æœ¬ç«™çº¯ä¸ªäººç»´æŠ¤ï¼Œåˆ›ç«‹åŸå› å’Œæˆ‘æ‰€åšä¸‹åˆ—ä¸€åˆ‡åŸå› éƒ½ä¸€æ ·ï¼Œé‚£å°±æ˜¯å…´è¶£ä½¿ç„¶ğŸ˜œ\n\n* æœ¬ç«™çš„ä¸»è¦ç”¨é€”æ˜¯çŸ¥è¯†åˆ†äº«å’Œç”Ÿæ´»è®°å½•ï¼Œç”¨äºæ•´ç†æˆ‘æ‰€å­¦ä¹ è¿‡çš„å†…å®¹ï¼ˆç®—æ³•ç«èµ›ã€æœºå™¨å­¦ä¹ ã€æ•°æ®æŒ–æ˜ç­‰ç­‰ï¼‰ã€æ‹æ‘„çš„ç…§ç‰‡ã€éŸ³ä¹ä½œå“ç”šè‡³æ˜¯æ—¥å¸¸ï¼ŒæŸç§æ„ä¹‰ä¸Šï¼Œä¹Ÿç®—æ˜¯ä¸€åœºè‡ªæˆ‘è§è¯å§\n\n* å¦‚æœæ„Ÿå…´è¶£å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„bç«™ï¼Œåœ¨21å¹´ï¼Œæˆ‘æ›¾æ›´æ–°è¿‡ä¸€äº›å…³äºæ•°å­¦å»ºæ¨¡çš„æ•™å­¦ç±»è§†é¢‘ï¼Œç°åœ¨ä¿ç ”å·¥ä½œå·²ç»“æŸå•¦ï¼Œæœªæ¥æœ‰ç©ºä¼šä¸å®šæœŸæ›´æ–°\n\n![image-20241002215830761](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158817.png)\n\n* å¦‚æœå¯¹æˆ‘çš„éŸ³ä¹ä½œå“æ„Ÿå…´è¶£å˜~ä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ‘çš„ç½‘æ˜“äº‘ï¼Œä¸è¿‡ç›®å‰æˆ‘çš„åˆ¶ä½œç»éªŒè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œå¯ä»¥å…ˆå½“å¬ä¸ªå“ï¼Œå—¯ï¼\n\n![image-20241002215849011](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158048.png)\n\n* æœ€åï¼Œå¦‚æœæœ¬ç«™çš„å†…å®¹å¯¹æ‚¨çš„å­¦ä¹ æˆ–å·¥ä½œæœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ‰“èµæ”¯æŒ~ç»™äºˆæˆ‘ç»§ç»­æ›´æ–°çš„åŠ¨åŠ›ğŸ’ª\n\n![image-20241002215911098](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159135.png)\n\n![image-20241002215925394](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159425.png)\n\n* æœ€åæ„Ÿè°¢æ‚¨å…‰ä¸´æœ¬ç«™ï¼Œcheers!!!ğŸº\n","date":"2024-10-02T13:59:28.656Z","updated":"2024-10-02T13:59:28.656Z","path":"about/index.html","comments":1,"_id":"cm2msrprz0000c0nff56edxaq","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™\">ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ</span></h1><blockquote>\n<p>æœ¬ç«™çº¯ä¸ªäººç»´æŠ¤ï¼Œåˆ›ç«‹åŸå› å’Œæˆ‘æ‰€åšä¸‹åˆ—ä¸€åˆ‡åŸå› éƒ½ä¸€æ ·ï¼Œé‚£å°±æ˜¯å…´è¶£ä½¿ç„¶ğŸ˜œ</p>\n</blockquote>\n<ul>\n<li><p>æœ¬ç«™çš„ä¸»è¦ç”¨é€”æ˜¯çŸ¥è¯†åˆ†äº«å’Œç”Ÿæ´»è®°å½•ï¼Œç”¨äºæ•´ç†æˆ‘æ‰€å­¦ä¹ è¿‡çš„å†…å®¹ï¼ˆç®—æ³•ç«èµ›ã€æœºå™¨å­¦ä¹ ã€æ•°æ®æŒ–æ˜ç­‰ç­‰ï¼‰ã€æ‹æ‘„çš„ç…§ç‰‡ã€éŸ³ä¹ä½œå“ç”šè‡³æ˜¯æ—¥å¸¸ï¼ŒæŸç§æ„ä¹‰ä¸Šï¼Œä¹Ÿç®—æ˜¯ä¸€åœºè‡ªæˆ‘è§è¯å§</p>\n</li>\n<li><p>å¦‚æœæ„Ÿå…´è¶£å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„bç«™ï¼Œåœ¨21å¹´ï¼Œæˆ‘æ›¾æ›´æ–°è¿‡ä¸€äº›å…³äºæ•°å­¦å»ºæ¨¡çš„æ•™å­¦ç±»è§†é¢‘ï¼Œç°åœ¨ä¿ç ”å·¥ä½œå·²ç»“æŸå•¦ï¼Œæœªæ¥æœ‰ç©ºä¼šä¸å®šæœŸæ›´æ–°</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158817.png\" alt=\"image-20241002215830761\"></p>\n<ul>\n<li>å¦‚æœå¯¹æˆ‘çš„éŸ³ä¹ä½œå“æ„Ÿå…´è¶£å˜~ä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ‘çš„ç½‘æ˜“äº‘ï¼Œä¸è¿‡ç›®å‰æˆ‘çš„åˆ¶ä½œç»éªŒè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œå¯ä»¥å…ˆå½“å¬ä¸ªå“ï¼Œå—¯ï¼</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158048.png\" alt=\"image-20241002215849011\"></p>\n<ul>\n<li>æœ€åï¼Œå¦‚æœæœ¬ç«™çš„å†…å®¹å¯¹æ‚¨çš„å­¦ä¹ æˆ–å·¥ä½œæœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ‰“èµæ”¯æŒ~ç»™äºˆæˆ‘ç»§ç»­æ›´æ–°çš„åŠ¨åŠ›ğŸ’ª</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159135.png\" alt=\"image-20241002215911098\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159425.png\" alt=\"image-20241002215925394\"></p>\n<ul>\n<li>æœ€åæ„Ÿè°¢æ‚¨å…‰ä¸´æœ¬ç«™ï¼Œcheers!!!ğŸº</li>\n</ul>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ\"><a href=\"#ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ\" class=\"headerlink\" title=\"ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ\"></a>ğŸŒŠæ¬¢è¿å…‰ä¸´æ¼‚è‡³çš„ä¸ªäººç½‘ç«™ğŸŒŠ</h1><blockquote>\n<p>æœ¬ç«™çº¯ä¸ªäººç»´æŠ¤ï¼Œåˆ›ç«‹åŸå› å’Œæˆ‘æ‰€åšä¸‹åˆ—ä¸€åˆ‡åŸå› éƒ½ä¸€æ ·ï¼Œé‚£å°±æ˜¯å…´è¶£ä½¿ç„¶ğŸ˜œ</p>\n</blockquote>\n<ul>\n<li><p>æœ¬ç«™çš„ä¸»è¦ç”¨é€”æ˜¯çŸ¥è¯†åˆ†äº«å’Œç”Ÿæ´»è®°å½•ï¼Œç”¨äºæ•´ç†æˆ‘æ‰€å­¦ä¹ è¿‡çš„å†…å®¹ï¼ˆç®—æ³•ç«èµ›ã€æœºå™¨å­¦ä¹ ã€æ•°æ®æŒ–æ˜ç­‰ç­‰ï¼‰ã€æ‹æ‘„çš„ç…§ç‰‡ã€éŸ³ä¹ä½œå“ç”šè‡³æ˜¯æ—¥å¸¸ï¼ŒæŸç§æ„ä¹‰ä¸Šï¼Œä¹Ÿç®—æ˜¯ä¸€åœºè‡ªæˆ‘è§è¯å§</p>\n</li>\n<li><p>å¦‚æœæ„Ÿå…´è¶£å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„bç«™ï¼Œåœ¨21å¹´ï¼Œæˆ‘æ›¾æ›´æ–°è¿‡ä¸€äº›å…³äºæ•°å­¦å»ºæ¨¡çš„æ•™å­¦ç±»è§†é¢‘ï¼Œç°åœ¨ä¿ç ”å·¥ä½œå·²ç»“æŸå•¦ï¼Œæœªæ¥æœ‰ç©ºä¼šä¸å®šæœŸæ›´æ–°</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158817.png\" alt=\"image-20241002215830761\"></p>\n<ul>\n<li>å¦‚æœå¯¹æˆ‘çš„éŸ³ä¹ä½œå“æ„Ÿå…´è¶£å˜~ä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ‘çš„ç½‘æ˜“äº‘ï¼Œä¸è¿‡ç›®å‰æˆ‘çš„åˆ¶ä½œç»éªŒè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œå¯ä»¥å…ˆå½“å¬ä¸ªå“ï¼Œå—¯ï¼</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022158048.png\" alt=\"image-20241002215849011\"></p>\n<ul>\n<li>æœ€åï¼Œå¦‚æœæœ¬ç«™çš„å†…å®¹å¯¹æ‚¨çš„å­¦ä¹ æˆ–å·¥ä½œæœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ‰“èµæ”¯æŒ~ç»™äºˆæˆ‘ç»§ç»­æ›´æ–°çš„åŠ¨åŠ›ğŸ’ª</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159135.png\" alt=\"image-20241002215911098\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410022159425.png\" alt=\"image-20241002215925394\"></p>\n<ul>\n<li>æœ€åæ„Ÿè°¢æ‚¨å…‰ä¸´æœ¬ç«™ï¼Œcheers!!!ğŸº</li>\n</ul>\n"},{"title":"tags","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ntype: \"tags\"\nlayout: \"tags\"\n---","date":"2024-10-02T14:01:46.907Z","updated":"2024-10-02T14:01:46.907Z","path":"tags/index.html","comments":1,"_id":"cm2msrps40002c0nf14kb3qyt","content":"","excerpt":"","more":""},{"title":"categories","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ntype: \"categories\"\nlayout: \"categories\"\n---","date":"2024-10-02T14:00:47.246Z","updated":"2024-10-02T14:00:47.246Z","path":"categories/index.html","comments":1,"_id":"cm2msrps70006c0nfdv4bff4w","content":"","excerpt":"","more":""},{"title":"Gallery","albums":[["img_url","img_caption"],["img_url","img_caption"]],"_content":"","source":"photos/index.md","raw":"---\ntitle: Gallery\n\nalbums: [[\"img_url\", \"img_caption\"], [\"img_url\", \"img_caption\"]]\n---","date":"2024-10-01T05:47:04.681Z","updated":"2024-10-01T05:47:04.681Z","path":"photos/index.html","comments":1,"layout":"page","_id":"cm2msrps80008c0nf0qbm1b62","content":"","excerpt":"","more":""},{"title":"friends","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ntype: friends\nlayout: \"friends\"\n---","date":"2024-10-01T05:45:37.602Z","updated":"2024-10-01T05:45:37.602Z","path":"friends/index.html","comments":1,"_id":"cm2msrpsa000ac0nfhmueahw6","content":"","excerpt":"","more":""}],"Post":[{"title":"ACè‡ªåŠ¨æœº","date":"2024-10-05T08:14:41.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ACè‡ªåŠ¨æœº\n\n<!-- toc -->\n\n\n\n> è·Ÿå­¦è§†é¢‘ï¼š[F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_](https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* $AC$è‡ªåŠ¨æœºæ˜¯å¤šæ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œç»™å®š$n$ä¸ªæ¨¡å¼ä¸²å’Œä¸€ä¸ªä¸»ä¸²ï¼ŒæŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªæ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°è¿‡ã€‚\n\n\n\n> å¤ä¹ ä¸€ä¸‹å­—å…¸æ ‘å§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘å­—å…¸æ ‘ï¼Œè¶…è¯¦ç»†æ³¨é‡Šå¸¦ä¾‹é¢˜è®²è§£-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136725155?spm=1001.2014.3001.5502)\n\n### 1. æ„å»ºTrieæ ‘\n\n* æˆ‘ä»¬å…ˆç”¨nä¸ªæ¨¡å¼ä¸²æ„é€ ä¸€é¢—Trieã€‚\n* Trieä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„å­—ç¬¦ä¸²ã€‚\n* æ ¹èŠ‚ç‚¹è¡¨ç¤ºç©ºä¸²ï¼ŒèŠ‚ç‚¹â‘¤è¡¨ç¤ºâ€œsâ€ï¼ŒèŠ‚ç‚¹6è¡¨ç¤ºâ€œshâ€ï¼ŒèŠ‚ç‚¹7è¡¨ç¤ºâ€œsheâ€ã€‚\n* å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªæ¨¡å¼ä¸²ï¼Œåˆ™æ‰“ä¸ªæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œcnt[7]=1ã€‚\n\n![image-20240213085433083](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213085433083.png)\n\n``` c++\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=1e5+5;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\n\n// å»ºæ ‘çš„insertå‡½æ•°\nvoid insert(char s[]) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†\n\tfor(int i=0;s[i];i++) { // éå†ä¸»ä¸²\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª\n\t\tp=ch[p][j]; // èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n}\n```\n\n\n\n### 2. æ„é€ ACè‡ªåŠ¨æœº\n\n* æ„é€ ACè‡ªåŠ¨æœºçš„è¿‡ç¨‹å°±æ˜¯åœ¨Trieæ ‘ä¸Šæ„å»ºä¸¤ç±»è¾¹ï¼š**å›è·³è¾¹**å’Œ**è½¬ç§»è¾¹**\n\n\n\n#### 2.1. å›è·³è¾¹\n\n* å¼€ä¸€ä¸ªæ•°ç»„ne[]ï¼Œne[v] å­˜èŠ‚ç‚¹vçš„å›è·³è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚ï¼šne[7]=3ï¼Œè¡¨ç¤ºèŠ‚ç‚¹7çš„å›è·³è¾¹çš„ç»ˆç‚¹æ˜¯3\n\n* å›è·³è¾¹æŒ‡å‘**çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­**ï¼Œå¯¹äºne[7]=3æ¥è¯´ï¼Œ7çš„çˆ¶èŠ‚ç‚¹æ˜¯6ï¼Œ6çš„å­èŠ‚ç‚¹æ˜¯3ï¼Œæ‰€ä»¥7æŒ‡å‘3ï¼Œæ­¤æ—¶å››ä¸ªç‚¹$(v,u,ne[u],ch[][])$æ„æˆå››è¾¹å½¢\n\n  <img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213091335787.png\" alt=\"image-20240213091335787\" style=\"zoom:80%;\" />\n\n* å¹¶ä¸”å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„**æœ€é•¿åç¼€**ï¼Œcnt[7]=1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯sheï¼Œcnt[3]=1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯heï¼Œæ­¤æ—¶heæ˜¯sheçš„æœ€é•¿åç¼€ï¼Œä¸‹å›¾ä¸­ç»¿è‰²è¾¹ä»£è¡¨å›è·³è¾¹ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n\n\n#### 2.2. è½¬ç§»è¾¹\n\n* è½¬ç§»è¾¹æŒ‡å‘çš„æ˜¯**å½“å‰èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­**ï¼Œè½¬ç§»è¾¹å’Œæ ‘è¾¹å…±åŒå­˜å‚¨åœ¨æ•°ç»„$ch[][]$ä¸­\n  * $ch[u][i]$å­˜èŠ‚ç‚¹uçš„æ ‘è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[6][e]=7$ï¼ŒèŠ‚ç‚¹6èµ°eè¾¹åˆ°è¾¾èŠ‚ç‚¹7\n  * $ch[u][i]$å­˜èŠ‚ç‚¹uçš„è½¬ç§»è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[7][r]$=4ï¼ŒèŠ‚ç‚¹7çš„å›è·³è¾¹æ˜¯3ï¼ŒèŠ‚ç‚¹3çš„å„¿å­æ˜¯èŠ‚ç‚¹4ï¼Œæ³¨æ„ä¸Šå›¾ä¸­æ²¡æœ‰ç”»å‡ºè½¬ç§»è¾¹ï¼Œåªæœ‰æ ‘è¾¹å’Œå›è·³è¾¹\n* æ­¤æ—¶ä¸‰ä¸ªç‚¹$(u,ne[u],ch[][])$æ„æˆä¸‰è§’å½¢\n\n![image-20240213092022148](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213092022148.png)\n\n* è½¬ç§»è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„**æœ€çŸ­è·¯**ï¼Œæ¯”å¦‚$ch[7][r]=4$ï¼Œé‚£ä¹ˆä»èŠ‚ç‚¹7åˆ°è¾¾èŠ‚ç‚¹4çš„æœ€çŸ­è·¯å°±æ˜¯è¿™æ¡ç›´é€šçš„rï¼Œè€Œä¸æ˜¯å›æº¯åˆ°æ ¹èŠ‚ç‚¹å†é‡æ–°åŒ¹é…åˆ°èŠ‚ç‚¹4\n\n\n\n#### 2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº\n\n1. åˆå§‹åŒ–ï¼ŒæŠŠæ ¹èŠ‚ç‚¹çš„å„¿å­ä»¬å…¥é˜Ÿï¼ˆæšä¸¾26æ¬¡ï¼Œå› ä¸ºåªæœ‰26ä¸ªå­—æ¯ï¼‰\n2. åªè¦é˜Ÿä¸ç©ºï¼Œé˜Ÿå¤´èŠ‚ç‚¹uå‡ºé˜Ÿï¼Œæšä¸¾uçš„26ä¸ªå„¿å­\n   1. è‹¥å„¿å­å­˜åœ¨ï¼Œåˆ™çˆ¹å¸®å„¿å­å»ºå›è·³è¾¹ï¼Œå¹¶æŠŠå„¿å­å…¥é˜Ÿ\n   2. è‹¥å„¿å­ä¸å­˜åœ¨ï¼Œåˆ™çˆ¹è‡ªå»ºè½¬ç§»è¾¹\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n* ä¸Šå›¾å¯¹åº”çš„å®Œæ•´å»ºè¾¹è¿‡ç¨‹å¦‚ä¸‹ï¼Œè¿™é‡Œåªæ¨¡æ‹ŸèŠ‚ç‚¹1å’ŒèŠ‚ç‚¹2çš„å»ºè¾¹è¿‡ç¨‹ï¼š\n* 1ï¼‰å¯¹èŠ‚ç‚¹1ï¼š\n  1. èŠ‚ç‚¹1å‡ºé˜Ÿï¼Œä½†æ˜¯èŠ‚ç‚¹1ä¸‹æ²¡æœ‰å„¿å­ï¼Œæ‰€ä»¥ä¸ç”¨ç»™ä»–çš„å„¿å­å»ºå›è·³è¾¹ï¼Œä½†æ˜¯å›¾ä¸­èŠ‚ç‚¹1çš„å›è·³è¾¹æŒ‡å‘èŠ‚ç‚¹0ï¼Œè¿™æ˜¯å› ä¸ºne[]æ•°ç»„æ˜¯å…¨å±€å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ï¼Œæˆ–è€…å¯ä»¥è¿™æ ·æƒ³ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨çš„æ˜¯ç©ºä¸²ï¼Œæ­¤æ—¶èŠ‚ç‚¹1çš„æœ€é•¿åç¼€ä¹Ÿå°±æ˜¯ç©ºä¸²\n  2. ç°åœ¨å»ºè½¬ç§»è¾¹ï¼Œå› ä¸ºèŠ‚ç‚¹1çš„çˆ¶èŠ‚ç‚¹çš„å„¿å­å°±æ˜¯æœ¬èº«ï¼Œæ‰€ä»¥å»ºç«‹26æ¡è½¬ç§»è¾¹ï¼Œæœ‰$ch[1][e]=1$ï¼Œæ—¢èŠ‚ç‚¹1çš„è½¬ç§»è¾¹æŒ‡å‘è‡ªå·±ï¼Œå¯¹äºéå†åˆ°çˆ¶èŠ‚ç‚¹çš„ä¸‹ä¸€æ¡æ ‘è¾¹hæ—¶ï¼Œå½“å‰èŠ‚ç‚¹çš„è½¬ç§»è¾¹æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„å„¿å­ï¼Œæ‰€ä»¥æœ‰$ch[1][h]=2$ï¼ŒåŒç†æœ‰$ch[1][s]=5$ï¼Œé‚£ä¹ˆå¯¹äºçˆ¶èŠ‚ç‚¹0çš„å…¶ä»–è¾¹(å³ä¸å­˜åœ¨çš„è¾¹)æœ‰$ch[1][Â·Â·Â·]=0$ï¼ŒæŒ‡å‘å’±ä»¬çš„æ ¹èŠ‚ç‚¹\n* 2ï¼‰å¯¹èŠ‚ç‚¹2ï¼š\n  1. èŠ‚ç‚¹2å‡ºé˜Ÿï¼Œå› ä¸ºèŠ‚ç‚¹2ä¸‹çš„æœ‰å„¿å­èŠ‚ç‚¹3ï¼Œæ‰€ä»¥å…ˆä¸ºèŠ‚ç‚¹3å»ºç«‹å›è·³è¾¹ä¸ºèŠ‚ç‚¹3çš„çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æŒ‡å‘çš„å„¿å­ï¼Œå…¶å®å°±æ˜¯èŠ‚ç‚¹1ï¼Œæ‰€ä»¥æœ‰$ne[3]=1$ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹3å…¥é˜Ÿ\n  2. å› ä¸ºåªæœ‰è¿™ä¸€ä¸ªå„¿å­ï¼Œéšåå»ºç«‹25æ¡è½¬ç§»è¾¹ï¼ŒèŠ‚ç‚¹2çš„çˆ¶èŠ‚ç‚¹0åœ¨eä¹‹å(å› ä¸ºeå·²ç»ç”¨äºåšæœ€é•¿åç¼€å»å»ºå›è·³è¾¹äº†)çš„æ ‘è¾¹æœ‰hå’Œsï¼Œå¯¹hå’Œså»ºç«‹å›è·³è¾¹çš„è¿‡ç¨‹åŒä¸Šï¼Œæ‰€ä»¥æœ‰$ch[2][h]=2$ã€$ch[2][s]=5$ã€$ch[2][Â·Â·Â·]=0$\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213094042809.png\" alt=\"image-20240213094042809\" style=\"zoom:80%;\" />\n\n* æ—¶é—´å¤æ‚åº¦O(26n)ï¼Œä¸€å…±éœ€è¦å…¥é˜Ÿå‡ºé˜Ÿnä¸ªå­—ç¬¦ï¼Œnæ˜¯æ¨¡å¼ä¸²æ‰€æœ‰çš„æ€»é•¿åº¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æšä¸¾26æ¬¡ï¼Œè¦ä¹ˆå¸®å„¿å­å»ºå›è·³è¾¹ï¼Œè¦ä¹ˆè‡ªå·±å»ºè½¬ç§»è¾¹\n\n``` c++\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=1e5+5;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\nint ne[N]; // å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„\n\n// æ„å»ºACè‡ªåŠ¨æœº\nvoid build() {\n\tqueue<int> q;\n\t// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ\n\tfor(int i=0;i<26;i++) \n\t\tif(ch[0][i]) q.push(ch[0][i]);\n\t// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹\n\twhile(q.size()) {\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=0;i<26;i++) {\n\t\t\tint v=ch[u][i]; // å–å‡ºå„¿å­èŠ‚ç‚¹\n\t\t\t// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­\n\t\t\tif(v) ne[v]=ch[ne[u]][i],q.push(v);\n\t\t\t// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­\n\t\t\telse ch[u][i]=ch[ne[u]][i]; \n\t\t}\n\t}\n}\n```\n\n\n\n### 3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\n\n* åŒ¹é…çš„æ–¹å¼å’Œ$KMP$ç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆåŒ¹é…ï¼Œé¦–å…ˆæ‰«æä¸»ä¸²ï¼Œä¾æ¬¡å–å‡ºå­—ç¬¦s[k]\n* 1ï¼‰i æŒ‡é’ˆèµ°ä¸»ä¸²å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ²¿ç€**æ ‘è¾¹**æˆ–**è½¬ç§»è¾¹**èµ°ï¼Œä¿è¯ä¸å›é€€\n* 2ï¼‰j æŒ‡é’ˆæ²¿ç€**å›è·³è¾¹**æœç´¢æ¨¡å¼ä¸²ï¼Œæ¯æ¬¡ä»å½“å‰èŠ‚ç‚¹èµ°åˆ°æ ¹èŠ‚ç‚¹ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰**åç¼€æ¨¡å¼ä¸²**ä¸€ç½‘æ‰“å°½ï¼Œä¿è¯ä¸æ¼è§£ã€‚\n* 3ï¼‰æ‰«æå®Œä¸»ä¸²ï¼Œè¿”å›ç­”æ¡ˆ\n* ç®—æ³•ä¸€è¾¹èµ°ä¸²ï¼Œä¸€è¾¹æŠŠå½“å‰ä¸²çš„æ‰€æœ‰åç¼€ä¸²æœå‡ºæ¥ï¼Œå®åœ¨æ˜¯å¼ºï¼Œå¯¹äºæ­¤è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œå»ºè®®å¬åŸè§†é¢‘ï¼ˆå› ä¸ºå¤ªå¤æ‚äº†ä¸æƒ³å†™ï¼‰\n\n* [F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)ï¼Œä»$24:48$ å¼€å§‹\n\n![image-20240213101043808](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213101043808.png)\n\n* æ—¶é—´å¤æ‚åº¦$O(n+m)$ï¼Œmæ˜¯ä¸»ä¸²é•¿åº¦ï¼Œnæ˜¯æ‰€æœ‰æ¨¡å¼ä¸²çš„æ€»é•¿åº¦\n\n``` c++\n// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\nint query(char s[]) {\n\tint ans=0;\n\tfor(int k=0,i=0;s[k];k++) {\n\t\ti=ch[i][s[k]-'a']; // iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹\n\t\tfor(int j=i;j&&~cnt[j];j=ne[j]) // jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘\n\t\t\tans+=cnt[j],cnt[j]=-1; // å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,æ³¨æ„è¿™é‡Œçš„å†™æ³•ä¸æ˜¯å›ºå®šçš„,å¦‚æœé¢˜ç›®è¦æ±‚å‡ºç°å‡ æ¬¡å°±ç´¯è®¡å‡ æ¬¡,é‚£ä¹ˆcnt[j]æ˜¯ä¸ç”¨æ¸…ç©ºçš„\n\t}\n\treturn ans;\n}\n```\n\n\n\n### 4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213102219322.png\" alt=\"image-20240213102219322\" style=\"zoom: 80%;\" />\n\n\n\n### 5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)\n\n* ç»™å®š $n$ ä¸ªæ¨¡å¼ä¸² $s_i$ å’Œä¸€ä¸ªæ–‡æœ¬ä¸² $t$ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²é‡Œå‡ºç°è¿‡ï¼Œå½“ä¸¤ä¸ªæ¨¡å¼ä¸²ç¼–å·ä¸åŒæ—¶å³è§†ä¸ºä¸åŒçš„æ¨¡å¼ä¸²ã€‚\n* æ³¨æ„ï¼š$s_2$ ä¸ $s_3$ ç¼–å·ï¼ˆä¸‹æ ‡ï¼‰ä¸åŒï¼Œå› æ­¤å„è‡ªå¯¹ç­”æ¡ˆäº§ç”Ÿäº†ä¸€æ¬¡è´¡çŒ®ã€‚\n\n![image-20240213103041931](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103041931.png)\n\n* æ³¨æ„ï¼š$s_1$ï¼Œ$s_2$ï¼Œ$s_4$ éƒ½åœ¨ä¸²$abcd$é‡Œå‡ºç°è¿‡\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103223172.png\" alt=\"image-20240213103223172\" style=\"zoom:80%;\" />\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: \n\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=5e5+10;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\nint ne[N]; // å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„\n\nint n; // æ¨¡å¼ä¸²ä¸ªæ•°\nconst int MAX_LEN=1e6+10; // æ¨¡å¼ä¸²æœ€é•¿é•¿åº¦\nchar str[MAX_LEN]; // å­˜å‚¨æ¨¡å¼ä¸²\n\n// å»ºæ ‘çš„insertå‡½æ•°,ä¼ å…¥å­—ç¬¦ä¸²\nvoid insert(char s[]) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†\n\tfor(int i=0;s[i];i++) { // éå†ä¸»ä¸²\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª\n\t\tp=ch[p][j]; // èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n}\n\n// æ„å»ºACè‡ªåŠ¨æœº\nvoid build() {\n\tqueue<int> q;\n\t// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ\n\tfor(int i=0;i<26;i++) \n\t\tif(ch[0][i]) q.push(ch[0][i]);\n\t// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹\n\twhile(q.size()) {\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=0;i<26;i++) {\n\t\t\tint v=ch[u][i]; // å–å‡ºå„¿å­èŠ‚ç‚¹\n\t\t\t// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­\n\t\t\tif(v) ne[v]=ch[ne[u]][i],q.push(v);\n\t\t\t// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­\n\t\t\telse ch[u][i]=ch[ne[u]][i]; \n\t\t}\n\t}\n}\n\n// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°,ä¼ å…¥å­—ç¬¦ä¸²\nint query(char s[]) {\n\tint ans=0;\n\tfor(int k=0,i=0;s[k];k++) {\n\t\ti=ch[i][s[k]-'a']; // iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹\n\t\tfor(int j=i;j&&~cnt[j];j=ne[j]) // jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘\n\t\t\tans+=cnt[j],cnt[j]=-1; // å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,è§†æƒ…å†µå—·\n\t}\n\treturn ans;\n}\n\nint main() {\n\tcin>>n; // æ¨¡å¼ä¸²ä¸ªæ•°\n\tfor(int i=0;i<n;i++) {\n\t\tcin>>str;\t\n\t\tinsert(str);\n\t}\n\tbuild();\n\tcin>>str; // è¾“å…¥ä¸»ä¸²\n\tcout<<query(str)<<endl;\n\treturn 0;\n}\n```\n","source":"_posts/ACè‡ªåŠ¨æœº.md","raw":"---\ntitle: ACè‡ªåŠ¨æœº\ndate: 2024-10-05 16:14:41\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å­—ç¬¦ä¸²\n    - æ•°æ®ç»“æ„\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ACè‡ªåŠ¨æœº\n\n<!-- toc -->\n\n\n\n> è·Ÿå­¦è§†é¢‘ï¼š[F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_](https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* $AC$è‡ªåŠ¨æœºæ˜¯å¤šæ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œç»™å®š$n$ä¸ªæ¨¡å¼ä¸²å’Œä¸€ä¸ªä¸»ä¸²ï¼ŒæŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªæ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°è¿‡ã€‚\n\n\n\n> å¤ä¹ ä¸€ä¸‹å­—å…¸æ ‘å§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘å­—å…¸æ ‘ï¼Œè¶…è¯¦ç»†æ³¨é‡Šå¸¦ä¾‹é¢˜è®²è§£-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136725155?spm=1001.2014.3001.5502)\n\n### 1. æ„å»ºTrieæ ‘\n\n* æˆ‘ä»¬å…ˆç”¨nä¸ªæ¨¡å¼ä¸²æ„é€ ä¸€é¢—Trieã€‚\n* Trieä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„å­—ç¬¦ä¸²ã€‚\n* æ ¹èŠ‚ç‚¹è¡¨ç¤ºç©ºä¸²ï¼ŒèŠ‚ç‚¹â‘¤è¡¨ç¤ºâ€œsâ€ï¼ŒèŠ‚ç‚¹6è¡¨ç¤ºâ€œshâ€ï¼ŒèŠ‚ç‚¹7è¡¨ç¤ºâ€œsheâ€ã€‚\n* å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªæ¨¡å¼ä¸²ï¼Œåˆ™æ‰“ä¸ªæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œcnt[7]=1ã€‚\n\n![image-20240213085433083](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213085433083.png)\n\n``` c++\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=1e5+5;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\n\n// å»ºæ ‘çš„insertå‡½æ•°\nvoid insert(char s[]) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†\n\tfor(int i=0;s[i];i++) { // éå†ä¸»ä¸²\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª\n\t\tp=ch[p][j]; // èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n}\n```\n\n\n\n### 2. æ„é€ ACè‡ªåŠ¨æœº\n\n* æ„é€ ACè‡ªåŠ¨æœºçš„è¿‡ç¨‹å°±æ˜¯åœ¨Trieæ ‘ä¸Šæ„å»ºä¸¤ç±»è¾¹ï¼š**å›è·³è¾¹**å’Œ**è½¬ç§»è¾¹**\n\n\n\n#### 2.1. å›è·³è¾¹\n\n* å¼€ä¸€ä¸ªæ•°ç»„ne[]ï¼Œne[v] å­˜èŠ‚ç‚¹vçš„å›è·³è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚ï¼šne[7]=3ï¼Œè¡¨ç¤ºèŠ‚ç‚¹7çš„å›è·³è¾¹çš„ç»ˆç‚¹æ˜¯3\n\n* å›è·³è¾¹æŒ‡å‘**çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­**ï¼Œå¯¹äºne[7]=3æ¥è¯´ï¼Œ7çš„çˆ¶èŠ‚ç‚¹æ˜¯6ï¼Œ6çš„å­èŠ‚ç‚¹æ˜¯3ï¼Œæ‰€ä»¥7æŒ‡å‘3ï¼Œæ­¤æ—¶å››ä¸ªç‚¹$(v,u,ne[u],ch[][])$æ„æˆå››è¾¹å½¢\n\n  <img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213091335787.png\" alt=\"image-20240213091335787\" style=\"zoom:80%;\" />\n\n* å¹¶ä¸”å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„**æœ€é•¿åç¼€**ï¼Œcnt[7]=1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯sheï¼Œcnt[3]=1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯heï¼Œæ­¤æ—¶heæ˜¯sheçš„æœ€é•¿åç¼€ï¼Œä¸‹å›¾ä¸­ç»¿è‰²è¾¹ä»£è¡¨å›è·³è¾¹ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n\n\n#### 2.2. è½¬ç§»è¾¹\n\n* è½¬ç§»è¾¹æŒ‡å‘çš„æ˜¯**å½“å‰èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­**ï¼Œè½¬ç§»è¾¹å’Œæ ‘è¾¹å…±åŒå­˜å‚¨åœ¨æ•°ç»„$ch[][]$ä¸­\n  * $ch[u][i]$å­˜èŠ‚ç‚¹uçš„æ ‘è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[6][e]=7$ï¼ŒèŠ‚ç‚¹6èµ°eè¾¹åˆ°è¾¾èŠ‚ç‚¹7\n  * $ch[u][i]$å­˜èŠ‚ç‚¹uçš„è½¬ç§»è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[7][r]$=4ï¼ŒèŠ‚ç‚¹7çš„å›è·³è¾¹æ˜¯3ï¼ŒèŠ‚ç‚¹3çš„å„¿å­æ˜¯èŠ‚ç‚¹4ï¼Œæ³¨æ„ä¸Šå›¾ä¸­æ²¡æœ‰ç”»å‡ºè½¬ç§»è¾¹ï¼Œåªæœ‰æ ‘è¾¹å’Œå›è·³è¾¹\n* æ­¤æ—¶ä¸‰ä¸ªç‚¹$(u,ne[u],ch[][])$æ„æˆä¸‰è§’å½¢\n\n![image-20240213092022148](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213092022148.png)\n\n* è½¬ç§»è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„**æœ€çŸ­è·¯**ï¼Œæ¯”å¦‚$ch[7][r]=4$ï¼Œé‚£ä¹ˆä»èŠ‚ç‚¹7åˆ°è¾¾èŠ‚ç‚¹4çš„æœ€çŸ­è·¯å°±æ˜¯è¿™æ¡ç›´é€šçš„rï¼Œè€Œä¸æ˜¯å›æº¯åˆ°æ ¹èŠ‚ç‚¹å†é‡æ–°åŒ¹é…åˆ°èŠ‚ç‚¹4\n\n\n\n#### 2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº\n\n1. åˆå§‹åŒ–ï¼ŒæŠŠæ ¹èŠ‚ç‚¹çš„å„¿å­ä»¬å…¥é˜Ÿï¼ˆæšä¸¾26æ¬¡ï¼Œå› ä¸ºåªæœ‰26ä¸ªå­—æ¯ï¼‰\n2. åªè¦é˜Ÿä¸ç©ºï¼Œé˜Ÿå¤´èŠ‚ç‚¹uå‡ºé˜Ÿï¼Œæšä¸¾uçš„26ä¸ªå„¿å­\n   1. è‹¥å„¿å­å­˜åœ¨ï¼Œåˆ™çˆ¹å¸®å„¿å­å»ºå›è·³è¾¹ï¼Œå¹¶æŠŠå„¿å­å…¥é˜Ÿ\n   2. è‹¥å„¿å­ä¸å­˜åœ¨ï¼Œåˆ™çˆ¹è‡ªå»ºè½¬ç§»è¾¹\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n* ä¸Šå›¾å¯¹åº”çš„å®Œæ•´å»ºè¾¹è¿‡ç¨‹å¦‚ä¸‹ï¼Œè¿™é‡Œåªæ¨¡æ‹ŸèŠ‚ç‚¹1å’ŒèŠ‚ç‚¹2çš„å»ºè¾¹è¿‡ç¨‹ï¼š\n* 1ï¼‰å¯¹èŠ‚ç‚¹1ï¼š\n  1. èŠ‚ç‚¹1å‡ºé˜Ÿï¼Œä½†æ˜¯èŠ‚ç‚¹1ä¸‹æ²¡æœ‰å„¿å­ï¼Œæ‰€ä»¥ä¸ç”¨ç»™ä»–çš„å„¿å­å»ºå›è·³è¾¹ï¼Œä½†æ˜¯å›¾ä¸­èŠ‚ç‚¹1çš„å›è·³è¾¹æŒ‡å‘èŠ‚ç‚¹0ï¼Œè¿™æ˜¯å› ä¸ºne[]æ•°ç»„æ˜¯å…¨å±€å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ï¼Œæˆ–è€…å¯ä»¥è¿™æ ·æƒ³ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨çš„æ˜¯ç©ºä¸²ï¼Œæ­¤æ—¶èŠ‚ç‚¹1çš„æœ€é•¿åç¼€ä¹Ÿå°±æ˜¯ç©ºä¸²\n  2. ç°åœ¨å»ºè½¬ç§»è¾¹ï¼Œå› ä¸ºèŠ‚ç‚¹1çš„çˆ¶èŠ‚ç‚¹çš„å„¿å­å°±æ˜¯æœ¬èº«ï¼Œæ‰€ä»¥å»ºç«‹26æ¡è½¬ç§»è¾¹ï¼Œæœ‰$ch[1][e]=1$ï¼Œæ—¢èŠ‚ç‚¹1çš„è½¬ç§»è¾¹æŒ‡å‘è‡ªå·±ï¼Œå¯¹äºéå†åˆ°çˆ¶èŠ‚ç‚¹çš„ä¸‹ä¸€æ¡æ ‘è¾¹hæ—¶ï¼Œå½“å‰èŠ‚ç‚¹çš„è½¬ç§»è¾¹æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„å„¿å­ï¼Œæ‰€ä»¥æœ‰$ch[1][h]=2$ï¼ŒåŒç†æœ‰$ch[1][s]=5$ï¼Œé‚£ä¹ˆå¯¹äºçˆ¶èŠ‚ç‚¹0çš„å…¶ä»–è¾¹(å³ä¸å­˜åœ¨çš„è¾¹)æœ‰$ch[1][Â·Â·Â·]=0$ï¼ŒæŒ‡å‘å’±ä»¬çš„æ ¹èŠ‚ç‚¹\n* 2ï¼‰å¯¹èŠ‚ç‚¹2ï¼š\n  1. èŠ‚ç‚¹2å‡ºé˜Ÿï¼Œå› ä¸ºèŠ‚ç‚¹2ä¸‹çš„æœ‰å„¿å­èŠ‚ç‚¹3ï¼Œæ‰€ä»¥å…ˆä¸ºèŠ‚ç‚¹3å»ºç«‹å›è·³è¾¹ä¸ºèŠ‚ç‚¹3çš„çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æŒ‡å‘çš„å„¿å­ï¼Œå…¶å®å°±æ˜¯èŠ‚ç‚¹1ï¼Œæ‰€ä»¥æœ‰$ne[3]=1$ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹3å…¥é˜Ÿ\n  2. å› ä¸ºåªæœ‰è¿™ä¸€ä¸ªå„¿å­ï¼Œéšåå»ºç«‹25æ¡è½¬ç§»è¾¹ï¼ŒèŠ‚ç‚¹2çš„çˆ¶èŠ‚ç‚¹0åœ¨eä¹‹å(å› ä¸ºeå·²ç»ç”¨äºåšæœ€é•¿åç¼€å»å»ºå›è·³è¾¹äº†)çš„æ ‘è¾¹æœ‰hå’Œsï¼Œå¯¹hå’Œså»ºç«‹å›è·³è¾¹çš„è¿‡ç¨‹åŒä¸Šï¼Œæ‰€ä»¥æœ‰$ch[2][h]=2$ã€$ch[2][s]=5$ã€$ch[2][Â·Â·Â·]=0$\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213094042809.png\" alt=\"image-20240213094042809\" style=\"zoom:80%;\" />\n\n* æ—¶é—´å¤æ‚åº¦O(26n)ï¼Œä¸€å…±éœ€è¦å…¥é˜Ÿå‡ºé˜Ÿnä¸ªå­—ç¬¦ï¼Œnæ˜¯æ¨¡å¼ä¸²æ‰€æœ‰çš„æ€»é•¿åº¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æšä¸¾26æ¬¡ï¼Œè¦ä¹ˆå¸®å„¿å­å»ºå›è·³è¾¹ï¼Œè¦ä¹ˆè‡ªå·±å»ºè½¬ç§»è¾¹\n\n``` c++\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=1e5+5;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\nint ne[N]; // å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„\n\n// æ„å»ºACè‡ªåŠ¨æœº\nvoid build() {\n\tqueue<int> q;\n\t// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ\n\tfor(int i=0;i<26;i++) \n\t\tif(ch[0][i]) q.push(ch[0][i]);\n\t// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹\n\twhile(q.size()) {\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=0;i<26;i++) {\n\t\t\tint v=ch[u][i]; // å–å‡ºå„¿å­èŠ‚ç‚¹\n\t\t\t// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­\n\t\t\tif(v) ne[v]=ch[ne[u]][i],q.push(v);\n\t\t\t// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­\n\t\t\telse ch[u][i]=ch[ne[u]][i]; \n\t\t}\n\t}\n}\n```\n\n\n\n### 3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\n\n* åŒ¹é…çš„æ–¹å¼å’Œ$KMP$ç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆåŒ¹é…ï¼Œé¦–å…ˆæ‰«æä¸»ä¸²ï¼Œä¾æ¬¡å–å‡ºå­—ç¬¦s[k]\n* 1ï¼‰i æŒ‡é’ˆèµ°ä¸»ä¸²å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ²¿ç€**æ ‘è¾¹**æˆ–**è½¬ç§»è¾¹**èµ°ï¼Œä¿è¯ä¸å›é€€\n* 2ï¼‰j æŒ‡é’ˆæ²¿ç€**å›è·³è¾¹**æœç´¢æ¨¡å¼ä¸²ï¼Œæ¯æ¬¡ä»å½“å‰èŠ‚ç‚¹èµ°åˆ°æ ¹èŠ‚ç‚¹ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰**åç¼€æ¨¡å¼ä¸²**ä¸€ç½‘æ‰“å°½ï¼Œä¿è¯ä¸æ¼è§£ã€‚\n* 3ï¼‰æ‰«æå®Œä¸»ä¸²ï¼Œè¿”å›ç­”æ¡ˆ\n* ç®—æ³•ä¸€è¾¹èµ°ä¸²ï¼Œä¸€è¾¹æŠŠå½“å‰ä¸²çš„æ‰€æœ‰åç¼€ä¸²æœå‡ºæ¥ï¼Œå®åœ¨æ˜¯å¼ºï¼Œå¯¹äºæ­¤è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œå»ºè®®å¬åŸè§†é¢‘ï¼ˆå› ä¸ºå¤ªå¤æ‚äº†ä¸æƒ³å†™ï¼‰\n\n* [F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)ï¼Œä»$24:48$ å¼€å§‹\n\n![image-20240213101043808](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213101043808.png)\n\n* æ—¶é—´å¤æ‚åº¦$O(n+m)$ï¼Œmæ˜¯ä¸»ä¸²é•¿åº¦ï¼Œnæ˜¯æ‰€æœ‰æ¨¡å¼ä¸²çš„æ€»é•¿åº¦\n\n``` c++\n// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\nint query(char s[]) {\n\tint ans=0;\n\tfor(int k=0,i=0;s[k];k++) {\n\t\ti=ch[i][s[k]-'a']; // iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹\n\t\tfor(int j=i;j&&~cnt[j];j=ne[j]) // jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘\n\t\t\tans+=cnt[j],cnt[j]=-1; // å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,æ³¨æ„è¿™é‡Œçš„å†™æ³•ä¸æ˜¯å›ºå®šçš„,å¦‚æœé¢˜ç›®è¦æ±‚å‡ºç°å‡ æ¬¡å°±ç´¯è®¡å‡ æ¬¡,é‚£ä¹ˆcnt[j]æ˜¯ä¸ç”¨æ¸…ç©ºçš„\n\t}\n\treturn ans;\n}\n```\n\n\n\n### 4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213102219322.png\" alt=\"image-20240213102219322\" style=\"zoom: 80%;\" />\n\n\n\n### 5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)\n\n* ç»™å®š $n$ ä¸ªæ¨¡å¼ä¸² $s_i$ å’Œä¸€ä¸ªæ–‡æœ¬ä¸² $t$ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²é‡Œå‡ºç°è¿‡ï¼Œå½“ä¸¤ä¸ªæ¨¡å¼ä¸²ç¼–å·ä¸åŒæ—¶å³è§†ä¸ºä¸åŒçš„æ¨¡å¼ä¸²ã€‚\n* æ³¨æ„ï¼š$s_2$ ä¸ $s_3$ ç¼–å·ï¼ˆä¸‹æ ‡ï¼‰ä¸åŒï¼Œå› æ­¤å„è‡ªå¯¹ç­”æ¡ˆäº§ç”Ÿäº†ä¸€æ¬¡è´¡çŒ®ã€‚\n\n![image-20240213103041931](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103041931.png)\n\n* æ³¨æ„ï¼š$s_1$ï¼Œ$s_2$ï¼Œ$s_4$ éƒ½åœ¨ä¸²$abcd$é‡Œå‡ºç°è¿‡\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103223172.png\" alt=\"image-20240213103223172\" style=\"zoom:80%;\" />\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: \n\n// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°\nconst int N=5e5+10;\n\n// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º'a',2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·\n// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹\nint ch[N][26],cnt[N],idx;\nint ne[N]; // å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„\n\nint n; // æ¨¡å¼ä¸²ä¸ªæ•°\nconst int MAX_LEN=1e6+10; // æ¨¡å¼ä¸²æœ€é•¿é•¿åº¦\nchar str[MAX_LEN]; // å­˜å‚¨æ¨¡å¼ä¸²\n\n// å»ºæ ‘çš„insertå‡½æ•°,ä¼ å…¥å­—ç¬¦ä¸²\nvoid insert(char s[]) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†\n\tfor(int i=0;s[i];i++) { // éå†ä¸»ä¸²\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª\n\t\tp=ch[p][j]; // èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²\n}\n\n// æ„å»ºACè‡ªåŠ¨æœº\nvoid build() {\n\tqueue<int> q;\n\t// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ\n\tfor(int i=0;i<26;i++) \n\t\tif(ch[0][i]) q.push(ch[0][i]);\n\t// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹\n\twhile(q.size()) {\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=0;i<26;i++) {\n\t\t\tint v=ch[u][i]; // å–å‡ºå„¿å­èŠ‚ç‚¹\n\t\t\t// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­\n\t\t\tif(v) ne[v]=ch[ne[u]][i],q.push(v);\n\t\t\t// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­\n\t\t\telse ch[u][i]=ch[ne[u]][i]; \n\t\t}\n\t}\n}\n\n// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°,ä¼ å…¥å­—ç¬¦ä¸²\nint query(char s[]) {\n\tint ans=0;\n\tfor(int k=0,i=0;s[k];k++) {\n\t\ti=ch[i][s[k]-'a']; // iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹\n\t\tfor(int j=i;j&&~cnt[j];j=ne[j]) // jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘\n\t\t\tans+=cnt[j],cnt[j]=-1; // å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,è§†æƒ…å†µå—·\n\t}\n\treturn ans;\n}\n\nint main() {\n\tcin>>n; // æ¨¡å¼ä¸²ä¸ªæ•°\n\tfor(int i=0;i<n;i++) {\n\t\tcin>>str;\t\n\t\tinsert(str);\n\t}\n\tbuild();\n\tcin>>str; // è¾“å…¥ä¸»ä¸²\n\tcout<<query(str)<<endl;\n\treturn 0;\n}\n```\n","slug":"ACè‡ªåŠ¨æœº","published":1,"updated":"2024-10-05T08:18:07.426Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrps20001c0nf6tpdhvpm","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"acè‡ªåŠ¨æœº\">ACè‡ªåŠ¨æœº</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a><ul>\n<li><a href=\"#1-%E6%9E%84%E5%BB%BAtrie%E6%A0%91\">1. æ„å»ºTrieæ ‘</a></li>\n<li><a href=\"#2-%E6%9E%84%E9%80%A0ac%E8%87%AA%E5%8A%A8%E6%9C%BA\">2. æ„é€ ACè‡ªåŠ¨æœº</a><ul>\n<li><a href=\"#21-%E5%9B%9E%E8%B7%B3%E8%BE%B9\">2.1. å›è·³è¾¹</a></li>\n<li><a href=\"#22-%E8%BD%AC%E7%A7%BB%E8%BE%B9\">2.2. è½¬ç§»è¾¹</a></li>\n<li><a href=\"#23-%E7%94%A8bfs%E6%9E%84%E9%80%A0ac%E8%87%AA%E5%8A%A8%E6%9C%BA\">2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%9F%A5%E6%89%BE%E5%8D%95%E8%AF%8D%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0\">3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</a></li>\n<li><a href=\"#4-kmp%E4%B8%8Eac%E8%87%AA%E5%8A%A8%E6%9C%BA%E5%AF%B9%E6%AF%94\">4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”</a></li>\n<li><a href=\"#5-%E4%BE%8B%E6%B4%9B%E8%B0%B7p3808-ac%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%AE%80%E5%8D%95\">5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è·Ÿå­¦è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>$AC$è‡ªåŠ¨æœºæ˜¯å¤šæ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œç»™å®š$n$ä¸ªæ¨¡å¼ä¸²å’Œä¸€ä¸ªä¸»ä¸²ï¼ŒæŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªæ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°è¿‡ã€‚</li>\n</ul>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹å­—å…¸æ ‘å§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136725155?spm=1001.2014.3001.5502\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘å­—å…¸æ ‘ï¼Œè¶…è¯¦ç»†æ³¨é‡Šå¸¦ä¾‹é¢˜è®²è§£-CSDNåšå®¢</a></p>\n</blockquote>\n<h3><span id=\"1-æ„å»ºtrieæ ‘\">1. æ„å»ºTrieæ ‘</span></h3><ul>\n<li>æˆ‘ä»¬å…ˆç”¨nä¸ªæ¨¡å¼ä¸²æ„é€ ä¸€é¢—Trieã€‚</li>\n<li>Trieä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„å­—ç¬¦ä¸²ã€‚</li>\n<li>æ ¹èŠ‚ç‚¹è¡¨ç¤ºç©ºä¸²ï¼ŒèŠ‚ç‚¹â‘¤è¡¨ç¤ºâ€œsâ€ï¼ŒèŠ‚ç‚¹6è¡¨ç¤ºâ€œshâ€ï¼ŒèŠ‚ç‚¹7è¡¨ç¤ºâ€œsheâ€ã€‚</li>\n<li>å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªæ¨¡å¼ä¸²ï¼Œåˆ™æ‰“ä¸ªæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œcnt[7]&#x3D;1ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213085433083.png\" alt=\"image-20240213085433083\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºæ ‘çš„insertå‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123; <span class=\"comment\">// éå†ä¸»ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª</span></span><br><span class=\"line\">\t\tp=ch[p][j]; <span class=\"comment\">// èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"2-æ„é€ acè‡ªåŠ¨æœº\">2. æ„é€ ACè‡ªåŠ¨æœº</span></h3><ul>\n<li>æ„é€ ACè‡ªåŠ¨æœºçš„è¿‡ç¨‹å°±æ˜¯åœ¨Trieæ ‘ä¸Šæ„å»ºä¸¤ç±»è¾¹ï¼š<strong>å›è·³è¾¹</strong>å’Œ<strong>è½¬ç§»è¾¹</strong></li>\n</ul>\n<h4><span id=\"21-å›è·³è¾¹\">2.1. å›è·³è¾¹</span></h4><ul>\n<li><p>å¼€ä¸€ä¸ªæ•°ç»„ne[]ï¼Œne[v] å­˜èŠ‚ç‚¹vçš„å›è·³è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚ï¼šne[7]&#x3D;3ï¼Œè¡¨ç¤ºèŠ‚ç‚¹7çš„å›è·³è¾¹çš„ç»ˆç‚¹æ˜¯3</p>\n</li>\n<li><p>å›è·³è¾¹æŒ‡å‘<strong>çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­</strong>ï¼Œå¯¹äºne[7]&#x3D;3æ¥è¯´ï¼Œ7çš„çˆ¶èŠ‚ç‚¹æ˜¯6ï¼Œ6çš„å­èŠ‚ç‚¹æ˜¯3ï¼Œæ‰€ä»¥7æŒ‡å‘3ï¼Œæ­¤æ—¶å››ä¸ªç‚¹$(v,u,ne[u],ch[][])$æ„æˆå››è¾¹å½¢</p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213091335787.png\" alt=\"image-20240213091335787\" style=\"zoom:80%;\">\n</li>\n<li><p>å¹¶ä¸”å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„<strong>æœ€é•¿åç¼€</strong>ï¼Œcnt[7]&#x3D;1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯sheï¼Œcnt[3]&#x3D;1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯heï¼Œæ­¤æ—¶heæ˜¯sheçš„æœ€é•¿åç¼€ï¼Œä¸‹å›¾ä¸­ç»¿è‰²è¾¹ä»£è¡¨å›è·³è¾¹ã€‚</p>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\">\n\n\n\n<h4><span id=\"22-è½¬ç§»è¾¹\">2.2. è½¬ç§»è¾¹</span></h4><ul>\n<li>è½¬ç§»è¾¹æŒ‡å‘çš„æ˜¯<strong>å½“å‰èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­</strong>ï¼Œè½¬ç§»è¾¹å’Œæ ‘è¾¹å…±åŒå­˜å‚¨åœ¨æ•°ç»„$ch[][]$ä¸­<ul>\n<li>$ch[u][i]$å­˜èŠ‚ç‚¹uçš„æ ‘è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[6][e]&#x3D;7$ï¼ŒèŠ‚ç‚¹6èµ°eè¾¹åˆ°è¾¾èŠ‚ç‚¹7</li>\n<li>$ch[u][i]$å­˜èŠ‚ç‚¹uçš„è½¬ç§»è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[7][r]$&#x3D;4ï¼ŒèŠ‚ç‚¹7çš„å›è·³è¾¹æ˜¯3ï¼ŒèŠ‚ç‚¹3çš„å„¿å­æ˜¯èŠ‚ç‚¹4ï¼Œæ³¨æ„ä¸Šå›¾ä¸­æ²¡æœ‰ç”»å‡ºè½¬ç§»è¾¹ï¼Œåªæœ‰æ ‘è¾¹å’Œå›è·³è¾¹</li>\n</ul>\n</li>\n<li>æ­¤æ—¶ä¸‰ä¸ªç‚¹$(u,ne[u],ch[][])$æ„æˆä¸‰è§’å½¢</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213092022148.png\" alt=\"image-20240213092022148\"></p>\n<ul>\n<li>è½¬ç§»è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„<strong>æœ€çŸ­è·¯</strong>ï¼Œæ¯”å¦‚$ch[7][r]&#x3D;4$ï¼Œé‚£ä¹ˆä»èŠ‚ç‚¹7åˆ°è¾¾èŠ‚ç‚¹4çš„æœ€çŸ­è·¯å°±æ˜¯è¿™æ¡ç›´é€šçš„rï¼Œè€Œä¸æ˜¯å›æº¯åˆ°æ ¹èŠ‚ç‚¹å†é‡æ–°åŒ¹é…åˆ°èŠ‚ç‚¹4</li>\n</ul>\n<h4><span id=\"23-ç”¨bfsæ„é€ acè‡ªåŠ¨æœº\">2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº</span></h4><ol>\n<li>åˆå§‹åŒ–ï¼ŒæŠŠæ ¹èŠ‚ç‚¹çš„å„¿å­ä»¬å…¥é˜Ÿï¼ˆæšä¸¾26æ¬¡ï¼Œå› ä¸ºåªæœ‰26ä¸ªå­—æ¯ï¼‰</li>\n<li>åªè¦é˜Ÿä¸ç©ºï¼Œé˜Ÿå¤´èŠ‚ç‚¹uå‡ºé˜Ÿï¼Œæšä¸¾uçš„26ä¸ªå„¿å­<ol>\n<li>è‹¥å„¿å­å­˜åœ¨ï¼Œåˆ™çˆ¹å¸®å„¿å­å»ºå›è·³è¾¹ï¼Œå¹¶æŠŠå„¿å­å…¥é˜Ÿ</li>\n<li>è‹¥å„¿å­ä¸å­˜åœ¨ï¼Œåˆ™çˆ¹è‡ªå»ºè½¬ç§»è¾¹</li>\n</ol>\n</li>\n</ol>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\">\n\n<ul>\n<li>ä¸Šå›¾å¯¹åº”çš„å®Œæ•´å»ºè¾¹è¿‡ç¨‹å¦‚ä¸‹ï¼Œè¿™é‡Œåªæ¨¡æ‹ŸèŠ‚ç‚¹1å’ŒèŠ‚ç‚¹2çš„å»ºè¾¹è¿‡ç¨‹ï¼š</li>\n<li>1ï¼‰å¯¹èŠ‚ç‚¹1ï¼š<ol>\n<li>èŠ‚ç‚¹1å‡ºé˜Ÿï¼Œä½†æ˜¯èŠ‚ç‚¹1ä¸‹æ²¡æœ‰å„¿å­ï¼Œæ‰€ä»¥ä¸ç”¨ç»™ä»–çš„å„¿å­å»ºå›è·³è¾¹ï¼Œä½†æ˜¯å›¾ä¸­èŠ‚ç‚¹1çš„å›è·³è¾¹æŒ‡å‘èŠ‚ç‚¹0ï¼Œè¿™æ˜¯å› ä¸ºne[]æ•°ç»„æ˜¯å…¨å±€å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ï¼Œæˆ–è€…å¯ä»¥è¿™æ ·æƒ³ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨çš„æ˜¯ç©ºä¸²ï¼Œæ­¤æ—¶èŠ‚ç‚¹1çš„æœ€é•¿åç¼€ä¹Ÿå°±æ˜¯ç©ºä¸²</li>\n<li>ç°åœ¨å»ºè½¬ç§»è¾¹ï¼Œå› ä¸ºèŠ‚ç‚¹1çš„çˆ¶èŠ‚ç‚¹çš„å„¿å­å°±æ˜¯æœ¬èº«ï¼Œæ‰€ä»¥å»ºç«‹26æ¡è½¬ç§»è¾¹ï¼Œæœ‰$ch[1][e]&#x3D;1$ï¼Œæ—¢èŠ‚ç‚¹1çš„è½¬ç§»è¾¹æŒ‡å‘è‡ªå·±ï¼Œå¯¹äºéå†åˆ°çˆ¶èŠ‚ç‚¹çš„ä¸‹ä¸€æ¡æ ‘è¾¹hæ—¶ï¼Œå½“å‰èŠ‚ç‚¹çš„è½¬ç§»è¾¹æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„å„¿å­ï¼Œæ‰€ä»¥æœ‰$ch[1][h]&#x3D;2$ï¼ŒåŒç†æœ‰$ch[1][s]&#x3D;5$ï¼Œé‚£ä¹ˆå¯¹äºçˆ¶èŠ‚ç‚¹0çš„å…¶ä»–è¾¹(å³ä¸å­˜åœ¨çš„è¾¹)æœ‰$ch[1][Â·Â·Â·]&#x3D;0$ï¼ŒæŒ‡å‘å’±ä»¬çš„æ ¹èŠ‚ç‚¹</li>\n</ol>\n</li>\n<li>2ï¼‰å¯¹èŠ‚ç‚¹2ï¼š<ol>\n<li>èŠ‚ç‚¹2å‡ºé˜Ÿï¼Œå› ä¸ºèŠ‚ç‚¹2ä¸‹çš„æœ‰å„¿å­èŠ‚ç‚¹3ï¼Œæ‰€ä»¥å…ˆä¸ºèŠ‚ç‚¹3å»ºç«‹å›è·³è¾¹ä¸ºèŠ‚ç‚¹3çš„çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æŒ‡å‘çš„å„¿å­ï¼Œå…¶å®å°±æ˜¯èŠ‚ç‚¹1ï¼Œæ‰€ä»¥æœ‰$ne[3]&#x3D;1$ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹3å…¥é˜Ÿ</li>\n<li>å› ä¸ºåªæœ‰è¿™ä¸€ä¸ªå„¿å­ï¼Œéšåå»ºç«‹25æ¡è½¬ç§»è¾¹ï¼ŒèŠ‚ç‚¹2çš„çˆ¶èŠ‚ç‚¹0åœ¨eä¹‹å(å› ä¸ºeå·²ç»ç”¨äºåšæœ€é•¿åç¼€å»å»ºå›è·³è¾¹äº†)çš„æ ‘è¾¹æœ‰hå’Œsï¼Œå¯¹hå’Œså»ºç«‹å›è·³è¾¹çš„è¿‡ç¨‹åŒä¸Šï¼Œæ‰€ä»¥æœ‰$ch[2][h]&#x3D;2$ã€$ch[2][s]&#x3D;5$ã€$ch[2][Â·Â·Â·]&#x3D;0$</li>\n</ol>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213094042809.png\" alt=\"image-20240213094042809\" style=\"zoom:80%;\">\n\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦O(26n)ï¼Œä¸€å…±éœ€è¦å…¥é˜Ÿå‡ºé˜Ÿnä¸ªå­—ç¬¦ï¼Œnæ˜¯æ¨¡å¼ä¸²æ‰€æœ‰çš„æ€»é•¿åº¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æšä¸¾26æ¬¡ï¼Œè¦ä¹ˆå¸®å„¿å­å»ºå›è·³è¾¹ï¼Œè¦ä¹ˆè‡ªå·±å»ºè½¬ç§»è¾¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ„å»ºACè‡ªåŠ¨æœº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">build</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) </span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(ch[<span class=\"number\">0</span>][i]) q.<span class=\"built_in\">push</span>(ch[<span class=\"number\">0</span>][i]);</span><br><span class=\"line\">\t<span class=\"comment\">// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u=q.<span class=\"built_in\">front</span>();q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> v=ch[u][i]; <span class=\"comment\">// å–å‡ºå„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(v) ne[v]=ch[ne[u]][i],q.<span class=\"built_in\">push</span>(v);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> ch[u][i]=ch[ne[u]][i]; </span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"3-æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\">3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</span></h3><ul>\n<li><p>åŒ¹é…çš„æ–¹å¼å’Œ$KMP$ç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆåŒ¹é…ï¼Œé¦–å…ˆæ‰«æä¸»ä¸²ï¼Œä¾æ¬¡å–å‡ºå­—ç¬¦s[k]</p>\n</li>\n<li><p>1ï¼‰i æŒ‡é’ˆèµ°ä¸»ä¸²å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ²¿ç€<strong>æ ‘è¾¹</strong>æˆ–<strong>è½¬ç§»è¾¹</strong>èµ°ï¼Œä¿è¯ä¸å›é€€</p>\n</li>\n<li><p>2ï¼‰j æŒ‡é’ˆæ²¿ç€<strong>å›è·³è¾¹</strong>æœç´¢æ¨¡å¼ä¸²ï¼Œæ¯æ¬¡ä»å½“å‰èŠ‚ç‚¹èµ°åˆ°æ ¹èŠ‚ç‚¹ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰<strong>åç¼€æ¨¡å¼ä¸²</strong>ä¸€ç½‘æ‰“å°½ï¼Œä¿è¯ä¸æ¼è§£ã€‚</p>\n</li>\n<li><p>3ï¼‰æ‰«æå®Œä¸»ä¸²ï¼Œè¿”å›ç­”æ¡ˆ</p>\n</li>\n<li><p>ç®—æ³•ä¸€è¾¹èµ°ä¸²ï¼Œä¸€è¾¹æŠŠå½“å‰ä¸²çš„æ‰€æœ‰åç¼€ä¸²æœå‡ºæ¥ï¼Œå®åœ¨æ˜¯å¼ºï¼Œå¯¹äºæ­¤è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œå»ºè®®å¬åŸè§†é¢‘ï¼ˆå› ä¸ºå¤ªå¤æ‚äº†ä¸æƒ³å†™ï¼‰</p>\n</li>\n<li><p><a href=\"https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_å“”å“©å“”å“©_bilibili</a>ï¼Œä»$24:48$ å¼€å§‹</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213101043808.png\" alt=\"image-20240213101043808\"></p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦$O(n+m)$ï¼Œmæ˜¯ä¸»ä¸²é•¿åº¦ï¼Œnæ˜¯æ‰€æœ‰æ¨¡å¼ä¸²çš„æ€»é•¿åº¦</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=<span class=\"number\">0</span>;s[k];k++) &#123;</span><br><span class=\"line\">\t\ti=ch[i][s[k]-<span class=\"string\">&#x27;a&#x27;</span>]; <span class=\"comment\">// iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i;j&amp;&amp;~cnt[j];j=ne[j]) <span class=\"comment\">// jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘</span></span><br><span class=\"line\">\t\t\tans+=cnt[j],cnt[j]=<span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,æ³¨æ„è¿™é‡Œçš„å†™æ³•ä¸æ˜¯å›ºå®šçš„,å¦‚æœé¢˜ç›®è¦æ±‚å‡ºç°å‡ æ¬¡å°±ç´¯è®¡å‡ æ¬¡,é‚£ä¹ˆcnt[j]æ˜¯ä¸ç”¨æ¸…ç©ºçš„</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"4-kmpä¸acè‡ªåŠ¨æœºå¯¹æ¯”\">4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”</span></h3><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213102219322.png\" alt=\"image-20240213102219322\" style=\"zoom: 80%;\">\n\n\n\n<h3><span id=\"5-ä¾‹æ´›è°·p3808-acè‡ªåŠ¨æœºç®€å•\">5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)</span></h3><ul>\n<li>ç»™å®š $n$ ä¸ªæ¨¡å¼ä¸² $s_i$ å’Œä¸€ä¸ªæ–‡æœ¬ä¸² $t$ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²é‡Œå‡ºç°è¿‡ï¼Œå½“ä¸¤ä¸ªæ¨¡å¼ä¸²ç¼–å·ä¸åŒæ—¶å³è§†ä¸ºä¸åŒçš„æ¨¡å¼ä¸²ã€‚</li>\n<li>æ³¨æ„ï¼š$s_2$ ä¸ $s_3$ ç¼–å·ï¼ˆä¸‹æ ‡ï¼‰ä¸åŒï¼Œå› æ­¤å„è‡ªå¯¹ç­”æ¡ˆäº§ç”Ÿäº†ä¸€æ¬¡è´¡çŒ®ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103041931.png\" alt=\"image-20240213103041931\"></p>\n<ul>\n<li>æ³¨æ„ï¼š$s_1$ï¼Œ$s_2$ï¼Œ$s_4$ éƒ½åœ¨ä¸²$abcd$é‡Œå‡ºç°è¿‡</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103223172.png\" alt=\"image-20240213103223172\" style=\"zoom:80%;\">\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// æ¨¡å¼ä¸²ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> MAX_LEN=<span class=\"number\">1e6</span><span class=\"number\">+10</span>; <span class=\"comment\">// æ¨¡å¼ä¸²æœ€é•¿é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">char</span> str[MAX_LEN]; <span class=\"comment\">// å­˜å‚¨æ¨¡å¼ä¸²</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºæ ‘çš„insertå‡½æ•°,ä¼ å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123; <span class=\"comment\">// éå†ä¸»ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª</span></span><br><span class=\"line\">\t\tp=ch[p][j]; <span class=\"comment\">// èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ„å»ºACè‡ªåŠ¨æœº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">build</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) </span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(ch[<span class=\"number\">0</span>][i]) q.<span class=\"built_in\">push</span>(ch[<span class=\"number\">0</span>][i]);</span><br><span class=\"line\">\t<span class=\"comment\">// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u=q.<span class=\"built_in\">front</span>();q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> v=ch[u][i]; <span class=\"comment\">// å–å‡ºå„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(v) ne[v]=ch[ne[u]][i],q.<span class=\"built_in\">push</span>(v);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> ch[u][i]=ch[ne[u]][i]; </span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°,ä¼ å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=<span class=\"number\">0</span>;s[k];k++) &#123;</span><br><span class=\"line\">\t\ti=ch[i][s[k]-<span class=\"string\">&#x27;a&#x27;</span>]; <span class=\"comment\">// iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i;j&amp;&amp;~cnt[j];j=ne[j]) <span class=\"comment\">// jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘</span></span><br><span class=\"line\">\t\t\tans+=cnt[j],cnt[j]=<span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,è§†æƒ…å†µå—·</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n; <span class=\"comment\">// æ¨¡å¼ä¸²ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;str;\t</span><br><span class=\"line\">\t\t<span class=\"built_in\">insert</span>(str);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">build</span>();</span><br><span class=\"line\">\tcin&gt;&gt;str; <span class=\"comment\">// è¾“å…¥ä¸»ä¸²</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">query</span>(str)&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"ACè‡ªåŠ¨æœº\"><a href=\"#ACè‡ªåŠ¨æœº\" class=\"headerlink\" title=\"ACè‡ªåŠ¨æœº\"></a>ACè‡ªåŠ¨æœº</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a><ul>\n<li><a href=\"#1-%E6%9E%84%E5%BB%BAtrie%E6%A0%91\">1. æ„å»ºTrieæ ‘</a></li>\n<li><a href=\"#2-%E6%9E%84%E9%80%A0ac%E8%87%AA%E5%8A%A8%E6%9C%BA\">2. æ„é€ ACè‡ªåŠ¨æœº</a><ul>\n<li><a href=\"#21-%E5%9B%9E%E8%B7%B3%E8%BE%B9\">2.1. å›è·³è¾¹</a></li>\n<li><a href=\"#22-%E8%BD%AC%E7%A7%BB%E8%BE%B9\">2.2. è½¬ç§»è¾¹</a></li>\n<li><a href=\"#23-%E7%94%A8bfs%E6%9E%84%E9%80%A0ac%E8%87%AA%E5%8A%A8%E6%9C%BA\">2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%9F%A5%E6%89%BE%E5%8D%95%E8%AF%8D%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0\">3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</a></li>\n<li><a href=\"#4-kmp%E4%B8%8Eac%E8%87%AA%E5%8A%A8%E6%9C%BA%E5%AF%B9%E6%AF%94\">4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”</a></li>\n<li><a href=\"#5-%E4%BE%8B%E6%B4%9B%E8%B0%B7p3808-ac%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%AE%80%E5%8D%95\">5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è·Ÿå­¦è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>$AC$è‡ªåŠ¨æœºæ˜¯å¤šæ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œç»™å®š$n$ä¸ªæ¨¡å¼ä¸²å’Œä¸€ä¸ªä¸»ä¸²ï¼ŒæŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªæ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°è¿‡ã€‚</li>\n</ul>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹å­—å…¸æ ‘å§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136725155?spm=1001.2014.3001.5502\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘å­—å…¸æ ‘ï¼Œè¶…è¯¦ç»†æ³¨é‡Šå¸¦ä¾‹é¢˜è®²è§£-CSDNåšå®¢</a></p>\n</blockquote>\n<h3 id=\"1-æ„å»ºTrieæ ‘\"><a href=\"#1-æ„å»ºTrieæ ‘\" class=\"headerlink\" title=\"1. æ„å»ºTrieæ ‘\"></a>1. æ„å»ºTrieæ ‘</h3><ul>\n<li>æˆ‘ä»¬å…ˆç”¨nä¸ªæ¨¡å¼ä¸²æ„é€ ä¸€é¢—Trieã€‚</li>\n<li>Trieä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä»æ ¹åˆ°å½“å‰èŠ‚ç‚¹çš„å­—ç¬¦ä¸²ã€‚</li>\n<li>æ ¹èŠ‚ç‚¹è¡¨ç¤ºç©ºä¸²ï¼ŒèŠ‚ç‚¹â‘¤è¡¨ç¤ºâ€œsâ€ï¼ŒèŠ‚ç‚¹6è¡¨ç¤ºâ€œshâ€ï¼ŒèŠ‚ç‚¹7è¡¨ç¤ºâ€œsheâ€ã€‚</li>\n<li>å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªæ¨¡å¼ä¸²ï¼Œåˆ™æ‰“ä¸ªæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œcnt[7]&#x3D;1ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213085433083.png\" alt=\"image-20240213085433083\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºæ ‘çš„insertå‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123; <span class=\"comment\">// éå†ä¸»ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª</span></span><br><span class=\"line\">\t\tp=ch[p][j]; <span class=\"comment\">// èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-æ„é€ ACè‡ªåŠ¨æœº\"><a href=\"#2-æ„é€ ACè‡ªåŠ¨æœº\" class=\"headerlink\" title=\"2. æ„é€ ACè‡ªåŠ¨æœº\"></a>2. æ„é€ ACè‡ªåŠ¨æœº</h3><ul>\n<li>æ„é€ ACè‡ªåŠ¨æœºçš„è¿‡ç¨‹å°±æ˜¯åœ¨Trieæ ‘ä¸Šæ„å»ºä¸¤ç±»è¾¹ï¼š<strong>å›è·³è¾¹</strong>å’Œ<strong>è½¬ç§»è¾¹</strong></li>\n</ul>\n<h4 id=\"2-1-å›è·³è¾¹\"><a href=\"#2-1-å›è·³è¾¹\" class=\"headerlink\" title=\"2.1. å›è·³è¾¹\"></a>2.1. å›è·³è¾¹</h4><ul>\n<li><p>å¼€ä¸€ä¸ªæ•°ç»„ne[]ï¼Œne[v] å­˜èŠ‚ç‚¹vçš„å›è·³è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚ï¼šne[7]&#x3D;3ï¼Œè¡¨ç¤ºèŠ‚ç‚¹7çš„å›è·³è¾¹çš„ç»ˆç‚¹æ˜¯3</p>\n</li>\n<li><p>å›è·³è¾¹æŒ‡å‘<strong>çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­</strong>ï¼Œå¯¹äºne[7]&#x3D;3æ¥è¯´ï¼Œ7çš„çˆ¶èŠ‚ç‚¹æ˜¯6ï¼Œ6çš„å­èŠ‚ç‚¹æ˜¯3ï¼Œæ‰€ä»¥7æŒ‡å‘3ï¼Œæ­¤æ—¶å››ä¸ªç‚¹$(v,u,ne[u],ch[][])$æ„æˆå››è¾¹å½¢</p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213091335787.png\" alt=\"image-20240213091335787\" style=\"zoom:80%;\" />\n</li>\n<li><p>å¹¶ä¸”å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„<strong>æœ€é•¿åç¼€</strong>ï¼Œcnt[7]&#x3D;1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯sheï¼Œcnt[3]&#x3D;1ï¼Œä»£è¡¨æ¨¡å¼ä¸²æ˜¯heï¼Œæ­¤æ—¶heæ˜¯sheçš„æœ€é•¿åç¼€ï¼Œä¸‹å›¾ä¸­ç»¿è‰²è¾¹ä»£è¡¨å›è·³è¾¹ã€‚</p>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n\n\n<h4 id=\"2-2-è½¬ç§»è¾¹\"><a href=\"#2-2-è½¬ç§»è¾¹\" class=\"headerlink\" title=\"2.2. è½¬ç§»è¾¹\"></a>2.2. è½¬ç§»è¾¹</h4><ul>\n<li>è½¬ç§»è¾¹æŒ‡å‘çš„æ˜¯<strong>å½“å‰èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡èŠ‚ç‚¹çš„å„¿å­</strong>ï¼Œè½¬ç§»è¾¹å’Œæ ‘è¾¹å…±åŒå­˜å‚¨åœ¨æ•°ç»„$ch[][]$ä¸­<ul>\n<li>$ch[u][i]$å­˜èŠ‚ç‚¹uçš„æ ‘è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[6][e]&#x3D;7$ï¼ŒèŠ‚ç‚¹6èµ°eè¾¹åˆ°è¾¾èŠ‚ç‚¹7</li>\n<li>$ch[u][i]$å­˜èŠ‚ç‚¹uçš„è½¬ç§»è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚$ch[7][r]$&#x3D;4ï¼ŒèŠ‚ç‚¹7çš„å›è·³è¾¹æ˜¯3ï¼ŒèŠ‚ç‚¹3çš„å„¿å­æ˜¯èŠ‚ç‚¹4ï¼Œæ³¨æ„ä¸Šå›¾ä¸­æ²¡æœ‰ç”»å‡ºè½¬ç§»è¾¹ï¼Œåªæœ‰æ ‘è¾¹å’Œå›è·³è¾¹</li>\n</ul>\n</li>\n<li>æ­¤æ—¶ä¸‰ä¸ªç‚¹$(u,ne[u],ch[][])$æ„æˆä¸‰è§’å½¢</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213092022148.png\" alt=\"image-20240213092022148\"></p>\n<ul>\n<li>è½¬ç§»è¾¹æ‰€æŒ‡èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„<strong>æœ€çŸ­è·¯</strong>ï¼Œæ¯”å¦‚$ch[7][r]&#x3D;4$ï¼Œé‚£ä¹ˆä»èŠ‚ç‚¹7åˆ°è¾¾èŠ‚ç‚¹4çš„æœ€çŸ­è·¯å°±æ˜¯è¿™æ¡ç›´é€šçš„rï¼Œè€Œä¸æ˜¯å›æº¯åˆ°æ ¹èŠ‚ç‚¹å†é‡æ–°åŒ¹é…åˆ°èŠ‚ç‚¹4</li>\n</ul>\n<h4 id=\"2-3-ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº\"><a href=\"#2-3-ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº\" class=\"headerlink\" title=\"2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº\"></a>2.3. ç”¨BFSæ„é€ ACè‡ªåŠ¨æœº</h4><ol>\n<li>åˆå§‹åŒ–ï¼ŒæŠŠæ ¹èŠ‚ç‚¹çš„å„¿å­ä»¬å…¥é˜Ÿï¼ˆæšä¸¾26æ¬¡ï¼Œå› ä¸ºåªæœ‰26ä¸ªå­—æ¯ï¼‰</li>\n<li>åªè¦é˜Ÿä¸ç©ºï¼Œé˜Ÿå¤´èŠ‚ç‚¹uå‡ºé˜Ÿï¼Œæšä¸¾uçš„26ä¸ªå„¿å­<ol>\n<li>è‹¥å„¿å­å­˜åœ¨ï¼Œåˆ™çˆ¹å¸®å„¿å­å»ºå›è·³è¾¹ï¼Œå¹¶æŠŠå„¿å­å…¥é˜Ÿ</li>\n<li>è‹¥å„¿å­ä¸å­˜åœ¨ï¼Œåˆ™çˆ¹è‡ªå»ºè½¬ç§»è¾¹</li>\n</ol>\n</li>\n</ol>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213090937272.png\" alt=\"image-20240213090937272\" style=\"zoom:80%;\" />\n\n<ul>\n<li>ä¸Šå›¾å¯¹åº”çš„å®Œæ•´å»ºè¾¹è¿‡ç¨‹å¦‚ä¸‹ï¼Œè¿™é‡Œåªæ¨¡æ‹ŸèŠ‚ç‚¹1å’ŒèŠ‚ç‚¹2çš„å»ºè¾¹è¿‡ç¨‹ï¼š</li>\n<li>1ï¼‰å¯¹èŠ‚ç‚¹1ï¼š<ol>\n<li>èŠ‚ç‚¹1å‡ºé˜Ÿï¼Œä½†æ˜¯èŠ‚ç‚¹1ä¸‹æ²¡æœ‰å„¿å­ï¼Œæ‰€ä»¥ä¸ç”¨ç»™ä»–çš„å„¿å­å»ºå›è·³è¾¹ï¼Œä½†æ˜¯å›¾ä¸­èŠ‚ç‚¹1çš„å›è·³è¾¹æŒ‡å‘èŠ‚ç‚¹0ï¼Œè¿™æ˜¯å› ä¸ºne[]æ•°ç»„æ˜¯å…¨å±€å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ï¼Œæˆ–è€…å¯ä»¥è¿™æ ·æƒ³ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨çš„æ˜¯ç©ºä¸²ï¼Œæ­¤æ—¶èŠ‚ç‚¹1çš„æœ€é•¿åç¼€ä¹Ÿå°±æ˜¯ç©ºä¸²</li>\n<li>ç°åœ¨å»ºè½¬ç§»è¾¹ï¼Œå› ä¸ºèŠ‚ç‚¹1çš„çˆ¶èŠ‚ç‚¹çš„å„¿å­å°±æ˜¯æœ¬èº«ï¼Œæ‰€ä»¥å»ºç«‹26æ¡è½¬ç§»è¾¹ï¼Œæœ‰$ch[1][e]&#x3D;1$ï¼Œæ—¢èŠ‚ç‚¹1çš„è½¬ç§»è¾¹æŒ‡å‘è‡ªå·±ï¼Œå¯¹äºéå†åˆ°çˆ¶èŠ‚ç‚¹çš„ä¸‹ä¸€æ¡æ ‘è¾¹hæ—¶ï¼Œå½“å‰èŠ‚ç‚¹çš„è½¬ç§»è¾¹æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„å„¿å­ï¼Œæ‰€ä»¥æœ‰$ch[1][h]&#x3D;2$ï¼ŒåŒç†æœ‰$ch[1][s]&#x3D;5$ï¼Œé‚£ä¹ˆå¯¹äºçˆ¶èŠ‚ç‚¹0çš„å…¶ä»–è¾¹(å³ä¸å­˜åœ¨çš„è¾¹)æœ‰$ch[1][Â·Â·Â·]&#x3D;0$ï¼ŒæŒ‡å‘å’±ä»¬çš„æ ¹èŠ‚ç‚¹</li>\n</ol>\n</li>\n<li>2ï¼‰å¯¹èŠ‚ç‚¹2ï¼š<ol>\n<li>èŠ‚ç‚¹2å‡ºé˜Ÿï¼Œå› ä¸ºèŠ‚ç‚¹2ä¸‹çš„æœ‰å„¿å­èŠ‚ç‚¹3ï¼Œæ‰€ä»¥å…ˆä¸ºèŠ‚ç‚¹3å»ºç«‹å›è·³è¾¹ä¸ºèŠ‚ç‚¹3çš„çˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æŒ‡å‘çš„å„¿å­ï¼Œå…¶å®å°±æ˜¯èŠ‚ç‚¹1ï¼Œæ‰€ä»¥æœ‰$ne[3]&#x3D;1$ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹3å…¥é˜Ÿ</li>\n<li>å› ä¸ºåªæœ‰è¿™ä¸€ä¸ªå„¿å­ï¼Œéšåå»ºç«‹25æ¡è½¬ç§»è¾¹ï¼ŒèŠ‚ç‚¹2çš„çˆ¶èŠ‚ç‚¹0åœ¨eä¹‹å(å› ä¸ºeå·²ç»ç”¨äºåšæœ€é•¿åç¼€å»å»ºå›è·³è¾¹äº†)çš„æ ‘è¾¹æœ‰hå’Œsï¼Œå¯¹hå’Œså»ºç«‹å›è·³è¾¹çš„è¿‡ç¨‹åŒä¸Šï¼Œæ‰€ä»¥æœ‰$ch[2][h]&#x3D;2$ã€$ch[2][s]&#x3D;5$ã€$ch[2][Â·Â·Â·]&#x3D;0$</li>\n</ol>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213094042809.png\" alt=\"image-20240213094042809\" style=\"zoom:80%;\" />\n\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦O(26n)ï¼Œä¸€å…±éœ€è¦å…¥é˜Ÿå‡ºé˜Ÿnä¸ªå­—ç¬¦ï¼Œnæ˜¯æ¨¡å¼ä¸²æ‰€æœ‰çš„æ€»é•¿åº¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æšä¸¾26æ¬¡ï¼Œè¦ä¹ˆå¸®å„¿å­å»ºå›è·³è¾¹ï¼Œè¦ä¹ˆè‡ªå·±å»ºè½¬ç§»è¾¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ„å»ºACè‡ªåŠ¨æœº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">build</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) </span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(ch[<span class=\"number\">0</span>][i]) q.<span class=\"built_in\">push</span>(ch[<span class=\"number\">0</span>][i]);</span><br><span class=\"line\">\t<span class=\"comment\">// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u=q.<span class=\"built_in\">front</span>();q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> v=ch[u][i]; <span class=\"comment\">// å–å‡ºå„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(v) ne[v]=ch[ne[u]][i],q.<span class=\"built_in\">push</span>(v);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> ch[u][i]=ch[ne[u]][i]; </span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\"><a href=\"#3-æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\" class=\"headerlink\" title=\"3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°\"></a>3. æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</h3><ul>\n<li><p>åŒ¹é…çš„æ–¹å¼å’Œ$KMP$ç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆåŒ¹é…ï¼Œé¦–å…ˆæ‰«æä¸»ä¸²ï¼Œä¾æ¬¡å–å‡ºå­—ç¬¦s[k]</p>\n</li>\n<li><p>1ï¼‰i æŒ‡é’ˆèµ°ä¸»ä¸²å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ²¿ç€<strong>æ ‘è¾¹</strong>æˆ–<strong>è½¬ç§»è¾¹</strong>èµ°ï¼Œä¿è¯ä¸å›é€€</p>\n</li>\n<li><p>2ï¼‰j æŒ‡é’ˆæ²¿ç€<strong>å›è·³è¾¹</strong>æœç´¢æ¨¡å¼ä¸²ï¼Œæ¯æ¬¡ä»å½“å‰èŠ‚ç‚¹èµ°åˆ°æ ¹èŠ‚ç‚¹ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰<strong>åç¼€æ¨¡å¼ä¸²</strong>ä¸€ç½‘æ‰“å°½ï¼Œä¿è¯ä¸æ¼è§£ã€‚</p>\n</li>\n<li><p>3ï¼‰æ‰«æå®Œä¸»ä¸²ï¼Œè¿”å›ç­”æ¡ˆ</p>\n</li>\n<li><p>ç®—æ³•ä¸€è¾¹èµ°ä¸²ï¼Œä¸€è¾¹æŠŠå½“å‰ä¸²çš„æ‰€æœ‰åç¼€ä¸²æœå‡ºæ¥ï¼Œå®åœ¨æ˜¯å¼ºï¼Œå¯¹äºæ­¤è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œå»ºè®®å¬åŸè§†é¢‘ï¼ˆå› ä¸ºå¤ªå¤æ‚äº†ä¸æƒ³å†™ï¼‰</p>\n</li>\n<li><p><a href=\"https://www.bilibili.com/video/BV1tF41157Dy/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F08ã€æ¨¡æ¿ã€‘ACè‡ªåŠ¨æœº_å“”å“©å“”å“©_bilibili</a>ï¼Œä»$24:48$ å¼€å§‹</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213101043808.png\" alt=\"image-20240213101043808\"></p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦$O(n+m)$ï¼Œmæ˜¯ä¸»ä¸²é•¿åº¦ï¼Œnæ˜¯æ‰€æœ‰æ¨¡å¼ä¸²çš„æ€»é•¿åº¦</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=<span class=\"number\">0</span>;s[k];k++) &#123;</span><br><span class=\"line\">\t\ti=ch[i][s[k]-<span class=\"string\">&#x27;a&#x27;</span>]; <span class=\"comment\">// iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i;j&amp;&amp;~cnt[j];j=ne[j]) <span class=\"comment\">// jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘</span></span><br><span class=\"line\">\t\t\tans+=cnt[j],cnt[j]=<span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,æ³¨æ„è¿™é‡Œçš„å†™æ³•ä¸æ˜¯å›ºå®šçš„,å¦‚æœé¢˜ç›®è¦æ±‚å‡ºç°å‡ æ¬¡å°±ç´¯è®¡å‡ æ¬¡,é‚£ä¹ˆcnt[j]æ˜¯ä¸ç”¨æ¸…ç©ºçš„</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"4-KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”\"><a href=\"#4-KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”\" class=\"headerlink\" title=\"4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”\"></a>4. KMPä¸ACè‡ªåŠ¨æœºå¯¹æ¯”</h3><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213102219322.png\" alt=\"image-20240213102219322\" style=\"zoom: 80%;\" />\n\n\n\n<h3 id=\"5-ã€ä¾‹ã€‘æ´›è°·P3808-ACè‡ªåŠ¨æœº-ç®€å•\"><a href=\"#5-ã€ä¾‹ã€‘æ´›è°·P3808-ACè‡ªåŠ¨æœº-ç®€å•\" class=\"headerlink\" title=\"5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)\"></a>5. ã€ä¾‹ã€‘æ´›è°·P3808 ACè‡ªåŠ¨æœº(ç®€å•)</h3><ul>\n<li>ç»™å®š $n$ ä¸ªæ¨¡å¼ä¸² $s_i$ å’Œä¸€ä¸ªæ–‡æœ¬ä¸² $t$ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²é‡Œå‡ºç°è¿‡ï¼Œå½“ä¸¤ä¸ªæ¨¡å¼ä¸²ç¼–å·ä¸åŒæ—¶å³è§†ä¸ºä¸åŒçš„æ¨¡å¼ä¸²ã€‚</li>\n<li>æ³¨æ„ï¼š$s_2$ ä¸ $s_3$ ç¼–å·ï¼ˆä¸‹æ ‡ï¼‰ä¸åŒï¼Œå› æ­¤å„è‡ªå¯¹ç­”æ¡ˆäº§ç”Ÿäº†ä¸€æ¬¡è´¡çŒ®ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103041931.png\" alt=\"image-20240213103041931\"></p>\n<ul>\n<li>æ³¨æ„ï¼š$s_1$ï¼Œ$s_2$ï¼Œ$s_4$ éƒ½åœ¨ä¸²$abcd$é‡Œå‡ºç°è¿‡</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240213103223172.png\" alt=\"image-20240213103223172\" style=\"zoom:80%;\" />\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”¨Trieæ ‘çš„é¢˜ç›®ä¸€å®šé™åˆ¶äº†å­—ç¬¦çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ch[i][j]=2:iæ˜¯å±‚æ•°(æ ¹èŠ‚ç‚¹ä»0å¼€å§‹),jè¡¨ç¤ºå­—æ¯,ä¸‹æ ‡0è¡¨ç¤º&#x27;a&#x27;,2æ˜¯å½“å‰è®°å½•åˆ°å“ªä¸ªç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"comment\">// cnt[i]=1,ä»¥å½“å‰ç‚¹ç»“å°¾çš„ä¸²æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// idx:ä¸‹æ ‡æ˜¯0çš„ç‚¹,æ—¢æ˜¯æ ¹èŠ‚ç‚¹,ä¹Ÿæ˜¯ç©ºèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>],cnt[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// å­˜å‚¨å›è·³è¾¹çš„æ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// æ¨¡å¼ä¸²ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> MAX_LEN=<span class=\"number\">1e6</span><span class=\"number\">+10</span>; <span class=\"comment\">// æ¨¡å¼ä¸²æœ€é•¿é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">char</span> str[MAX_LEN]; <span class=\"comment\">// å­˜å‚¨æ¨¡å¼ä¸²</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºæ ‘çš„insertå‡½æ•°,ä¼ å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123; <span class=\"comment\">// éå†ä¸»ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°ä¸‹æ ‡0~25</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// å¦‚æœæ²¡æœ‰å­©å­èŠ‚ç‚¹,åˆ™åˆ›å»ºä¸€ä¸ª</span></span><br><span class=\"line\">\t\tp=ch[p][j]; <span class=\"comment\">// èµ°åˆ°pçš„å­èŠ‚ç‚¹,ç»§ç»­å¾€ä¸‹éå†å’Œåˆ›å»º</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯ä¸ªæ•°+1,æ ‡è®°ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å¼ä¸²</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ„å»ºACè‡ªåŠ¨æœº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">build</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// 1:å°†æ ¹èŠ‚ç‚¹çš„å„¿å­å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) </span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(ch[<span class=\"number\">0</span>][i]) q.<span class=\"built_in\">push</span>(ch[<span class=\"number\">0</span>][i]);</span><br><span class=\"line\">\t<span class=\"comment\">// 2:å½“é˜Ÿåˆ—éç©º,å–é˜Ÿå¤´,å»ºå›è·³è¾¹å’Œè½¬ç§»è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u=q.<span class=\"built_in\">front</span>();q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">26</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> v=ch[u][i]; <span class=\"comment\">// å–å‡ºå„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºvçš„å›è·³è¾¹ä¸ºçˆ¶èŠ‚ç‚¹çš„å›è·³è¾¹æ‰€æŒ‡å‘çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(v) ne[v]=ch[ne[u]][i],q.<span class=\"built_in\">push</span>(v);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰å„¿å­èŠ‚ç‚¹,æ„å»ºuçš„è½¬ç§»è¾¹ä¸ºå›è·³è¾¹æ‰€æŒ‡å‘èŠ‚ç‚¹çš„å„¿å­</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> ch[u][i]=ch[ne[u]][i]; </span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å•è¯å‡ºç°æ¬¡æ•°,ä¼ å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> s[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=<span class=\"number\">0</span>;s[k];k++) &#123;</span><br><span class=\"line\">\t\ti=ch[i][s[k]-<span class=\"string\">&#x27;a&#x27;</span>]; <span class=\"comment\">// iæŒ‡é’ˆæŒ‡å‘s[k]è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i;j&amp;&amp;~cnt[j];j=ne[j]) <span class=\"comment\">// jæŒ‡é’ˆä»å½“å‰æŒ‡é’ˆå¼€å§‹,æ²¿æ²¿ç€å›è·³è¾¹è·‘</span></span><br><span class=\"line\">\t\t\tans+=cnt[j],cnt[j]=<span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæœ‰æ ‡è®°,åˆ™ç´¯åŠ ç­”æ¡ˆ,æ— è®ºæœ‰æ— æ ‡è®°,éƒ½æŠŠæ ‡è®°æ¸…ç©º,è§†æƒ…å†µå—·</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n; <span class=\"comment\">// æ¨¡å¼ä¸²ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;str;\t</span><br><span class=\"line\">\t\t<span class=\"built_in\">insert</span>(str);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">build</span>();</span><br><span class=\"line\">\tcin&gt;&gt;str; <span class=\"comment\">// è¾“å…¥ä¸»ä¸²</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">query</span>(str)&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2024-10-01T01:13:53.352Z","updated":"1985-10-26T08:15:00.000Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrps40003c0nf79j95rj7","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2><span id=\"quick-start\">Quick Start</span></h2><h3><span id=\"create-a-new-post\">Create a new post</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3><span id=\"run-server\">Run server</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3><span id=\"generate-static-files\">Generate static files</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3><span id=\"deploy-to-remote-sites\">Deploy to remote sites</span></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"KMPç®—æ³•","date":"2024-10-07T02:22:05.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# KMPç®—æ³•\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* åœ¨åšæ¨¡å¼ä¸²ä¸æ–‡æœ¬ä¸²çš„åŒ¹é…é—®é¢˜æ—¶ï¼ŒåŒ¹é…å¤±è´¥æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½åªå‘åé€’è¿›ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n+m)$ï¼Œå¾ˆå®¹æ˜“è¢«å¡æˆ $O(mÃ—n)$ ï¼Œæ‰€ä»¥ä¸ºäº†é™ä½å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹æ¨¡å¼ä¸²ä¸­çš„æ¯ä¸€ä½ï¼Œè®¾ç½®**å”¯ä¸€**çš„**ç‰¹å®šå˜åŒ–ä½ç½®**ï¼Œè¿™ä¸ªåœ¨å¤±é…ä¹‹åçš„ç‰¹å®šå˜åŒ–ä½ç½®å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨å·²æœ‰çš„æ•°æ®ä¸ç”¨ä»å¤´åŒ¹é…ï¼Œä»è€ŒèŠ‚çº¦æ—¶é—´\n* **å¦‚æœä¸»ä¸²å·²åŒ¹é…ç›¸ç­‰çš„å‰ç¼€åºåˆ—ä¸­æœ‰æŸä¸ªåç¼€æ°ç­‰äºæ¨¡å¼ä¸²çš„å‰ç¼€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†æ¨¡å¼ä¸²å‘åæ»‘åŠ¨åˆ°ä¸è¿™äº›ç›¸ç­‰å­—ç¬¦å¯¹å…¶çš„ä½ç½®**ï¼Œç”¨ $ne$ æ•°ç»„è®°å½•åˆ°å®ƒä¸ºæ­¢çš„**æ¨¡å¼ä¸²å‰ç¼€çš„çœŸå‰ç¼€å’ŒçœŸåç¼€æœ€å¤§ç›¸åŒçš„ä½ç½®**\n* å½“ $i=1$ æˆ– $i=2$ æ—¶ï¼Œ$ne[i]$ çš„è¿”å›å€¼æ˜¯ $1$ï¼Œå³ $ne[1]=ne[2]=1$ (å½“ä¸‹æ ‡ä» $1$ å¼€å§‹)ï¼Œå› ä¸ºå½“ $n=1$ æ—¶ï¼ˆåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶æ— å‰åç¼€ï¼‰ï¼Œå½“ $n=2$ æ—¶ï¼ˆä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€ä¸€ä¸ªæ˜¯åç¼€ï¼Œä»ç„¶å›æº¯åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼‰\n\n\n\n## 1. æ±‚è§£nextæ•°ç»„\n\n``` c++\n// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]\nfor(int i=2,j=0;i<=len1;i++)\n{\n    while (j && s1[i]!=s1[j+1])\n        j=ne[j]; // å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€\n    if(s1[i]==s1[j+1])\n        j++; // å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½\n    ne[i]=j; // è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦\n}\n```\n\n* å½“çœ‹ä¸æ‡‚æˆ–è€…å¿˜äº†çš„æ—¶å€™å»ºè®®è‡ªå·±è°ƒè¯•æ¨¡æ‹Ÿè·Ÿè¸ªä¸€é\n\n* å› ä¸º $ne$ æ•°ç»„æ˜¯å…¨å±€åˆå§‹åŒ–ï¼Œ$while()$ è¯­å¥ä¸­çš„ $j$ ä¿è¯äº† $ne[1]=ne[2]$ \n* æ³¨æ„nextæ•°ç»„çš„å€¼æ˜¯æ ¹æ®æ¨¡å¼ä¸²çš„å‰ç¼€å’Œåç¼€çš„æœ€å¤§ç›¸åŒä½ç½®æ¥çš„ï¼Œæ‰€ä»¥åŒ¹é…è‡ªå·±ã€‚\n\n\n\n## 2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\n\n``` c++\n// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]\nfor(int i=1,j=0;i<=len2;i++ )\n{\n    // å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€\n    while(j && s2[i]!=s1[j+1])\n        j=ne[j];\n    // å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½\n    if(s2[i]==s1[j+1])\n        j++;\n    // åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥\n    if(j==len1)\n    {\n        // æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡,åŠ 1å¾—åˆ°ä½ç½®\n        printf(\"%d \",i-len1+1);\n        // æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„\n        // éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ\n        // å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯jæœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿\n        j=ne[j];\n    }\n}\n```\n\n* æ ¸å¿ƒå®ç°å’Œæ±‚è§£ $next$ æ•°ç»„çš„å‡½æ•°å·®ä¸å¤šï¼Œä¸»è¦æ˜¯æ˜¯æ¨¡å¼ä¸²å’Œæ–‡æœ¬ä¸²ä¹‹é—´çš„åŒ¹é…ï¼Œå½“ $j==len1$ çš„æ—¶å€™è¯´æ˜å¤§å°ç›¸ç­‰å³åŒ¹é…ä¸Šäº†ï¼Œè¿™ä¸ªæ—¶å€™æŠŠç›¸åº”çš„ä¸‹æ ‡ä½ç½®è¾“å‡ºå‡ºæ¥ï¼ŒåŒæ—¶ $j$ è¿˜æ˜¯è¦å›æº¯ï¼Œå› ä¸ºæ€•é‡åˆ°ä½ç½®é‡å çš„æƒ…å†µã€‚\n\n\n\n## 3. å®Œæ•´ä»£ç \n\n> é¢˜ç›®é“¾æ¥ï¼š[P3375 ã€æ¨¡æ¿ã€‘KMP - æ´›è°·](https://www.luogu.com.cn/problem/P3375)\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=10;\nint len1,len2; // næ˜¯æ¨¡æ¿ä¸²é•¿åº¦,mæ˜¯æ–‡æœ¬ä¸²\nint ne[N]; // next[i] å°±æ˜¯ä½¿å­ä¸² s2[0Â·Â·Â·i] æœ‰æœ€é•¿ç›¸ç­‰å‰åç¼€çš„å‰ç¼€çš„æœ€åä¸€ä½çš„ä¸‹æ ‡\nchar s1[N],s2[N]; // s1[]å­˜å‚¨æ¨¡å¼ä¸²,s2[]å­˜å‚¨æ–‡æœ¬ä¸²\n// è®¡ç®—p[]åœ¨s[]ä¸­å‡ºç°çš„ä½ç½®\n// neä»£è¡¨nextæ•°ç»„,å› ä¸ºnextåœ¨C++ä¸­æ˜¯å…³é”®å­—\nint main()\n{\n\tcin>>s1+1>>s2+1; // å…ˆè¾“å…¥æ¨¡å¼ä¸²,å†è¾“å…¥æ–‡æœ¬ä¸²[ä»ä¸‹æ ‡1å¼€å§‹]\n\tlen1=strlen(s1+1);\n\tlen2=strlen(s2+1);\n\tcout<<len1<<' '<<len2<<endl;\n\t// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]\n\tfor(int i=2,j=0;i<=len1;i++)\n\t{\n\t\twhile (j && s1[i]!=s1[j+1])\n\t\t\tj=ne[j]; // å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€\n\t\tif(s1[i]==s1[j+1])\n\t\t\tj++; // å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½\n\t\tne[i]=j; // è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦\n\t}\n\t// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]\n\tfor(int i=1,j=0;i<=len2;i++ )\n\t{\n\t\t// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€\n\t\twhile(j && s2[i]!=s1[j+1])\n\t\t\tj=ne[j];\n\t\t// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½\n\t\tif(s2[i]==s1[j+1])\n\t\t\tj++;\n\t\t// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥\n\t\tif(j==len1)\n\t\t{\n\t\t\t// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡\n\t\t\tprintf(\"%d \",i-len1);\n\t\t\t// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„\n\t\t\t// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ\n\t\t\t// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯ j æœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿\n\t\t\tj=ne[j];\n\t\t}\n\t}\n\t// è¿˜éœ€è¦æŠŠnextæ•°ç»„è¾“å‡ºå‡ºæ¥\n\tfor(auto num:ne) \n\t\tcout<<num<<' ';\n\tcout<<endl;\n\treturn 0;\n}\n```\n","source":"_posts/KMPç®—æ³•.md","raw":"---\ntitle: KMPç®—æ³•\ndate: 2024-10-07 10:22:05\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å­—ç¬¦ä¸²\n    - æ¨¡å¼åŒ¹é…\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# KMPç®—æ³•\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* åœ¨åšæ¨¡å¼ä¸²ä¸æ–‡æœ¬ä¸²çš„åŒ¹é…é—®é¢˜æ—¶ï¼ŒåŒ¹é…å¤±è´¥æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½åªå‘åé€’è¿›ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n+m)$ï¼Œå¾ˆå®¹æ˜“è¢«å¡æˆ $O(mÃ—n)$ ï¼Œæ‰€ä»¥ä¸ºäº†é™ä½å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹æ¨¡å¼ä¸²ä¸­çš„æ¯ä¸€ä½ï¼Œè®¾ç½®**å”¯ä¸€**çš„**ç‰¹å®šå˜åŒ–ä½ç½®**ï¼Œè¿™ä¸ªåœ¨å¤±é…ä¹‹åçš„ç‰¹å®šå˜åŒ–ä½ç½®å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨å·²æœ‰çš„æ•°æ®ä¸ç”¨ä»å¤´åŒ¹é…ï¼Œä»è€ŒèŠ‚çº¦æ—¶é—´\n* **å¦‚æœä¸»ä¸²å·²åŒ¹é…ç›¸ç­‰çš„å‰ç¼€åºåˆ—ä¸­æœ‰æŸä¸ªåç¼€æ°ç­‰äºæ¨¡å¼ä¸²çš„å‰ç¼€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†æ¨¡å¼ä¸²å‘åæ»‘åŠ¨åˆ°ä¸è¿™äº›ç›¸ç­‰å­—ç¬¦å¯¹å…¶çš„ä½ç½®**ï¼Œç”¨ $ne$ æ•°ç»„è®°å½•åˆ°å®ƒä¸ºæ­¢çš„**æ¨¡å¼ä¸²å‰ç¼€çš„çœŸå‰ç¼€å’ŒçœŸåç¼€æœ€å¤§ç›¸åŒçš„ä½ç½®**\n* å½“ $i=1$ æˆ– $i=2$ æ—¶ï¼Œ$ne[i]$ çš„è¿”å›å€¼æ˜¯ $1$ï¼Œå³ $ne[1]=ne[2]=1$ (å½“ä¸‹æ ‡ä» $1$ å¼€å§‹)ï¼Œå› ä¸ºå½“ $n=1$ æ—¶ï¼ˆåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶æ— å‰åç¼€ï¼‰ï¼Œå½“ $n=2$ æ—¶ï¼ˆä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€ä¸€ä¸ªæ˜¯åç¼€ï¼Œä»ç„¶å›æº¯åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼‰\n\n\n\n## 1. æ±‚è§£nextæ•°ç»„\n\n``` c++\n// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]\nfor(int i=2,j=0;i<=len1;i++)\n{\n    while (j && s1[i]!=s1[j+1])\n        j=ne[j]; // å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€\n    if(s1[i]==s1[j+1])\n        j++; // å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½\n    ne[i]=j; // è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦\n}\n```\n\n* å½“çœ‹ä¸æ‡‚æˆ–è€…å¿˜äº†çš„æ—¶å€™å»ºè®®è‡ªå·±è°ƒè¯•æ¨¡æ‹Ÿè·Ÿè¸ªä¸€é\n\n* å› ä¸º $ne$ æ•°ç»„æ˜¯å…¨å±€åˆå§‹åŒ–ï¼Œ$while()$ è¯­å¥ä¸­çš„ $j$ ä¿è¯äº† $ne[1]=ne[2]$ \n* æ³¨æ„nextæ•°ç»„çš„å€¼æ˜¯æ ¹æ®æ¨¡å¼ä¸²çš„å‰ç¼€å’Œåç¼€çš„æœ€å¤§ç›¸åŒä½ç½®æ¥çš„ï¼Œæ‰€ä»¥åŒ¹é…è‡ªå·±ã€‚\n\n\n\n## 2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\n\n``` c++\n// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]\nfor(int i=1,j=0;i<=len2;i++ )\n{\n    // å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€\n    while(j && s2[i]!=s1[j+1])\n        j=ne[j];\n    // å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½\n    if(s2[i]==s1[j+1])\n        j++;\n    // åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥\n    if(j==len1)\n    {\n        // æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡,åŠ 1å¾—åˆ°ä½ç½®\n        printf(\"%d \",i-len1+1);\n        // æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„\n        // éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ\n        // å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯jæœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿\n        j=ne[j];\n    }\n}\n```\n\n* æ ¸å¿ƒå®ç°å’Œæ±‚è§£ $next$ æ•°ç»„çš„å‡½æ•°å·®ä¸å¤šï¼Œä¸»è¦æ˜¯æ˜¯æ¨¡å¼ä¸²å’Œæ–‡æœ¬ä¸²ä¹‹é—´çš„åŒ¹é…ï¼Œå½“ $j==len1$ çš„æ—¶å€™è¯´æ˜å¤§å°ç›¸ç­‰å³åŒ¹é…ä¸Šäº†ï¼Œè¿™ä¸ªæ—¶å€™æŠŠç›¸åº”çš„ä¸‹æ ‡ä½ç½®è¾“å‡ºå‡ºæ¥ï¼ŒåŒæ—¶ $j$ è¿˜æ˜¯è¦å›æº¯ï¼Œå› ä¸ºæ€•é‡åˆ°ä½ç½®é‡å çš„æƒ…å†µã€‚\n\n\n\n## 3. å®Œæ•´ä»£ç \n\n> é¢˜ç›®é“¾æ¥ï¼š[P3375 ã€æ¨¡æ¿ã€‘KMP - æ´›è°·](https://www.luogu.com.cn/problem/P3375)\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=10;\nint len1,len2; // næ˜¯æ¨¡æ¿ä¸²é•¿åº¦,mæ˜¯æ–‡æœ¬ä¸²\nint ne[N]; // next[i] å°±æ˜¯ä½¿å­ä¸² s2[0Â·Â·Â·i] æœ‰æœ€é•¿ç›¸ç­‰å‰åç¼€çš„å‰ç¼€çš„æœ€åä¸€ä½çš„ä¸‹æ ‡\nchar s1[N],s2[N]; // s1[]å­˜å‚¨æ¨¡å¼ä¸²,s2[]å­˜å‚¨æ–‡æœ¬ä¸²\n// è®¡ç®—p[]åœ¨s[]ä¸­å‡ºç°çš„ä½ç½®\n// neä»£è¡¨nextæ•°ç»„,å› ä¸ºnextåœ¨C++ä¸­æ˜¯å…³é”®å­—\nint main()\n{\n\tcin>>s1+1>>s2+1; // å…ˆè¾“å…¥æ¨¡å¼ä¸²,å†è¾“å…¥æ–‡æœ¬ä¸²[ä»ä¸‹æ ‡1å¼€å§‹]\n\tlen1=strlen(s1+1);\n\tlen2=strlen(s2+1);\n\tcout<<len1<<' '<<len2<<endl;\n\t// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]\n\tfor(int i=2,j=0;i<=len1;i++)\n\t{\n\t\twhile (j && s1[i]!=s1[j+1])\n\t\t\tj=ne[j]; // å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€\n\t\tif(s1[i]==s1[j+1])\n\t\t\tj++; // å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½\n\t\tne[i]=j; // è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦\n\t}\n\t// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]\n\tfor(int i=1,j=0;i<=len2;i++ )\n\t{\n\t\t// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€\n\t\twhile(j && s2[i]!=s1[j+1])\n\t\t\tj=ne[j];\n\t\t// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½\n\t\tif(s2[i]==s1[j+1])\n\t\t\tj++;\n\t\t// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥\n\t\tif(j==len1)\n\t\t{\n\t\t\t// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡\n\t\t\tprintf(\"%d \",i-len1);\n\t\t\t// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„\n\t\t\t// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ\n\t\t\t// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯ j æœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿\n\t\t\tj=ne[j];\n\t\t}\n\t}\n\t// è¿˜éœ€è¦æŠŠnextæ•°ç»„è¾“å‡ºå‡ºæ¥\n\tfor(auto num:ne) \n\t\tcout<<num<<' ';\n\tcout<<endl;\n\treturn 0;\n}\n```\n","slug":"KMPç®—æ³•","published":1,"updated":"2024-10-07T02:23:07.200Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrps80007c0nffdtn7mjn","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"kmpç®—æ³•\">KMPç®—æ³•</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%B1%82%E8%A7%A3next%E6%95%B0%E7%BB%84\">1. æ±‚è§£nextæ•°ç»„</a></li>\n<li><a href=\"#2-%E6%B1%82%E8%A7%A3%E5%8C%B9%E9%85%8D%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0\">2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°</a></li>\n<li><a href=\"#3-%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">3. å®Œæ•´ä»£ç </a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>åœ¨åšæ¨¡å¼ä¸²ä¸æ–‡æœ¬ä¸²çš„åŒ¹é…é—®é¢˜æ—¶ï¼ŒåŒ¹é…å¤±è´¥æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½åªå‘åé€’è¿›ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n+m)$ï¼Œå¾ˆå®¹æ˜“è¢«å¡æˆ $O(mÃ—n)$ ï¼Œæ‰€ä»¥ä¸ºäº†é™ä½å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹æ¨¡å¼ä¸²ä¸­çš„æ¯ä¸€ä½ï¼Œè®¾ç½®<strong>å”¯ä¸€</strong>çš„<strong>ç‰¹å®šå˜åŒ–ä½ç½®</strong>ï¼Œè¿™ä¸ªåœ¨å¤±é…ä¹‹åçš„ç‰¹å®šå˜åŒ–ä½ç½®å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨å·²æœ‰çš„æ•°æ®ä¸ç”¨ä»å¤´åŒ¹é…ï¼Œä»è€ŒèŠ‚çº¦æ—¶é—´</li>\n<li><strong>å¦‚æœä¸»ä¸²å·²åŒ¹é…ç›¸ç­‰çš„å‰ç¼€åºåˆ—ä¸­æœ‰æŸä¸ªåç¼€æ°ç­‰äºæ¨¡å¼ä¸²çš„å‰ç¼€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†æ¨¡å¼ä¸²å‘åæ»‘åŠ¨åˆ°ä¸è¿™äº›ç›¸ç­‰å­—ç¬¦å¯¹å…¶çš„ä½ç½®</strong>ï¼Œç”¨ $ne$ æ•°ç»„è®°å½•åˆ°å®ƒä¸ºæ­¢çš„<strong>æ¨¡å¼ä¸²å‰ç¼€çš„çœŸå‰ç¼€å’ŒçœŸåç¼€æœ€å¤§ç›¸åŒçš„ä½ç½®</strong></li>\n<li>å½“ $i&#x3D;1$ æˆ– $i&#x3D;2$ æ—¶ï¼Œ$ne[i]$ çš„è¿”å›å€¼æ˜¯ $1$ï¼Œå³ $ne[1]&#x3D;ne[2]&#x3D;1$ (å½“ä¸‹æ ‡ä» $1$ å¼€å§‹)ï¼Œå› ä¸ºå½“ $n&#x3D;1$ æ—¶ï¼ˆåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶æ— å‰åç¼€ï¼‰ï¼Œå½“ $n&#x3D;2$ æ—¶ï¼ˆä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€ä¸€ä¸ªæ˜¯åç¼€ï¼Œä»ç„¶å›æº¯åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼‰</li>\n</ul>\n<h2><span id=\"1-æ±‚è§£nextæ•°ç»„\">1. æ±‚è§£nextæ•°ç»„</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>,j=<span class=\"number\">0</span>;i&lt;=len1;i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &amp;&amp; s1[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j=ne[j]; <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(s1[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j++; <span class=\"comment\">// å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">    ne[i]=j; <span class=\"comment\">// è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>å½“çœ‹ä¸æ‡‚æˆ–è€…å¿˜äº†çš„æ—¶å€™å»ºè®®è‡ªå·±è°ƒè¯•æ¨¡æ‹Ÿè·Ÿè¸ªä¸€é</p>\n</li>\n<li><p>å› ä¸º $ne$ æ•°ç»„æ˜¯å…¨å±€åˆå§‹åŒ–ï¼Œ$while()$ è¯­å¥ä¸­çš„ $j$ ä¿è¯äº† $ne[1]&#x3D;ne[2]$ </p>\n</li>\n<li><p>æ³¨æ„nextæ•°ç»„çš„å€¼æ˜¯æ ¹æ®æ¨¡å¼ä¸²çš„å‰ç¼€å’Œåç¼€çš„æœ€å¤§ç›¸åŒä½ç½®æ¥çš„ï¼Œæ‰€ä»¥åŒ¹é…è‡ªå·±ã€‚</p>\n</li>\n</ul>\n<h2><span id=\"2-æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\">2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;i&lt;=len2;i++ )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(j &amp;&amp; s2[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j=ne[j];</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(s2[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j++;</span><br><span class=\"line\">    <span class=\"comment\">// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(j==len1)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡,åŠ 1å¾—åˆ°ä½ç½®</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,i-len1<span class=\"number\">+1</span>);</span><br><span class=\"line\">        <span class=\"comment\">// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„</span></span><br><span class=\"line\">        <span class=\"comment\">// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">        <span class=\"comment\">// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯jæœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿</span></span><br><span class=\"line\">        j=ne[j];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ ¸å¿ƒå®ç°å’Œæ±‚è§£ $next$ æ•°ç»„çš„å‡½æ•°å·®ä¸å¤šï¼Œä¸»è¦æ˜¯æ˜¯æ¨¡å¼ä¸²å’Œæ–‡æœ¬ä¸²ä¹‹é—´çš„åŒ¹é…ï¼Œå½“ $j&#x3D;&#x3D;len1$ çš„æ—¶å€™è¯´æ˜å¤§å°ç›¸ç­‰å³åŒ¹é…ä¸Šäº†ï¼Œè¿™ä¸ªæ—¶å€™æŠŠç›¸åº”çš„ä¸‹æ ‡ä½ç½®è¾“å‡ºå‡ºæ¥ï¼ŒåŒæ—¶ $j$ è¿˜æ˜¯è¦å›æº¯ï¼Œå› ä¸ºæ€•é‡åˆ°ä½ç½®é‡å çš„æƒ…å†µã€‚</li>\n</ul>\n<h2><span id=\"3-å®Œæ•´ä»£ç \">3. å®Œæ•´ä»£ç </span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3375\">P3375 ã€æ¨¡æ¿ã€‘KMP - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> len1,len2; <span class=\"comment\">// næ˜¯æ¨¡æ¿ä¸²é•¿åº¦,mæ˜¯æ–‡æœ¬ä¸²</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// next[i] å°±æ˜¯ä½¿å­ä¸² s2[0Â·Â·Â·i] æœ‰æœ€é•¿ç›¸ç­‰å‰åç¼€çš„å‰ç¼€çš„æœ€åä¸€ä½çš„ä¸‹æ ‡</span></span><br><span class=\"line\"><span class=\"type\">char</span> s1[N],s2[N]; <span class=\"comment\">// s1[]å­˜å‚¨æ¨¡å¼ä¸²,s2[]å­˜å‚¨æ–‡æœ¬ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—p[]åœ¨s[]ä¸­å‡ºç°çš„ä½ç½®</span></span><br><span class=\"line\"><span class=\"comment\">// neä»£è¡¨nextæ•°ç»„,å› ä¸ºnextåœ¨C++ä¸­æ˜¯å…³é”®å­—</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s1<span class=\"number\">+1</span>&gt;&gt;s2<span class=\"number\">+1</span>; <span class=\"comment\">// å…ˆè¾“å…¥æ¨¡å¼ä¸²,å†è¾“å…¥æ–‡æœ¬ä¸²[ä»ä¸‹æ ‡1å¼€å§‹]</span></span><br><span class=\"line\">\tlen1=<span class=\"built_in\">strlen</span>(s1<span class=\"number\">+1</span>);</span><br><span class=\"line\">\tlen2=<span class=\"built_in\">strlen</span>(s2<span class=\"number\">+1</span>);</span><br><span class=\"line\">\tcout&lt;&lt;len1&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;len2&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>,j=<span class=\"number\">0</span>;i&lt;=len1;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (j &amp;&amp; s1[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj=ne[j]; <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s1[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj++; <span class=\"comment\">// å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">\t\tne[i]=j; <span class=\"comment\">// è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;i&lt;=len2;i++ )</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(j &amp;&amp; s2[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj=ne[j];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s2[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(j==len1)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,i-len1);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯ j æœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿</span></span><br><span class=\"line\">\t\t\tj=ne[j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿˜éœ€è¦æŠŠnextæ•°ç»„è¾“å‡ºå‡ºæ¥</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> num:ne) </span><br><span class=\"line\">\t\tcout&lt;&lt;num&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"KMPç®—æ³•\"><a href=\"#KMPç®—æ³•\" class=\"headerlink\" title=\"KMPç®—æ³•\"></a>KMPç®—æ³•</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%B1%82%E8%A7%A3next%E6%95%B0%E7%BB%84\">1. æ±‚è§£nextæ•°ç»„</a></li>\n<li><a href=\"#2-%E6%B1%82%E8%A7%A3%E5%8C%B9%E9%85%8D%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0\">2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°</a></li>\n<li><a href=\"#3-%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">3. å®Œæ•´ä»£ç </a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>åœ¨åšæ¨¡å¼ä¸²ä¸æ–‡æœ¬ä¸²çš„åŒ¹é…é—®é¢˜æ—¶ï¼ŒåŒ¹é…å¤±è´¥æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½åªå‘åé€’è¿›ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n+m)$ï¼Œå¾ˆå®¹æ˜“è¢«å¡æˆ $O(mÃ—n)$ ï¼Œæ‰€ä»¥ä¸ºäº†é™ä½å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹æ¨¡å¼ä¸²ä¸­çš„æ¯ä¸€ä½ï¼Œè®¾ç½®<strong>å”¯ä¸€</strong>çš„<strong>ç‰¹å®šå˜åŒ–ä½ç½®</strong>ï¼Œè¿™ä¸ªåœ¨å¤±é…ä¹‹åçš„ç‰¹å®šå˜åŒ–ä½ç½®å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨å·²æœ‰çš„æ•°æ®ä¸ç”¨ä»å¤´åŒ¹é…ï¼Œä»è€ŒèŠ‚çº¦æ—¶é—´</li>\n<li><strong>å¦‚æœä¸»ä¸²å·²åŒ¹é…ç›¸ç­‰çš„å‰ç¼€åºåˆ—ä¸­æœ‰æŸä¸ªåç¼€æ°ç­‰äºæ¨¡å¼ä¸²çš„å‰ç¼€ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å°†æ¨¡å¼ä¸²å‘åæ»‘åŠ¨åˆ°ä¸è¿™äº›ç›¸ç­‰å­—ç¬¦å¯¹å…¶çš„ä½ç½®</strong>ï¼Œç”¨ $ne$ æ•°ç»„è®°å½•åˆ°å®ƒä¸ºæ­¢çš„<strong>æ¨¡å¼ä¸²å‰ç¼€çš„çœŸå‰ç¼€å’ŒçœŸåç¼€æœ€å¤§ç›¸åŒçš„ä½ç½®</strong></li>\n<li>å½“ $i&#x3D;1$ æˆ– $i&#x3D;2$ æ—¶ï¼Œ$ne[i]$ çš„è¿”å›å€¼æ˜¯ $1$ï¼Œå³ $ne[1]&#x3D;ne[2]&#x3D;1$ (å½“ä¸‹æ ‡ä» $1$ å¼€å§‹)ï¼Œå› ä¸ºå½“ $n&#x3D;1$ æ—¶ï¼ˆåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶æ— å‰åç¼€ï¼‰ï¼Œå½“ $n&#x3D;2$ æ—¶ï¼ˆä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€ä¸€ä¸ªæ˜¯åç¼€ï¼Œä»ç„¶å›æº¯åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼‰</li>\n</ul>\n<h2 id=\"1-æ±‚è§£nextæ•°ç»„\"><a href=\"#1-æ±‚è§£nextæ•°ç»„\" class=\"headerlink\" title=\"1. æ±‚è§£nextæ•°ç»„\"></a>1. æ±‚è§£nextæ•°ç»„</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>,j=<span class=\"number\">0</span>;i&lt;=len1;i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &amp;&amp; s1[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j=ne[j]; <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(s1[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j++; <span class=\"comment\">// å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">    ne[i]=j; <span class=\"comment\">// è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>å½“çœ‹ä¸æ‡‚æˆ–è€…å¿˜äº†çš„æ—¶å€™å»ºè®®è‡ªå·±è°ƒè¯•æ¨¡æ‹Ÿè·Ÿè¸ªä¸€é</p>\n</li>\n<li><p>å› ä¸º $ne$ æ•°ç»„æ˜¯å…¨å±€åˆå§‹åŒ–ï¼Œ$while()$ è¯­å¥ä¸­çš„ $j$ ä¿è¯äº† $ne[1]&#x3D;ne[2]$ </p>\n</li>\n<li><p>æ³¨æ„nextæ•°ç»„çš„å€¼æ˜¯æ ¹æ®æ¨¡å¼ä¸²çš„å‰ç¼€å’Œåç¼€çš„æœ€å¤§ç›¸åŒä½ç½®æ¥çš„ï¼Œæ‰€ä»¥åŒ¹é…è‡ªå·±ã€‚</p>\n</li>\n</ul>\n<h2 id=\"2-æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\"><a href=\"#2-æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\" class=\"headerlink\" title=\"2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°\"></a>2. æ±‚è§£åŒ¹é…ä½ç½®çš„æ ¸å¿ƒå‡½æ•°</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;i&lt;=len2;i++ )</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(j &amp;&amp; s2[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j=ne[j];</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(s2[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">        j++;</span><br><span class=\"line\">    <span class=\"comment\">// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(j==len1)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡,åŠ 1å¾—åˆ°ä½ç½®</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,i-len1<span class=\"number\">+1</span>);</span><br><span class=\"line\">        <span class=\"comment\">// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„</span></span><br><span class=\"line\">        <span class=\"comment\">// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">        <span class=\"comment\">// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯jæœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿</span></span><br><span class=\"line\">        j=ne[j];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ ¸å¿ƒå®ç°å’Œæ±‚è§£ $next$ æ•°ç»„çš„å‡½æ•°å·®ä¸å¤šï¼Œä¸»è¦æ˜¯æ˜¯æ¨¡å¼ä¸²å’Œæ–‡æœ¬ä¸²ä¹‹é—´çš„åŒ¹é…ï¼Œå½“ $j&#x3D;&#x3D;len1$ çš„æ—¶å€™è¯´æ˜å¤§å°ç›¸ç­‰å³åŒ¹é…ä¸Šäº†ï¼Œè¿™ä¸ªæ—¶å€™æŠŠç›¸åº”çš„ä¸‹æ ‡ä½ç½®è¾“å‡ºå‡ºæ¥ï¼ŒåŒæ—¶ $j$ è¿˜æ˜¯è¦å›æº¯ï¼Œå› ä¸ºæ€•é‡åˆ°ä½ç½®é‡å çš„æƒ…å†µã€‚</li>\n</ul>\n<h2 id=\"3-å®Œæ•´ä»£ç \"><a href=\"#3-å®Œæ•´ä»£ç \" class=\"headerlink\" title=\"3. å®Œæ•´ä»£ç \"></a>3. å®Œæ•´ä»£ç </h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3375\">P3375 ã€æ¨¡æ¿ã€‘KMP - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> len1,len2; <span class=\"comment\">// næ˜¯æ¨¡æ¿ä¸²é•¿åº¦,mæ˜¯æ–‡æœ¬ä¸²</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// next[i] å°±æ˜¯ä½¿å­ä¸² s2[0Â·Â·Â·i] æœ‰æœ€é•¿ç›¸ç­‰å‰åç¼€çš„å‰ç¼€çš„æœ€åä¸€ä½çš„ä¸‹æ ‡</span></span><br><span class=\"line\"><span class=\"type\">char</span> s1[N],s2[N]; <span class=\"comment\">// s1[]å­˜å‚¨æ¨¡å¼ä¸²,s2[]å­˜å‚¨æ–‡æœ¬ä¸²</span></span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—p[]åœ¨s[]ä¸­å‡ºç°çš„ä½ç½®</span></span><br><span class=\"line\"><span class=\"comment\">// neä»£è¡¨nextæ•°ç»„,å› ä¸ºnextåœ¨C++ä¸­æ˜¯å…³é”®å­—</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s1<span class=\"number\">+1</span>&gt;&gt;s2<span class=\"number\">+1</span>; <span class=\"comment\">// å…ˆè¾“å…¥æ¨¡å¼ä¸²,å†è¾“å…¥æ–‡æœ¬ä¸²[ä»ä¸‹æ ‡1å¼€å§‹]</span></span><br><span class=\"line\">\tlen1=<span class=\"built_in\">strlen</span>(s1<span class=\"number\">+1</span>);</span><br><span class=\"line\">\tlen2=<span class=\"built_in\">strlen</span>(s2<span class=\"number\">+1</span>);</span><br><span class=\"line\">\tcout&lt;&lt;len1&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;len2&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚nextæ•°ç»„çš„è¿‡ç¨‹[s1ä¸è‡ªå·±åŒ¹é…,é€šè¿‡å‰åç¼€æ¥æ›´æ–°neæ•°ç»„]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>,j=<span class=\"number\">0</span>;i&lt;=len1;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> (j &amp;&amp; s1[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj=ne[j]; <span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå°±ä¸€ç›´åé€€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s1[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj++; <span class=\"comment\">// å¦‚æœå½“å‰åŒ¹é…æˆåŠŸçš„,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">\t\tne[i]=j; <span class=\"comment\">// è®°å½•å¹¶ä¸”æ›´æ–°å½“å‰jçš„é•¿åº¦</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚åŒ¹é…çš„è¿‡ç¨‹[iéå†æ–‡æœ¬ä¸²]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;i&lt;=len2;i++ )</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœä¸åŒ¹é…çš„è¯,jå›é€€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(j &amp;&amp; s2[i]!=s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj=ne[j];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœç›¸ç­‰çš„è¯,jå‘å‰é€’æ¨ä¸€ä½</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s2[i]==s1[j<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\t\tj++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆšå¥½é•¿åº¦ç›¸ç­‰çš„è¯è¯´æ˜åŒ¹é…ä¸Šäº†,æŠŠä¸‹æ ‡æ‰“å°å‡ºæ¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(j==len1)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ–‡æœ¬ä¸²çš„ä½ç½®å‡å»é•¿åº¦å³ä¸ºä¸‹æ ‡</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,i-len1);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ¨¡æ¿ä¸²åœ¨æ¨¡å¼ä¸²ä¸­å‡ºç°çš„ä½ç½®å¯èƒ½æ˜¯é‡å çš„</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éœ€è¦è®©jå›é€€åˆ°ä¸€å®šä½ç½®,å†è®©iåŠ 1ç»§ç»­è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å›é€€åˆ°ne[j]å¯ä»¥ä¿è¯ j æœ€å¤§,å³å·²ç»æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æœ€é•¿</span></span><br><span class=\"line\">\t\t\tj=ne[j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿˜éœ€è¦æŠŠnextæ•°ç»„è¾“å‡ºå‡ºæ¥</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> num:ne) </span><br><span class=\"line\">\t\tcout&lt;&lt;num&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"lower_boundã€upper_boundå‡½æ•°","date":"2024-10-03T04:49:57.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# lower_boundå’Œupper_bound\n\n<!-- toc -->\n\n\n\n## 1. æ¦‚è¿°\n\n* $lower\\_bound()$ å’Œ$upper\\_bound()$ éƒ½æ˜¯åŸºäº**äºŒåˆ†æŸ¥æ‰¾**åœ¨ä¸€ä¸ª**æ’å¥½åº**çš„æ•°ç»„æˆ–å®¹å™¨ï¼ˆå¦‚ $vector,\\ list,\\ set$ ï¼‰ä¸­è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾çš„å‡½æ•°ï¼Œä½äº $<algorithm>$ æ ‡å‡†åº“ä¸­ï¼Œç”±äºé‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰€ä»¥å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(log_2^n)$\n* **åˆ’é‡ç‚¹ï¼åŸºäºäºŒåˆ†æŸ¥æ‰¾ï¼æ•°ç»„æˆ–å®¹å™¨å¿…é¡»æœ‰åºï¼**\n\n\n\n## 2. å‡½æ•°ä½¿ç”¨\n\n* $lower\\_bound(begin,end,num)$ï¼šé€‚ç”¨äº**ä»å°åˆ°å¤§æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å¤§äºç­‰äº** $num$ çš„æ•°å­—\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower\\_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $upper\\_bound(begin,end,num)$ï¼šé€‚ç”¨äº**ä»å°åˆ°å¤§æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å¤§äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper\\_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $lower\\_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº**ä»å¤§åˆ°å°æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å°äºç­‰äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower\\_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $upper\\_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº**ä»å¤§åˆ°å°æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å°äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper\\_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n\n\n## 3. æ¡ˆä¾‹ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\t// å‡åº\n\tint arr[]={1,3,2,8,5};\n\tsort(arr,arr+5);\n\tcout<<\"åºåˆ—ä¸º(ä»å°åˆ°å¤§æ’åº):\";\n\tfor(auto x:arr) cout<<x<<' ';\n\tcout<<endl;\n\t// 1.lower_bound\n\tcout<<lower_bound(arr,arr+5,5)-arr<<endl; // ç¬¬ä¸€ä¸ªå¤§äºç­‰äº5çš„æ˜¯5,ä¸‹æ ‡æ˜¯3\n\t// 2.upper_bound\n\tcout<<upper_bound(arr,arr+5,6)-arr<<endl; // ç¬¬ä¸€ä¸ªå¤§äº6çš„æ˜¯8,ä¸‹æ ‡æ˜¯4\n\t\n\t// é™åº\n\tsort(arr,arr+5,greater<int>()); // greater<int>()è¡¨ç¤ºé™åºè§„åˆ™\n\tcout<<\"åºåˆ—ä¸º(ä»å¤§åˆ°å°æ’åº):\";\n\tfor(auto x:arr) cout<<x<<' ';\n\tcout<<endl;\n\t// 3.lower_bound\n\tcout<<lower_bound(arr,arr+5,3,greater<int>())-arr<<endl; // ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯3,ä¸‹æ ‡æ˜¯2\n\t// 4.upper_bound\n\tcout<<upper_bound(arr,arr+5,3,greater<int>())-arr<<endl; // ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯2,ä¸‹æ ‡æ˜¯3\n\treturn 0;\n}\n```\n","source":"_posts/lower-boundã€upper-boundå‡½æ•°.md","raw":"---\ntitle: lower_boundã€upper_boundå‡½æ•°\ndate: 2024-10-03 12:49:57\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å‡½æ•°é€ŸæŸ¥\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# lower_boundå’Œupper_bound\n\n<!-- toc -->\n\n\n\n## 1. æ¦‚è¿°\n\n* $lower\\_bound()$ å’Œ$upper\\_bound()$ éƒ½æ˜¯åŸºäº**äºŒåˆ†æŸ¥æ‰¾**åœ¨ä¸€ä¸ª**æ’å¥½åº**çš„æ•°ç»„æˆ–å®¹å™¨ï¼ˆå¦‚ $vector,\\ list,\\ set$ ï¼‰ä¸­è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾çš„å‡½æ•°ï¼Œä½äº $<algorithm>$ æ ‡å‡†åº“ä¸­ï¼Œç”±äºé‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰€ä»¥å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(log_2^n)$\n* **åˆ’é‡ç‚¹ï¼åŸºäºäºŒåˆ†æŸ¥æ‰¾ï¼æ•°ç»„æˆ–å®¹å™¨å¿…é¡»æœ‰åºï¼**\n\n\n\n## 2. å‡½æ•°ä½¿ç”¨\n\n* $lower\\_bound(begin,end,num)$ï¼šé€‚ç”¨äº**ä»å°åˆ°å¤§æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å¤§äºç­‰äº** $num$ çš„æ•°å­—\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower\\_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $upper\\_bound(begin,end,num)$ï¼šé€‚ç”¨äº**ä»å°åˆ°å¤§æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å¤§äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper\\_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $lower\\_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº**ä»å¤§åˆ°å°æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å°äºç­‰äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower\\_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n* $upper\\_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº**ä»å¤§åˆ°å°æ’åº**çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„/å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª**å°äº** $num$ çš„æ•°å­—\n\n  * è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„/å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper\\_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡\n\n  * è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„/å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ \n\n\n\n## 3. æ¡ˆä¾‹ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\t// å‡åº\n\tint arr[]={1,3,2,8,5};\n\tsort(arr,arr+5);\n\tcout<<\"åºåˆ—ä¸º(ä»å°åˆ°å¤§æ’åº):\";\n\tfor(auto x:arr) cout<<x<<' ';\n\tcout<<endl;\n\t// 1.lower_bound\n\tcout<<lower_bound(arr,arr+5,5)-arr<<endl; // ç¬¬ä¸€ä¸ªå¤§äºç­‰äº5çš„æ˜¯5,ä¸‹æ ‡æ˜¯3\n\t// 2.upper_bound\n\tcout<<upper_bound(arr,arr+5,6)-arr<<endl; // ç¬¬ä¸€ä¸ªå¤§äº6çš„æ˜¯8,ä¸‹æ ‡æ˜¯4\n\t\n\t// é™åº\n\tsort(arr,arr+5,greater<int>()); // greater<int>()è¡¨ç¤ºé™åºè§„åˆ™\n\tcout<<\"åºåˆ—ä¸º(ä»å¤§åˆ°å°æ’åº):\";\n\tfor(auto x:arr) cout<<x<<' ';\n\tcout<<endl;\n\t// 3.lower_bound\n\tcout<<lower_bound(arr,arr+5,3,greater<int>())-arr<<endl; // ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯3,ä¸‹æ ‡æ˜¯2\n\t// 4.upper_bound\n\tcout<<upper_bound(arr,arr+5,3,greater<int>())-arr<<endl; // ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯2,ä¸‹æ ‡æ˜¯3\n\treturn 0;\n}\n```\n","slug":"lower-boundã€upper-boundå‡½æ•°","published":1,"updated":"2024-10-05T07:58:53.887Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrps90009c0nf33m3etdw","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"lower_boundå’Œupper_bound\">lower_boundå’Œupper_bound</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A6%82%E8%BF%B0\">1. æ¦‚è¿°</a></li>\n<li><a href=\"#2-%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8\">2. å‡½æ•°ä½¿ç”¨</a></li>\n<li><a href=\"#3-%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81\">3. æ¡ˆä¾‹ä»£ç </a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-æ¦‚è¿°\">1. æ¦‚è¿°</span></h2><ul>\n<li>$lower_bound()$ å’Œ$upper_bound()$ éƒ½æ˜¯åŸºäº<strong>äºŒåˆ†æŸ¥æ‰¾</strong>åœ¨ä¸€ä¸ª<strong>æ’å¥½åº</strong>çš„æ•°ç»„æˆ–å®¹å™¨ï¼ˆå¦‚ $vector,\\ list,\\ set$ ï¼‰ä¸­è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾çš„å‡½æ•°ï¼Œä½äº $<algorithm>$ æ ‡å‡†åº“ä¸­ï¼Œç”±äºé‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰€ä»¥å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(log_2^n)$</algorithm></li>\n<li><strong>åˆ’é‡ç‚¹ï¼åŸºäºäºŒåˆ†æŸ¥æ‰¾ï¼æ•°ç»„æˆ–å®¹å™¨å¿…é¡»æœ‰åºï¼</strong></li>\n</ul>\n<h2><span id=\"2-å‡½æ•°ä½¿ç”¨\">2. å‡½æ•°ä½¿ç”¨</span></h2><ul>\n<li><p>$lower_bound(begin,end,num)$ï¼šé€‚ç”¨äº<strong>ä»å°åˆ°å¤§æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å¤§äºç­‰äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</li>\n<li>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li>\n</ul>\n</li>\n<li><p>$upper_bound(begin,end,num)$ï¼šé€‚ç”¨äº<strong>ä»å°åˆ°å¤§æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å¤§äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li><p>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</p>\n</li>\n<li><p>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </p>\n</li>\n</ul>\n</li>\n<li><p>$lower_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº<strong>ä»å¤§åˆ°å°æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å°äºç­‰äº</strong> $num$ çš„æ•°å­—</type></p>\n<ul>\n<li>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</int></li>\n<li>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li>\n</ul>\n</li>\n<li><p>$upper_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº<strong>ä»å¤§åˆ°å°æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å°äº</strong> $num$ çš„æ•°å­—</type></p>\n<ul>\n<li><p>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</int></p>\n</li>\n<li><p>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </p>\n</li>\n</ul>\n</li>\n</ul>\n<h2><span id=\"3-æ¡ˆä¾‹ä»£ç \">3. æ¡ˆä¾‹ä»£ç </span></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡åº</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> arr[]=&#123;<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>,<span class=\"number\">8</span>,<span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">\tsort(arr,arr+<span class=\"number\">5</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;åºåˆ—ä¸º(ä»å°åˆ°å¤§æ’åº):&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> x:arr) <span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 1.lower_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;lower_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">5</span>)-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå¤§äºç­‰äº5çš„æ˜¯5,ä¸‹æ ‡æ˜¯3</span></span><br><span class=\"line\">\t<span class=\"comment\">// 2.upper_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;upper_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">6</span>)-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå¤§äº6çš„æ˜¯8,ä¸‹æ ‡æ˜¯4</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é™åº</span></span><br><span class=\"line\">\tsort(arr,arr+<span class=\"number\">5</span>,greater&lt;<span class=\"type\">int</span>&gt;()); <span class=\"comment\">// greater&lt;int&gt;()è¡¨ç¤ºé™åºè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;åºåˆ—ä¸º(ä»å¤§åˆ°å°æ’åº):&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> x:arr) <span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 3.lower_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;lower_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">3</span>,greater&lt;<span class=\"type\">int</span>&gt;())-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯3,ä¸‹æ ‡æ˜¯2</span></span><br><span class=\"line\">\t<span class=\"comment\">// 4.upper_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;upper_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">3</span>,greater&lt;<span class=\"type\">int</span>&gt;())-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯2,ä¸‹æ ‡æ˜¯3</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"lower-boundå’Œupper-bound\"><a href=\"#lower-boundå’Œupper-bound\" class=\"headerlink\" title=\"lower_boundå’Œupper_bound\"></a>lower_boundå’Œupper_bound</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A6%82%E8%BF%B0\">1. æ¦‚è¿°</a></li>\n<li><a href=\"#2-%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8\">2. å‡½æ•°ä½¿ç”¨</a></li>\n<li><a href=\"#3-%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81\">3. æ¡ˆä¾‹ä»£ç </a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-æ¦‚è¿°\"><a href=\"#1-æ¦‚è¿°\" class=\"headerlink\" title=\"1. æ¦‚è¿°\"></a>1. æ¦‚è¿°</h2><ul>\n<li>$lower_bound()$ å’Œ$upper_bound()$ éƒ½æ˜¯åŸºäº<strong>äºŒåˆ†æŸ¥æ‰¾</strong>åœ¨ä¸€ä¸ª<strong>æ’å¥½åº</strong>çš„æ•°ç»„æˆ–å®¹å™¨ï¼ˆå¦‚ $vector,\\ list,\\ set$ ï¼‰ä¸­è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾çš„å‡½æ•°ï¼Œä½äº $<algorithm>$ æ ‡å‡†åº“ä¸­ï¼Œç”±äºé‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰€ä»¥å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(log_2^n)$</li>\n<li><strong>åˆ’é‡ç‚¹ï¼åŸºäºäºŒåˆ†æŸ¥æ‰¾ï¼æ•°ç»„æˆ–å®¹å™¨å¿…é¡»æœ‰åºï¼</strong></li>\n</ul>\n<h2 id=\"2-å‡½æ•°ä½¿ç”¨\"><a href=\"#2-å‡½æ•°ä½¿ç”¨\" class=\"headerlink\" title=\"2. å‡½æ•°ä½¿ç”¨\"></a>2. å‡½æ•°ä½¿ç”¨</h2><ul>\n<li><p>$lower_bound(begin,end,num)$ï¼šé€‚ç”¨äº<strong>ä»å°åˆ°å¤§æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å¤§äºç­‰äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</li>\n<li>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li>\n</ul>\n</li>\n<li><p>$upper_bound(begin,end,num)$ï¼šé€‚ç”¨äº<strong>ä»å°åˆ°å¤§æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å¤§äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li><p>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper_bound(arr,arr+n,3)-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</p>\n</li>\n<li><p>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </p>\n</li>\n</ul>\n</li>\n<li><p>$lower_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº<strong>ä»å¤§åˆ°å°æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å°äºç­‰äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $lower_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</li>\n<li>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </li>\n</ul>\n</li>\n<li><p>$upper_bound(begin,end,num,greater<type>())$ï¼šé€‚ç”¨äº<strong>ä»å¤§åˆ°å°æ’åº</strong>çš„æœ‰åºåºåˆ—ï¼Œä»æ•°ç»„&#x2F;å®¹å™¨çš„ $begin$ ä½ç½®èµ·ï¼Œåˆ° $end-1$ ä½ç½®ç»“æŸï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ª<strong>å°äº</strong> $num$ çš„æ•°å­—</p>\n<ul>\n<li><p>è‹¥æ‰¾åˆ°åˆ™è¿”å›è¯¥æ•°å­—çš„åœ°å€ï¼Œé€šè¿‡å‡å»èµ·å§‹åœ°å€ $begin$ çš„æŠ€å·§å¯ä»¥æ±‚å¾—å…¶åœ¨æ•°ç»„&#x2F;å®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚ $upper_bound(arr,arr+n,3,greater<int>())-arr$ è¡¨ç¤ºåœ¨æ•°ç»„ $arr$ ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äº $3$ çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</p>\n</li>\n<li><p>è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› $end$ï¼Œå³æ•°ç»„&#x2F;å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ </p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-æ¡ˆä¾‹ä»£ç \"><a href=\"#3-æ¡ˆä¾‹ä»£ç \" class=\"headerlink\" title=\"3. æ¡ˆä¾‹ä»£ç \"></a>3. æ¡ˆä¾‹ä»£ç </h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡åº</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> arr[]=&#123;<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>,<span class=\"number\">8</span>,<span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">\tsort(arr,arr+<span class=\"number\">5</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;åºåˆ—ä¸º(ä»å°åˆ°å¤§æ’åº):&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> x:arr) <span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 1.lower_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;lower_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">5</span>)-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå¤§äºç­‰äº5çš„æ˜¯5,ä¸‹æ ‡æ˜¯3</span></span><br><span class=\"line\">\t<span class=\"comment\">// 2.upper_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;upper_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">6</span>)-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå¤§äº6çš„æ˜¯8,ä¸‹æ ‡æ˜¯4</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é™åº</span></span><br><span class=\"line\">\tsort(arr,arr+<span class=\"number\">5</span>,greater&lt;<span class=\"type\">int</span>&gt;()); <span class=\"comment\">// greater&lt;int&gt;()è¡¨ç¤ºé™åºè§„åˆ™</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;åºåˆ—ä¸º(ä»å¤§åˆ°å°æ’åº):&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> x:arr) <span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 3.lower_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;lower_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">3</span>,greater&lt;<span class=\"type\">int</span>&gt;())-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯3,ä¸‹æ ‡æ˜¯2</span></span><br><span class=\"line\">\t<span class=\"comment\">// 4.upper_bound</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;upper_bound(arr,arr+<span class=\"number\">5</span>,<span class=\"number\">3</span>,greater&lt;<span class=\"type\">int</span>&gt;())-arr&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªå°äºç­‰äº3çš„æ˜¯2,ä¸‹æ ‡æ˜¯3</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"strcmpã€compareå‡½æ•°","date":"2024-10-03T04:47:35.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‡½æ•°é€ŸæŸ¥-strcmpã€compare\n\n<!-- toc -->\n\n\n\n## 1. strcmp\n\n* ç”¨äºå­—ç¬¦æ•°ç»„ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ\n* æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦æ•°ç»„é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦æ•°ç»„æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦æ•°ç»„æ˜¯å¦ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦æ•°ç»„æ›´å¤§\n* $strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nchar str_1[20],str_2[20];\n\nint main() {\n\t// 1)é€ä½æ¯”è¾ƒASCIIç ,é¦–ä½ASCIIç æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§\n\t// å‰è€…æ¯”åè€…å¤§,è¿”å›1 \n\tstrcpy(str_1,\"CDEF\");\n\tstrcpy(str_2,\"BCDE\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstrcpy(str_1,\"abcde\");\n\tstrcpy(str_2,\"abcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstrcpy(str_1,\"abcde\");\n\tstrcpy(str_2,\"bbcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstrcpy(str_1,\"abcd\");\n\tstrcpy(str_2,\"abcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. compare\n\n* ç”¨äºå­—ç¬¦ä¸²ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ\n* æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n* $strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nstring str_1,str_2;\n\nint main() {\n\t// å‰è€…æ¯”åè€…å¤§,è¿”å›1\n\tstr_1=\"CDEF\";\n\tstr_2=\"BCDE\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstr_1=\"abcde\";\n\tstr_2=\"abcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstr_1=\"abcde\";\n\tstr_2=\"bbcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstr_1=\"abcd\";\n\tstr_2=\"abcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t\n\t// 3)æ¯”è¾ƒç‰¹å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²\n\tint res_1=str_1.compare(1,3,str_2); // str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2æ¯”è¾ƒå¤§å°\n\tint res_2=str_1.compare(1,3,str_2,1,4); // str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2ä»ä¸‹æ ‡0å¼€å§‹çš„2ä¸ªå­—ç¬¦æ¯”è¾ƒå¤§å°\n\tcout<<res_1<<endl;\n\tcout<<res_2<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\n\n* åœ¨$C++$ä¸­ç›´æ¥ä½¿ç”¨ $>, <, ==, >=, <= $è¿™æ ·çš„å…³ç³»è¿ç®—ç¬¦ä¹Ÿèƒ½æ¯”è¾ƒå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¹¶ä¸”åŒæ ·åŸºäºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„å­—å…¸é¡ºåºé€ä½å­—ç¬¦æ¯”è¾ƒï¼Œç›´åˆ°é‡åˆ°ä¸ç›¸åŒçš„å­—ç¬¦æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸä¸ºæ­¢\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nvoid str_compare(string a,string b) {\n\tif(a>b) cout<<\"å‰è€…æ¯”åè€…å¤§\"<<endl;\n\telse if(a==b) cout<<\"äºŒè€…ä¸€æ ·å¤§\"<<endl;\n\telse cout<<\"å‰è€…æ¯”åè€…å°\"<<endl;\n}\n\nstring str_1,str_2;\n\nint main() {\n\tstr_1=\"CDEF\";\n\tstr_2=\"BCDE\";\n\tstr_compare(str_1,str_2);\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstr_1=\"abcde\";\n\tstr_2=\"abcde\";\n\tstr_compare(str_1,str_2);\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstr_1=\"abcde\";\n\tstr_2=\"bbcde\";\n\tstr_compare(str_1,str_2);\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstr_1=\"abcd\";\n\tstr_2=\"abcde\";\n\tstr_compare(str_1,str_2);\n\treturn 0;\n}\n```\n\n\n\n## 4. å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\n\n* æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªæ•°å­—ï¼Œ $123456$ å’Œ $23456$ ï¼Œå¹¶ä¸”æ˜¯ä»¥å­—ç¬¦å½¢å¼å­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²ä¸­ï¼Œç°åœ¨è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»å¦‚æœç›´æ¥ä½¿ç”¨å‰æ–‡çš„æ¯”è¾ƒæ–¹æ³•(æŒ‰$ASCII$ç é€ä½æ¯”è¾ƒå°±ä¼šå‡ºé—®é¢˜)ï¼Œå› ä¸º$1$çš„$ASCII$ç å°äº$2$ï¼Œä½†å¾ˆæ˜æ˜¾$123456>23456$\n\n* å¦‚æœåœ¨å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²ä¸­æŒ‰ä¸‹æ ‡å¯¹å…¶çš„è¯åˆç•¥å«Œéº»çƒ¦ï¼Œæ˜¾ç„¶æ˜¯æƒ³è®©$123456$å’Œ$23456$éƒ½ä»ä¸‹æ ‡$0$å¼€å§‹å­˜å‚¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥(åœ¨æ²¡æœ‰å‰å¯¼$0$çš„æƒ…å†µä¸‹)è¿”å›é•¿åº¦æ›´é•¿çš„é‚£ä¸ªæ•°å­—ï¼Œå½“é•¿åº¦ç›¸ç­‰çš„æ—¶å€™ç›´æ¥ç”¨$strcmp$æˆ–è€…$compare$æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å³å¯\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nchar str1[20],str2[20];\nstring str11,str22;\n\nbool chars_compare(char str1[],char str2[]) {\n\tint len1=strlen(str1);\n\tint len2=strlen(str2);\n\tif(len1!=len2) return len1>len2;\n\telse return strcmp(str1,str2)>0;\n}\n\nbool str_compare(string str11,string str22) {\n\tint len1=str11.length();\n\tint len2=str22.length();\n\tif(len1!=len2) return len1>len2;\n\telse return str11.compare(str22)>0;\n}\n \nint main() {\n\t// å­—ç¬¦æ•°ç»„\n\tstrcpy(str1,\"123\");\n\tstrcpy(str2,\"1234\");\n\tcout<<chars_compare(str1,str2)<<endl;\n\tstrcpy(str1,\"34\");\n\tstrcpy(str2,\"23\");\n\tcout<<chars_compare(str1,str2)<<endl;\n\t// å­—ç¬¦ä¸²\n\tstr11=\"123\";\n\tstr22=\"1234\";\n\tcout<<str_compare(str11,str22)<<endl;\n\tstr11=\"34\";\n\tstr22=\"23\";\n\tcout<<str_compare(str11,str22)<<endl;\n\treturn 0;\n}\n```\n","source":"_posts/strcmpã€compareå‡½æ•°.md","raw":"---\ntitle: strcmpã€compareå‡½æ•°\ndate: 2024-10-03 12:47:35\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å‡½æ•°é€ŸæŸ¥\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‡½æ•°é€ŸæŸ¥-strcmpã€compare\n\n<!-- toc -->\n\n\n\n## 1. strcmp\n\n* ç”¨äºå­—ç¬¦æ•°ç»„ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ\n* æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦æ•°ç»„é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦æ•°ç»„æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦æ•°ç»„æ˜¯å¦ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦æ•°ç»„æ›´å¤§\n* $strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nchar str_1[20],str_2[20];\n\nint main() {\n\t// 1)é€ä½æ¯”è¾ƒASCIIç ,é¦–ä½ASCIIç æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§\n\t// å‰è€…æ¯”åè€…å¤§,è¿”å›1 \n\tstrcpy(str_1,\"CDEF\");\n\tstrcpy(str_2,\"BCDE\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstrcpy(str_1,\"abcde\");\n\tstrcpy(str_2,\"abcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstrcpy(str_1,\"abcde\");\n\tstrcpy(str_2,\"bbcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstrcpy(str_1,\"abcd\");\n\tstrcpy(str_2,\"abcde\");\n\tcout<<strcmp(str_1,str_2)<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. compare\n\n* ç”¨äºå­—ç¬¦ä¸²ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ\n* æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n* $strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nstring str_1,str_2;\n\nint main() {\n\t// å‰è€…æ¯”åè€…å¤§,è¿”å›1\n\tstr_1=\"CDEF\";\n\tstr_2=\"BCDE\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstr_1=\"abcde\";\n\tstr_2=\"abcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstr_1=\"abcde\";\n\tstr_2=\"bbcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstr_1=\"abcd\";\n\tstr_2=\"abcde\";\n\tcout<<str_1.compare(str_2)<<endl;\n\t\n\t// 3)æ¯”è¾ƒç‰¹å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²\n\tint res_1=str_1.compare(1,3,str_2); // str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2æ¯”è¾ƒå¤§å°\n\tint res_2=str_1.compare(1,3,str_2,1,4); // str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2ä»ä¸‹æ ‡0å¼€å§‹çš„2ä¸ªå­—ç¬¦æ¯”è¾ƒå¤§å°\n\tcout<<res_1<<endl;\n\tcout<<res_2<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\n\n* åœ¨$C++$ä¸­ç›´æ¥ä½¿ç”¨ $>, <, ==, >=, <= $è¿™æ ·çš„å…³ç³»è¿ç®—ç¬¦ä¹Ÿèƒ½æ¯”è¾ƒå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¹¶ä¸”åŒæ ·åŸºäºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„å­—å…¸é¡ºåºé€ä½å­—ç¬¦æ¯”è¾ƒï¼Œç›´åˆ°é‡åˆ°ä¸ç›¸åŒçš„å­—ç¬¦æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸä¸ºæ­¢\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nvoid str_compare(string a,string b) {\n\tif(a>b) cout<<\"å‰è€…æ¯”åè€…å¤§\"<<endl;\n\telse if(a==b) cout<<\"äºŒè€…ä¸€æ ·å¤§\"<<endl;\n\telse cout<<\"å‰è€…æ¯”åè€…å°\"<<endl;\n}\n\nstring str_1,str_2;\n\nint main() {\n\tstr_1=\"CDEF\";\n\tstr_2=\"BCDE\";\n\tstr_compare(str_1,str_2);\n\t// ä¸¤è€…ç›¸ç­‰,è¿”å›0\n\tstr_1=\"abcde\";\n\tstr_2=\"abcde\";\n\tstr_compare(str_1,str_2);\n\t// å‰è€…æ¯”åè€…å°,è¿”å›-1\n\tstr_1=\"abcde\";\n\tstr_2=\"bbcde\";\n\tstr_compare(str_1,str_2);\n\t// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§\n\tstr_1=\"abcd\";\n\tstr_2=\"abcde\";\n\tstr_compare(str_1,str_2);\n\treturn 0;\n}\n```\n\n\n\n## 4. å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\n\n* æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªæ•°å­—ï¼Œ $123456$ å’Œ $23456$ ï¼Œå¹¶ä¸”æ˜¯ä»¥å­—ç¬¦å½¢å¼å­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²ä¸­ï¼Œç°åœ¨è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»å¦‚æœç›´æ¥ä½¿ç”¨å‰æ–‡çš„æ¯”è¾ƒæ–¹æ³•(æŒ‰$ASCII$ç é€ä½æ¯”è¾ƒå°±ä¼šå‡ºé—®é¢˜)ï¼Œå› ä¸º$1$çš„$ASCII$ç å°äº$2$ï¼Œä½†å¾ˆæ˜æ˜¾$123456>23456$\n\n* å¦‚æœåœ¨å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²ä¸­æŒ‰ä¸‹æ ‡å¯¹å…¶çš„è¯åˆç•¥å«Œéº»çƒ¦ï¼Œæ˜¾ç„¶æ˜¯æƒ³è®©$123456$å’Œ$23456$éƒ½ä»ä¸‹æ ‡$0$å¼€å§‹å­˜å‚¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥(åœ¨æ²¡æœ‰å‰å¯¼$0$çš„æƒ…å†µä¸‹)è¿”å›é•¿åº¦æ›´é•¿çš„é‚£ä¸ªæ•°å­—ï¼Œå½“é•¿åº¦ç›¸ç­‰çš„æ—¶å€™ç›´æ¥ç”¨$strcmp$æˆ–è€…$compare$æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å³å¯\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nchar str1[20],str2[20];\nstring str11,str22;\n\nbool chars_compare(char str1[],char str2[]) {\n\tint len1=strlen(str1);\n\tint len2=strlen(str2);\n\tif(len1!=len2) return len1>len2;\n\telse return strcmp(str1,str2)>0;\n}\n\nbool str_compare(string str11,string str22) {\n\tint len1=str11.length();\n\tint len2=str22.length();\n\tif(len1!=len2) return len1>len2;\n\telse return str11.compare(str22)>0;\n}\n \nint main() {\n\t// å­—ç¬¦æ•°ç»„\n\tstrcpy(str1,\"123\");\n\tstrcpy(str2,\"1234\");\n\tcout<<chars_compare(str1,str2)<<endl;\n\tstrcpy(str1,\"34\");\n\tstrcpy(str2,\"23\");\n\tcout<<chars_compare(str1,str2)<<endl;\n\t// å­—ç¬¦ä¸²\n\tstr11=\"123\";\n\tstr22=\"1234\";\n\tcout<<str_compare(str11,str22)<<endl;\n\tstr11=\"34\";\n\tstr22=\"23\";\n\tcout<<str_compare(str11,str22)<<endl;\n\treturn 0;\n}\n```\n","slug":"strcmpã€compareå‡½æ•°","published":1,"updated":"2024-10-05T07:59:03.188Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsb000bc0nf6s194wgx","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å‡½æ•°é€ŸæŸ¥-strcmp-compare\">å‡½æ•°é€ŸæŸ¥-strcmpã€compare</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-strcmp\">1. strcmp</a></li>\n<li><a href=\"#2-compare\">2. compare</a></li>\n<li><a href=\"#3-%E7%9B%B4%E6%8E%A5%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2\">3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²</a></li>\n<li><a href=\"#4-%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%89%E6%95%B0%E5%80%BC%E6%AF%94%E8%BE%83\">4. å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-strcmp\">1. strcmp</span></h2><ul>\n<li>ç”¨äºå­—ç¬¦æ•°ç»„ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ</li>\n<li>æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦æ•°ç»„é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦æ•°ç»„æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦æ•°ç»„æ˜¯å¦ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦æ•°ç»„æ›´å¤§</li>\n<li>$strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> str_1[<span class=\"number\">20</span>],str_2[<span class=\"number\">20</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)é€ä½æ¯”è¾ƒASCIIç ,é¦–ä½ASCIIç æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å¤§,è¿”å›1 </span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;CDEF&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;BCDE&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;bbcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcd&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-compare\">2. compare</span></h2><ul>\n<li>ç”¨äºå­—ç¬¦ä¸²ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ</li>\n<li>æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</li>\n<li>$strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">string</span> str_1,str_2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å¤§,è¿”å›1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;CDEF&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;BCDE&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;bbcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcd&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// 3)æ¯”è¾ƒç‰¹å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res_1=str_1.compare(<span class=\"number\">1</span>,<span class=\"number\">3</span>,str_2); <span class=\"comment\">// str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2æ¯”è¾ƒå¤§å°</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res_2=str_1.compare(<span class=\"number\">1</span>,<span class=\"number\">3</span>,str_2,<span class=\"number\">1</span>,<span class=\"number\">4</span>); <span class=\"comment\">// str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2ä»ä¸‹æ ‡0å¼€å§‹çš„2ä¸ªå­—ç¬¦æ¯”è¾ƒå¤§å°</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res_1&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res_2&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\">3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²</span></h2><ul>\n<li>åœ¨$C++$ä¸­ç›´æ¥ä½¿ç”¨ $&gt;, &lt;, &#x3D;&#x3D;, &gt;&#x3D;, &lt;&#x3D; $è¿™æ ·çš„å…³ç³»è¿ç®—ç¬¦ä¹Ÿèƒ½æ¯”è¾ƒå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¹¶ä¸”åŒæ ·åŸºäºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„å­—å…¸é¡ºåºé€ä½å­—ç¬¦æ¯”è¾ƒï¼Œç›´åˆ°é‡åˆ°ä¸ç›¸åŒçš„å­—ç¬¦æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸä¸ºæ­¢</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">str_compare</span><span class=\"params\">(<span class=\"built_in\">string</span> a,<span class=\"built_in\">string</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(a&gt;b) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;å‰è€…æ¯”åè€…å¤§&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a==b) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;äºŒè€…ä¸€æ ·å¤§&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;å‰è€…æ¯”åè€…å°&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">string</span> str_1,str_2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;CDEF&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;BCDE&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;bbcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcd&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-å­—ç¬¦æ•°ç»„x2få­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\">4. å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ</span></h2><ul>\n<li><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªæ•°å­—ï¼Œ $123456$ å’Œ $23456$ ï¼Œå¹¶ä¸”æ˜¯ä»¥å­—ç¬¦å½¢å¼å­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²ä¸­ï¼Œç°åœ¨è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»å¦‚æœç›´æ¥ä½¿ç”¨å‰æ–‡çš„æ¯”è¾ƒæ–¹æ³•(æŒ‰$ASCII$ç é€ä½æ¯”è¾ƒå°±ä¼šå‡ºé—®é¢˜)ï¼Œå› ä¸º$1$çš„$ASCII$ç å°äº$2$ï¼Œä½†å¾ˆæ˜æ˜¾$123456&gt;23456$</p>\n</li>\n<li><p>å¦‚æœåœ¨å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²ä¸­æŒ‰ä¸‹æ ‡å¯¹å…¶çš„è¯åˆç•¥å«Œéº»çƒ¦ï¼Œæ˜¾ç„¶æ˜¯æƒ³è®©$123456$å’Œ$23456$éƒ½ä»ä¸‹æ ‡$0$å¼€å§‹å­˜å‚¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥(åœ¨æ²¡æœ‰å‰å¯¼$0$çš„æƒ…å†µä¸‹)è¿”å›é•¿åº¦æ›´é•¿çš„é‚£ä¸ªæ•°å­—ï¼Œå½“é•¿åº¦ç›¸ç­‰çš„æ—¶å€™ç›´æ¥ç”¨$strcmp$æˆ–è€…$compare$æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å³å¯</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> str1[<span class=\"number\">20</span>],str2[<span class=\"number\">20</span>];</span><br><span class=\"line\"><span class=\"built_in\">string</span> str11,str22;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">chars_compare</span><span class=\"params\">(<span class=\"type\">char</span> str1[],<span class=\"type\">char</span> str2[])</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len1=<span class=\"built_in\">strlen</span>(str1);</span><br><span class=\"line\">\t<span class=\"type\">int</span> len2=<span class=\"built_in\">strlen</span>(str2);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len1!=len2) <span class=\"keyword\">return</span> len1&gt;len2;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"built_in\">strcmp</span>(str1,str2)&gt;<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">str_compare</span><span class=\"params\">(<span class=\"built_in\">string</span> str11,<span class=\"built_in\">string</span> str22)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len1=str11.length();</span><br><span class=\"line\">\t<span class=\"type\">int</span> len2=str22.length();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len1!=len2) <span class=\"keyword\">return</span> len1&gt;len2;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> str11.compare(str22)&gt;<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—ç¬¦æ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str1,<span class=\"string\">&quot;123&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str2,<span class=\"string\">&quot;1234&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;chars_compare(str1,str2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str1,<span class=\"string\">&quot;34&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str2,<span class=\"string\">&quot;23&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;chars_compare(str1,str2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\tstr11=<span class=\"string\">&quot;123&quot;</span>;</span><br><span class=\"line\">\tstr22=<span class=\"string\">&quot;1234&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_compare(str11,str22)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\tstr11=<span class=\"string\">&quot;34&quot;</span>;</span><br><span class=\"line\">\tstr22=<span class=\"string\">&quot;23&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_compare(str11,str22)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å‡½æ•°é€ŸæŸ¥-strcmpã€compare\"><a href=\"#å‡½æ•°é€ŸæŸ¥-strcmpã€compare\" class=\"headerlink\" title=\"å‡½æ•°é€ŸæŸ¥-strcmpã€compare\"></a>å‡½æ•°é€ŸæŸ¥-strcmpã€compare</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-strcmp\">1. strcmp</a></li>\n<li><a href=\"#2-compare\">2. compare</a></li>\n<li><a href=\"#3-%E7%9B%B4%E6%8E%A5%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2\">3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²</a></li>\n<li><a href=\"#4-%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%89%E6%95%B0%E5%80%BC%E6%AF%94%E8%BE%83\">4. å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-strcmp\"><a href=\"#1-strcmp\" class=\"headerlink\" title=\"1. strcmp\"></a>1. strcmp</h2><ul>\n<li>ç”¨äºå­—ç¬¦æ•°ç»„ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ</li>\n<li>æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦æ•°ç»„é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦æ•°ç»„æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦æ•°ç»„æ˜¯å¦ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦æ•°ç»„æ›´å¤§</li>\n<li>$strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> str_1[<span class=\"number\">20</span>],str_2[<span class=\"number\">20</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)é€ä½æ¯”è¾ƒASCIIç ,é¦–ä½ASCIIç æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å¤§,è¿”å›1 </span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;CDEF&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;BCDE&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;bbcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_1,<span class=\"string\">&quot;abcd&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str_2,<span class=\"string\">&quot;abcde&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">strcmp</span>(str_1,str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-compare\"><a href=\"#2-compare\" class=\"headerlink\" title=\"2. compare\"></a>2. compare</h2><ul>\n<li>ç”¨äºå­—ç¬¦ä¸²ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ</li>\n<li>æ¯”è¾ƒåŸåˆ™ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ$ASCII$ç ï¼Œé¦–ä½$ASCII$ç çš„æ›´å¤§çš„å­—ç¬¦ä¸²æ›´å¤§ï¼›å½“ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€æ—¶ï¼Œé•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</li>\n<li>$strcmp(str1,str2)$ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§ï¼Œè¿”å›$1$ï¼Œè‹¥ç›¸ç­‰ï¼Œè¿”å›$0$ï¼Œè‹¥åè€…æ¯”å‰è€…å¤§ï¼Œè¿”å›$-1$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">string</span> str_1,str_2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å¤§,è¿”å›1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;CDEF&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;BCDE&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;bbcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcd&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_1.compare(str_2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// 3)æ¯”è¾ƒç‰¹å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res_1=str_1.compare(<span class=\"number\">1</span>,<span class=\"number\">3</span>,str_2); <span class=\"comment\">// str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2æ¯”è¾ƒå¤§å°</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res_2=str_1.compare(<span class=\"number\">1</span>,<span class=\"number\">3</span>,str_2,<span class=\"number\">1</span>,<span class=\"number\">4</span>); <span class=\"comment\">// str_1ä»ä¸‹æ ‡1å¼€å§‹çš„3ä¸ªå­—ç¬¦ä¸str_2ä»ä¸‹æ ‡0å¼€å§‹çš„2ä¸ªå­—ç¬¦æ¯”è¾ƒå¤§å°</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res_1&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res_2&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\"><a href=\"#3-ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\" class=\"headerlink\" title=\"3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²\"></a>3. ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²</h2><ul>\n<li>åœ¨$C++$ä¸­ç›´æ¥ä½¿ç”¨ $&gt;, &lt;, &#x3D;&#x3D;, &gt;&#x3D;, &lt;&#x3D; $è¿™æ ·çš„å…³ç³»è¿ç®—ç¬¦ä¹Ÿèƒ½æ¯”è¾ƒå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¹¶ä¸”åŒæ ·åŸºäºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„å­—å…¸é¡ºåºé€ä½å­—ç¬¦æ¯”è¾ƒï¼Œç›´åˆ°é‡åˆ°ä¸ç›¸åŒçš„å­—ç¬¦æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸä¸ºæ­¢</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">str_compare</span><span class=\"params\">(<span class=\"built_in\">string</span> a,<span class=\"built_in\">string</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(a&gt;b) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;å‰è€…æ¯”åè€…å¤§&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a==b) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;äºŒè€…ä¸€æ ·å¤§&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;å‰è€…æ¯”åè€…å°&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">string</span> str_1,str_2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;CDEF&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;BCDE&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸¤è€…ç›¸ç­‰,è¿”å›0</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// å‰è€…æ¯”åè€…å°,è¿”å›-1</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;bbcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"comment\">// 2)å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€,é•¿åº¦æ›´é•¿çš„å­—ç¬¦ä¸²æ›´å¤§</span></span><br><span class=\"line\">\tstr_1=<span class=\"string\">&quot;abcd&quot;</span>;</span><br><span class=\"line\">\tstr_2=<span class=\"string\">&quot;abcde&quot;</span>;</span><br><span class=\"line\">\tstr_compare(str_1,str_2);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-å­—ç¬¦æ•°ç»„-å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\"><a href=\"#4-å­—ç¬¦æ•°ç»„-å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\" class=\"headerlink\" title=\"4. å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ\"></a>4. å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²æŒ‰æ•°å€¼æ¯”è¾ƒ</h2><ul>\n<li><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªæ•°å­—ï¼Œ $123456$ å’Œ $23456$ ï¼Œå¹¶ä¸”æ˜¯ä»¥å­—ç¬¦å½¢å¼å­˜å‚¨åˆ°å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²ä¸­ï¼Œç°åœ¨è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»å¦‚æœç›´æ¥ä½¿ç”¨å‰æ–‡çš„æ¯”è¾ƒæ–¹æ³•(æŒ‰$ASCII$ç é€ä½æ¯”è¾ƒå°±ä¼šå‡ºé—®é¢˜)ï¼Œå› ä¸º$1$çš„$ASCII$ç å°äº$2$ï¼Œä½†å¾ˆæ˜æ˜¾$123456&gt;23456$</p>\n</li>\n<li><p>å¦‚æœåœ¨å­—ç¬¦æ•°ç»„&#x2F;å­—ç¬¦ä¸²ä¸­æŒ‰ä¸‹æ ‡å¯¹å…¶çš„è¯åˆç•¥å«Œéº»çƒ¦ï¼Œæ˜¾ç„¶æ˜¯æƒ³è®©$123456$å’Œ$23456$éƒ½ä»ä¸‹æ ‡$0$å¼€å§‹å­˜å‚¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥(åœ¨æ²¡æœ‰å‰å¯¼$0$çš„æƒ…å†µä¸‹)è¿”å›é•¿åº¦æ›´é•¿çš„é‚£ä¸ªæ•°å­—ï¼Œå½“é•¿åº¦ç›¸ç­‰çš„æ—¶å€™ç›´æ¥ç”¨$strcmp$æˆ–è€…$compare$æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å³å¯</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> str1[<span class=\"number\">20</span>],str2[<span class=\"number\">20</span>];</span><br><span class=\"line\"><span class=\"built_in\">string</span> str11,str22;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">chars_compare</span><span class=\"params\">(<span class=\"type\">char</span> str1[],<span class=\"type\">char</span> str2[])</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len1=<span class=\"built_in\">strlen</span>(str1);</span><br><span class=\"line\">\t<span class=\"type\">int</span> len2=<span class=\"built_in\">strlen</span>(str2);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len1!=len2) <span class=\"keyword\">return</span> len1&gt;len2;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"built_in\">strcmp</span>(str1,str2)&gt;<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">str_compare</span><span class=\"params\">(<span class=\"built_in\">string</span> str11,<span class=\"built_in\">string</span> str22)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> len1=str11.length();</span><br><span class=\"line\">\t<span class=\"type\">int</span> len2=str22.length();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len1!=len2) <span class=\"keyword\">return</span> len1&gt;len2;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> str11.compare(str22)&gt;<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—ç¬¦æ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str1,<span class=\"string\">&quot;123&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str2,<span class=\"string\">&quot;1234&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;chars_compare(str1,str2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str1,<span class=\"string\">&quot;34&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">strcpy</span>(str2,<span class=\"string\">&quot;23&quot;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;chars_compare(str1,str2)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\tstr11=<span class=\"string\">&quot;123&quot;</span>;</span><br><span class=\"line\">\tstr22=<span class=\"string\">&quot;1234&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_compare(str11,str22)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\tstr11=<span class=\"string\">&quot;34&quot;</span>;</span><br><span class=\"line\">\tstr22=<span class=\"string\">&quot;23&quot;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;str_compare(str11,str22)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"substrå‡½æ•°","date":"2024-10-03T04:46:05.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‡½æ•°é€ŸæŸ¥-substr\n\n* $substr$ å‡½æ•°ç”¨äºæˆªå–å­—ç¬¦ä¸²ï¼Œ$substr(pos,\\ n)$ æŒ‡ä»æŒ‡å®šå­—ç¬¦ä¸²çš„ $pos$ ç´¢å¼•èµ·å‘åæˆªå– $n$ ä¸ªå­—ç¬¦ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è§ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\tstring s=\"01234567\"; // ç´¢å¼•ä»0å¼€å§‹\n\t\n\tstring s1=s.substr(); // 1)ä¸ä¼ å‚ç­‰ä»·äºå¤åˆ¶å­—ç¬¦ä¸²\n\tcout<<s1<<endl; // 01234567\n\t\n\tstring s2=s.substr(0,2); // 2)ä¼ é€’2ä¸ªå‚æ•°,æˆªå–ä»å­—ç¬¦ä¸²sä¸‹æ ‡0å¼€å§‹å¾€åçš„2ä¸ªå­—ç¬¦\n\tcout<<s2<<endl; // 01\n\t\n\tstring s3=s.substr(4); // 3)ä¼ é€’1ä¸ªå‚æ•°,æˆªå–sç´¢å¼•ä¸º4åˆ°å­—ç¬¦ä¸²å°¾éƒ¨\n\tcout<<s3<<endl; // 4567\n\t\n\tstring s4=s.substr(8); // 4)è‹¥posè¶…è¿‡äº†stringçš„å¤§å°,ä¸æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰è¾“å‡º\n\tcout<<s4<<endl; // ä¸è¾“å‡º\n\t\n\tstring s5=s.substr(2,10); // 5)è‹¥pos+nè¶…è¿‡äº†stringçš„å¤§å°,åˆ™è‡ªåŠ¨è°ƒæ•´nçš„å€¼,æœ€å¤šåªæˆªå–åˆ°sçš„æœ«å°¾\n\tcout<<s5<<endl; // 234567\n\t\n\tstring s6=s.substr(-1); // 6)posä¼ å…¥è´Ÿå€¼,æŠ›å‡ºout_of_rangeå¼‚å¸¸(REè¿è¡Œæ—¶é”™è¯¯)\n\tcout<<s6<<endl; // æŠ¥é”™,RE\n\t\n\tstring s7=s.substr(3,-2); // 7)nä¼ å…¥è´Ÿå€¼,åˆ™é»˜è®¤æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾\n\tcout<<s7<<endl; // 34567\n\treturn 0;\n}\n```\n","source":"_posts/substrå‡½æ•°.md","raw":"---\ntitle: substrå‡½æ•°\ndate: 2024-10-03 12:46:05\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å‡½æ•°é€ŸæŸ¥\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‡½æ•°é€ŸæŸ¥-substr\n\n* $substr$ å‡½æ•°ç”¨äºæˆªå–å­—ç¬¦ä¸²ï¼Œ$substr(pos,\\ n)$ æŒ‡ä»æŒ‡å®šå­—ç¬¦ä¸²çš„ $pos$ ç´¢å¼•èµ·å‘åæˆªå– $n$ ä¸ªå­—ç¬¦ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è§ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\tstring s=\"01234567\"; // ç´¢å¼•ä»0å¼€å§‹\n\t\n\tstring s1=s.substr(); // 1)ä¸ä¼ å‚ç­‰ä»·äºå¤åˆ¶å­—ç¬¦ä¸²\n\tcout<<s1<<endl; // 01234567\n\t\n\tstring s2=s.substr(0,2); // 2)ä¼ é€’2ä¸ªå‚æ•°,æˆªå–ä»å­—ç¬¦ä¸²sä¸‹æ ‡0å¼€å§‹å¾€åçš„2ä¸ªå­—ç¬¦\n\tcout<<s2<<endl; // 01\n\t\n\tstring s3=s.substr(4); // 3)ä¼ é€’1ä¸ªå‚æ•°,æˆªå–sç´¢å¼•ä¸º4åˆ°å­—ç¬¦ä¸²å°¾éƒ¨\n\tcout<<s3<<endl; // 4567\n\t\n\tstring s4=s.substr(8); // 4)è‹¥posè¶…è¿‡äº†stringçš„å¤§å°,ä¸æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰è¾“å‡º\n\tcout<<s4<<endl; // ä¸è¾“å‡º\n\t\n\tstring s5=s.substr(2,10); // 5)è‹¥pos+nè¶…è¿‡äº†stringçš„å¤§å°,åˆ™è‡ªåŠ¨è°ƒæ•´nçš„å€¼,æœ€å¤šåªæˆªå–åˆ°sçš„æœ«å°¾\n\tcout<<s5<<endl; // 234567\n\t\n\tstring s6=s.substr(-1); // 6)posä¼ å…¥è´Ÿå€¼,æŠ›å‡ºout_of_rangeå¼‚å¸¸(REè¿è¡Œæ—¶é”™è¯¯)\n\tcout<<s6<<endl; // æŠ¥é”™,RE\n\t\n\tstring s7=s.substr(3,-2); // 7)nä¼ å…¥è´Ÿå€¼,åˆ™é»˜è®¤æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾\n\tcout<<s7<<endl; // 34567\n\treturn 0;\n}\n```\n","slug":"substrå‡½æ•°","published":1,"updated":"2024-10-05T07:59:12.036Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsd000ec0nfa25a7t9e","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å‡½æ•°é€ŸæŸ¥-substr\">å‡½æ•°é€ŸæŸ¥-substr</span></h1><ul>\n<li>$substr$ å‡½æ•°ç”¨äºæˆªå–å­—ç¬¦ä¸²ï¼Œ$substr(pos,\\ n)$ æŒ‡ä»æŒ‡å®šå­—ç¬¦ä¸²çš„ $pos$ ç´¢å¼•èµ·å‘åæˆªå– $n$ ä¸ªå­—ç¬¦ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è§ä»£ç </li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s=<span class=\"string\">&quot;01234567&quot;</span>; <span class=\"comment\">// ç´¢å¼•ä»0å¼€å§‹</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s1=s.substr(); <span class=\"comment\">// 1)ä¸ä¼ å‚ç­‰ä»·äºå¤åˆ¶å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s1&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 01234567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s2=s.substr(<span class=\"number\">0</span>,<span class=\"number\">2</span>); <span class=\"comment\">// 2)ä¼ é€’2ä¸ªå‚æ•°,æˆªå–ä»å­—ç¬¦ä¸²sä¸‹æ ‡0å¼€å§‹å¾€åçš„2ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s2&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 01</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s3=s.substr(<span class=\"number\">4</span>); <span class=\"comment\">// 3)ä¼ é€’1ä¸ªå‚æ•°,æˆªå–sç´¢å¼•ä¸º4åˆ°å­—ç¬¦ä¸²å°¾éƒ¨</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s3&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 4567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s4=s.substr(<span class=\"number\">8</span>); <span class=\"comment\">// 4)è‹¥posè¶…è¿‡äº†stringçš„å¤§å°,ä¸æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰è¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s4&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ä¸è¾“å‡º</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s5=s.substr(<span class=\"number\">2</span>,<span class=\"number\">10</span>); <span class=\"comment\">// 5)è‹¥pos+nè¶…è¿‡äº†stringçš„å¤§å°,åˆ™è‡ªåŠ¨è°ƒæ•´nçš„å€¼,æœ€å¤šåªæˆªå–åˆ°sçš„æœ«å°¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s5&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 234567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s6=s.substr(<span class=\"number\">-1</span>); <span class=\"comment\">// 6)posä¼ å…¥è´Ÿå€¼,æŠ›å‡ºout_of_rangeå¼‚å¸¸(REè¿è¡Œæ—¶é”™è¯¯)</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s6&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// æŠ¥é”™,RE</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s7=s.substr(<span class=\"number\">3</span>,<span class=\"number\">-2</span>); <span class=\"comment\">// 7)nä¼ å…¥è´Ÿå€¼,åˆ™é»˜è®¤æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s7&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 34567</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å‡½æ•°é€ŸæŸ¥-substr\"><a href=\"#å‡½æ•°é€ŸæŸ¥-substr\" class=\"headerlink\" title=\"å‡½æ•°é€ŸæŸ¥-substr\"></a>å‡½æ•°é€ŸæŸ¥-substr</h1><ul>\n<li>$substr$ å‡½æ•°ç”¨äºæˆªå–å­—ç¬¦ä¸²ï¼Œ$substr(pos,\\ n)$ æŒ‡ä»æŒ‡å®šå­—ç¬¦ä¸²çš„ $pos$ ç´¢å¼•èµ·å‘åæˆªå– $n$ ä¸ªå­—ç¬¦ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è§ä»£ç </li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s=<span class=\"string\">&quot;01234567&quot;</span>; <span class=\"comment\">// ç´¢å¼•ä»0å¼€å§‹</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s1=s.substr(); <span class=\"comment\">// 1)ä¸ä¼ å‚ç­‰ä»·äºå¤åˆ¶å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s1&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 01234567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s2=s.substr(<span class=\"number\">0</span>,<span class=\"number\">2</span>); <span class=\"comment\">// 2)ä¼ é€’2ä¸ªå‚æ•°,æˆªå–ä»å­—ç¬¦ä¸²sä¸‹æ ‡0å¼€å§‹å¾€åçš„2ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s2&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 01</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s3=s.substr(<span class=\"number\">4</span>); <span class=\"comment\">// 3)ä¼ é€’1ä¸ªå‚æ•°,æˆªå–sç´¢å¼•ä¸º4åˆ°å­—ç¬¦ä¸²å°¾éƒ¨</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s3&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 4567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s4=s.substr(<span class=\"number\">8</span>); <span class=\"comment\">// 4)è‹¥posè¶…è¿‡äº†stringçš„å¤§å°,ä¸æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰è¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s4&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ä¸è¾“å‡º</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s5=s.substr(<span class=\"number\">2</span>,<span class=\"number\">10</span>); <span class=\"comment\">// 5)è‹¥pos+nè¶…è¿‡äº†stringçš„å¤§å°,åˆ™è‡ªåŠ¨è°ƒæ•´nçš„å€¼,æœ€å¤šåªæˆªå–åˆ°sçš„æœ«å°¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s5&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 234567</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s6=s.substr(<span class=\"number\">-1</span>); <span class=\"comment\">// 6)posä¼ å…¥è´Ÿå€¼,æŠ›å‡ºout_of_rangeå¼‚å¸¸(REè¿è¡Œæ—¶é”™è¯¯)</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s6&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// æŠ¥é”™,RE</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> s7=s.substr(<span class=\"number\">3</span>,<span class=\"number\">-2</span>); <span class=\"comment\">// 7)nä¼ å…¥è´Ÿå€¼,åˆ™é»˜è®¤æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;s7&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// 34567</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"ä¹˜æ³•é€†å…ƒ","date":"2024-10-07T02:44:53.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ä¹˜æ³•é€†å…ƒ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* åŒä½™å¼ï¼šå¦‚æœ $a,b$ æ¨¡ $m$ çš„ä½™æ•°ç›¸åŒï¼Œåˆ™ç§° $a,b$ æ¨¡ $m$ åŒä½™ï¼Œè®°ä¸º $a\\equiv b$ï¼Œä¾‹å¦‚ï¼š$8 \\equiv 2\\ (mod\\ 3)$\n\n* ä¹˜æ³•é€†å…ƒï¼šè‹¥ $a,b$ äº’è´¨ï¼Œä¸”æ»¡è¶³åŒä½™æ–¹ç¨‹ $ax\\equiv 1\\ (mod \\ b)$ï¼Œåˆ™ç§° $x$ ä¸º $a\\ mod \\ b$ çš„ä¹˜æ³•é€†å…ƒï¼Œè®°ä½œ $a^{-1}$ï¼Œä¾‹å¦‚ï¼š$8x \\equiv 1\\ (mod\\ 5)$ï¼Œè§£å¾— $x=2,7,12...$\n* è´¹é©¬å°å®šç†ï¼šè‹¥ $p$ ä¸ºè´¨æ•°ï¼Œä¸” $a,p$ äº’è´¨ï¼Œåˆ™ $a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œä¾‹å¦‚ï¼š$4^{3-1}\\equiv 1(mod\\ 3)$\n* è´¹é©¬å°å®šç†æ±‚ä¹˜æ³•é€†å…ƒï¼š$a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œå¾— $aÃ—a^{p-2}\\equiv 1\\ (mod\\ p)$ï¼Œæ ¹æ®ä¹˜æ³•é€†å…ƒçš„å®šä¹‰ï¼Œæ‰€ä»¥ $a^{p-2}$ å°±æ˜¯ $a$ æ¨¡ $p$ çš„ä¹˜æ³•é€†å…ƒ\n\n\n\n## 1. æ¿å­\n\n``` c\n// å¹‚å–ä½™,a^b%p\nint qmi(ll a,int b,int p) {\n    int res=1; // ç´¯ä¹˜å› å­\n    while(b) {\n        if(b&1) res=res*a%p;\n        a=a*a%p; // ææƒ\n        b>>=1;\n    }\n    return res;\n}\n\nint main() {\n    cin>>a>>p;\n    // å¿«é€Ÿå¹‚è®¡ç®—a^(p-2),å°±æ˜¯a%pçš„ä¹˜æ³•é€†å…ƒ\n    // å¦‚æœa,päº’è´¨,æ‰æœ‰a%pä¹˜æ³•é€†å…ƒ\n    if(a%p) {\n        printf(\"%d\\n\",qmi(a,p-2,p));\n    }\n    return 0;\n}\n```\n\n\n\n## 2. æ€§è´¨\n\n* $14/4\\ (mod\\ 5)=7/2 \\ (mod\\ 5)=7Ã—3\\ (mod\\ 5)$ï¼Œè¿™æ˜¯å› ä¸º $2Ã—3\\ mod\\ 5=1$ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º $3$ å’Œ $2$ åœ¨æ¨¡ $5$ ä¸‹äº’ä¸ºå€’æ•°\n* æ±‚ä¹˜æ³•é€†å…ƒçš„æ–¹æ³•ï¼š$2^{-1} \\ mod\\ 7$ï¼Œæ¨¡  $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ï¼Œæ±‚è°ä¹˜ä»¥ $2$ å†æ¨¡ $7$ ç­‰äº $1$ï¼Œå¾ˆå®¹æ˜“å£ç®—å¾—åˆ° $4Ã—2\\ (mod\\ 7)=1$\n  * é€šè¿‡è´¹é©¬å°å®šç†è®¡ç®—ï¼Œ$a^{p-2}$ å³ $2^{7-2}=32$\n  * æ¨¡ $n$ ä¸‹äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œä¸€èˆ¬åªè€ƒè™‘æ¯” $n$ å°çš„ï¼Œæ‰€ä»¥ $32$ å¯¹ $7$ å–æ¨¡å¾—åˆ° $4$ï¼Œé‚£ä¹ˆæ¨¡ $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ $4$\n* $a$ åœ¨æ¨¡ $n$ å†…çš„ä¹˜æ³•é€†å…ƒ $a^{-1}\\ (1<=a^{-1}<n)$ æ˜¯å”¯ä¸€çš„ï¼Œæ¯”å¦‚æ¨¡ $5$ ä¸‹ $2$ å’Œ $3$ äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œé™¤æ­¤å¤–å†æ— åˆ«çš„é€†å…ƒ\n* $1$  ä¸ç®¡æ¨¡è°éƒ½æ˜¯ä½™ $1$\n* $a$ çš„ä¹˜æ³•é€†å…ƒçš„ä¹˜æ³•é€†å…ƒæ˜¯ $a$ï¼Œ$z=a^{-1},\\ z^{-1}=(a^{-1})^{-1}=a$\n\n* **ä»€ä¹ˆæ—¶å€™ç”¨ä¹˜æ³•é€†å…ƒï¼Ÿå½“é¢˜ç›®ä¸­æ¨å¯¼å‡ºæ¥çš„å…¬å¼å¸¦æœ‰é™¤æ³•ï¼Œå¹¶ä¸”è¦è®©ç»“æœå¯¹æŸä¸ªæ•°ä½œæ¨¡è¿ç®—æ—¶**ï¼Œåº”ç”¨ä¹˜æ³•é€†å…ƒæŠŠé™¤æ³•å˜ä¸ºä¹˜æ³•ï¼Œä¸€ç›´é™¤å†ä½œæ¨¡è¿ç®—æ˜¯ä¼šå‡ºé”™çš„ï¼Œå¯ä»¥è¿™æ ·æƒ³ï¼ŒåŠ å‡ä¹˜éƒ½æ˜¯ä»ä½ä½èµ·å¼€å§‹è¿ç®—ï¼Œåªæœ‰é™¤æ³•æ˜¯ä»é«˜ä½å¼€å§‹è¿ç®—ï¼Œè€Œæ¨¡è¿ç®—åˆæ˜¯å–ä½å‡ ä½ï¼Œæ‰€ä»¥åº”è¯¥æŠŠé™¤æ³•è½¬æ¢ä¸ºä¹˜æ³•\n\n\n\n## 3. çº¿æ€§æ±‚é€†å…ƒæ¿å­\n\n``` c\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int maxn=3e6+6;\n// ç»™å®šn,p,è®¡ç®—1~nä¸­æ‰€æœ‰æ•´æ•°åœ¨æ¨¡pæ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒ\n// aæ¨¡pçš„ä¹˜æ³•é€†å…ƒå®šä¹‰ä¸º a*a_invç­‰ä»·äº1(mod p),å»æ‰¾a_invæ˜¯å¤šå°‘\n// çº¿æ€§æ±‚é€†å…ƒ\nint inv[maxn]; // å­˜å‚¨æ¯ä¸ªæ•°å­—çš„é€†å…ƒ\n\nsigned main() {\n\tint n,p;\n\tcin>>n>>p; // næ˜¯èŒƒå›´,pæ˜¯æ¨¡æ•°\n\tinv[1]=1; // 1çš„é€†å…ƒæ˜¯1, (1*1)mod p=1\n\tcout<<inv[1]<<'\\n';\n\tfor(int i=2;i<=n;i++) {\n\t\tinv[i]=-(p/i)*inv[p%i]; // x_inv=-k*r_inv (æ€ä¹ˆæ¨å¯¼çš„Â·Â·Â·çœ‹bç«™è§†é¢‘å§)\n\t\tinv[i]=(inv[i]%p+p)%p; // é˜²æ­¢è´Ÿæ•°äº§ç”Ÿ\n\t\tcout<<inv[i]<<'\\n';\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/ä¹˜æ³•é€†å…ƒ.md","raw":"---\ntitle: ä¹˜æ³•é€†å…ƒ\ndate: 2024-10-07 10:44:53\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - ä¹˜æ³•é€†å…ƒ\n    - æ•°è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ä¹˜æ³•é€†å…ƒ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* åŒä½™å¼ï¼šå¦‚æœ $a,b$ æ¨¡ $m$ çš„ä½™æ•°ç›¸åŒï¼Œåˆ™ç§° $a,b$ æ¨¡ $m$ åŒä½™ï¼Œè®°ä¸º $a\\equiv b$ï¼Œä¾‹å¦‚ï¼š$8 \\equiv 2\\ (mod\\ 3)$\n\n* ä¹˜æ³•é€†å…ƒï¼šè‹¥ $a,b$ äº’è´¨ï¼Œä¸”æ»¡è¶³åŒä½™æ–¹ç¨‹ $ax\\equiv 1\\ (mod \\ b)$ï¼Œåˆ™ç§° $x$ ä¸º $a\\ mod \\ b$ çš„ä¹˜æ³•é€†å…ƒï¼Œè®°ä½œ $a^{-1}$ï¼Œä¾‹å¦‚ï¼š$8x \\equiv 1\\ (mod\\ 5)$ï¼Œè§£å¾— $x=2,7,12...$\n* è´¹é©¬å°å®šç†ï¼šè‹¥ $p$ ä¸ºè´¨æ•°ï¼Œä¸” $a,p$ äº’è´¨ï¼Œåˆ™ $a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œä¾‹å¦‚ï¼š$4^{3-1}\\equiv 1(mod\\ 3)$\n* è´¹é©¬å°å®šç†æ±‚ä¹˜æ³•é€†å…ƒï¼š$a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œå¾— $aÃ—a^{p-2}\\equiv 1\\ (mod\\ p)$ï¼Œæ ¹æ®ä¹˜æ³•é€†å…ƒçš„å®šä¹‰ï¼Œæ‰€ä»¥ $a^{p-2}$ å°±æ˜¯ $a$ æ¨¡ $p$ çš„ä¹˜æ³•é€†å…ƒ\n\n\n\n## 1. æ¿å­\n\n``` c\n// å¹‚å–ä½™,a^b%p\nint qmi(ll a,int b,int p) {\n    int res=1; // ç´¯ä¹˜å› å­\n    while(b) {\n        if(b&1) res=res*a%p;\n        a=a*a%p; // ææƒ\n        b>>=1;\n    }\n    return res;\n}\n\nint main() {\n    cin>>a>>p;\n    // å¿«é€Ÿå¹‚è®¡ç®—a^(p-2),å°±æ˜¯a%pçš„ä¹˜æ³•é€†å…ƒ\n    // å¦‚æœa,päº’è´¨,æ‰æœ‰a%pä¹˜æ³•é€†å…ƒ\n    if(a%p) {\n        printf(\"%d\\n\",qmi(a,p-2,p));\n    }\n    return 0;\n}\n```\n\n\n\n## 2. æ€§è´¨\n\n* $14/4\\ (mod\\ 5)=7/2 \\ (mod\\ 5)=7Ã—3\\ (mod\\ 5)$ï¼Œè¿™æ˜¯å› ä¸º $2Ã—3\\ mod\\ 5=1$ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º $3$ å’Œ $2$ åœ¨æ¨¡ $5$ ä¸‹äº’ä¸ºå€’æ•°\n* æ±‚ä¹˜æ³•é€†å…ƒçš„æ–¹æ³•ï¼š$2^{-1} \\ mod\\ 7$ï¼Œæ¨¡  $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ï¼Œæ±‚è°ä¹˜ä»¥ $2$ å†æ¨¡ $7$ ç­‰äº $1$ï¼Œå¾ˆå®¹æ˜“å£ç®—å¾—åˆ° $4Ã—2\\ (mod\\ 7)=1$\n  * é€šè¿‡è´¹é©¬å°å®šç†è®¡ç®—ï¼Œ$a^{p-2}$ å³ $2^{7-2}=32$\n  * æ¨¡ $n$ ä¸‹äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œä¸€èˆ¬åªè€ƒè™‘æ¯” $n$ å°çš„ï¼Œæ‰€ä»¥ $32$ å¯¹ $7$ å–æ¨¡å¾—åˆ° $4$ï¼Œé‚£ä¹ˆæ¨¡ $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ $4$\n* $a$ åœ¨æ¨¡ $n$ å†…çš„ä¹˜æ³•é€†å…ƒ $a^{-1}\\ (1<=a^{-1}<n)$ æ˜¯å”¯ä¸€çš„ï¼Œæ¯”å¦‚æ¨¡ $5$ ä¸‹ $2$ å’Œ $3$ äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œé™¤æ­¤å¤–å†æ— åˆ«çš„é€†å…ƒ\n* $1$  ä¸ç®¡æ¨¡è°éƒ½æ˜¯ä½™ $1$\n* $a$ çš„ä¹˜æ³•é€†å…ƒçš„ä¹˜æ³•é€†å…ƒæ˜¯ $a$ï¼Œ$z=a^{-1},\\ z^{-1}=(a^{-1})^{-1}=a$\n\n* **ä»€ä¹ˆæ—¶å€™ç”¨ä¹˜æ³•é€†å…ƒï¼Ÿå½“é¢˜ç›®ä¸­æ¨å¯¼å‡ºæ¥çš„å…¬å¼å¸¦æœ‰é™¤æ³•ï¼Œå¹¶ä¸”è¦è®©ç»“æœå¯¹æŸä¸ªæ•°ä½œæ¨¡è¿ç®—æ—¶**ï¼Œåº”ç”¨ä¹˜æ³•é€†å…ƒæŠŠé™¤æ³•å˜ä¸ºä¹˜æ³•ï¼Œä¸€ç›´é™¤å†ä½œæ¨¡è¿ç®—æ˜¯ä¼šå‡ºé”™çš„ï¼Œå¯ä»¥è¿™æ ·æƒ³ï¼ŒåŠ å‡ä¹˜éƒ½æ˜¯ä»ä½ä½èµ·å¼€å§‹è¿ç®—ï¼Œåªæœ‰é™¤æ³•æ˜¯ä»é«˜ä½å¼€å§‹è¿ç®—ï¼Œè€Œæ¨¡è¿ç®—åˆæ˜¯å–ä½å‡ ä½ï¼Œæ‰€ä»¥åº”è¯¥æŠŠé™¤æ³•è½¬æ¢ä¸ºä¹˜æ³•\n\n\n\n## 3. çº¿æ€§æ±‚é€†å…ƒæ¿å­\n\n``` c\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int maxn=3e6+6;\n// ç»™å®šn,p,è®¡ç®—1~nä¸­æ‰€æœ‰æ•´æ•°åœ¨æ¨¡pæ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒ\n// aæ¨¡pçš„ä¹˜æ³•é€†å…ƒå®šä¹‰ä¸º a*a_invç­‰ä»·äº1(mod p),å»æ‰¾a_invæ˜¯å¤šå°‘\n// çº¿æ€§æ±‚é€†å…ƒ\nint inv[maxn]; // å­˜å‚¨æ¯ä¸ªæ•°å­—çš„é€†å…ƒ\n\nsigned main() {\n\tint n,p;\n\tcin>>n>>p; // næ˜¯èŒƒå›´,pæ˜¯æ¨¡æ•°\n\tinv[1]=1; // 1çš„é€†å…ƒæ˜¯1, (1*1)mod p=1\n\tcout<<inv[1]<<'\\n';\n\tfor(int i=2;i<=n;i++) {\n\t\tinv[i]=-(p/i)*inv[p%i]; // x_inv=-k*r_inv (æ€ä¹ˆæ¨å¯¼çš„Â·Â·Â·çœ‹bç«™è§†é¢‘å§)\n\t\tinv[i]=(inv[i]%p+p)%p; // é˜²æ­¢è´Ÿæ•°äº§ç”Ÿ\n\t\tcout<<inv[i]<<'\\n';\n\t}\n\treturn 0;\n}\n```\n","slug":"ä¹˜æ³•é€†å…ƒ","published":1,"updated":"2024-10-07T02:47:07.223Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpse000fc0nf98mn8tie","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"ä¹˜æ³•é€†å…ƒ\">ä¹˜æ³•é€†å…ƒ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9D%BF%E5%AD%90\">1. æ¿å­</a></li>\n<li><a href=\"#2-%E6%80%A7%E8%B4%A8\">2. æ€§è´¨</a></li>\n<li><a href=\"#3-%E7%BA%BF%E6%80%A7%E6%B1%82%E9%80%86%E5%85%83%E6%9D%BF%E5%AD%90\">3. çº¿æ€§æ±‚é€†å…ƒæ¿å­</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li><p>åŒä½™å¼ï¼šå¦‚æœ $a,b$ æ¨¡ $m$ çš„ä½™æ•°ç›¸åŒï¼Œåˆ™ç§° $a,b$ æ¨¡ $m$ åŒä½™ï¼Œè®°ä¸º $a\\equiv b$ï¼Œä¾‹å¦‚ï¼š$8 \\equiv 2\\ (mod\\ 3)$</p>\n</li>\n<li><p>ä¹˜æ³•é€†å…ƒï¼šè‹¥ $a,b$ äº’è´¨ï¼Œä¸”æ»¡è¶³åŒä½™æ–¹ç¨‹ $ax\\equiv 1\\ (mod \\ b)$ï¼Œåˆ™ç§° $x$ ä¸º $a\\ mod \\ b$ çš„ä¹˜æ³•é€†å…ƒï¼Œè®°ä½œ $a^{-1}$ï¼Œä¾‹å¦‚ï¼š$8x \\equiv 1\\ (mod\\ 5)$ï¼Œè§£å¾— $x&#x3D;2,7,12â€¦$</p>\n</li>\n<li><p>è´¹é©¬å°å®šç†ï¼šè‹¥ $p$ ä¸ºè´¨æ•°ï¼Œä¸” $a,p$ äº’è´¨ï¼Œåˆ™ $a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œä¾‹å¦‚ï¼š$4^{3-1}\\equiv 1(mod\\ 3)$</p>\n</li>\n<li><p>è´¹é©¬å°å®šç†æ±‚ä¹˜æ³•é€†å…ƒï¼š$a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œå¾— $aÃ—a^{p-2}\\equiv 1\\ (mod\\ p)$ï¼Œæ ¹æ®ä¹˜æ³•é€†å…ƒçš„å®šä¹‰ï¼Œæ‰€ä»¥ $a^{p-2}$ å°±æ˜¯ $a$ æ¨¡ $p$ çš„ä¹˜æ³•é€†å…ƒ</p>\n</li>\n</ul>\n<h2><span id=\"1-æ¿å­\">1. æ¿å­</span></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¹‚å–ä½™,a^b%p</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">qmi</span><span class=\"params\">(ll a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> p)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> res=<span class=\"number\">1</span>; <span class=\"comment\">// ç´¯ä¹˜å› å­</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(b&amp;<span class=\"number\">1</span>) res=res*a%p;</span><br><span class=\"line\">        a=a*a%p; <span class=\"comment\">// ææƒ</span></span><br><span class=\"line\">        b&gt;&gt;=<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;p;</span><br><span class=\"line\">    <span class=\"comment\">// å¿«é€Ÿå¹‚è®¡ç®—a^(p-2),å°±æ˜¯a%pçš„ä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœa,päº’è´¨,æ‰æœ‰a%pä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a%p) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,qmi(a,p<span class=\"number\">-2</span>,p));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ€§è´¨\">2. æ€§è´¨</span></h2><ul>\n<li><p>$14&#x2F;4\\ (mod\\ 5)&#x3D;7&#x2F;2 \\ (mod\\ 5)&#x3D;7Ã—3\\ (mod\\ 5)$ï¼Œè¿™æ˜¯å› ä¸º $2Ã—3\\ mod\\ 5&#x3D;1$ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º $3$ å’Œ $2$ åœ¨æ¨¡ $5$ ä¸‹äº’ä¸ºå€’æ•°</p>\n</li>\n<li><p>æ±‚ä¹˜æ³•é€†å…ƒçš„æ–¹æ³•ï¼š$2^{-1} \\ mod\\ 7$ï¼Œæ¨¡  $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ï¼Œæ±‚è°ä¹˜ä»¥ $2$ å†æ¨¡ $7$ ç­‰äº $1$ï¼Œå¾ˆå®¹æ˜“å£ç®—å¾—åˆ° $4Ã—2\\ (mod\\ 7)&#x3D;1$</p>\n<ul>\n<li>é€šè¿‡è´¹é©¬å°å®šç†è®¡ç®—ï¼Œ$a^{p-2}$ å³ $2^{7-2}&#x3D;32$</li>\n<li>æ¨¡ $n$ ä¸‹äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œä¸€èˆ¬åªè€ƒè™‘æ¯” $n$ å°çš„ï¼Œæ‰€ä»¥ $32$ å¯¹ $7$ å–æ¨¡å¾—åˆ° $4$ï¼Œé‚£ä¹ˆæ¨¡ $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ $4$</li>\n</ul>\n</li>\n<li><p>$a$ åœ¨æ¨¡ $n$ å†…çš„ä¹˜æ³•é€†å…ƒ $a^{-1}\\ (1&lt;&#x3D;a^{-1}&lt;n)$ æ˜¯å”¯ä¸€çš„ï¼Œæ¯”å¦‚æ¨¡ $5$ ä¸‹ $2$ å’Œ $3$ äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œé™¤æ­¤å¤–å†æ— åˆ«çš„é€†å…ƒ</p>\n</li>\n<li><p>$1$  ä¸ç®¡æ¨¡è°éƒ½æ˜¯ä½™ $1$</p>\n</li>\n<li><p>$a$ çš„ä¹˜æ³•é€†å…ƒçš„ä¹˜æ³•é€†å…ƒæ˜¯ $a$ï¼Œ$z&#x3D;a^{-1},\\ z^{-1}&#x3D;(a^{-1})^{-1}&#x3D;a$</p>\n</li>\n<li><p><strong>ä»€ä¹ˆæ—¶å€™ç”¨ä¹˜æ³•é€†å…ƒï¼Ÿå½“é¢˜ç›®ä¸­æ¨å¯¼å‡ºæ¥çš„å…¬å¼å¸¦æœ‰é™¤æ³•ï¼Œå¹¶ä¸”è¦è®©ç»“æœå¯¹æŸä¸ªæ•°ä½œæ¨¡è¿ç®—æ—¶</strong>ï¼Œåº”ç”¨ä¹˜æ³•é€†å…ƒæŠŠé™¤æ³•å˜ä¸ºä¹˜æ³•ï¼Œä¸€ç›´é™¤å†ä½œæ¨¡è¿ç®—æ˜¯ä¼šå‡ºé”™çš„ï¼Œå¯ä»¥è¿™æ ·æƒ³ï¼ŒåŠ å‡ä¹˜éƒ½æ˜¯ä»ä½ä½èµ·å¼€å§‹è¿ç®—ï¼Œåªæœ‰é™¤æ³•æ˜¯ä»é«˜ä½å¼€å§‹è¿ç®—ï¼Œè€Œæ¨¡è¿ç®—åˆæ˜¯å–ä½å‡ ä½ï¼Œæ‰€ä»¥åº”è¯¥æŠŠé™¤æ³•è½¬æ¢ä¸ºä¹˜æ³•</p>\n</li>\n</ul>\n<h2><span id=\"3-çº¿æ€§æ±‚é€†å…ƒæ¿å­\">3. çº¿æ€§æ±‚é€†å…ƒæ¿å­</span></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> int long long</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">3e6</span>+<span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"comment\">// ç»™å®šn,p,è®¡ç®—1~nä¸­æ‰€æœ‰æ•´æ•°åœ¨æ¨¡pæ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\"><span class=\"comment\">// aæ¨¡pçš„ä¹˜æ³•é€†å…ƒå®šä¹‰ä¸º a*a_invç­‰ä»·äº1(mod p),å»æ‰¾a_invæ˜¯å¤šå°‘</span></span><br><span class=\"line\"><span class=\"comment\">// çº¿æ€§æ±‚é€†å…ƒ</span></span><br><span class=\"line\"><span class=\"type\">int</span> inv[maxn]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªæ•°å­—çš„é€†å…ƒ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">signed</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,p;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;p; <span class=\"comment\">// næ˜¯èŒƒå›´,pæ˜¯æ¨¡æ•°</span></span><br><span class=\"line\">\tinv[<span class=\"number\">1</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// 1çš„é€†å…ƒæ˜¯1, (1*1)mod p=1</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;inv[<span class=\"number\">1</span>]&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tinv[i]=-(p/i)*inv[p%i]; <span class=\"comment\">// x_inv=-k*r_inv (æ€ä¹ˆæ¨å¯¼çš„Â·Â·Â·çœ‹bç«™è§†é¢‘å§)</span></span><br><span class=\"line\">\t\tinv[i]=(inv[i]%p+p)%p; <span class=\"comment\">// é˜²æ­¢è´Ÿæ•°äº§ç”Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;inv[i]&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"ä¹˜æ³•é€†å…ƒ\"><a href=\"#ä¹˜æ³•é€†å…ƒ\" class=\"headerlink\" title=\"ä¹˜æ³•é€†å…ƒ\"></a>ä¹˜æ³•é€†å…ƒ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9D%BF%E5%AD%90\">1. æ¿å­</a></li>\n<li><a href=\"#2-%E6%80%A7%E8%B4%A8\">2. æ€§è´¨</a></li>\n<li><a href=\"#3-%E7%BA%BF%E6%80%A7%E6%B1%82%E9%80%86%E5%85%83%E6%9D%BF%E5%AD%90\">3. çº¿æ€§æ±‚é€†å…ƒæ¿å­</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li><p>åŒä½™å¼ï¼šå¦‚æœ $a,b$ æ¨¡ $m$ çš„ä½™æ•°ç›¸åŒï¼Œåˆ™ç§° $a,b$ æ¨¡ $m$ åŒä½™ï¼Œè®°ä¸º $a\\equiv b$ï¼Œä¾‹å¦‚ï¼š$8 \\equiv 2\\ (mod\\ 3)$</p>\n</li>\n<li><p>ä¹˜æ³•é€†å…ƒï¼šè‹¥ $a,b$ äº’è´¨ï¼Œä¸”æ»¡è¶³åŒä½™æ–¹ç¨‹ $ax\\equiv 1\\ (mod \\ b)$ï¼Œåˆ™ç§° $x$ ä¸º $a\\ mod \\ b$ çš„ä¹˜æ³•é€†å…ƒï¼Œè®°ä½œ $a^{-1}$ï¼Œä¾‹å¦‚ï¼š$8x \\equiv 1\\ (mod\\ 5)$ï¼Œè§£å¾— $x&#x3D;2,7,12â€¦$</p>\n</li>\n<li><p>è´¹é©¬å°å®šç†ï¼šè‹¥ $p$ ä¸ºè´¨æ•°ï¼Œä¸” $a,p$ äº’è´¨ï¼Œåˆ™ $a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œä¾‹å¦‚ï¼š$4^{3-1}\\equiv 1(mod\\ 3)$</p>\n</li>\n<li><p>è´¹é©¬å°å®šç†æ±‚ä¹˜æ³•é€†å…ƒï¼š$a^{p-1}\\equiv1\\ (mod\\ p)$ï¼Œå¾— $aÃ—a^{p-2}\\equiv 1\\ (mod\\ p)$ï¼Œæ ¹æ®ä¹˜æ³•é€†å…ƒçš„å®šä¹‰ï¼Œæ‰€ä»¥ $a^{p-2}$ å°±æ˜¯ $a$ æ¨¡ $p$ çš„ä¹˜æ³•é€†å…ƒ</p>\n</li>\n</ul>\n<h2 id=\"1-æ¿å­\"><a href=\"#1-æ¿å­\" class=\"headerlink\" title=\"1. æ¿å­\"></a>1. æ¿å­</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¹‚å–ä½™,a^b%p</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">qmi</span><span class=\"params\">(ll a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> p)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> res=<span class=\"number\">1</span>; <span class=\"comment\">// ç´¯ä¹˜å› å­</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(b&amp;<span class=\"number\">1</span>) res=res*a%p;</span><br><span class=\"line\">        a=a*a%p; <span class=\"comment\">// ææƒ</span></span><br><span class=\"line\">        b&gt;&gt;=<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;p;</span><br><span class=\"line\">    <span class=\"comment\">// å¿«é€Ÿå¹‚è®¡ç®—a^(p-2),å°±æ˜¯a%pçš„ä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœa,päº’è´¨,æ‰æœ‰a%pä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a%p) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,qmi(a,p<span class=\"number\">-2</span>,p));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ€§è´¨\"><a href=\"#2-æ€§è´¨\" class=\"headerlink\" title=\"2. æ€§è´¨\"></a>2. æ€§è´¨</h2><ul>\n<li><p>$14&#x2F;4\\ (mod\\ 5)&#x3D;7&#x2F;2 \\ (mod\\ 5)&#x3D;7Ã—3\\ (mod\\ 5)$ï¼Œè¿™æ˜¯å› ä¸º $2Ã—3\\ mod\\ 5&#x3D;1$ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º $3$ å’Œ $2$ åœ¨æ¨¡ $5$ ä¸‹äº’ä¸ºå€’æ•°</p>\n</li>\n<li><p>æ±‚ä¹˜æ³•é€†å…ƒçš„æ–¹æ³•ï¼š$2^{-1} \\ mod\\ 7$ï¼Œæ¨¡  $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ï¼Œæ±‚è°ä¹˜ä»¥ $2$ å†æ¨¡ $7$ ç­‰äº $1$ï¼Œå¾ˆå®¹æ˜“å£ç®—å¾—åˆ° $4Ã—2\\ (mod\\ 7)&#x3D;1$</p>\n<ul>\n<li>é€šè¿‡è´¹é©¬å°å®šç†è®¡ç®—ï¼Œ$a^{p-2}$ å³ $2^{7-2}&#x3D;32$</li>\n<li>æ¨¡ $n$ ä¸‹äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œä¸€èˆ¬åªè€ƒè™‘æ¯” $n$ å°çš„ï¼Œæ‰€ä»¥ $32$ å¯¹ $7$ å–æ¨¡å¾—åˆ° $4$ï¼Œé‚£ä¹ˆæ¨¡ $7$ ä¸‹ $2$ çš„ä¹˜æ³•é€†å…ƒæ˜¯ $4$</li>\n</ul>\n</li>\n<li><p>$a$ åœ¨æ¨¡ $n$ å†…çš„ä¹˜æ³•é€†å…ƒ $a^{-1}\\ (1&lt;&#x3D;a^{-1}&lt;n)$ æ˜¯å”¯ä¸€çš„ï¼Œæ¯”å¦‚æ¨¡ $5$ ä¸‹ $2$ å’Œ $3$ äº’ä¸ºä¹˜æ³•é€†å…ƒï¼Œé™¤æ­¤å¤–å†æ— åˆ«çš„é€†å…ƒ</p>\n</li>\n<li><p>$1$  ä¸ç®¡æ¨¡è°éƒ½æ˜¯ä½™ $1$</p>\n</li>\n<li><p>$a$ çš„ä¹˜æ³•é€†å…ƒçš„ä¹˜æ³•é€†å…ƒæ˜¯ $a$ï¼Œ$z&#x3D;a^{-1},\\ z^{-1}&#x3D;(a^{-1})^{-1}&#x3D;a$</p>\n</li>\n<li><p><strong>ä»€ä¹ˆæ—¶å€™ç”¨ä¹˜æ³•é€†å…ƒï¼Ÿå½“é¢˜ç›®ä¸­æ¨å¯¼å‡ºæ¥çš„å…¬å¼å¸¦æœ‰é™¤æ³•ï¼Œå¹¶ä¸”è¦è®©ç»“æœå¯¹æŸä¸ªæ•°ä½œæ¨¡è¿ç®—æ—¶</strong>ï¼Œåº”ç”¨ä¹˜æ³•é€†å…ƒæŠŠé™¤æ³•å˜ä¸ºä¹˜æ³•ï¼Œä¸€ç›´é™¤å†ä½œæ¨¡è¿ç®—æ˜¯ä¼šå‡ºé”™çš„ï¼Œå¯ä»¥è¿™æ ·æƒ³ï¼ŒåŠ å‡ä¹˜éƒ½æ˜¯ä»ä½ä½èµ·å¼€å§‹è¿ç®—ï¼Œåªæœ‰é™¤æ³•æ˜¯ä»é«˜ä½å¼€å§‹è¿ç®—ï¼Œè€Œæ¨¡è¿ç®—åˆæ˜¯å–ä½å‡ ä½ï¼Œæ‰€ä»¥åº”è¯¥æŠŠé™¤æ³•è½¬æ¢ä¸ºä¹˜æ³•</p>\n</li>\n</ul>\n<h2 id=\"3-çº¿æ€§æ±‚é€†å…ƒæ¿å­\"><a href=\"#3-çº¿æ€§æ±‚é€†å…ƒæ¿å­\" class=\"headerlink\" title=\"3. çº¿æ€§æ±‚é€†å…ƒæ¿å­\"></a>3. çº¿æ€§æ±‚é€†å…ƒæ¿å­</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> int long long</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">3e6</span>+<span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"comment\">// ç»™å®šn,p,è®¡ç®—1~nä¸­æ‰€æœ‰æ•´æ•°åœ¨æ¨¡pæ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒ</span></span><br><span class=\"line\"><span class=\"comment\">// aæ¨¡pçš„ä¹˜æ³•é€†å…ƒå®šä¹‰ä¸º a*a_invç­‰ä»·äº1(mod p),å»æ‰¾a_invæ˜¯å¤šå°‘</span></span><br><span class=\"line\"><span class=\"comment\">// çº¿æ€§æ±‚é€†å…ƒ</span></span><br><span class=\"line\"><span class=\"type\">int</span> inv[maxn]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªæ•°å­—çš„é€†å…ƒ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">signed</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,p;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;p; <span class=\"comment\">// næ˜¯èŒƒå›´,pæ˜¯æ¨¡æ•°</span></span><br><span class=\"line\">\tinv[<span class=\"number\">1</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// 1çš„é€†å…ƒæ˜¯1, (1*1)mod p=1</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;inv[<span class=\"number\">1</span>]&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tinv[i]=-(p/i)*inv[p%i]; <span class=\"comment\">// x_inv=-k*r_inv (æ€ä¹ˆæ¨å¯¼çš„Â·Â·Â·çœ‹bç«™è§†é¢‘å§)</span></span><br><span class=\"line\">\t\tinv[i]=(inv[i]%p+p)%p; <span class=\"comment\">// é˜²æ­¢è´Ÿæ•°äº§ç”Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;inv[i]&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"äºŒåˆ†","date":"2024-10-02T14:06:11.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# äºŒåˆ†ç­”æ¡ˆ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å°†ç­”æ¡ˆåŒºé—´è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œ æ¯æ¬¡å–åŒºé—´ä¸­é—´å€¼å‡ºæ¥ç”¨äºå°è¯•æ˜¯å¦æ»¡è¶³é¢˜ç›®æ€§è´¨ï¼Œä¸æ–­ç¼©å°è°ƒæ•´åŒºé—´ï¼Œç›´åˆ°ç¡®å®šæœ€ç»ˆç­”æ¡ˆä¸ºæ­¢\n* æœ‰å•è°ƒæ€§çš„é¢˜ç›®ä¸€å®šå¯ä»¥äºŒåˆ†ï¼Œä½†æ˜¯ç”¨äºŒåˆ†åšçš„é¢˜ç›®ä¸ä¸€å®šæ‹¥æœ‰å•è°ƒæ€§ã€‚\n* æ³¨æ„ï¼šäºŒåˆ†ä¸€å®šæ˜¯æœ‰è§£çš„ï¼Œä¸å¯èƒ½æ— è§£ï¼Œæ— è§£æ°¸è¿œæ˜¯é¢˜ç›®çš„æ— è§£è€Œä¸æ˜¯äºŒåˆ†çš„æ— è§£ã€‚\n\n\n\n## 1. è§£äºŒåˆ†é¢˜æ­¥éª¤\n\n* é¢˜ç›®å‡ºç°æ±‚æœ€å€¼ï¼Œé¦–å…ˆæƒ³åˆ°äºŒåˆ†/è´ªå¿ƒ/åŠ¨æ€è§„åˆ’ç­‰ç®—æ³•\n* é¢˜ç›®å…·æœ‰å•è°ƒæ€§ï¼Œåˆ™å¯ä»¥è€ƒè™‘ç”¨äºŒåˆ†æ±‚è§£\n* è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å°å€¼ â†’ ç­”æ¡ˆåœ¨å·¦è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å³è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $l$ ä¸Š\n\n``` c\n// ç­”æ¡ˆåœ¨å·¦è¾¹\nwhile(l<=r) {\n    int mid=l+r>>1;\n    // å‹ç¼©å³è¾¹ç•Œ\n    if(check(mid)) r=mid-1;\n    else l=mid+1;\n}\ncout<<l<<endl; // ç­”æ¡ˆåœ¨å·¦è¾¹ç•Œä¸Š\n```\n\n* è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°æœ€åä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å¤§å€¼ â†’ ç­”æ¡ˆåœ¨å³è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å·¦è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $r$ ä¸Š\n\n``` c++\n// ç­”æ¡ˆåœ¨å³è¾¹\nwhile(l<=r) {\n    int mid=l+r>>1;\n    // å‹ç¼©å·¦è¾¹ç•Œ\n    if(check(mid)) l=mid+1;\n    else r=mid-1;\n}\ncout<<r<<endl; // ç­”æ¡ˆåœ¨å³è¾¹ç•Œä¸Š\n```\n\n\n\n## 2. æ•´æ•°äºŒåˆ†\n\n### 2.1. æ´›è°· P2440.æœ¨æåŠ å·¥\n\n> é¢˜ç›®é“¾æ¥ï¼š[P2440 æœ¨æåŠ å·¥ - æ´›è°·](https://www.luogu.com.cn/problem/P2440)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint n,k; // åŸæœ¨/è¦çš„æ ¹æ•°\nint a[N]; // æ¯æ ¹æœ¨å¤´çš„é•¿åº¦\n\nbool check(int x) {\n\tint cnt=0;\n\t// å¦‚æœåˆ‡å‡ºæ¥çš„æ•°é‡æ»¡è¶³kæ ¹è¯´æ˜åˆ‡å¤Ÿäº†\n\tfor(int i=1;i<=n;i++) {\n\t\tcnt+=a[i]/x;\n\t\tif(cnt>=k) return true;\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>k;\n\tint mmax;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t\tmmax=max(mmax,a[i]); // æ‰¾æœ€å¤§æœ¨å¤´æ•°,ä½œä¸ºrçš„åˆå€¼\n\t}\n\tint l=1; // æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å¤š,æ¯æ ¹éƒ½èƒ½åˆ‡æˆa[i]ä»½\n\tint r=mmax; // æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å°‘,åªèƒ½åˆ‡ä¸€æ ¹\n\t// æ‰¾æœ€å¤§å€¼,ç­”æ¡ˆåœ¨å³è¾¹,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(check(mid)) {\n\t\t\tl=mid+1;\n\t\t} else {\n\t\t\tr=mid-1;\n\t\t}\n\t}\n\tcout<<r<<endl; // ç­”æ¡ˆä¸€å®šåœ¨rä¸Šä¸”rä¸€å®šæ¯”lå°1\n\treturn 0;\n}\n```\n\n\n\n### 2.2. æ´›è°· P1873.EKO/ç æ ‘\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1873 EKO / ç æ ‘ - æ´›è°· ](https://www.luogu.com.cn/problem/P1873)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e6+5;\nint n,m; // n:æ ‘çš„æ•°é‡,m:æ‰€éœ€æ€»é•¿åº¦\nint a[N]; // å­˜å‚¨æ¯æ£µæ ‘çš„é«˜åº¦\n\nbool check(int x) {\n\tll cnt=0; // åˆ‡å‡ºæ¥çš„é•¿åº¦çˆ†int,é¢˜ç›®ä¹Ÿè¯´è¶…è¿‡M\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]-x>0)\n\t\t\tcnt+=a[i]-x;\n\t}\n\tif(cnt>=m) return true;\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\tint mmax; // å­˜å‚¨æœ€å¤§é«˜åº¦ä½œä¸ºrçš„åˆå§‹å€¼\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\tmmax=max(mmax,a[i]);\n\t}\n\tint l=1; // æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é•¿åº¦éƒ½æ˜¯a[i],åˆ‡å¾—æœ€å¤š\n\tint r=mmax; // æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é«˜åº¦éƒ½æ˜¯0,åˆ‡å¾—æœ€å°‘\n\t// lèƒ½å–0å—?å¦‚æœåœåœ¨l=0,é‚£ä¹ˆrä¸€å®šç­‰äº-1,æ­¤æ—¶æœ‰é—®é¢˜\n\t// æ‰¾é”¯ç‰‡çš„æœ€å¤§é«˜åº¦,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(check(mid)) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1678 çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿ - æ´›è°· ](https://www.luogu.com.cn/problem/P1678)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å¼€llä¸ç„¶è¿‡ä¸äº†\n\nconst ll N=1e5+5;\nll n,m;\nll a[N]; // å­˜å‚¨å­¦æ ¡çš„åˆ†æ•°çº¿\nll b[N]; // å­˜å‚¨æ¯ä¸ªåŒå­¦çš„ä¼°åˆ†\n\nint main() {\n\tcin>>n>>m;\n\t// nä¸ªå­¦æ ¡,mä¸ªåŒå­¦\n\tfor(ll i=1;i<=n;i++) {\n\t\tscanf(\"%lld\",&a[i]);\t\n\t}\n\tfor(ll i=1;i<=m;i++) {\n\t\tscanf(\"%lld\",&b[i]);\n\t}\n\tsort(a+1,a+1+n);\n\tll cnt=0;\n\t// éå†æ‰€æœ‰åŒå­¦\n\tfor(ll i=1;i<=m;i++) {\n\t\t// å«è¯­è¨€é£æ ¼\n\t\t// æ¯”æœ€å°å€¼è¿˜å°,è·³è¿‡\n\t\tif(b[i]<=a[1]) {\n\t\t\tcnt+=abs(b[i]-a[1]);\n\t\t\tcontinue;\n\t\t}\n\t\telse if(b[i]>=a[n]) {\n\t\t\tcnt+=abs(b[i]-a[n]);\n\t\t\tcontinue;\n\t\t}\n\t\tll l=1,r=n; // è¾¹ç•Œæ˜¯[1,n]\n\t\twhile(l<=r) {\n\t\t\tll mid=l+r>>1;\n\t\t\t// æ³¨æ„æ‰¾ç¬¬ä¸€ä¸ªæ˜¯ç­”æ¡ˆåœ¨å·¦è¾¹çš„é—®é¢˜,æ‰€ä»¥è¦å‹ç¼©å³è¾¹ç•Œ\n\t\t\t// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºb[i]çš„ç¬¬ä¸€ä¸ªå­¦æ ¡çš„åˆ†æ•°çº¿,ç­”æ¡ˆåœ¨å·¦è¾¹,å³a[l]\n\t\t\t// é‚£ä¹ˆæœ€åä¸€ä¸ªå°äºb[i]çš„å…ƒç´ çš„ä¸‹æ ‡å°±åº”è¯¥æ˜¯a[l-1]\n\t\t\tif(a[mid]>=b[i])\n\t\t\t\tr=mid-1;\n\t\t\telse\n\t\t\t\tl=mid+1;\n\t\t}\n\t\t// å–äºŒè€…ä¹‹ä¸­çš„æœ€å°å€¼\n\t\tcnt+=min(abs(a[l]-b[i]),abs(a[l-1]-b[i]));\n\t}\n\tcout<<cnt;\n\treturn 0;\n}\n```\n\n\n\n### 2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±\n\n> é¢˜ç›®é“¾æ¥ï¼š[P9240 [è“æ¡¥æ¯ 2023 çœ B] å†¶ç‚¼é‡‘å± ](https://www.luogu.com.cn/problem/P9240)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e4+5;\nint n;\nint a[N]; // å­˜å‚¨æ¯æ¬¡æŠ•å…¥çš„é‡‘å±æ•°é‡\nint b[N]; // å­˜å‚¨æ¯æ¬¡å†¶ç‚¼å‡ºçš„ç‰¹æ®Šé‡‘å±æ•°é‡\n\nbool check_1(int mid) {\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]/mid>b[i])\t\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nbool check_2(int mid) {\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]/mid<b[i])\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nint main() {\n\tcin>>n;\n\tint mmax=INT_MIN;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d%d\",&a[i],&b[i]);\t\n\t\tmmax=max(mmax,a[i]); // æœ€å¤§çš„æ™®é€šé‡‘å±æ•°é‡\n\t}\n//\tcout<<\"æœ€å¤§å€¼æ˜¯\"<<mmax<<endl;\n\tint l=1; // è½¬æ¢ç‡æœ€å°ä¸º1,æœ‰å¤šå°‘è½¬æ¢å¤šå°‘\n\tint r=mmax; // æœ€å°åªèƒ½è½¬æ¢å‡ºä¸€ä¸ª\n\t// æ‰¾æœ€å°å€¼,å‹ç¼©å³è¾¹ç•Œ,ç­”æ¡ˆåœ¨lä¸Š\n\twhile(l<=r) {\n\t\tint mid=(ll)l+r>>1;\n\t\tif(check_1(mid)) {\n\t\t\tr=mid-1;\n\t\t} else {\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tcout<<l<<' ';\n\tl=1,r=mmax;\n\t// æ‰¾æœ€å¤§å€¼,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=(ll)l+r>>1;\n\t\tif(check_2(mid)) {\n\t\t\tl=mid+1;\n\t\t} else {\n\t\t\tr=mid-1;\n\t\t}\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. æµ®ç‚¹äºŒåˆ†\n\n### 3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\n\n> é¢˜ç›®é“¾æ¥ï¼š[790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/792/)\n\n* å¯¹äºå¼€äºŒæ¬¡æ–¹æ ¹ï¼Œå› ä¸ºå¼€å‡ºæ¥ä¸€å®šæ˜¯æ­£æ•°ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®$l=0$ï¼Œ$r=x$ï¼Œä½†æ˜¯ä¸‰æ¬¡æ–¹æ ¹å¯èƒ½æœ‰è´Ÿæ•°ï¼Œä¸èƒ½å•çº¯çš„å– $l=-x$ï¼Œ$r=x$ï¼Œè¿™æ ·çš„è¯è¾“å…¥çš„$x$æ˜¯æ­£æ•°ï¼ŒèŒƒå›´æ˜¯$[-x,x]$ï¼Œè¾“å…¥çš„æ•°æ˜¯è´Ÿæ•°ï¼ŒèŒƒå›´æ˜¯$[x,-x]$å°±ä¼šå‡ºå¤§é—®é¢˜ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\nint main() {\n\tdouble x;\n\tcin>>x;\n\t// å› ä¸ºæ˜¯å¼€ä¸‰æ¬¡æ–¹æ ¹,æ‰€ä»¥è¦è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µ\n    // æ³¨æ„\n\tdouble l=-100000,r=100000;\n\t// ä¿ç•™6ä½å°æ•°å°±1e-8(åŸºäºç»éªŒ),åŒç†ä¿ç•™4ä½å°±1e-6\n\twhile(r-l>1e-8) {\n\t\tdouble mid=(l+r)/2;\n\t\tif(mid*mid*mid>=x)\n\t\t\tr=mid;\n\t\telse\n\t\t\tl=mid;\n\t}\n\tcout<<setprecision(6)<<fixed<<l<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 4. åŠ æ·±ç†è§£\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[]={0,1,2,4,3,7,6,3,4,8,9};\n\n\nint main() {\n\tsort(a+1,a+10);\n\t// ä¸‹æ ‡\n\tfor(int i=1;i<=10;i++) {\n\t\tif(i==1) cout<<\"ä¸‹æ ‡:\";\n\t\tcout<<i<<' ';\n\t}\n\tcout<<endl;\n\tfor(int i=1;i<=10;i++) {\n\t\tif(i==1) cout<<\"æ•°å€¼:\";\n\t\tcout<<a[i]<<' ';\n\t}\n\t\n\tint l=1,r=10; // ä¸‹æ ‡è¾¹ç•Œ\n\tcout<<endl;\n\t// 1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡,çœ‹æ˜¯3è¿˜æ˜¯4å‘¢?\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>=3) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// æ‰¾æœ€å°å€¼,ç­”æ¡ˆæ˜¯l,rä¸€å®šæ˜¯l-1\n\t// 2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5å§è€Œä¸æ˜¯6å§\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>3) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// 3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5è€Œä¸æ˜¯4å§\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(2<=a[mid] && a[mid]<=4) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// 4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ \n\t// å‹ç¼©l,ç­”æ¡ˆä¸€å®šåœ¨rä¸Š,æ­¤æ—¶lå¿…ä¸ºr+1\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]<=4) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\t// 5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ ,ä¸‹æ ‡ä¸º7,ç­”æ¡ˆåœ¨r\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]<7) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\t// 6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ ,å€¼æ˜¯8\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>2 && a[mid]<=8) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\treturn 0;\n}\n```\n\n","source":"_posts/äºŒåˆ†.md","raw":"---\ntitle: äºŒåˆ†\ndate: 2024-10-02 22:06:11\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - äºŒåˆ†\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# äºŒåˆ†ç­”æ¡ˆ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å°†ç­”æ¡ˆåŒºé—´è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œ æ¯æ¬¡å–åŒºé—´ä¸­é—´å€¼å‡ºæ¥ç”¨äºå°è¯•æ˜¯å¦æ»¡è¶³é¢˜ç›®æ€§è´¨ï¼Œä¸æ–­ç¼©å°è°ƒæ•´åŒºé—´ï¼Œç›´åˆ°ç¡®å®šæœ€ç»ˆç­”æ¡ˆä¸ºæ­¢\n* æœ‰å•è°ƒæ€§çš„é¢˜ç›®ä¸€å®šå¯ä»¥äºŒåˆ†ï¼Œä½†æ˜¯ç”¨äºŒåˆ†åšçš„é¢˜ç›®ä¸ä¸€å®šæ‹¥æœ‰å•è°ƒæ€§ã€‚\n* æ³¨æ„ï¼šäºŒåˆ†ä¸€å®šæ˜¯æœ‰è§£çš„ï¼Œä¸å¯èƒ½æ— è§£ï¼Œæ— è§£æ°¸è¿œæ˜¯é¢˜ç›®çš„æ— è§£è€Œä¸æ˜¯äºŒåˆ†çš„æ— è§£ã€‚\n\n\n\n## 1. è§£äºŒåˆ†é¢˜æ­¥éª¤\n\n* é¢˜ç›®å‡ºç°æ±‚æœ€å€¼ï¼Œé¦–å…ˆæƒ³åˆ°äºŒåˆ†/è´ªå¿ƒ/åŠ¨æ€è§„åˆ’ç­‰ç®—æ³•\n* é¢˜ç›®å…·æœ‰å•è°ƒæ€§ï¼Œåˆ™å¯ä»¥è€ƒè™‘ç”¨äºŒåˆ†æ±‚è§£\n* è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å°å€¼ â†’ ç­”æ¡ˆåœ¨å·¦è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å³è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $l$ ä¸Š\n\n``` c\n// ç­”æ¡ˆåœ¨å·¦è¾¹\nwhile(l<=r) {\n    int mid=l+r>>1;\n    // å‹ç¼©å³è¾¹ç•Œ\n    if(check(mid)) r=mid-1;\n    else l=mid+1;\n}\ncout<<l<<endl; // ç­”æ¡ˆåœ¨å·¦è¾¹ç•Œä¸Š\n```\n\n* è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°æœ€åä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å¤§å€¼ â†’ ç­”æ¡ˆåœ¨å³è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å·¦è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $r$ ä¸Š\n\n``` c++\n// ç­”æ¡ˆåœ¨å³è¾¹\nwhile(l<=r) {\n    int mid=l+r>>1;\n    // å‹ç¼©å·¦è¾¹ç•Œ\n    if(check(mid)) l=mid+1;\n    else r=mid-1;\n}\ncout<<r<<endl; // ç­”æ¡ˆåœ¨å³è¾¹ç•Œä¸Š\n```\n\n\n\n## 2. æ•´æ•°äºŒåˆ†\n\n### 2.1. æ´›è°· P2440.æœ¨æåŠ å·¥\n\n> é¢˜ç›®é“¾æ¥ï¼š[P2440 æœ¨æåŠ å·¥ - æ´›è°·](https://www.luogu.com.cn/problem/P2440)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint n,k; // åŸæœ¨/è¦çš„æ ¹æ•°\nint a[N]; // æ¯æ ¹æœ¨å¤´çš„é•¿åº¦\n\nbool check(int x) {\n\tint cnt=0;\n\t// å¦‚æœåˆ‡å‡ºæ¥çš„æ•°é‡æ»¡è¶³kæ ¹è¯´æ˜åˆ‡å¤Ÿäº†\n\tfor(int i=1;i<=n;i++) {\n\t\tcnt+=a[i]/x;\n\t\tif(cnt>=k) return true;\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>k;\n\tint mmax;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t\tmmax=max(mmax,a[i]); // æ‰¾æœ€å¤§æœ¨å¤´æ•°,ä½œä¸ºrçš„åˆå€¼\n\t}\n\tint l=1; // æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å¤š,æ¯æ ¹éƒ½èƒ½åˆ‡æˆa[i]ä»½\n\tint r=mmax; // æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å°‘,åªèƒ½åˆ‡ä¸€æ ¹\n\t// æ‰¾æœ€å¤§å€¼,ç­”æ¡ˆåœ¨å³è¾¹,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(check(mid)) {\n\t\t\tl=mid+1;\n\t\t} else {\n\t\t\tr=mid-1;\n\t\t}\n\t}\n\tcout<<r<<endl; // ç­”æ¡ˆä¸€å®šåœ¨rä¸Šä¸”rä¸€å®šæ¯”lå°1\n\treturn 0;\n}\n```\n\n\n\n### 2.2. æ´›è°· P1873.EKO/ç æ ‘\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1873 EKO / ç æ ‘ - æ´›è°· ](https://www.luogu.com.cn/problem/P1873)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e6+5;\nint n,m; // n:æ ‘çš„æ•°é‡,m:æ‰€éœ€æ€»é•¿åº¦\nint a[N]; // å­˜å‚¨æ¯æ£µæ ‘çš„é«˜åº¦\n\nbool check(int x) {\n\tll cnt=0; // åˆ‡å‡ºæ¥çš„é•¿åº¦çˆ†int,é¢˜ç›®ä¹Ÿè¯´è¶…è¿‡M\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]-x>0)\n\t\t\tcnt+=a[i]-x;\n\t}\n\tif(cnt>=m) return true;\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\tint mmax; // å­˜å‚¨æœ€å¤§é«˜åº¦ä½œä¸ºrçš„åˆå§‹å€¼\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\tmmax=max(mmax,a[i]);\n\t}\n\tint l=1; // æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é•¿åº¦éƒ½æ˜¯a[i],åˆ‡å¾—æœ€å¤š\n\tint r=mmax; // æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é«˜åº¦éƒ½æ˜¯0,åˆ‡å¾—æœ€å°‘\n\t// lèƒ½å–0å—?å¦‚æœåœåœ¨l=0,é‚£ä¹ˆrä¸€å®šç­‰äº-1,æ­¤æ—¶æœ‰é—®é¢˜\n\t// æ‰¾é”¯ç‰‡çš„æœ€å¤§é«˜åº¦,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(check(mid)) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1678 çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿ - æ´›è°· ](https://www.luogu.com.cn/problem/P1678)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å¼€llä¸ç„¶è¿‡ä¸äº†\n\nconst ll N=1e5+5;\nll n,m;\nll a[N]; // å­˜å‚¨å­¦æ ¡çš„åˆ†æ•°çº¿\nll b[N]; // å­˜å‚¨æ¯ä¸ªåŒå­¦çš„ä¼°åˆ†\n\nint main() {\n\tcin>>n>>m;\n\t// nä¸ªå­¦æ ¡,mä¸ªåŒå­¦\n\tfor(ll i=1;i<=n;i++) {\n\t\tscanf(\"%lld\",&a[i]);\t\n\t}\n\tfor(ll i=1;i<=m;i++) {\n\t\tscanf(\"%lld\",&b[i]);\n\t}\n\tsort(a+1,a+1+n);\n\tll cnt=0;\n\t// éå†æ‰€æœ‰åŒå­¦\n\tfor(ll i=1;i<=m;i++) {\n\t\t// å«è¯­è¨€é£æ ¼\n\t\t// æ¯”æœ€å°å€¼è¿˜å°,è·³è¿‡\n\t\tif(b[i]<=a[1]) {\n\t\t\tcnt+=abs(b[i]-a[1]);\n\t\t\tcontinue;\n\t\t}\n\t\telse if(b[i]>=a[n]) {\n\t\t\tcnt+=abs(b[i]-a[n]);\n\t\t\tcontinue;\n\t\t}\n\t\tll l=1,r=n; // è¾¹ç•Œæ˜¯[1,n]\n\t\twhile(l<=r) {\n\t\t\tll mid=l+r>>1;\n\t\t\t// æ³¨æ„æ‰¾ç¬¬ä¸€ä¸ªæ˜¯ç­”æ¡ˆåœ¨å·¦è¾¹çš„é—®é¢˜,æ‰€ä»¥è¦å‹ç¼©å³è¾¹ç•Œ\n\t\t\t// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºb[i]çš„ç¬¬ä¸€ä¸ªå­¦æ ¡çš„åˆ†æ•°çº¿,ç­”æ¡ˆåœ¨å·¦è¾¹,å³a[l]\n\t\t\t// é‚£ä¹ˆæœ€åä¸€ä¸ªå°äºb[i]çš„å…ƒç´ çš„ä¸‹æ ‡å°±åº”è¯¥æ˜¯a[l-1]\n\t\t\tif(a[mid]>=b[i])\n\t\t\t\tr=mid-1;\n\t\t\telse\n\t\t\t\tl=mid+1;\n\t\t}\n\t\t// å–äºŒè€…ä¹‹ä¸­çš„æœ€å°å€¼\n\t\tcnt+=min(abs(a[l]-b[i]),abs(a[l-1]-b[i]));\n\t}\n\tcout<<cnt;\n\treturn 0;\n}\n```\n\n\n\n### 2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±\n\n> é¢˜ç›®é“¾æ¥ï¼š[P9240 [è“æ¡¥æ¯ 2023 çœ B] å†¶ç‚¼é‡‘å± ](https://www.luogu.com.cn/problem/P9240)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e4+5;\nint n;\nint a[N]; // å­˜å‚¨æ¯æ¬¡æŠ•å…¥çš„é‡‘å±æ•°é‡\nint b[N]; // å­˜å‚¨æ¯æ¬¡å†¶ç‚¼å‡ºçš„ç‰¹æ®Šé‡‘å±æ•°é‡\n\nbool check_1(int mid) {\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]/mid>b[i])\t\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nbool check_2(int mid) {\n\tfor(int i=1;i<=n;i++) {\n\t\tif(a[i]/mid<b[i])\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nint main() {\n\tcin>>n;\n\tint mmax=INT_MIN;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d%d\",&a[i],&b[i]);\t\n\t\tmmax=max(mmax,a[i]); // æœ€å¤§çš„æ™®é€šé‡‘å±æ•°é‡\n\t}\n//\tcout<<\"æœ€å¤§å€¼æ˜¯\"<<mmax<<endl;\n\tint l=1; // è½¬æ¢ç‡æœ€å°ä¸º1,æœ‰å¤šå°‘è½¬æ¢å¤šå°‘\n\tint r=mmax; // æœ€å°åªèƒ½è½¬æ¢å‡ºä¸€ä¸ª\n\t// æ‰¾æœ€å°å€¼,å‹ç¼©å³è¾¹ç•Œ,ç­”æ¡ˆåœ¨lä¸Š\n\twhile(l<=r) {\n\t\tint mid=(ll)l+r>>1;\n\t\tif(check_1(mid)) {\n\t\t\tr=mid-1;\n\t\t} else {\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tcout<<l<<' ';\n\tl=1,r=mmax;\n\t// æ‰¾æœ€å¤§å€¼,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š\n\twhile(l<=r) {\n\t\tint mid=(ll)l+r>>1;\n\t\tif(check_2(mid)) {\n\t\t\tl=mid+1;\n\t\t} else {\n\t\t\tr=mid-1;\n\t\t}\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. æµ®ç‚¹äºŒåˆ†\n\n### 3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\n\n> é¢˜ç›®é“¾æ¥ï¼š[790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/792/)\n\n* å¯¹äºå¼€äºŒæ¬¡æ–¹æ ¹ï¼Œå› ä¸ºå¼€å‡ºæ¥ä¸€å®šæ˜¯æ­£æ•°ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®$l=0$ï¼Œ$r=x$ï¼Œä½†æ˜¯ä¸‰æ¬¡æ–¹æ ¹å¯èƒ½æœ‰è´Ÿæ•°ï¼Œä¸èƒ½å•çº¯çš„å– $l=-x$ï¼Œ$r=x$ï¼Œè¿™æ ·çš„è¯è¾“å…¥çš„$x$æ˜¯æ­£æ•°ï¼ŒèŒƒå›´æ˜¯$[-x,x]$ï¼Œè¾“å…¥çš„æ•°æ˜¯è´Ÿæ•°ï¼ŒèŒƒå›´æ˜¯$[x,-x]$å°±ä¼šå‡ºå¤§é—®é¢˜ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\nint main() {\n\tdouble x;\n\tcin>>x;\n\t// å› ä¸ºæ˜¯å¼€ä¸‰æ¬¡æ–¹æ ¹,æ‰€ä»¥è¦è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µ\n    // æ³¨æ„\n\tdouble l=-100000,r=100000;\n\t// ä¿ç•™6ä½å°æ•°å°±1e-8(åŸºäºç»éªŒ),åŒç†ä¿ç•™4ä½å°±1e-6\n\twhile(r-l>1e-8) {\n\t\tdouble mid=(l+r)/2;\n\t\tif(mid*mid*mid>=x)\n\t\t\tr=mid;\n\t\telse\n\t\t\tl=mid;\n\t}\n\tcout<<setprecision(6)<<fixed<<l<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 4. åŠ æ·±ç†è§£\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[]={0,1,2,4,3,7,6,3,4,8,9};\n\n\nint main() {\n\tsort(a+1,a+10);\n\t// ä¸‹æ ‡\n\tfor(int i=1;i<=10;i++) {\n\t\tif(i==1) cout<<\"ä¸‹æ ‡:\";\n\t\tcout<<i<<' ';\n\t}\n\tcout<<endl;\n\tfor(int i=1;i<=10;i++) {\n\t\tif(i==1) cout<<\"æ•°å€¼:\";\n\t\tcout<<a[i]<<' ';\n\t}\n\t\n\tint l=1,r=10; // ä¸‹æ ‡è¾¹ç•Œ\n\tcout<<endl;\n\t// 1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡,çœ‹æ˜¯3è¿˜æ˜¯4å‘¢?\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>=3) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// æ‰¾æœ€å°å€¼,ç­”æ¡ˆæ˜¯l,rä¸€å®šæ˜¯l-1\n\t// 2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5å§è€Œä¸æ˜¯6å§\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>3) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// 3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5è€Œä¸æ˜¯4å§\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(2<=a[mid] && a[mid]<=4) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tcout<<\"3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[l]<<endl;\n\t// 4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ \n\t// å‹ç¼©l,ç­”æ¡ˆä¸€å®šåœ¨rä¸Š,æ­¤æ—¶lå¿…ä¸ºr+1\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]<=4) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\t// 5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ ,ä¸‹æ ‡ä¸º7,ç­”æ¡ˆåœ¨r\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]<7) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\t// 6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ ,å€¼æ˜¯8\n\tl=1,r=10;\n\twhile(l<=r) {\n\t\tint mid=l+r>>1;\n\t\tif(a[mid]>2 && a[mid]<=8) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tcout<<\"6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ çš„ä¸‹æ ‡:>\"<<endl;\n\tcout<<l<<' '<<r<<\" ç­”æ¡ˆæ˜¯:\"<<a[r]<<endl;\n\treturn 0;\n}\n```\n\n","slug":"äºŒåˆ†","published":1,"updated":"2024-10-05T08:00:04.384Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsg000ic0nf71toa0k8","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"äºŒåˆ†ç­”æ¡ˆ\">äºŒåˆ†ç­”æ¡ˆ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E8%A7%A3%E4%BA%8C%E5%88%86%E9%A2%98%E6%AD%A5%E9%AA%A4\">1. è§£äºŒåˆ†é¢˜æ­¥éª¤</a></li>\n<li><a href=\"#2-%E6%95%B4%E6%95%B0%E4%BA%8C%E5%88%86\">2. æ•´æ•°äºŒåˆ†</a><ul>\n<li><a href=\"#21-%E6%B4%9B%E8%B0%B7-p2440%E6%9C%A8%E6%9D%90%E5%8A%A0%E5%B7%A5\">2.1. æ´›è°· P2440.æœ¨æåŠ å·¥</a></li>\n<li><a href=\"#22-%E6%B4%9B%E8%B0%B7-p1873eko%E7%A0%8D%E6%A0%91\">2.2. æ´›è°· P1873.EKO&#x2F;ç æ ‘</a></li>\n<li><a href=\"#23-%E6%B4%9B%E8%B0%B7-p1678%E7%83%A6%E6%81%BC%E7%9A%84%E9%AB%98%E8%80%83%E5%BF%97%E6%84%BF\">2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿</a></li>\n<li><a href=\"#24-%E8%93%9D%E6%A1%A5%E6%9D%AF-23%E7%9C%81b-%E5%86%B6%E7%82%BC%E9%87%91%E5%B1%9E\">2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%B5%AE%E7%82%B9%E4%BA%8C%E5%88%86\">3. æµ®ç‚¹äºŒåˆ†</a><ul>\n<li><a href=\"#31-acwing-790-%E6%95%B0%E7%9A%84%E4%B8%89%E6%AC%A1%E6%96%B9%E6%A0%B9\">3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E5%8A%A0%E6%B7%B1%E7%90%86%E8%A7%A3\">4. åŠ æ·±ç†è§£</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å°†ç­”æ¡ˆåŒºé—´è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œ æ¯æ¬¡å–åŒºé—´ä¸­é—´å€¼å‡ºæ¥ç”¨äºå°è¯•æ˜¯å¦æ»¡è¶³é¢˜ç›®æ€§è´¨ï¼Œä¸æ–­ç¼©å°è°ƒæ•´åŒºé—´ï¼Œç›´åˆ°ç¡®å®šæœ€ç»ˆç­”æ¡ˆä¸ºæ­¢</li>\n<li>æœ‰å•è°ƒæ€§çš„é¢˜ç›®ä¸€å®šå¯ä»¥äºŒåˆ†ï¼Œä½†æ˜¯ç”¨äºŒåˆ†åšçš„é¢˜ç›®ä¸ä¸€å®šæ‹¥æœ‰å•è°ƒæ€§ã€‚</li>\n<li>æ³¨æ„ï¼šäºŒåˆ†ä¸€å®šæ˜¯æœ‰è§£çš„ï¼Œä¸å¯èƒ½æ— è§£ï¼Œæ— è§£æ°¸è¿œæ˜¯é¢˜ç›®çš„æ— è§£è€Œä¸æ˜¯äºŒåˆ†çš„æ— è§£ã€‚</li>\n</ul>\n<h2><span id=\"1-è§£äºŒåˆ†é¢˜æ­¥éª¤\">1. è§£äºŒåˆ†é¢˜æ­¥éª¤</span></h2><ul>\n<li>é¢˜ç›®å‡ºç°æ±‚æœ€å€¼ï¼Œé¦–å…ˆæƒ³åˆ°äºŒåˆ†&#x2F;è´ªå¿ƒ&#x2F;åŠ¨æ€è§„åˆ’ç­‰ç®—æ³•</li>\n<li>é¢˜ç›®å…·æœ‰å•è°ƒæ€§ï¼Œåˆ™å¯ä»¥è€ƒè™‘ç”¨äºŒåˆ†æ±‚è§£</li>\n<li>è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å°å€¼ â†’ ç­”æ¡ˆåœ¨å·¦è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å³è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $l$ ä¸Š</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç­”æ¡ˆåœ¨å·¦è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©å³è¾¹ç•Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(check(mid)) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç­”æ¡ˆåœ¨å·¦è¾¹ç•Œä¸Š</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°æœ€åä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å¤§å€¼ â†’ ç­”æ¡ˆåœ¨å³è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å·¦è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $r$ ä¸Š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç­”æ¡ˆåœ¨å³è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©å·¦è¾¹ç•Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">check</span>(mid)) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">cout&lt;&lt;r&lt;&lt;endl; <span class=\"comment\">// ç­”æ¡ˆåœ¨å³è¾¹ç•Œä¸Š</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ•´æ•°äºŒåˆ†\">2. æ•´æ•°äºŒåˆ†</span></h2><h3><span id=\"21-æ´›è°·-p2440æœ¨æåŠ å·¥\">2.1. æ´›è°· P2440.æœ¨æåŠ å·¥</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P2440\">P2440 æœ¨æåŠ å·¥ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// åŸæœ¨/è¦çš„æ ¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// æ¯æ ¹æœ¨å¤´çš„é•¿åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœåˆ‡å‡ºæ¥çš„æ•°é‡æ»¡è¶³kæ ¹è¯´æ˜åˆ‡å¤Ÿäº†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcnt+=a[i]/x;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(cnt&gt;=k) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]); <span class=\"comment\">// æ‰¾æœ€å¤§æœ¨å¤´æ•°,ä½œä¸ºrçš„åˆå€¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å¤š,æ¯æ ¹éƒ½èƒ½åˆ‡æˆa[i]ä»½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å°‘,åªèƒ½åˆ‡ä¸€æ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,ç­”æ¡ˆåœ¨å³è¾¹,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check(mid)) &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç­”æ¡ˆä¸€å®šåœ¨rä¸Šä¸”rä¸€å®šæ¯”lå°1</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"22-æ´›è°·-p1873ekox2fç æ ‘\">2.2. æ´›è°· P1873.EKO&#x2F;ç æ ‘</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1873\">P1873 EKO &#x2F; ç æ ‘ - æ´›è°· </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// n:æ ‘çš„æ•°é‡,m:æ‰€éœ€æ€»é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ£µæ ‘çš„é«˜åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\tll cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ‡å‡ºæ¥çš„é•¿åº¦çˆ†int,é¢˜ç›®ä¹Ÿè¯´è¶…è¿‡M</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]-x&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\tcnt+=a[i]-x;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt&gt;=m) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax; <span class=\"comment\">// å­˜å‚¨æœ€å¤§é«˜åº¦ä½œä¸ºrçš„åˆå§‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é•¿åº¦éƒ½æ˜¯a[i],åˆ‡å¾—æœ€å¤š</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é«˜åº¦éƒ½æ˜¯0,åˆ‡å¾—æœ€å°‘</span></span><br><span class=\"line\">\t<span class=\"comment\">// lèƒ½å–0å—?å¦‚æœåœåœ¨l=0,é‚£ä¹ˆrä¸€å®šç­‰äº-1,æ­¤æ—¶æœ‰é—®é¢˜</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾é”¯ç‰‡çš„æœ€å¤§é«˜åº¦,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check(mid)) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"23-æ´›è°·-p1678çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\">2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1678\">P1678 çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿ - æ´›è°· </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å¼€llä¸ç„¶è¿‡ä¸äº†</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> ll N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\">ll n,m;</span><br><span class=\"line\">ll a[N]; <span class=\"comment\">// å­˜å‚¨å­¦æ ¡çš„åˆ†æ•°çº¿</span></span><br><span class=\"line\">ll b[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªåŒå­¦çš„ä¼°åˆ†</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// nä¸ªå­¦æ ¡,mä¸ªåŒå­¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%lld&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%lld&quot;</span>,&amp;b[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n);</span><br><span class=\"line\">\tll cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰åŒå­¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å«è¯­è¨€é£æ ¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¯”æœ€å°å€¼è¿˜å°,è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(b[i]&lt;=a[<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">\t\t\tcnt+=<span class=\"built_in\">abs</span>(b[i]-a[<span class=\"number\">1</span>]);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(b[i]&gt;=a[n]) &#123;</span><br><span class=\"line\">\t\t\tcnt+=<span class=\"built_in\">abs</span>(b[i]-a[n]);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tll l=<span class=\"number\">1</span>,r=n; <span class=\"comment\">// è¾¹ç•Œæ˜¯[1,n]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t\tll mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ³¨æ„æ‰¾ç¬¬ä¸€ä¸ªæ˜¯ç­”æ¡ˆåœ¨å·¦è¾¹çš„é—®é¢˜,æ‰€ä»¥è¦å‹ç¼©å³è¾¹ç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºb[i]çš„ç¬¬ä¸€ä¸ªå­¦æ ¡çš„åˆ†æ•°çº¿,ç­”æ¡ˆåœ¨å·¦è¾¹,å³a[l]</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é‚£ä¹ˆæœ€åä¸€ä¸ªå°äºb[i]çš„å…ƒç´ çš„ä¸‹æ ‡å°±åº”è¯¥æ˜¯a[l-1]</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a[mid]&gt;=b[i])</span><br><span class=\"line\">\t\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–äºŒè€…ä¹‹ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\tcnt+=min(<span class=\"built_in\">abs</span>(a[l]-b[i]),<span class=\"built_in\">abs</span>(a[l<span class=\"number\">-1</span>]-b[i]));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"24-è“æ¡¥æ¯-23çœb-å†¶ç‚¼é‡‘å±\">2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P9240\">P9240 [è“æ¡¥æ¯ 2023 çœ B] å†¶ç‚¼é‡‘å± </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e4</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ¬¡æŠ•å…¥çš„é‡‘å±æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> b[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ¬¡å†¶ç‚¼å‡ºçš„ç‰¹æ®Šé‡‘å±æ•°é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check_1</span><span class=\"params\">(<span class=\"type\">int</span> mid)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]/mid&gt;b[i])\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check_2</span><span class=\"params\">(<span class=\"type\">int</span> mid)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]/mid&lt;b[i])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax=INT_MIN;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;a[i],&amp;b[i]);\t</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]); <span class=\"comment\">// æœ€å¤§çš„æ™®é€šé‡‘å±æ•°é‡</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&quot;æœ€å¤§å€¼æ˜¯&quot;&lt;&lt;mmax&lt;&lt;endl;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// è½¬æ¢ç‡æœ€å°ä¸º1,æœ‰å¤šå°‘è½¬æ¢å¤šå°‘</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æœ€å°åªèƒ½è½¬æ¢å‡ºä¸€ä¸ª</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼,å‹ç¼©å³è¾¹ç•Œ,ç­”æ¡ˆåœ¨lä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=(ll)l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check_1(mid)) &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=mmax;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=(ll)l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check_2(mid)) &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-æµ®ç‚¹äºŒåˆ†\">3. æµ®ç‚¹äºŒåˆ†</span></h2><h3><span id=\"31-acwing-790-æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\">3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/792/\">790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>å¯¹äºå¼€äºŒæ¬¡æ–¹æ ¹ï¼Œå› ä¸ºå¼€å‡ºæ¥ä¸€å®šæ˜¯æ­£æ•°ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®$l&#x3D;0$ï¼Œ$r&#x3D;x$ï¼Œä½†æ˜¯ä¸‰æ¬¡æ–¹æ ¹å¯èƒ½æœ‰è´Ÿæ•°ï¼Œä¸èƒ½å•çº¯çš„å– $l&#x3D;-x$ï¼Œ$r&#x3D;x$ï¼Œè¿™æ ·çš„è¯è¾“å…¥çš„$x$æ˜¯æ­£æ•°ï¼ŒèŒƒå›´æ˜¯$[-x,x]$ï¼Œè¾“å…¥çš„æ•°æ˜¯è´Ÿæ•°ï¼ŒèŒƒå›´æ˜¯$[x,-x]$å°±ä¼šå‡ºå¤§é—®é¢˜ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">double</span> x;</span><br><span class=\"line\">\tcin&gt;&gt;x;</span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºæ˜¯å¼€ä¸‰æ¬¡æ–¹æ ¹,æ‰€ä»¥è¦è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µ</span></span><br><span class=\"line\">    <span class=\"comment\">// æ³¨æ„</span></span><br><span class=\"line\">\t<span class=\"type\">double</span> l=<span class=\"number\">-100000</span>,r=<span class=\"number\">100000</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¿ç•™6ä½å°æ•°å°±1e-8(åŸºäºç»éªŒ),åŒç†ä¿ç•™4ä½å°±1e-6</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(r-l&gt;<span class=\"number\">1e-8</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">double</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(mid*mid*mid&gt;=x)</span><br><span class=\"line\">\t\t\tr=mid;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tl=mid;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">setprecision</span>(<span class=\"number\">6</span>)&lt;&lt;fixed&lt;&lt;l&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-åŠ æ·±ç†è§£\">4. åŠ æ·±ç†è§£</span></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">10</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">10</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i==<span class=\"number\">1</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;ä¸‹æ ‡:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">10</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i==<span class=\"number\">1</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;æ•°å€¼:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;a[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>; <span class=\"comment\">// ä¸‹æ ‡è¾¹ç•Œ</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡,çœ‹æ˜¯3è¿˜æ˜¯4å‘¢?</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;=<span class=\"number\">3</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼,ç­”æ¡ˆæ˜¯l,rä¸€å®šæ˜¯l-1</span></span><br><span class=\"line\">\t<span class=\"comment\">// 2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5å§è€Œä¸æ˜¯6å§</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;<span class=\"number\">3</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5è€Œä¸æ˜¯4å§</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>&lt;=a[mid] &amp;&amp; a[mid]&lt;=<span class=\"number\">4</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"comment\">// å‹ç¼©l,ç­”æ¡ˆä¸€å®šåœ¨rä¸Š,æ­¤æ—¶lå¿…ä¸ºr+1</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&lt;=<span class=\"number\">4</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ ,ä¸‹æ ‡ä¸º7,ç­”æ¡ˆåœ¨r</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&lt;<span class=\"number\">7</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ ,å€¼æ˜¯8</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;<span class=\"number\">2</span> &amp;&amp; a[mid]&lt;=<span class=\"number\">8</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"äºŒåˆ†ç­”æ¡ˆ\"><a href=\"#äºŒåˆ†ç­”æ¡ˆ\" class=\"headerlink\" title=\"äºŒåˆ†ç­”æ¡ˆ\"></a>äºŒåˆ†ç­”æ¡ˆ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E8%A7%A3%E4%BA%8C%E5%88%86%E9%A2%98%E6%AD%A5%E9%AA%A4\">1. è§£äºŒåˆ†é¢˜æ­¥éª¤</a></li>\n<li><a href=\"#2-%E6%95%B4%E6%95%B0%E4%BA%8C%E5%88%86\">2. æ•´æ•°äºŒåˆ†</a><ul>\n<li><a href=\"#21-%E6%B4%9B%E8%B0%B7-p2440%E6%9C%A8%E6%9D%90%E5%8A%A0%E5%B7%A5\">2.1. æ´›è°· P2440.æœ¨æåŠ å·¥</a></li>\n<li><a href=\"#22-%E6%B4%9B%E8%B0%B7-p1873eko%E7%A0%8D%E6%A0%91\">2.2. æ´›è°· P1873.EKO&#x2F;ç æ ‘</a></li>\n<li><a href=\"#23-%E6%B4%9B%E8%B0%B7-p1678%E7%83%A6%E6%81%BC%E7%9A%84%E9%AB%98%E8%80%83%E5%BF%97%E6%84%BF\">2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿</a></li>\n<li><a href=\"#24-%E8%93%9D%E6%A1%A5%E6%9D%AF-23%E7%9C%81b-%E5%86%B6%E7%82%BC%E9%87%91%E5%B1%9E\">2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%B5%AE%E7%82%B9%E4%BA%8C%E5%88%86\">3. æµ®ç‚¹äºŒåˆ†</a><ul>\n<li><a href=\"#31-acwing-790-%E6%95%B0%E7%9A%84%E4%B8%89%E6%AC%A1%E6%96%B9%E6%A0%B9\">3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E5%8A%A0%E6%B7%B1%E7%90%86%E8%A7%A3\">4. åŠ æ·±ç†è§£</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å°†ç­”æ¡ˆåŒºé—´è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œ æ¯æ¬¡å–åŒºé—´ä¸­é—´å€¼å‡ºæ¥ç”¨äºå°è¯•æ˜¯å¦æ»¡è¶³é¢˜ç›®æ€§è´¨ï¼Œä¸æ–­ç¼©å°è°ƒæ•´åŒºé—´ï¼Œç›´åˆ°ç¡®å®šæœ€ç»ˆç­”æ¡ˆä¸ºæ­¢</li>\n<li>æœ‰å•è°ƒæ€§çš„é¢˜ç›®ä¸€å®šå¯ä»¥äºŒåˆ†ï¼Œä½†æ˜¯ç”¨äºŒåˆ†åšçš„é¢˜ç›®ä¸ä¸€å®šæ‹¥æœ‰å•è°ƒæ€§ã€‚</li>\n<li>æ³¨æ„ï¼šäºŒåˆ†ä¸€å®šæ˜¯æœ‰è§£çš„ï¼Œä¸å¯èƒ½æ— è§£ï¼Œæ— è§£æ°¸è¿œæ˜¯é¢˜ç›®çš„æ— è§£è€Œä¸æ˜¯äºŒåˆ†çš„æ— è§£ã€‚</li>\n</ul>\n<h2 id=\"1-è§£äºŒåˆ†é¢˜æ­¥éª¤\"><a href=\"#1-è§£äºŒåˆ†é¢˜æ­¥éª¤\" class=\"headerlink\" title=\"1. è§£äºŒåˆ†é¢˜æ­¥éª¤\"></a>1. è§£äºŒåˆ†é¢˜æ­¥éª¤</h2><ul>\n<li>é¢˜ç›®å‡ºç°æ±‚æœ€å€¼ï¼Œé¦–å…ˆæƒ³åˆ°äºŒåˆ†&#x2F;è´ªå¿ƒ&#x2F;åŠ¨æ€è§„åˆ’ç­‰ç®—æ³•</li>\n<li>é¢˜ç›®å…·æœ‰å•è°ƒæ€§ï¼Œåˆ™å¯ä»¥è€ƒè™‘ç”¨äºŒåˆ†æ±‚è§£</li>\n<li>è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å°å€¼ â†’ ç­”æ¡ˆåœ¨å·¦è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å³è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $l$ ä¸Š</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç­”æ¡ˆåœ¨å·¦è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©å³è¾¹ç•Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(check(mid)) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç­”æ¡ˆåœ¨å·¦è¾¹ç•Œä¸Š</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>è‹¥æ±‚æ»¡è¶³æŸä¸ªæ€§è´¨çš„æ•°æœ€åä¸€æ¬¡å‡ºç°ï¼Œæˆ–æ±‚æœ€å¤§å€¼ â†’ ç­”æ¡ˆåœ¨å³è¾¹ â†’ æ»¡è¶³æ€§è´¨æ—¶å‹ç¼©å·¦è¾¹ç•Œ â†’ äºŒåˆ†å‡ºæ¥çš„ç­”æ¡ˆä¸€å®šåœ¨ $r$ ä¸Š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç­”æ¡ˆåœ¨å³è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©å·¦è¾¹ç•Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">check</span>(mid)) l=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">cout&lt;&lt;r&lt;&lt;endl; <span class=\"comment\">// ç­”æ¡ˆåœ¨å³è¾¹ç•Œä¸Š</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ•´æ•°äºŒåˆ†\"><a href=\"#2-æ•´æ•°äºŒåˆ†\" class=\"headerlink\" title=\"2. æ•´æ•°äºŒåˆ†\"></a>2. æ•´æ•°äºŒåˆ†</h2><h3 id=\"2-1-æ´›è°·-P2440-æœ¨æåŠ å·¥\"><a href=\"#2-1-æ´›è°·-P2440-æœ¨æåŠ å·¥\" class=\"headerlink\" title=\"2.1. æ´›è°· P2440.æœ¨æåŠ å·¥\"></a>2.1. æ´›è°· P2440.æœ¨æåŠ å·¥</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P2440\">P2440 æœ¨æåŠ å·¥ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// åŸæœ¨/è¦çš„æ ¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// æ¯æ ¹æœ¨å¤´çš„é•¿åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœåˆ‡å‡ºæ¥çš„æ•°é‡æ»¡è¶³kæ ¹è¯´æ˜åˆ‡å¤Ÿäº†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcnt+=a[i]/x;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(cnt&gt;=k) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]); <span class=\"comment\">// æ‰¾æœ€å¤§æœ¨å¤´æ•°,ä½œä¸ºrçš„åˆå€¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å¤š,æ¯æ ¹éƒ½èƒ½åˆ‡æˆa[i]ä»½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æ­¤æ—¶åˆ‡å‡ºæ¥æœ€å°‘,åªèƒ½åˆ‡ä¸€æ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,ç­”æ¡ˆåœ¨å³è¾¹,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check(mid)) &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ç­”æ¡ˆä¸€å®šåœ¨rä¸Šä¸”rä¸€å®šæ¯”lå°1</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-2-æ´›è°·-P1873-EKO-ç æ ‘\"><a href=\"#2-2-æ´›è°·-P1873-EKO-ç æ ‘\" class=\"headerlink\" title=\"2.2. æ´›è°· P1873.EKO&#x2F;ç æ ‘\"></a>2.2. æ´›è°· P1873.EKO&#x2F;ç æ ‘</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1873\">P1873 EKO &#x2F; ç æ ‘ - æ´›è°· </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// n:æ ‘çš„æ•°é‡,m:æ‰€éœ€æ€»é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ£µæ ‘çš„é«˜åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\tll cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ‡å‡ºæ¥çš„é•¿åº¦çˆ†int,é¢˜ç›®ä¹Ÿè¯´è¶…è¿‡M</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]-x&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\tcnt+=a[i]-x;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt&gt;=m) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax; <span class=\"comment\">// å­˜å‚¨æœ€å¤§é«˜åº¦ä½œä¸ºrçš„åˆå§‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é•¿åº¦éƒ½æ˜¯a[i],åˆ‡å¾—æœ€å¤š</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æ­¤æ—¶æ¯æ£µæ ‘èƒ½åˆ‡å‡ºæ¥çš„é«˜åº¦éƒ½æ˜¯0,åˆ‡å¾—æœ€å°‘</span></span><br><span class=\"line\">\t<span class=\"comment\">// lèƒ½å–0å—?å¦‚æœåœåœ¨l=0,é‚£ä¹ˆrä¸€å®šç­‰äº-1,æ­¤æ—¶æœ‰é—®é¢˜</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾é”¯ç‰‡çš„æœ€å¤§é«˜åº¦,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check(mid)) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-3-æ´›è°·-P1678-çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\"><a href=\"#2-3-æ´›è°·-P1678-çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\" class=\"headerlink\" title=\"2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿\"></a>2.3. æ´›è°· P1678.çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1678\">P1678 çƒ¦æ¼çš„é«˜è€ƒå¿—æ„¿ - æ´›è°· </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å¼€llä¸ç„¶è¿‡ä¸äº†</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> ll N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\">ll n,m;</span><br><span class=\"line\">ll a[N]; <span class=\"comment\">// å­˜å‚¨å­¦æ ¡çš„åˆ†æ•°çº¿</span></span><br><span class=\"line\">ll b[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªåŒå­¦çš„ä¼°åˆ†</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// nä¸ªå­¦æ ¡,mä¸ªåŒå­¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%lld&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%lld&quot;</span>,&amp;b[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n);</span><br><span class=\"line\">\tll cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰åŒå­¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(ll i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å«è¯­è¨€é£æ ¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¯”æœ€å°å€¼è¿˜å°,è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(b[i]&lt;=a[<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">\t\t\tcnt+=<span class=\"built_in\">abs</span>(b[i]-a[<span class=\"number\">1</span>]);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(b[i]&gt;=a[n]) &#123;</span><br><span class=\"line\">\t\t\tcnt+=<span class=\"built_in\">abs</span>(b[i]-a[n]);</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tll l=<span class=\"number\">1</span>,r=n; <span class=\"comment\">// è¾¹ç•Œæ˜¯[1,n]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t\tll mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ³¨æ„æ‰¾ç¬¬ä¸€ä¸ªæ˜¯ç­”æ¡ˆåœ¨å·¦è¾¹çš„é—®é¢˜,æ‰€ä»¥è¦å‹ç¼©å³è¾¹ç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºb[i]çš„ç¬¬ä¸€ä¸ªå­¦æ ¡çš„åˆ†æ•°çº¿,ç­”æ¡ˆåœ¨å·¦è¾¹,å³a[l]</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é‚£ä¹ˆæœ€åä¸€ä¸ªå°äºb[i]çš„å…ƒç´ çš„ä¸‹æ ‡å°±åº”è¯¥æ˜¯a[l-1]</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a[mid]&gt;=b[i])</span><br><span class=\"line\">\t\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–äºŒè€…ä¹‹ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\tcnt+=min(<span class=\"built_in\">abs</span>(a[l]-b[i]),<span class=\"built_in\">abs</span>(a[l<span class=\"number\">-1</span>]-b[i]));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-4-è“æ¡¥æ¯-23çœb-å†¶ç‚¼é‡‘å±\"><a href=\"#2-4-è“æ¡¥æ¯-23çœb-å†¶ç‚¼é‡‘å±\" class=\"headerlink\" title=\"2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±\"></a>2.4. è“æ¡¥æ¯ 23çœb å†¶ç‚¼é‡‘å±</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P9240\">P9240 [è“æ¡¥æ¯ 2023 çœ B] å†¶ç‚¼é‡‘å± </a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e4</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ¬¡æŠ•å…¥çš„é‡‘å±æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> b[N]; <span class=\"comment\">// å­˜å‚¨æ¯æ¬¡å†¶ç‚¼å‡ºçš„ç‰¹æ®Šé‡‘å±æ•°é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check_1</span><span class=\"params\">(<span class=\"type\">int</span> mid)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]/mid&gt;b[i])\t</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">check_2</span><span class=\"params\">(<span class=\"type\">int</span> mid)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]/mid&lt;b[i])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mmax=INT_MIN;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;a[i],&amp;b[i]);\t</span><br><span class=\"line\">\t\tmmax=max(mmax,a[i]); <span class=\"comment\">// æœ€å¤§çš„æ™®é€šé‡‘å±æ•°é‡</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&quot;æœ€å¤§å€¼æ˜¯&quot;&lt;&lt;mmax&lt;&lt;endl;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>; <span class=\"comment\">// è½¬æ¢ç‡æœ€å°ä¸º1,æœ‰å¤šå°‘è½¬æ¢å¤šå°‘</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> r=mmax; <span class=\"comment\">// æœ€å°åªèƒ½è½¬æ¢å‡ºä¸€ä¸ª</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼,å‹ç¼©å³è¾¹ç•Œ,ç­”æ¡ˆåœ¨lä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=(ll)l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check_1(mid)) &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=mmax;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,å‹ç¼©å·¦è¾¹ç•Œ,ç­”æ¡ˆåœ¨rä¸Š</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=(ll)l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(check_2(mid)) &#123;</span><br><span class=\"line\">\t\t\tl=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tr=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;r&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-æµ®ç‚¹äºŒåˆ†\"><a href=\"#3-æµ®ç‚¹äºŒåˆ†\" class=\"headerlink\" title=\"3. æµ®ç‚¹äºŒåˆ†\"></a>3. æµ®ç‚¹äºŒåˆ†</h2><h3 id=\"3-1-AcWing-790-æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\"><a href=\"#3-1-AcWing-790-æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\" class=\"headerlink\" title=\"3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹\"></a>3.1. AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/792/\">790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>å¯¹äºå¼€äºŒæ¬¡æ–¹æ ¹ï¼Œå› ä¸ºå¼€å‡ºæ¥ä¸€å®šæ˜¯æ­£æ•°ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®$l&#x3D;0$ï¼Œ$r&#x3D;x$ï¼Œä½†æ˜¯ä¸‰æ¬¡æ–¹æ ¹å¯èƒ½æœ‰è´Ÿæ•°ï¼Œä¸èƒ½å•çº¯çš„å– $l&#x3D;-x$ï¼Œ$r&#x3D;x$ï¼Œè¿™æ ·çš„è¯è¾“å…¥çš„$x$æ˜¯æ­£æ•°ï¼ŒèŒƒå›´æ˜¯$[-x,x]$ï¼Œè¾“å…¥çš„æ•°æ˜¯è´Ÿæ•°ï¼ŒèŒƒå›´æ˜¯$[x,-x]$å°±ä¼šå‡ºå¤§é—®é¢˜ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">double</span> x;</span><br><span class=\"line\">\tcin&gt;&gt;x;</span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºæ˜¯å¼€ä¸‰æ¬¡æ–¹æ ¹,æ‰€ä»¥è¦è€ƒè™‘è´Ÿæ•°çš„æƒ…å†µ</span></span><br><span class=\"line\">    <span class=\"comment\">// æ³¨æ„</span></span><br><span class=\"line\">\t<span class=\"type\">double</span> l=<span class=\"number\">-100000</span>,r=<span class=\"number\">100000</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¿ç•™6ä½å°æ•°å°±1e-8(åŸºäºç»éªŒ),åŒç†ä¿ç•™4ä½å°±1e-6</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(r-l&gt;<span class=\"number\">1e-8</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">double</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(mid*mid*mid&gt;=x)</span><br><span class=\"line\">\t\t\tr=mid;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tl=mid;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">setprecision</span>(<span class=\"number\">6</span>)&lt;&lt;fixed&lt;&lt;l&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-åŠ æ·±ç†è§£\"><a href=\"#4-åŠ æ·±ç†è§£\" class=\"headerlink\" title=\"4. åŠ æ·±ç†è§£\"></a>4. åŠ æ·±ç†è§£</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">10</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">10</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i==<span class=\"number\">1</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;ä¸‹æ ‡:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">10</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i==<span class=\"number\">1</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;æ•°å€¼:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;a[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>; <span class=\"comment\">// ä¸‹æ ‡è¾¹ç•Œ</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡,çœ‹æ˜¯3è¿˜æ˜¯4å‘¢?</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;=<span class=\"number\">3</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;1)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº3çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼,ç­”æ¡ˆæ˜¯l,rä¸€å®šæ˜¯l-1</span></span><br><span class=\"line\">\t<span class=\"comment\">// 2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5å§è€Œä¸æ˜¯6å§</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;<span class=\"number\">3</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;2)æ‰¾ç¬¬ä¸€ä¸ªå¤§äº3çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡,æ˜¯5è€Œä¸æ˜¯4å§</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>&lt;=a[mid] &amp;&amp; a[mid]&lt;=<span class=\"number\">4</span>) r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;3)æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äº2ä¸”å°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[l]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"comment\">// å‹ç¼©l,ç­”æ¡ˆä¸€å®šåœ¨rä¸Š,æ­¤æ—¶lå¿…ä¸ºr+1</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&lt;=<span class=\"number\">4</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;4)æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äº4çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ ,ä¸‹æ ‡ä¸º7,ç­”æ¡ˆåœ¨r</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&lt;<span class=\"number\">7</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;5)æ‰¾æœ€åä¸€ä¸ªå°äº6çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// 6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ ,å€¼æ˜¯8</span></span><br><span class=\"line\">\tl=<span class=\"number\">1</span>,r=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[mid]&gt;<span class=\"number\">2</span> &amp;&amp; a[mid]&lt;=<span class=\"number\">8</span>) l=mid+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> r=mid<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;6)æ‰¾æœ€åä¸€ä¸ªå¤§äº2ä¸”å°äºç­‰äº8çš„å…ƒç´ çš„ä¸‹æ ‡:&gt;&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot; ç­”æ¡ˆæ˜¯:&quot;</span>&lt;&lt;a[r]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"äºŒåˆ†å›¾","date":"2024-10-04T12:42:55.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# äºŒåˆ†å›¾\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯ï¼Œå¯ä»¥æŠŠæ‰€æœ‰ç‚¹åˆ’åˆ†æˆä¸¤è¾¹ï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½æ˜¯åœ¨é›†åˆä¹‹é—´çš„ï¼Œé›†åˆå†…æ²¡æœ‰è¾¹ã€‚\n\n<img src=\"E:/Typora/%E5%9B%BE%E7%89%87/image-20240201103004073.png\" alt=\"image-20240201103004073\" style=\"zoom:80%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103116146.png\" alt=\"image-20240201103116146\" style=\"zoom:80%;\" />\n\n\n\nâ€‹\t\tå¦‚æœå›¾ä¸­å­˜åœ¨å¥‡æ•°ç¯ï¼Œé‚£ä¹ˆä¼šå‡ºç°ä¸‹é¢è¿™ç§è‡ªç›¸çŸ›ç›¾çš„æƒ…å†µã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103038838.png\" alt=\"image-20240201103038838\"  />\n\n\n\n## 1. æŸ“è‰²æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾\n\nåªè¦å›¾ä¸­ä¸å­˜åœ¨å¥‡æ•°ç¯ï¼ŒæŸ“è‰²è¿‡ç¨‹å°±ä¸ä¼šå‡ºç°çŸ›ç›¾ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æŸ“è‰²æ³•:\n// for v=1~n: å¦‚æœæ²¡æœ‰æŸ“è‰²,dfs(v)\n// å®½æœå’Œæ·±æœéƒ½èƒ½å®ç°,ä½†æ˜¯æ·±æœä»£ç çŸ­\nconst int N=1e5+10;\nconst int M=(1e5+10)*2; // æ— å‘å›¾\n\nint n,m;\nint h[N],e[M],ne[M],idx;\nint color[N];\n\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nbool dfs(int u,int c) {\n\tcolor[u]=c; // æŠŠå½“å‰ç‚¹æŸ“æˆcè‰²\n\t// éå†ä¸uç›¸è¿çš„æ‰€æœ‰è¾¹\n\tfor(int i=h[u];i!=-1;i=ne[i]) {\n\t\t// å–å‡ºç›¸è¿çš„è¾¹çš„ç‚¹\n\t\tint j=e[i];\n\t\t// å¦‚æœæ²¡æœ‰æŸ“è‰²\n\t\tif(!color[j]) {\n\t\t\t// 3-c:å¦‚æœcä¸º1,åˆ™3-cä¸º2,è¡¨ç¤ºæŸ“æˆ2è‰²;å¦‚æœcä¸º2,åˆ™3-cä¸º1,è¡¨ç¤ºæŸ“æˆ1è‰²\n\t\t\t// å¦‚æœæ— æ³•åƒè¿™æ ·æŸ“è‰²,åˆ™è¿”å›false\n\t\t\tif(!dfs(j,3-c))\n\t\t\t\treturn false;\n\t\t}\n\t\t// å¦‚æœé¢œè‰²å‘ç”Ÿå†²çª,åˆ™ç›´æ¥è¿”å›false\n\t\telse if(color[j]==c)\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\tadd(a,b);\n\t\tadd(b,a);\n\t}\n\tbool flag=true; // æœªå‘ç”Ÿå†²çª\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ²¡æœ‰æŸ“è‰²\n\t\tif(!color[i]) {\n\t\t\t// å¦‚æœæ·±æœå‘ç”Ÿå†²çª(æŸ“è‰²å†²çª)\n\t\t\tif(!dfs(i,1)) {\n\t\t\t\tflag=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(flag)\n\t\tcout<<\"Yes\";\n\telse\n\t\tcout<<\"No\";\n\treturn 0;\n}\n/*\n4ä¸ªç‚¹4æ¡è¾¹\nè¾“å…¥æ ·ä¾‹:\n4 4\n1 3\n1 4\n2 3\n2 4\nè¾“å‡ºæ ·ä¾‹:\nYes\n/*\n```\n\n\n\n## 2. åŒˆç‰™åˆ©ç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(mn)ï¼Œå®é™…æ‰§è¡Œæ—¶é—´è¿œå°äºO(mn)ï¼šæ±‚äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°\n\n* æ³¨æ„éœ€è¦æ»¡è¶³æ˜¯äºŒåˆ†å›¾è¿™ä¸ªå‰ææ‰èƒ½ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•ã€‚\n\n* ä¸‹é¢è¿™ä¸ªå›¾ä¸ªäººæ„Ÿè§‰æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯å…ˆ (1,5)ï¼Œåæ‰¾åˆ° (2,8)ï¼Œå†æ‰¾åˆ° (3,5) è¿™æ—¶å‘ç°5å·²ç»è¢«1å æœ‰ï¼Œæ‰€ä»¥1é€€è€Œæ±‚å…¶æ¬¡æ‰¾åˆ°7ï¼Œå˜ä¸º (1,7)ï¼Œå¯¹äº4ï¼Œåªæœ‰ (4,8)ï¼Œä½†2ä¹Ÿä»…ä¸ 8 ç›¸è¿ï¼Œæ‰€ä»¥æœ€å¤§åŒ¹é…æ•°ä¸º3ï¼ŒåŒ¹é…ä¸ºï¼š(1,7)ã€(2,8)ã€(3,5)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103242589.png\" alt=\"image-20240201103242589\" style=\"zoom:80%;\" />\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æ²¡æœ‰ä¸¤æ¡è¾¹å…±ç”¨ä¸€ä¸ªç‚¹,è¡¨ç¤ºåŒ¹é…\n// æ±‚å›¾ä¸­çš„æœ€å¤§åŒ¹é…æ•° \n\nconst int N=5e2+2;\nconst int M=1e5+10;\n\nint n1,n2,m;\nint h[N],e[M],ne[M],idx;\nint match[N];\nbool st[N];\n\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nbool find(int x) {\n\t// å»æŸ¥æ‰¾è¿™ä¸ªä¸è¿™ä¸ªç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹çš„ç‚¹é›†\n\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\tint j=e[i];\n\t\tif(!st[j]) {\n\t\t\tst[j]=true;\n\t\t\t// å¦‚æœè¿™ä¸ªç‚¹è¿˜æ²¡æœ‰å’Œä»»ä½•ç‚¹åŒ¹é…,å¹¶ä¸”ä¹Ÿæ²¡æœ‰å…¶ä»–ç‚¹ä¸è‡ªèº«ç›¸è¿,åˆ™è¿”å›true\n\t\t\tif(match[j]==0 || find(match[j])) {\n\t\t\t\tmatch[j]=x;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n1>>n2>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\tadd(a,b); // æœ‰å‘å›¾\n\t}\n\tint res=0; // å­˜æ”¾æœ€ç»ˆç­”æ¡ˆ\n\t// éå†äºŒåˆ†å›¾ä¸­n1è¿™ä¸ªç‚¹é›†\n\tfor(int i=1;i<=n1;i++) {\n\t\tmemset(st,false,sizeof st); // ç”¨äºå¯»æ‰¾å¢å¹¿è·¯å¾„æ—¶é‡ç½®st\n\t\t// å¦‚æœèƒ½æ‰¾åˆ°åŒ¹é…ç‚¹,åˆ™res++\n\t\tif(find(i))\n\t\t\tres++;\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n/*\nå·¦è¾¹2ç‚¹,å³è¾¹2ç‚¹,å…±4æ¡è¾¹\n1 1(è¡¨ç¤ºå·¦è¾¹ç‚¹1å’Œå³è¾¹ç‚¹1æœ‰è¾¹)\nè¾“å…¥æ ·ä¾‹:\n2 2 4\n1 1\n1 2\n2 1\n2 2\nè¾“å‡ºæ ·ä¾‹:\n2\n*/\n```\n","source":"_posts/äºŒåˆ†å›¾.md","raw":"---\ntitle: äºŒåˆ†å›¾\ndate: 2024-10-04 20:42:55\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# äºŒåˆ†å›¾\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯ï¼Œå¯ä»¥æŠŠæ‰€æœ‰ç‚¹åˆ’åˆ†æˆä¸¤è¾¹ï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½æ˜¯åœ¨é›†åˆä¹‹é—´çš„ï¼Œé›†åˆå†…æ²¡æœ‰è¾¹ã€‚\n\n<img src=\"E:/Typora/%E5%9B%BE%E7%89%87/image-20240201103004073.png\" alt=\"image-20240201103004073\" style=\"zoom:80%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103116146.png\" alt=\"image-20240201103116146\" style=\"zoom:80%;\" />\n\n\n\nâ€‹\t\tå¦‚æœå›¾ä¸­å­˜åœ¨å¥‡æ•°ç¯ï¼Œé‚£ä¹ˆä¼šå‡ºç°ä¸‹é¢è¿™ç§è‡ªç›¸çŸ›ç›¾çš„æƒ…å†µã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103038838.png\" alt=\"image-20240201103038838\"  />\n\n\n\n## 1. æŸ“è‰²æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾\n\nåªè¦å›¾ä¸­ä¸å­˜åœ¨å¥‡æ•°ç¯ï¼ŒæŸ“è‰²è¿‡ç¨‹å°±ä¸ä¼šå‡ºç°çŸ›ç›¾ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æŸ“è‰²æ³•:\n// for v=1~n: å¦‚æœæ²¡æœ‰æŸ“è‰²,dfs(v)\n// å®½æœå’Œæ·±æœéƒ½èƒ½å®ç°,ä½†æ˜¯æ·±æœä»£ç çŸ­\nconst int N=1e5+10;\nconst int M=(1e5+10)*2; // æ— å‘å›¾\n\nint n,m;\nint h[N],e[M],ne[M],idx;\nint color[N];\n\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nbool dfs(int u,int c) {\n\tcolor[u]=c; // æŠŠå½“å‰ç‚¹æŸ“æˆcè‰²\n\t// éå†ä¸uç›¸è¿çš„æ‰€æœ‰è¾¹\n\tfor(int i=h[u];i!=-1;i=ne[i]) {\n\t\t// å–å‡ºç›¸è¿çš„è¾¹çš„ç‚¹\n\t\tint j=e[i];\n\t\t// å¦‚æœæ²¡æœ‰æŸ“è‰²\n\t\tif(!color[j]) {\n\t\t\t// 3-c:å¦‚æœcä¸º1,åˆ™3-cä¸º2,è¡¨ç¤ºæŸ“æˆ2è‰²;å¦‚æœcä¸º2,åˆ™3-cä¸º1,è¡¨ç¤ºæŸ“æˆ1è‰²\n\t\t\t// å¦‚æœæ— æ³•åƒè¿™æ ·æŸ“è‰²,åˆ™è¿”å›false\n\t\t\tif(!dfs(j,3-c))\n\t\t\t\treturn false;\n\t\t}\n\t\t// å¦‚æœé¢œè‰²å‘ç”Ÿå†²çª,åˆ™ç›´æ¥è¿”å›false\n\t\telse if(color[j]==c)\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\tadd(a,b);\n\t\tadd(b,a);\n\t}\n\tbool flag=true; // æœªå‘ç”Ÿå†²çª\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ²¡æœ‰æŸ“è‰²\n\t\tif(!color[i]) {\n\t\t\t// å¦‚æœæ·±æœå‘ç”Ÿå†²çª(æŸ“è‰²å†²çª)\n\t\t\tif(!dfs(i,1)) {\n\t\t\t\tflag=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(flag)\n\t\tcout<<\"Yes\";\n\telse\n\t\tcout<<\"No\";\n\treturn 0;\n}\n/*\n4ä¸ªç‚¹4æ¡è¾¹\nè¾“å…¥æ ·ä¾‹:\n4 4\n1 3\n1 4\n2 3\n2 4\nè¾“å‡ºæ ·ä¾‹:\nYes\n/*\n```\n\n\n\n## 2. åŒˆç‰™åˆ©ç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(mn)ï¼Œå®é™…æ‰§è¡Œæ—¶é—´è¿œå°äºO(mn)ï¼šæ±‚äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°\n\n* æ³¨æ„éœ€è¦æ»¡è¶³æ˜¯äºŒåˆ†å›¾è¿™ä¸ªå‰ææ‰èƒ½ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•ã€‚\n\n* ä¸‹é¢è¿™ä¸ªå›¾ä¸ªäººæ„Ÿè§‰æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯å…ˆ (1,5)ï¼Œåæ‰¾åˆ° (2,8)ï¼Œå†æ‰¾åˆ° (3,5) è¿™æ—¶å‘ç°5å·²ç»è¢«1å æœ‰ï¼Œæ‰€ä»¥1é€€è€Œæ±‚å…¶æ¬¡æ‰¾åˆ°7ï¼Œå˜ä¸º (1,7)ï¼Œå¯¹äº4ï¼Œåªæœ‰ (4,8)ï¼Œä½†2ä¹Ÿä»…ä¸ 8 ç›¸è¿ï¼Œæ‰€ä»¥æœ€å¤§åŒ¹é…æ•°ä¸º3ï¼ŒåŒ¹é…ä¸ºï¼š(1,7)ã€(2,8)ã€(3,5)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103242589.png\" alt=\"image-20240201103242589\" style=\"zoom:80%;\" />\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æ²¡æœ‰ä¸¤æ¡è¾¹å…±ç”¨ä¸€ä¸ªç‚¹,è¡¨ç¤ºåŒ¹é…\n// æ±‚å›¾ä¸­çš„æœ€å¤§åŒ¹é…æ•° \n\nconst int N=5e2+2;\nconst int M=1e5+10;\n\nint n1,n2,m;\nint h[N],e[M],ne[M],idx;\nint match[N];\nbool st[N];\n\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nbool find(int x) {\n\t// å»æŸ¥æ‰¾è¿™ä¸ªä¸è¿™ä¸ªç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹çš„ç‚¹é›†\n\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\tint j=e[i];\n\t\tif(!st[j]) {\n\t\t\tst[j]=true;\n\t\t\t// å¦‚æœè¿™ä¸ªç‚¹è¿˜æ²¡æœ‰å’Œä»»ä½•ç‚¹åŒ¹é…,å¹¶ä¸”ä¹Ÿæ²¡æœ‰å…¶ä»–ç‚¹ä¸è‡ªèº«ç›¸è¿,åˆ™è¿”å›true\n\t\t\tif(match[j]==0 || find(match[j])) {\n\t\t\t\tmatch[j]=x;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n1>>n2>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\tadd(a,b); // æœ‰å‘å›¾\n\t}\n\tint res=0; // å­˜æ”¾æœ€ç»ˆç­”æ¡ˆ\n\t// éå†äºŒåˆ†å›¾ä¸­n1è¿™ä¸ªç‚¹é›†\n\tfor(int i=1;i<=n1;i++) {\n\t\tmemset(st,false,sizeof st); // ç”¨äºå¯»æ‰¾å¢å¹¿è·¯å¾„æ—¶é‡ç½®st\n\t\t// å¦‚æœèƒ½æ‰¾åˆ°åŒ¹é…ç‚¹,åˆ™res++\n\t\tif(find(i))\n\t\t\tres++;\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n/*\nå·¦è¾¹2ç‚¹,å³è¾¹2ç‚¹,å…±4æ¡è¾¹\n1 1(è¡¨ç¤ºå·¦è¾¹ç‚¹1å’Œå³è¾¹ç‚¹1æœ‰è¾¹)\nè¾“å…¥æ ·ä¾‹:\n2 2 4\n1 1\n1 2\n2 1\n2 2\nè¾“å‡ºæ ·ä¾‹:\n2\n*/\n```\n","slug":"äºŒåˆ†å›¾","published":1,"updated":"2024-10-05T08:00:14.711Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsh000kc0nf5k9rf8uk","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"äºŒåˆ†å›¾\">äºŒåˆ†å›¾</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9F%93%E8%89%B2%E6%B3%95\">1. æŸ“è‰²æ³•</a></li>\n<li><a href=\"#2-%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95\">2. åŒˆç‰™åˆ©ç®—æ³•</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯ï¼Œå¯ä»¥æŠŠæ‰€æœ‰ç‚¹åˆ’åˆ†æˆä¸¤è¾¹ï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½æ˜¯åœ¨é›†åˆä¹‹é—´çš„ï¼Œé›†åˆå†…æ²¡æœ‰è¾¹ã€‚</li>\n</ul>\n<img src=\"E:/Typora/%E5%9B%BE%E7%89%87/image-20240201103004073.png\" alt=\"image-20240201103004073\" style=\"zoom:80%;\">\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103116146.png\" alt=\"image-20240201103116146\" style=\"zoom:80%;\">\n\n\n\n<p>â€‹\t\tå¦‚æœå›¾ä¸­å­˜åœ¨å¥‡æ•°ç¯ï¼Œé‚£ä¹ˆä¼šå‡ºç°ä¸‹é¢è¿™ç§è‡ªç›¸çŸ›ç›¾çš„æƒ…å†µã€‚</p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103038838.png\" alt=\"image-20240201103038838\">\n\n\n\n<h2><span id=\"1-æŸ“è‰²æ³•\">1. æŸ“è‰²æ³•</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾</p>\n</blockquote>\n<p>åªè¦å›¾ä¸­ä¸å­˜åœ¨å¥‡æ•°ç¯ï¼ŒæŸ“è‰²è¿‡ç¨‹å°±ä¸ä¼šå‡ºç°çŸ›ç›¾ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ“è‰²æ³•:</span></span><br><span class=\"line\"><span class=\"comment\">// for v=1~n: å¦‚æœæ²¡æœ‰æŸ“è‰²,dfs(v)</span></span><br><span class=\"line\"><span class=\"comment\">// å®½æœå’Œæ·±æœéƒ½èƒ½å®ç°,ä½†æ˜¯æ·±æœä»£ç çŸ­</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+10</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æ— å‘å›¾</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> color[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\tcolor[u]=c; <span class=\"comment\">// æŠŠå½“å‰ç‚¹æŸ“æˆcè‰²</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†ä¸uç›¸è¿çš„æ‰€æœ‰è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[u];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºç›¸è¿çš„è¾¹çš„ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æŸ“è‰²</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!color[j]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 3-c:å¦‚æœcä¸º1,åˆ™3-cä¸º2,è¡¨ç¤ºæŸ“æˆ2è‰²;å¦‚æœcä¸º2,åˆ™3-cä¸º1,è¡¨ç¤ºæŸ“æˆ1è‰²</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ— æ³•åƒè¿™æ ·æŸ“è‰²,åˆ™è¿”å›false</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!<span class=\"built_in\">dfs</span>(j,<span class=\"number\">3</span>-c))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœé¢œè‰²å‘ç”Ÿå†²çª,åˆ™ç›´æ¥è¿”å›false</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(color[j]==c)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b);</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(b,a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">true</span>; <span class=\"comment\">// æœªå‘ç”Ÿå†²çª</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æŸ“è‰²</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!color[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ·±æœå‘ç”Ÿå†²çª(æŸ“è‰²å†²çª)</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!<span class=\"built_in\">dfs</span>(i,<span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">\t\t\t\tflag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;Yes&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;No&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">4ä¸ªç‚¹4æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">4 4</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">1 4</span></span><br><span class=\"line\"><span class=\"comment\">2 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">Yes</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-åŒˆç‰™åˆ©ç®—æ³•\">2. åŒˆç‰™åˆ©ç®—æ³•</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(mn)ï¼Œå®é™…æ‰§è¡Œæ—¶é—´è¿œå°äºO(mn)ï¼šæ±‚äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</p>\n</blockquote>\n<ul>\n<li><p>æ³¨æ„éœ€è¦æ»¡è¶³æ˜¯äºŒåˆ†å›¾è¿™ä¸ªå‰ææ‰èƒ½ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•ã€‚</p>\n</li>\n<li><p>ä¸‹é¢è¿™ä¸ªå›¾ä¸ªäººæ„Ÿè§‰æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯å…ˆ (1,5)ï¼Œåæ‰¾åˆ° (2,8)ï¼Œå†æ‰¾åˆ° (3,5) è¿™æ—¶å‘ç°5å·²ç»è¢«1å æœ‰ï¼Œæ‰€ä»¥1é€€è€Œæ±‚å…¶æ¬¡æ‰¾åˆ°7ï¼Œå˜ä¸º (1,7)ï¼Œå¯¹äº4ï¼Œåªæœ‰ (4,8)ï¼Œä½†2ä¹Ÿä»…ä¸ 8 ç›¸è¿ï¼Œæ‰€ä»¥æœ€å¤§åŒ¹é…æ•°ä¸º3ï¼ŒåŒ¹é…ä¸ºï¼š(1,7)ã€(2,8)ã€(3,5)</p>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103242589.png\" alt=\"image-20240201103242589\" style=\"zoom:80%;\">\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ä¸¤æ¡è¾¹å…±ç”¨ä¸€ä¸ªç‚¹,è¡¨ç¤ºåŒ¹é…</span></span><br><span class=\"line\"><span class=\"comment\">// æ±‚å›¾ä¸­çš„æœ€å¤§åŒ¹é…æ•° </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n1,n2,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> match[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å»æŸ¥æ‰¾è¿™ä¸ªä¸è¿™ä¸ªç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹çš„ç‚¹é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªç‚¹è¿˜æ²¡æœ‰å’Œä»»ä½•ç‚¹åŒ¹é…,å¹¶ä¸”ä¹Ÿæ²¡æœ‰å…¶ä»–ç‚¹ä¸è‡ªèº«ç›¸è¿,åˆ™è¿”å›true</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(match[j]==<span class=\"number\">0</span> || <span class=\"built_in\">find</span>(match[j])) &#123;</span><br><span class=\"line\">\t\t\t\tmatch[j]=x;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n1&gt;&gt;n2&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b); <span class=\"comment\">// æœ‰å‘å›¾</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>; <span class=\"comment\">// å­˜æ”¾æœ€ç»ˆç­”æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†äºŒåˆ†å›¾ä¸­n1è¿™ä¸ªç‚¹é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n1;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">memset</span>(st,<span class=\"literal\">false</span>,<span class=\"keyword\">sizeof</span> st); <span class=\"comment\">// ç”¨äºå¯»æ‰¾å¢å¹¿è·¯å¾„æ—¶é‡ç½®st</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœèƒ½æ‰¾åˆ°åŒ¹é…ç‚¹,åˆ™res++</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">find</span>(i))</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">å·¦è¾¹2ç‚¹,å³è¾¹2ç‚¹,å…±4æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">1 1(è¡¨ç¤ºå·¦è¾¹ç‚¹1å’Œå³è¾¹ç‚¹1æœ‰è¾¹)</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2 2 4</span></span><br><span class=\"line\"><span class=\"comment\">1 1</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">2 1</span></span><br><span class=\"line\"><span class=\"comment\">2 2</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"äºŒåˆ†å›¾\"><a href=\"#äºŒåˆ†å›¾\" class=\"headerlink\" title=\"äºŒåˆ†å›¾\"></a>äºŒåˆ†å›¾</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9F%93%E8%89%B2%E6%B3%95\">1. æŸ“è‰²æ³•</a></li>\n<li><a href=\"#2-%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95\">2. åŒˆç‰™åˆ©ç®—æ³•</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯ï¼Œå¯ä»¥æŠŠæ‰€æœ‰ç‚¹åˆ’åˆ†æˆä¸¤è¾¹ï¼Œä½¿å¾—æ‰€æœ‰çš„è¾¹éƒ½æ˜¯åœ¨é›†åˆä¹‹é—´çš„ï¼Œé›†åˆå†…æ²¡æœ‰è¾¹ã€‚</li>\n</ul>\n<img src=\"E:/Typora/%E5%9B%BE%E7%89%87/image-20240201103004073.png\" alt=\"image-20240201103004073\" style=\"zoom:80%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103116146.png\" alt=\"image-20240201103116146\" style=\"zoom:80%;\" />\n\n\n\n<p>â€‹\t\tå¦‚æœå›¾ä¸­å­˜åœ¨å¥‡æ•°ç¯ï¼Œé‚£ä¹ˆä¼šå‡ºç°ä¸‹é¢è¿™ç§è‡ªç›¸çŸ›ç›¾çš„æƒ…å†µã€‚</p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103038838.png\" alt=\"image-20240201103038838\"  />\n\n\n\n<h2 id=\"1-æŸ“è‰²æ³•\"><a href=\"#1-æŸ“è‰²æ³•\" class=\"headerlink\" title=\"1. æŸ“è‰²æ³•\"></a>1. æŸ“è‰²æ³•</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦ä¸ºäºŒåˆ†å›¾</p>\n</blockquote>\n<p>åªè¦å›¾ä¸­ä¸å­˜åœ¨å¥‡æ•°ç¯ï¼ŒæŸ“è‰²è¿‡ç¨‹å°±ä¸ä¼šå‡ºç°çŸ›ç›¾ã€‚</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ“è‰²æ³•:</span></span><br><span class=\"line\"><span class=\"comment\">// for v=1~n: å¦‚æœæ²¡æœ‰æŸ“è‰²,dfs(v)</span></span><br><span class=\"line\"><span class=\"comment\">// å®½æœå’Œæ·±æœéƒ½èƒ½å®ç°,ä½†æ˜¯æ·±æœä»£ç çŸ­</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+10</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æ— å‘å›¾</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> color[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\tcolor[u]=c; <span class=\"comment\">// æŠŠå½“å‰ç‚¹æŸ“æˆcè‰²</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†ä¸uç›¸è¿çš„æ‰€æœ‰è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[u];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºç›¸è¿çš„è¾¹çš„ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æŸ“è‰²</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!color[j]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 3-c:å¦‚æœcä¸º1,åˆ™3-cä¸º2,è¡¨ç¤ºæŸ“æˆ2è‰²;å¦‚æœcä¸º2,åˆ™3-cä¸º1,è¡¨ç¤ºæŸ“æˆ1è‰²</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ— æ³•åƒè¿™æ ·æŸ“è‰²,åˆ™è¿”å›false</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!<span class=\"built_in\">dfs</span>(j,<span class=\"number\">3</span>-c))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœé¢œè‰²å‘ç”Ÿå†²çª,åˆ™ç›´æ¥è¿”å›false</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(color[j]==c)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b);</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(b,a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">true</span>; <span class=\"comment\">// æœªå‘ç”Ÿå†²çª</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æŸ“è‰²</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!color[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ·±æœå‘ç”Ÿå†²çª(æŸ“è‰²å†²çª)</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!<span class=\"built_in\">dfs</span>(i,<span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">\t\t\t\tflag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;Yes&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;No&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">4ä¸ªç‚¹4æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">4 4</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">1 4</span></span><br><span class=\"line\"><span class=\"comment\">2 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">Yes</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-åŒˆç‰™åˆ©ç®—æ³•\"><a href=\"#2-åŒˆç‰™åˆ©ç®—æ³•\" class=\"headerlink\" title=\"2. åŒˆç‰™åˆ©ç®—æ³•\"></a>2. åŒˆç‰™åˆ©ç®—æ³•</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(mn)ï¼Œå®é™…æ‰§è¡Œæ—¶é—´è¿œå°äºO(mn)ï¼šæ±‚äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</p>\n</blockquote>\n<ul>\n<li><p>æ³¨æ„éœ€è¦æ»¡è¶³æ˜¯äºŒåˆ†å›¾è¿™ä¸ªå‰ææ‰èƒ½ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•ã€‚</p>\n</li>\n<li><p>ä¸‹é¢è¿™ä¸ªå›¾ä¸ªäººæ„Ÿè§‰æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯å…ˆ (1,5)ï¼Œåæ‰¾åˆ° (2,8)ï¼Œå†æ‰¾åˆ° (3,5) è¿™æ—¶å‘ç°5å·²ç»è¢«1å æœ‰ï¼Œæ‰€ä»¥1é€€è€Œæ±‚å…¶æ¬¡æ‰¾åˆ°7ï¼Œå˜ä¸º (1,7)ï¼Œå¯¹äº4ï¼Œåªæœ‰ (4,8)ï¼Œä½†2ä¹Ÿä»…ä¸ 8 ç›¸è¿ï¼Œæ‰€ä»¥æœ€å¤§åŒ¹é…æ•°ä¸º3ï¼ŒåŒ¹é…ä¸ºï¼š(1,7)ã€(2,8)ã€(3,5)</p>\n</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240201103242589.png\" alt=\"image-20240201103242589\" style=\"zoom:80%;\" />\n\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ²¡æœ‰ä¸¤æ¡è¾¹å…±ç”¨ä¸€ä¸ªç‚¹,è¡¨ç¤ºåŒ¹é…</span></span><br><span class=\"line\"><span class=\"comment\">// æ±‚å›¾ä¸­çš„æœ€å¤§åŒ¹é…æ•° </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n1,n2,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> match[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å»æŸ¥æ‰¾è¿™ä¸ªä¸è¿™ä¸ªç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹çš„ç‚¹é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªç‚¹è¿˜æ²¡æœ‰å’Œä»»ä½•ç‚¹åŒ¹é…,å¹¶ä¸”ä¹Ÿæ²¡æœ‰å…¶ä»–ç‚¹ä¸è‡ªèº«ç›¸è¿,åˆ™è¿”å›true</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(match[j]==<span class=\"number\">0</span> || <span class=\"built_in\">find</span>(match[j])) &#123;</span><br><span class=\"line\">\t\t\t\tmatch[j]=x;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n1&gt;&gt;n2&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b); <span class=\"comment\">// æœ‰å‘å›¾</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>; <span class=\"comment\">// å­˜æ”¾æœ€ç»ˆç­”æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†äºŒåˆ†å›¾ä¸­n1è¿™ä¸ªç‚¹é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n1;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">memset</span>(st,<span class=\"literal\">false</span>,<span class=\"keyword\">sizeof</span> st); <span class=\"comment\">// ç”¨äºå¯»æ‰¾å¢å¹¿è·¯å¾„æ—¶é‡ç½®st</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœèƒ½æ‰¾åˆ°åŒ¹é…ç‚¹,åˆ™res++</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">find</span>(i))</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">å·¦è¾¹2ç‚¹,å³è¾¹2ç‚¹,å…±4æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">1 1(è¡¨ç¤ºå·¦è¾¹ç‚¹1å’Œå³è¾¹ç‚¹1æœ‰è¾¹)</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2 2 4</span></span><br><span class=\"line\"><span class=\"comment\">1 1</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">2 1</span></span><br><span class=\"line\"><span class=\"comment\">2 2</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n"},{"title":"å‰ç¼€å’Œ","date":"2024-10-03T03:55:06.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‰ç¼€å’Œ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å› ä¸ºå‰ç¼€å’Œè¿™ä¸ªæ¿å­çš„æ¨å¯¼æ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜\n\n\n\n## 1. ä¸€ç»´å‰ç¼€å’Œ\n\n* ä¸€ç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i]=\\sum_{i=1}^ia[i]=s[i-1]+a[i]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n)$\n* åŸæ•°ç»„ $[l,r]$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[r]-s[l-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n> ã€ä¾‹é¢˜ã€‘AcWing 795ï¼Œé“¾æ¥ï¼š[795. å‰ç¼€å’Œ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/797/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+5;\nint a[N],s[N];\n\nint main() {\n\tint n;\n\tint m;\n\tcin>>n>>m;\n\t// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5æ—¶æ¨èä½¿ç”¨scanfè€Œä¸æ˜¯cinå’Œcout\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\ts[i]=s[i-1]+a[i];\t\n\t}\n\twhile(m--) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tprintf(\"%d\\n\",s[r]-s[l-1]);\n\t}\n\treturn 0;\n}\t\n```\n\n\n\n## 2. äºŒç»´å‰ç¼€å’Œ\n\n* äºŒç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i][j]=\\sum_{i=1}^i\\sum_{j=1}^ja[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$\n\n![image-20240316232827015](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156232.png)\n\n* åŸæ•°ç»„ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[x_2][y_2]-s[x_1-1][y_2]-s[x_2][y_1-1]+s[x_1-1][x_2-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n![image-20240316232908005](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156219.png)\n\n> ã€ä¾‹é¢˜ã€‘AcWing 796ï¼Œé“¾æ¥ï¼š[796. å­çŸ©é˜µçš„å’Œ - AcWingé¢˜åº“](https://www.acwing.com/file_system/file/content/whole/index/content/4324/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// å®¹æ–¥åŸç†:\nconst int N=1e3+10;\nint n,m,q;\nint a[N][N];\nint s[N][N]; // äºŒç»´å‰ç¼€å’ŒçŸ©é˜µ\n\nint main() {\n\tcin>>n>>m>>q;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t// é¢„å¤„ç†äºŒç»´å‰ç¼€å’Œæ•°ç»„\n\t\t\ts[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j];\n\t\t}\n\t}\n\twhile(q--) {\n\t\tint x1,x2,y1,y2;\n\t\tscanf(\"%d%d%d%d\",&x1,&y1,&x2,&y2);\n\t\t// ç®—åŒºé—´å’Œ\n\t\tprintf(\"%d\\n\",s[x2][y2]-s[x1-1][y2]-s[x2][y1-1]+s[x1-1][y1-1]);\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/å‰ç¼€å’Œ.md","raw":"---\ntitle: å‰ç¼€å’Œ\ndate: 2024-10-03 11:55:06\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - å‰ç¼€å’Œ\n    - é¢„å¤„ç†\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å‰ç¼€å’Œ\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å› ä¸ºå‰ç¼€å’Œè¿™ä¸ªæ¿å­çš„æ¨å¯¼æ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜\n\n\n\n## 1. ä¸€ç»´å‰ç¼€å’Œ\n\n* ä¸€ç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i]=\\sum_{i=1}^ia[i]=s[i-1]+a[i]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n)$\n* åŸæ•°ç»„ $[l,r]$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[r]-s[l-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n> ã€ä¾‹é¢˜ã€‘AcWing 795ï¼Œé“¾æ¥ï¼š[795. å‰ç¼€å’Œ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/797/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+5;\nint a[N],s[N];\n\nint main() {\n\tint n;\n\tint m;\n\tcin>>n>>m;\n\t// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5æ—¶æ¨èä½¿ç”¨scanfè€Œä¸æ˜¯cinå’Œcout\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\ts[i]=s[i-1]+a[i];\t\n\t}\n\twhile(m--) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tprintf(\"%d\\n\",s[r]-s[l-1]);\n\t}\n\treturn 0;\n}\t\n```\n\n\n\n## 2. äºŒç»´å‰ç¼€å’Œ\n\n* äºŒç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i][j]=\\sum_{i=1}^i\\sum_{j=1}^ja[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$\n\n![image-20240316232827015](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156232.png)\n\n* åŸæ•°ç»„ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[x_2][y_2]-s[x_1-1][y_2]-s[x_2][y_1-1]+s[x_1-1][x_2-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n![image-20240316232908005](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156219.png)\n\n> ã€ä¾‹é¢˜ã€‘AcWing 796ï¼Œé“¾æ¥ï¼š[796. å­çŸ©é˜µçš„å’Œ - AcWingé¢˜åº“](https://www.acwing.com/file_system/file/content/whole/index/content/4324/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// å®¹æ–¥åŸç†:\nconst int N=1e3+10;\nint n,m,q;\nint a[N][N];\nint s[N][N]; // äºŒç»´å‰ç¼€å’ŒçŸ©é˜µ\n\nint main() {\n\tcin>>n>>m>>q;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t// é¢„å¤„ç†äºŒç»´å‰ç¼€å’Œæ•°ç»„\n\t\t\ts[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j];\n\t\t}\n\t}\n\twhile(q--) {\n\t\tint x1,x2,y1,y2;\n\t\tscanf(\"%d%d%d%d\",&x1,&y1,&x2,&y2);\n\t\t// ç®—åŒºé—´å’Œ\n\t\tprintf(\"%d\\n\",s[x2][y2]-s[x1-1][y2]-s[x2][y1-1]+s[x1-1][y1-1]);\n\t}\n\treturn 0;\n}\n```\n","slug":"å‰ç¼€å’Œ","published":1,"updated":"2024-10-05T08:04:03.291Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsi000nc0nf46e14t39","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å‰ç¼€å’Œ\">å‰ç¼€å’Œ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E4%B8%80%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C\">1. ä¸€ç»´å‰ç¼€å’Œ</a></li>\n<li><a href=\"#2-%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C\">2. äºŒç»´å‰ç¼€å’Œ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å› ä¸ºå‰ç¼€å’Œè¿™ä¸ªæ¿å­çš„æ¨å¯¼æ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜</li>\n</ul>\n<h2><span id=\"1-ä¸€ç»´å‰ç¼€å’Œ\">1. ä¸€ç»´å‰ç¼€å’Œ</span></h2><ul>\n<li>ä¸€ç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i]&#x3D;\\sum_{i&#x3D;1}^ia[i]&#x3D;s[i-1]+a[i]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n)$</li>\n<li>åŸæ•°ç»„ $[l,r]$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[r]-s[l-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 795ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/797/\">795. å‰ç¼€å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],s[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> m;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5æ—¶æ¨èä½¿ç”¨scanfè€Œä¸æ˜¯cinå’Œcout</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,s[r]-s[l<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;\t</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-äºŒç»´å‰ç¼€å’Œ\">2. äºŒç»´å‰ç¼€å’Œ</span></h2><ul>\n<li>äºŒç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i][j]&#x3D;\\sum_{i&#x3D;1}^i\\sum_{j&#x3D;1}^ja[i][j]&#x3D;s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156232.png\" alt=\"image-20240316232827015\"></p>\n<ul>\n<li>åŸæ•°ç»„ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[x_2][y_2]-s[x_1-1][y_2]-s[x_2][y_1-1]+s[x_1-1][x_2-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156219.png\" alt=\"image-20240316232908005\"></p>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 796ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/file_system/file/content/whole/index/content/4324/\">796. å­çŸ©é˜µçš„å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®¹æ–¥åŸç†:</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,q;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> s[N][N]; <span class=\"comment\">// äºŒç»´å‰ç¼€å’ŒçŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;q;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i][j]);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é¢„å¤„ç†äºŒç»´å‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\">\t\t\ts[i][j]=s[i<span class=\"number\">-1</span>][j]+s[i][j<span class=\"number\">-1</span>]-s[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]+a[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x1,x2,y1,y2;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç®—åŒºé—´å’Œ</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,s[x2][y2]-s[x1<span class=\"number\">-1</span>][y2]-s[x2][y1<span class=\"number\">-1</span>]+s[x1<span class=\"number\">-1</span>][y1<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å‰ç¼€å’Œ\"><a href=\"#å‰ç¼€å’Œ\" class=\"headerlink\" title=\"å‰ç¼€å’Œ\"></a>å‰ç¼€å’Œ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E4%B8%80%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C\">1. ä¸€ç»´å‰ç¼€å’Œ</a></li>\n<li><a href=\"#2-%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C\">2. äºŒç»´å‰ç¼€å’Œ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å› ä¸ºå‰ç¼€å’Œè¿™ä¸ªæ¿å­çš„æ¨å¯¼æ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜</li>\n</ul>\n<h2 id=\"1-ä¸€ç»´å‰ç¼€å’Œ\"><a href=\"#1-ä¸€ç»´å‰ç¼€å’Œ\" class=\"headerlink\" title=\"1. ä¸€ç»´å‰ç¼€å’Œ\"></a>1. ä¸€ç»´å‰ç¼€å’Œ</h2><ul>\n<li>ä¸€ç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i]&#x3D;\\sum_{i&#x3D;1}^ia[i]&#x3D;s[i-1]+a[i]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n)$</li>\n<li>åŸæ•°ç»„ $[l,r]$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[r]-s[l-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 795ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/797/\">795. å‰ç¼€å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],s[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> m;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5æ—¶æ¨èä½¿ç”¨scanfè€Œä¸æ˜¯cinå’Œcout</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,s[r]-s[l<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;\t</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-äºŒç»´å‰ç¼€å’Œ\"><a href=\"#2-äºŒç»´å‰ç¼€å’Œ\" class=\"headerlink\" title=\"2. äºŒç»´å‰ç¼€å’Œ\"></a>2. äºŒç»´å‰ç¼€å’Œ</h2><ul>\n<li>äºŒç»´æ•°ç»„çš„å‰ç¼€å’Œè®¡ç®—å…¬å¼ï¼š$s[i][j]&#x3D;\\sum_{i&#x3D;1}^i\\sum_{j&#x3D;1}^ja[i][j]&#x3D;s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156232.png\" alt=\"image-20240316232827015\"></p>\n<ul>\n<li>åŸæ•°ç»„ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ åŒºé—´å’Œè®¡ç®—å…¬å¼ï¼š$s[x_2][y_2]-s[x_1-1][y_2]-s[x_2][y_1-1]+s[x_1-1][x_2-1]$ ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031156219.png\" alt=\"image-20240316232908005\"></p>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 796ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/file_system/file/content/whole/index/content/4324/\">796. å­çŸ©é˜µçš„å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®¹æ–¥åŸç†:</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,q;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> s[N][N]; <span class=\"comment\">// äºŒç»´å‰ç¼€å’ŒçŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;q;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i][j]);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é¢„å¤„ç†äºŒç»´å‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\">\t\t\ts[i][j]=s[i<span class=\"number\">-1</span>][j]+s[i][j<span class=\"number\">-1</span>]-s[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]+a[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x1,x2,y1,y2;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç®—åŒºé—´å’Œ</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,s[x2][y2]-s[x1<span class=\"number\">-1</span>][y2]-s[x2][y1<span class=\"number\">-1</span>]+s[x1<span class=\"number\">-1</span>][y1<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å•è°ƒé˜Ÿåˆ—","date":"2024-10-03T04:54:40.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å•è°ƒé˜Ÿåˆ—\n\n<!-- toc -->\n\n\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[C15ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— æ»‘åŠ¨çª—å£æœ€å€¼_bilibili](https://www.bilibili.com/video/BV1H5411j7o6/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* ç”¨äºæ±‚æ»‘åŠ¨çª—å£å†…çš„æœ€å°å€¼å’Œæœ€å¤§å€¼\n\n\n\n## 1. å•è°ƒé˜Ÿåˆ—\n\n* é˜Ÿå°¾è¿›é˜Ÿå‡ºé˜Ÿï¼Œé˜Ÿå¤´å‡ºé˜Ÿï¼ˆç»´æŠ¤å­åºåˆ—çš„å•è°ƒæ€§ï¼‰çš„æ•°æ®ç»“æ„\n* é˜Ÿå°¾å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿåˆ—ä¸ç©ºä¸”æ–°å…ƒç´ æ›´ä¼˜ï¼Œé˜Ÿä¸­æ—§å…ƒç´ é˜Ÿå°¾å‡ºé˜Ÿ\n* æ¯ä¸ªå…ƒç´ å¿…ç„¶ä»é˜Ÿå°¾è¿›é˜Ÿä¸€æ¬¡\n* é˜Ÿå¤´å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿå¤´å…ƒç´ æ»‘å‡ºäº†çª—å£\n* æ³¨æ„ï¼šé˜Ÿåˆ—ä¸­å­˜å‚¨å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ–¹ä¾¿åˆ¤æ–­é˜Ÿå¤´å‡ºé˜Ÿ\n\n![image-20240327125322278](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258078.png)\n\n\n\n### 1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼/æœ€å°å€¼\n\n* åŸºäºæ•°ç»„\n\n``` c\nint h=1,t=0; // å½“é˜Ÿå°¾t<é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ \nfor(int i=1;i<=n;i++) {\n    // å½“å‰é˜Ÿå¤´q[h]ä¸åœ¨çª—å£[i-k+1,i]å†…,é˜Ÿå¤´å‡ºé˜Ÿ\n    if(h<=t && q[h]<i-k+1) h++;\n    // å½“å‰å€¼>=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ(å¦‚æœå½“å‰å€¼æ¯”é˜Ÿå¤´è¿˜å¤§,é‚£ä¹ˆä¼šä¸€ç›´å‡ºé˜Ÿåˆ°é˜Ÿå¤´å‡ºé˜Ÿ)\n    while(h<=t && a[i]>=a[q[t]]) t--;\n    // å½“å‰å€¼ä»é˜Ÿå°¾å…¥é˜Ÿ,æ³¨æ„å…¥é˜Ÿçš„æ˜¯ä¸‹æ ‡,ä¸€ç›´å­˜å‚¨çš„éƒ½æ˜¯ä¸‹æ ‡\n    q[++t]=i;\n    // å¦‚æœi>=kè¡¨æ˜èµ·ç å æ»¡ä¸€ä¸ªçª—å£,æ­¤æ—¶é˜Ÿå¤´ä¸­çš„æ˜¯æœ€å¤§å€¼\n    if(i>=k) cout<<a[q[h]]<<' ';\n}\n```\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1886 æ»‘åŠ¨çª—å£ /ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1886)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e6+5;\nint a[N],q[N]; // qæ˜¯é˜Ÿåˆ—,å»ºè®®æ•°ç»„æ¨¡æ‹Ÿ,ä¸å¼€O2ä¼˜åŒ–çš„æƒ…å†µä¸‹æ•°ç»„éƒ½æ¯”STLåº“æ›´å¿«\n\nint main() {\n\tint n,k;\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\t// ç»´æŠ¤çª—å£æœ€å°å€¼O(n)\n\tint h=1,t=0; // å½“é˜Ÿå°¾t<é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ \n\tfor(int i=1;i<=n;i++) { // æšä¸¾é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ \n\t\t// æ–°å…ƒç´ æ¯”å½“å‰é˜Ÿå°¾è¿˜å°,è¯´æ˜æ–°å…ƒç´ æ›´ä¼˜,é‚£ä¹ˆæŠŠåé¢çš„å…¨éƒ¨ç§»å‡ºå»,æœ€å°çš„å˜è¿›æ¥\n\t\twhile(h<=t && a[q[t]]>=a[i]) t--;\n\t\tq[++t]=i; // æ³¨æ„,qå­˜çš„éƒ½æ˜¯ä¸‹æ ‡å—·,è¡¨ç¤ºæŠŠiä»é˜Ÿå°¾å…¥é˜Ÿ\n\t\t// å½“æ–°å…ƒç´ ä¸æ˜¯æœ€ä¼˜æ—¶,ä¹Ÿä¼šç›´æ¥æ‰§è¡Œq[++t]=iåŠ åˆ°å½“å‰çª—å£çš„æœ«å°¾\n\t\tif(q[h]<i-k+1) h++; // i-k+1æ˜¯å½“å‰çª—å£çš„å·¦è¾¹ç•Œ,å¦‚æœé˜Ÿå¤´ä¸‹æ ‡å°äºi-k+1,è¯´æ˜çª—å£å³ç§»\n\t\t// æ­¤æ—¶ç›¸å½“äºé˜Ÿå¤´å‡ºé˜Ÿ\n\t\tif(i>=k) cout<<a[q[h]]<<' '; // èƒ½è¾“å‡ºç¬¬ä¸€ä¸ªçª—å£çš„å¤§å°æ—¶\n\t}\n\tcout<<endl;\n\t// ç»´æŠ¤æœ€å¤§å€¼çš„å•è°ƒé˜Ÿåˆ—,q[h]ä»£è¡¨é˜Ÿå¤´å…ƒç´ çš„ä¸‹æ ‡\n\th=1,t=0;\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜,åˆ™å‡ºé˜Ÿ\n\t\twhile(h<=t && a[q[t]]<=a[i]) t--;\n\t\t// å…¥é˜Ÿ\n\t\tq[++t]=i;\n\t\t// æ»‘åŠ¨çª—å£å³ç§»\n\t\tif(q[h]<i-k+1) h++;\n\t\t// è¾“å‡ºå½“å‰çª—å£æœ€å¤§å€¼\n\t\tif(i>=k) cout<<a[q[h]]<<' ';\n\t}\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n* å•è°ƒé˜Ÿåˆ—æ˜¯ç›¸è¾ƒäºé˜Ÿåˆ—ï¼Œé˜Ÿå¤´ä¹Ÿå¯ä»¥å‡ºé˜Ÿçš„æ•°æ®ç»“æ„ï¼Œåˆ™å¯ä»¥ç”¨ $STL$ åº“ä¸­çš„ $deque$ å®ç°ã€åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥å…¥é˜Ÿä¹Ÿå¯ä»¥å‡ºé˜Ÿã€‘\n\n``` c\nfor(int i=1;i<=n;i++) {\n    // è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—\n    // å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾\n    while(!dq.empty() && a[dq.back()]>a[i]) dq.pop_back(); // å»å°¾\n    dq.push_back(i); // 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)\n    // å¦‚æœè¾¾åˆ°çª—å£å¤§å°\n    if(i>=k) {\n        // å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)\n        while(!dq.empty() && dq.front()<=i-k) dq.pop_back(); // åˆ å¤´\n        printf(\"%d \",a[dq.front()]); // è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼\n    }\n}\n```\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1886 æ»‘åŠ¨çª—å£ /ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1886)\n\n* è¦ $pop\\_back()$ æˆ–è€… $pop\\_front()$ ä¹‹å‰å¯ä»¥ç”¨ $dq.size()$ æ£€æµ‹ä¸€ä¸‹æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ $RE$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: REä¹Ÿå¯èƒ½æ˜¯æ•°ç»„æ²¡å¼€å¤Ÿå“¦\n\nconst int N=1e6+5;\nint a[N];\ndeque<int> dq; // åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºå•è°ƒé˜Ÿåˆ—\nint n,k; // å…ƒç´ ä¸ªæ•°ä»¥åŠçª—å£å¤§å°\n\nint main() {\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\t// æ‰¾æœ€å°å€¼\n\tfor(int i=1;i<=n;i++) {\n\t\t// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—\n\t\t// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾\n\t\twhile(!dq.empty() && a[dq.back()]>a[i] && dq.size()) dq.pop_back(); // å»å°¾\n\t\tdq.push_back(i); // 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)\n\t\t// å¦‚æœè¾¾åˆ°çª—å£å¤§å°\n\t\tif(i>=k) {\n\t\t\t// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)\n\t\t\twhile(!dq.empty() && dq.front()<=i-k && dq.size()) dq.pop_front(); // åˆ å¤´\n\t\t\tprintf(\"%d \",a[dq.front()]); // è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼\n\t\t}\n\t}\n\tcout<<endl;\n\tdq.clear();\n\t// æ‰¾æœ€å¤§å€¼,å¦‚æœa[i]æ¯”é˜Ÿå°¾å¤§å°±å…¥é˜Ÿ\n\tfor(int i=1;i<=n;i++) {\n\t\twhile(!dq.empty() && a[dq.back()]<a[i] && dq.size()) dq.pop_back();\n\t\tdq.push_back(i);\n\t\tif(i>=k) {\n\t\t\twhile(!dq.empty() && dq.front()<=i-k && dq.size()) dq.pop_front();\n\t\t\tprintf(\"%d \",a[dq.front()]);\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\n\n### 1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\n\n> é¢˜ç›®é“¾æ¥ï¼š\n\n* åŸºäºæ•°ç»„\n\n* ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºé•¿åº¦ä¸è¶…è¿‡ $m$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ ${2,\\ -3,\\ 5,\\ 2,\\ -4,\\ -1,\\ 8}$ ï¼Œ$m$ å– $3$ ï¼Œé‚£ä¹ˆé•¿åº¦ä¸è¶…è¿‡ $3$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º $8$\n\n![image-20240327145503331](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258085.png)\n\n* å¯¹äºå¸¸è§„åšæ³•ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ¯æ¬¡æšä¸¾ä¸€ä¸ªçª—å£é•¿åº¦ï¼Œå†åœ¨è¿™ä¸ªçª—å£ä¸­æšä¸¾å¾—åˆ°æœ€å¤§çš„è¿ç»­å­æ®µå’Œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^3)$ï¼Œå¯¹äºå³å›¾ï¼Œè¡¨ç¤ºçš„æ˜¯å‰ç¼€å’Œæ•°ç»„ $s$\n* å¯¹äºè¿ç»­å­æ®µå’Œï¼ˆåŒºé—´å’Œï¼‰ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°é¢„å¤„ç†ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè®¡ç®—è¿ç»­å­—æ®µå’Œçš„æ—¶é—´ä» $O(n)$ ä¼˜åŒ–åˆ° $O(1)$ï¼Œ$i$ åˆ° $j$ çš„é—´å’Œè®¡ç®—å…¬å¼æ˜¯ $s[i]-s[j-1]$ï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°å·¦ç«¯ç‚¹ $s[l-1]$ çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ±‚å‡º $s[i]-min(s[j]),\\ jâˆˆ[i-m,i-1]$ å¾—åˆ°å‰ $i$ é¡¹çš„æœ€å¤§è¿ç»­å­æ®µå’Œï¼Œå› ä¸ºè¦æšä¸¾æ±‚å¾—æœ€å°å€¼ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$\n* ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å†ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤è¿™ä¸ªæœ€å°å€¼ï¼Œå°±ä¸éœ€è¦å†æšä¸¾æ±‚è¿ç»­åŒºé—´å’Œçš„æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šç»§ç»­ä¸‹é™åˆ° $O(n)$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[N];\nint q[N]; // å•è°ƒé˜Ÿåˆ—\nint s[N]; // å‰ç¼€å’Œåºåˆ—\n\nint main() {\n\tint n,k;\n\tcin>>n>>k; // æ±‚çš„æ˜¯é•¿åº¦ä¸è¶…è¿‡kçš„æœ€å¤§åŒºé—´å’Œ\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\tint h=0,t=0;\n\tq[0]=0;\n\tint ans=s[1]; // åˆå§‹åŒ–åŒºé—´å’Œçš„ç­”æ¡ˆ\n\n\tfor(int i=1;i<=n;i++) {\n\t\t// é˜Ÿå¤´ä¸åœ¨çª—å£[i-k,i-1]å†…,é˜Ÿå¤´å‡ºé˜Ÿ\n\t\tif(h<=t && q[h]<i-k) h++; // è¿™é‡Œå› ä¸ºåªç”¨çœ‹å‰i-kä¸ªå…ƒç´ ,çª—å£å³è¾¹ç•Œå°äº†1,å› æ­¤ä¸ç”¨åŠ 1\n\t\t// ä½¿ç”¨é˜Ÿå¤´æœ€å°å€¼,åŒæ ·çš„å› ä¸ºé˜Ÿå°¾å°äº†1,æ‰€ä»¥è¦æŠŠæœ€å°å€¼åœ¨è¿™é‡Œå¤„ç†\n\t\tans=max(ans,s[i]-s[q[h]]);\n\t\t// å½“å‰å€¼<=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ,æŠŠæ›´å°çš„s[i]æ”¾è¿›é˜Ÿåˆ—ä¸­ä»¥ç»´æŠ¤s[i]çš„æœ€å°å€¼\n\t\twhile(h<=t && s[i]<=s[q[t]]) t--;\n\t\t// ä»é˜Ÿå°¾æ­£å¸¸å…¥é˜Ÿ\n\t\tq[++t]=i; // æ”¾è¿›å»çš„ä»ç„¶æ˜¯ä¸‹æ ‡å“ˆ\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n/*\nInput:\n7 3\n2 -3 5 2 -4 -1 8\nOutput:\n8\n/*\n```\n\n* å¦ä¸€ç§å†™æ³•ï¼Œæœ¬äººæš‚æ—¶è¿˜æ²¡éªŒè¯æ˜¯å¦æ­£ç¡®ï¼Œåœ¨ç»´æŠ¤æ»‘åŠ¨çª—å£æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŸºç¡€ä¸Šåªæ”¹åŠ¨äº†æœ€åä¸€æ­¥ï¼Œå³ç»´æŠ¤ $ans$ çš„ä»£ç ï¼Œå› ä¸º $s[i]-s[q[h]]$ ä¸­ $s[q[h]]$ å·²ç»å‰ $i$ é¡¹çª—å£å¤§å°ä¸º $[1,k]$ çš„æ»‘åŠ¨çª—å£ä¸­å‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œæ‰€ä»¥ç›¸å‡å³å¯å¾—åˆ°æœ€å¤§åŒºé—´å’Œ\n\n``` c\nint ans=s[1];\nh=1,t=0;\nfor(int i=1;i<=n;i++) {\n    while(h<=t && s[i]<=s[q[t]]) t--;\n    q[++t]=i;\n    if(h<=t && q[h]<i-k) h++;\n    ans=max(ans,s[i]-s[q[h]]);\n}\n```\n\n* å¦‚æœçª—å£å¤§å°æ˜¯ä» $[st,en]$ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼‰ï¼Œé‚£ä¹ˆæ¨¡æ¿å¯æ”¹ä¸ºï¼š\n\n``` c\nint h=1,t=0;\n// æšä¸¾æ¯ä¸ªå…ƒç´ \nfor(int i=1;i<=n;i++) {\n    // å¯¹äºåŒºé—´é•¿åº¦åœ¨[st,en]ä¹‹é—´,å½“i>=stæ‰è®¡ç®—\n    if(i>=st) { \n        while(h<=t && s[i-st]<=s[q[t]]) t--;\n        q[++t]=i-st; // åç§»é‡æ˜¯i-st\n    }\n    if(h<=t && q[h]<i-en) h++;\n   \tans=max(ans,s[i]-s[q[h]]);\n}\n```\n\n* åŸºäºSTL\n\n* å…³é”®ç‚¹ï¼Œ$dq.fonrt()<i-k$ æ­¤æ—¶ä»£è¡¨çª—å£å¤§äº $k$ äº†ï¼Œå› ä¸ºçª—å£å¤§å°æ˜¯ $â‰¤k$ æ‰€ä»¥æ²¡æœ‰è®¾é™ $if(i>=k)$\n* å¯¹äº $dq.empty()$ å³æ˜¯æœ€åˆçš„çŠ¶æ€ï¼Œå³æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œæ­¤æ—¶åªä¼šæ·»åŠ  $s[1]$ è¿›å»ï¼Œå…¶ä»–æƒ…å†µä¼šè¿›å…¥ $s[i]-s[dq.front()]$ è¡¨ç¤º $[0,i-1]$ ä¸­çš„æœ€å°å€¼\n\n``` c\nint ans=INT_MIN; // æ‰¾æœ€å¤§å€¼\ndq.push_back(0); \n// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯\nfor(int i=1;i<=n;i++) {\n    // å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front<i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†\n    while(!dq.empty() && dq.front()<i-k) dq.pop_front(); // åˆ å¤´\n    if(dq.empty()) ans=max(ans,s[i]); // å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ \n    else ans=max(ans,s[i]-s[dq.front()]); // æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼\n    while(!dq.empty() && dq.back()>=s[i]) dq.pop_back();\n    dq.push_back(i);\n}\n```\n\n* å®Œæ•´ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[N];\nint s[N]; // å‰ç¼€å’Œ\ndeque<int> dq; // å•è°ƒé˜Ÿåˆ—\nint n,k; // é•¿åº¦ä¸è¶…è¿‡kçš„å­åºåˆ—æœ€å¤§å’Œ\n\nint main() {\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\tint ans=INT_MIN; // æ‰¾æœ€å¤§å€¼\n\tdq.push_back(0); \n\t// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯\n\tfor(int i=1;i<=n;i++) {\n\t\t// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front<i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†\n\t\twhile(!dq.empty() && dq.front()<i-k) dq.pop_front(); // åˆ å¤´\n\t\tif(dq.empty()) ans=max(ans,s[i]); // å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ \n\t\telse ans=max(ans,s[i]-s[dq.front()]); // æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼\n\t\twhile(!dq.empty() && dq.back()>=s[i]) dq.pop_back();\n\t\tdq.push_back(i);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n","source":"_posts/å•è°ƒé˜Ÿåˆ—.md","raw":"---\ntitle: å•è°ƒé˜Ÿåˆ—\ndate: 2024-10-03 12:54:40\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å•è°ƒé˜Ÿåˆ—\n\n<!-- toc -->\n\n\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[C15ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— æ»‘åŠ¨çª—å£æœ€å€¼_bilibili](https://www.bilibili.com/video/BV1H5411j7o6/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* ç”¨äºæ±‚æ»‘åŠ¨çª—å£å†…çš„æœ€å°å€¼å’Œæœ€å¤§å€¼\n\n\n\n## 1. å•è°ƒé˜Ÿåˆ—\n\n* é˜Ÿå°¾è¿›é˜Ÿå‡ºé˜Ÿï¼Œé˜Ÿå¤´å‡ºé˜Ÿï¼ˆç»´æŠ¤å­åºåˆ—çš„å•è°ƒæ€§ï¼‰çš„æ•°æ®ç»“æ„\n* é˜Ÿå°¾å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿåˆ—ä¸ç©ºä¸”æ–°å…ƒç´ æ›´ä¼˜ï¼Œé˜Ÿä¸­æ—§å…ƒç´ é˜Ÿå°¾å‡ºé˜Ÿ\n* æ¯ä¸ªå…ƒç´ å¿…ç„¶ä»é˜Ÿå°¾è¿›é˜Ÿä¸€æ¬¡\n* é˜Ÿå¤´å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿå¤´å…ƒç´ æ»‘å‡ºäº†çª—å£\n* æ³¨æ„ï¼šé˜Ÿåˆ—ä¸­å­˜å‚¨å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ–¹ä¾¿åˆ¤æ–­é˜Ÿå¤´å‡ºé˜Ÿ\n\n![image-20240327125322278](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258078.png)\n\n\n\n### 1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼/æœ€å°å€¼\n\n* åŸºäºæ•°ç»„\n\n``` c\nint h=1,t=0; // å½“é˜Ÿå°¾t<é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ \nfor(int i=1;i<=n;i++) {\n    // å½“å‰é˜Ÿå¤´q[h]ä¸åœ¨çª—å£[i-k+1,i]å†…,é˜Ÿå¤´å‡ºé˜Ÿ\n    if(h<=t && q[h]<i-k+1) h++;\n    // å½“å‰å€¼>=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ(å¦‚æœå½“å‰å€¼æ¯”é˜Ÿå¤´è¿˜å¤§,é‚£ä¹ˆä¼šä¸€ç›´å‡ºé˜Ÿåˆ°é˜Ÿå¤´å‡ºé˜Ÿ)\n    while(h<=t && a[i]>=a[q[t]]) t--;\n    // å½“å‰å€¼ä»é˜Ÿå°¾å…¥é˜Ÿ,æ³¨æ„å…¥é˜Ÿçš„æ˜¯ä¸‹æ ‡,ä¸€ç›´å­˜å‚¨çš„éƒ½æ˜¯ä¸‹æ ‡\n    q[++t]=i;\n    // å¦‚æœi>=kè¡¨æ˜èµ·ç å æ»¡ä¸€ä¸ªçª—å£,æ­¤æ—¶é˜Ÿå¤´ä¸­çš„æ˜¯æœ€å¤§å€¼\n    if(i>=k) cout<<a[q[h]]<<' ';\n}\n```\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1886 æ»‘åŠ¨çª—å£ /ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1886)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e6+5;\nint a[N],q[N]; // qæ˜¯é˜Ÿåˆ—,å»ºè®®æ•°ç»„æ¨¡æ‹Ÿ,ä¸å¼€O2ä¼˜åŒ–çš„æƒ…å†µä¸‹æ•°ç»„éƒ½æ¯”STLåº“æ›´å¿«\n\nint main() {\n\tint n,k;\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\t// ç»´æŠ¤çª—å£æœ€å°å€¼O(n)\n\tint h=1,t=0; // å½“é˜Ÿå°¾t<é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ \n\tfor(int i=1;i<=n;i++) { // æšä¸¾é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ \n\t\t// æ–°å…ƒç´ æ¯”å½“å‰é˜Ÿå°¾è¿˜å°,è¯´æ˜æ–°å…ƒç´ æ›´ä¼˜,é‚£ä¹ˆæŠŠåé¢çš„å…¨éƒ¨ç§»å‡ºå»,æœ€å°çš„å˜è¿›æ¥\n\t\twhile(h<=t && a[q[t]]>=a[i]) t--;\n\t\tq[++t]=i; // æ³¨æ„,qå­˜çš„éƒ½æ˜¯ä¸‹æ ‡å—·,è¡¨ç¤ºæŠŠiä»é˜Ÿå°¾å…¥é˜Ÿ\n\t\t// å½“æ–°å…ƒç´ ä¸æ˜¯æœ€ä¼˜æ—¶,ä¹Ÿä¼šç›´æ¥æ‰§è¡Œq[++t]=iåŠ åˆ°å½“å‰çª—å£çš„æœ«å°¾\n\t\tif(q[h]<i-k+1) h++; // i-k+1æ˜¯å½“å‰çª—å£çš„å·¦è¾¹ç•Œ,å¦‚æœé˜Ÿå¤´ä¸‹æ ‡å°äºi-k+1,è¯´æ˜çª—å£å³ç§»\n\t\t// æ­¤æ—¶ç›¸å½“äºé˜Ÿå¤´å‡ºé˜Ÿ\n\t\tif(i>=k) cout<<a[q[h]]<<' '; // èƒ½è¾“å‡ºç¬¬ä¸€ä¸ªçª—å£çš„å¤§å°æ—¶\n\t}\n\tcout<<endl;\n\t// ç»´æŠ¤æœ€å¤§å€¼çš„å•è°ƒé˜Ÿåˆ—,q[h]ä»£è¡¨é˜Ÿå¤´å…ƒç´ çš„ä¸‹æ ‡\n\th=1,t=0;\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜,åˆ™å‡ºé˜Ÿ\n\t\twhile(h<=t && a[q[t]]<=a[i]) t--;\n\t\t// å…¥é˜Ÿ\n\t\tq[++t]=i;\n\t\t// æ»‘åŠ¨çª—å£å³ç§»\n\t\tif(q[h]<i-k+1) h++;\n\t\t// è¾“å‡ºå½“å‰çª—å£æœ€å¤§å€¼\n\t\tif(i>=k) cout<<a[q[h]]<<' ';\n\t}\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n* å•è°ƒé˜Ÿåˆ—æ˜¯ç›¸è¾ƒäºé˜Ÿåˆ—ï¼Œé˜Ÿå¤´ä¹Ÿå¯ä»¥å‡ºé˜Ÿçš„æ•°æ®ç»“æ„ï¼Œåˆ™å¯ä»¥ç”¨ $STL$ åº“ä¸­çš„ $deque$ å®ç°ã€åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥å…¥é˜Ÿä¹Ÿå¯ä»¥å‡ºé˜Ÿã€‘\n\n``` c\nfor(int i=1;i<=n;i++) {\n    // è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—\n    // å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾\n    while(!dq.empty() && a[dq.back()]>a[i]) dq.pop_back(); // å»å°¾\n    dq.push_back(i); // 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)\n    // å¦‚æœè¾¾åˆ°çª—å£å¤§å°\n    if(i>=k) {\n        // å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)\n        while(!dq.empty() && dq.front()<=i-k) dq.pop_back(); // åˆ å¤´\n        printf(\"%d \",a[dq.front()]); // è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼\n    }\n}\n```\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1886 æ»‘åŠ¨çª—å£ /ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1886)\n\n* è¦ $pop\\_back()$ æˆ–è€… $pop\\_front()$ ä¹‹å‰å¯ä»¥ç”¨ $dq.size()$ æ£€æµ‹ä¸€ä¸‹æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ $RE$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: REä¹Ÿå¯èƒ½æ˜¯æ•°ç»„æ²¡å¼€å¤Ÿå“¦\n\nconst int N=1e6+5;\nint a[N];\ndeque<int> dq; // åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºå•è°ƒé˜Ÿåˆ—\nint n,k; // å…ƒç´ ä¸ªæ•°ä»¥åŠçª—å£å¤§å°\n\nint main() {\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\t// æ‰¾æœ€å°å€¼\n\tfor(int i=1;i<=n;i++) {\n\t\t// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—\n\t\t// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾\n\t\twhile(!dq.empty() && a[dq.back()]>a[i] && dq.size()) dq.pop_back(); // å»å°¾\n\t\tdq.push_back(i); // 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)\n\t\t// å¦‚æœè¾¾åˆ°çª—å£å¤§å°\n\t\tif(i>=k) {\n\t\t\t// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)\n\t\t\twhile(!dq.empty() && dq.front()<=i-k && dq.size()) dq.pop_front(); // åˆ å¤´\n\t\t\tprintf(\"%d \",a[dq.front()]); // è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼\n\t\t}\n\t}\n\tcout<<endl;\n\tdq.clear();\n\t// æ‰¾æœ€å¤§å€¼,å¦‚æœa[i]æ¯”é˜Ÿå°¾å¤§å°±å…¥é˜Ÿ\n\tfor(int i=1;i<=n;i++) {\n\t\twhile(!dq.empty() && a[dq.back()]<a[i] && dq.size()) dq.pop_back();\n\t\tdq.push_back(i);\n\t\tif(i>=k) {\n\t\t\twhile(!dq.empty() && dq.front()<=i-k && dq.size()) dq.pop_front();\n\t\t\tprintf(\"%d \",a[dq.front()]);\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\n\n### 1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\n\n> é¢˜ç›®é“¾æ¥ï¼š\n\n* åŸºäºæ•°ç»„\n\n* ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºé•¿åº¦ä¸è¶…è¿‡ $m$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ ${2,\\ -3,\\ 5,\\ 2,\\ -4,\\ -1,\\ 8}$ ï¼Œ$m$ å– $3$ ï¼Œé‚£ä¹ˆé•¿åº¦ä¸è¶…è¿‡ $3$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º $8$\n\n![image-20240327145503331](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258085.png)\n\n* å¯¹äºå¸¸è§„åšæ³•ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ¯æ¬¡æšä¸¾ä¸€ä¸ªçª—å£é•¿åº¦ï¼Œå†åœ¨è¿™ä¸ªçª—å£ä¸­æšä¸¾å¾—åˆ°æœ€å¤§çš„è¿ç»­å­æ®µå’Œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^3)$ï¼Œå¯¹äºå³å›¾ï¼Œè¡¨ç¤ºçš„æ˜¯å‰ç¼€å’Œæ•°ç»„ $s$\n* å¯¹äºè¿ç»­å­æ®µå’Œï¼ˆåŒºé—´å’Œï¼‰ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°é¢„å¤„ç†ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè®¡ç®—è¿ç»­å­—æ®µå’Œçš„æ—¶é—´ä» $O(n)$ ä¼˜åŒ–åˆ° $O(1)$ï¼Œ$i$ åˆ° $j$ çš„é—´å’Œè®¡ç®—å…¬å¼æ˜¯ $s[i]-s[j-1]$ï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°å·¦ç«¯ç‚¹ $s[l-1]$ çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ±‚å‡º $s[i]-min(s[j]),\\ jâˆˆ[i-m,i-1]$ å¾—åˆ°å‰ $i$ é¡¹çš„æœ€å¤§è¿ç»­å­æ®µå’Œï¼Œå› ä¸ºè¦æšä¸¾æ±‚å¾—æœ€å°å€¼ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$\n* ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å†ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤è¿™ä¸ªæœ€å°å€¼ï¼Œå°±ä¸éœ€è¦å†æšä¸¾æ±‚è¿ç»­åŒºé—´å’Œçš„æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šç»§ç»­ä¸‹é™åˆ° $O(n)$\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[N];\nint q[N]; // å•è°ƒé˜Ÿåˆ—\nint s[N]; // å‰ç¼€å’Œåºåˆ—\n\nint main() {\n\tint n,k;\n\tcin>>n>>k; // æ±‚çš„æ˜¯é•¿åº¦ä¸è¶…è¿‡kçš„æœ€å¤§åŒºé—´å’Œ\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\tint h=0,t=0;\n\tq[0]=0;\n\tint ans=s[1]; // åˆå§‹åŒ–åŒºé—´å’Œçš„ç­”æ¡ˆ\n\n\tfor(int i=1;i<=n;i++) {\n\t\t// é˜Ÿå¤´ä¸åœ¨çª—å£[i-k,i-1]å†…,é˜Ÿå¤´å‡ºé˜Ÿ\n\t\tif(h<=t && q[h]<i-k) h++; // è¿™é‡Œå› ä¸ºåªç”¨çœ‹å‰i-kä¸ªå…ƒç´ ,çª—å£å³è¾¹ç•Œå°äº†1,å› æ­¤ä¸ç”¨åŠ 1\n\t\t// ä½¿ç”¨é˜Ÿå¤´æœ€å°å€¼,åŒæ ·çš„å› ä¸ºé˜Ÿå°¾å°äº†1,æ‰€ä»¥è¦æŠŠæœ€å°å€¼åœ¨è¿™é‡Œå¤„ç†\n\t\tans=max(ans,s[i]-s[q[h]]);\n\t\t// å½“å‰å€¼<=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ,æŠŠæ›´å°çš„s[i]æ”¾è¿›é˜Ÿåˆ—ä¸­ä»¥ç»´æŠ¤s[i]çš„æœ€å°å€¼\n\t\twhile(h<=t && s[i]<=s[q[t]]) t--;\n\t\t// ä»é˜Ÿå°¾æ­£å¸¸å…¥é˜Ÿ\n\t\tq[++t]=i; // æ”¾è¿›å»çš„ä»ç„¶æ˜¯ä¸‹æ ‡å“ˆ\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n/*\nInput:\n7 3\n2 -3 5 2 -4 -1 8\nOutput:\n8\n/*\n```\n\n* å¦ä¸€ç§å†™æ³•ï¼Œæœ¬äººæš‚æ—¶è¿˜æ²¡éªŒè¯æ˜¯å¦æ­£ç¡®ï¼Œåœ¨ç»´æŠ¤æ»‘åŠ¨çª—å£æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŸºç¡€ä¸Šåªæ”¹åŠ¨äº†æœ€åä¸€æ­¥ï¼Œå³ç»´æŠ¤ $ans$ çš„ä»£ç ï¼Œå› ä¸º $s[i]-s[q[h]]$ ä¸­ $s[q[h]]$ å·²ç»å‰ $i$ é¡¹çª—å£å¤§å°ä¸º $[1,k]$ çš„æ»‘åŠ¨çª—å£ä¸­å‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œæ‰€ä»¥ç›¸å‡å³å¯å¾—åˆ°æœ€å¤§åŒºé—´å’Œ\n\n``` c\nint ans=s[1];\nh=1,t=0;\nfor(int i=1;i<=n;i++) {\n    while(h<=t && s[i]<=s[q[t]]) t--;\n    q[++t]=i;\n    if(h<=t && q[h]<i-k) h++;\n    ans=max(ans,s[i]-s[q[h]]);\n}\n```\n\n* å¦‚æœçª—å£å¤§å°æ˜¯ä» $[st,en]$ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼‰ï¼Œé‚£ä¹ˆæ¨¡æ¿å¯æ”¹ä¸ºï¼š\n\n``` c\nint h=1,t=0;\n// æšä¸¾æ¯ä¸ªå…ƒç´ \nfor(int i=1;i<=n;i++) {\n    // å¯¹äºåŒºé—´é•¿åº¦åœ¨[st,en]ä¹‹é—´,å½“i>=stæ‰è®¡ç®—\n    if(i>=st) { \n        while(h<=t && s[i-st]<=s[q[t]]) t--;\n        q[++t]=i-st; // åç§»é‡æ˜¯i-st\n    }\n    if(h<=t && q[h]<i-en) h++;\n   \tans=max(ans,s[i]-s[q[h]]);\n}\n```\n\n* åŸºäºSTL\n\n* å…³é”®ç‚¹ï¼Œ$dq.fonrt()<i-k$ æ­¤æ—¶ä»£è¡¨çª—å£å¤§äº $k$ äº†ï¼Œå› ä¸ºçª—å£å¤§å°æ˜¯ $â‰¤k$ æ‰€ä»¥æ²¡æœ‰è®¾é™ $if(i>=k)$\n* å¯¹äº $dq.empty()$ å³æ˜¯æœ€åˆçš„çŠ¶æ€ï¼Œå³æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œæ­¤æ—¶åªä¼šæ·»åŠ  $s[1]$ è¿›å»ï¼Œå…¶ä»–æƒ…å†µä¼šè¿›å…¥ $s[i]-s[dq.front()]$ è¡¨ç¤º $[0,i-1]$ ä¸­çš„æœ€å°å€¼\n\n``` c\nint ans=INT_MIN; // æ‰¾æœ€å¤§å€¼\ndq.push_back(0); \n// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯\nfor(int i=1;i<=n;i++) {\n    // å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front<i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†\n    while(!dq.empty() && dq.front()<i-k) dq.pop_front(); // åˆ å¤´\n    if(dq.empty()) ans=max(ans,s[i]); // å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ \n    else ans=max(ans,s[i]-s[dq.front()]); // æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼\n    while(!dq.empty() && dq.back()>=s[i]) dq.pop_back();\n    dq.push_back(i);\n}\n```\n\n* å®Œæ•´ä»£ç \n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint a[N];\nint s[N]; // å‰ç¼€å’Œ\ndeque<int> dq; // å•è°ƒé˜Ÿåˆ—\nint n,k; // é•¿åº¦ä¸è¶…è¿‡kçš„å­åºåˆ—æœ€å¤§å’Œ\n\nint main() {\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\tint ans=INT_MIN; // æ‰¾æœ€å¤§å€¼\n\tdq.push_back(0); \n\t// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯\n\tfor(int i=1;i<=n;i++) {\n\t\t// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front<i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†\n\t\twhile(!dq.empty() && dq.front()<i-k) dq.pop_front(); // åˆ å¤´\n\t\tif(dq.empty()) ans=max(ans,s[i]); // å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ \n\t\telse ans=max(ans,s[i]-s[dq.front()]); // æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼\n\t\twhile(!dq.empty() && dq.back()>=s[i]) dq.pop_back();\n\t\tdq.push_back(i);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n","slug":"å•è°ƒé˜Ÿåˆ—","published":1,"updated":"2024-10-05T07:59:37.421Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsj000qc0nf0ofz7g2e","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å•è°ƒé˜Ÿåˆ—\">å•è°ƒé˜Ÿåˆ—</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97\">1. å•è°ƒé˜Ÿåˆ—</a><ul>\n<li><a href=\"#11-%E7%BB%B4%E6%8A%A4%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E6%9C%80%E5%B0%8F%E5%80%BC\">1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼</a></li>\n<li><a href=\"#12-%E7%BB%B4%E6%8A%A4%E8%BF%9E%E7%BB%AD%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E5%92%8C\">1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1H5411j7o6/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">C15ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— æ»‘åŠ¨çª—å£æœ€å€¼_bilibili</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>ç”¨äºæ±‚æ»‘åŠ¨çª—å£å†…çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</li>\n</ul>\n<h2><span id=\"1-å•è°ƒé˜Ÿåˆ—\">1. å•è°ƒé˜Ÿåˆ—</span></h2><ul>\n<li>é˜Ÿå°¾è¿›é˜Ÿå‡ºé˜Ÿï¼Œé˜Ÿå¤´å‡ºé˜Ÿï¼ˆç»´æŠ¤å­åºåˆ—çš„å•è°ƒæ€§ï¼‰çš„æ•°æ®ç»“æ„</li>\n<li>é˜Ÿå°¾å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿåˆ—ä¸ç©ºä¸”æ–°å…ƒç´ æ›´ä¼˜ï¼Œé˜Ÿä¸­æ—§å…ƒç´ é˜Ÿå°¾å‡ºé˜Ÿ</li>\n<li>æ¯ä¸ªå…ƒç´ å¿…ç„¶ä»é˜Ÿå°¾è¿›é˜Ÿä¸€æ¬¡</li>\n<li>é˜Ÿå¤´å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿå¤´å…ƒç´ æ»‘å‡ºäº†çª—å£</li>\n<li>æ³¨æ„ï¼šé˜Ÿåˆ—ä¸­å­˜å‚¨å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ–¹ä¾¿åˆ¤æ–­é˜Ÿå¤´å‡ºé˜Ÿ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258078.png\" alt=\"image-20240327125322278\"></p>\n<h3><span id=\"11-ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼x2fæœ€å°å€¼\">1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼</span></h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>; <span class=\"comment\">// å½“é˜Ÿå°¾t&lt;é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰é˜Ÿå¤´q[h]ä¸åœ¨çª—å£[i-k+1,i]å†…,é˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k+<span class=\"number\">1</span>) h++;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰å€¼&gt;=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ(å¦‚æœå½“å‰å€¼æ¯”é˜Ÿå¤´è¿˜å¤§,é‚£ä¹ˆä¼šä¸€ç›´å‡ºé˜Ÿåˆ°é˜Ÿå¤´å‡ºé˜Ÿ)</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[i]&gt;=a[q[t]]) t--;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰å€¼ä»é˜Ÿå°¾å…¥é˜Ÿ,æ³¨æ„å…¥é˜Ÿçš„æ˜¯ä¸‹æ ‡,ä¸€ç›´å­˜å‚¨çš„éƒ½æ˜¯ä¸‹æ ‡</span></span><br><span class=\"line\">    q[++t]=i;</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœi&gt;=kè¡¨æ˜èµ·ç å æ»¡ä¸€ä¸ªçª—å£,æ­¤æ—¶é˜Ÿå¤´ä¸­çš„æ˜¯æœ€å¤§å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1886\">P1886 æ»‘åŠ¨çª—å£ &#x2F;ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],q[N]; <span class=\"comment\">// qæ˜¯é˜Ÿåˆ—,å»ºè®®æ•°ç»„æ¨¡æ‹Ÿ,ä¸å¼€O2ä¼˜åŒ–çš„æƒ…å†µä¸‹æ•°ç»„éƒ½æ¯”STLåº“æ›´å¿«</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,k;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤çª—å£æœ€å°å€¼O(n)</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>; <span class=\"comment\">// å½“é˜Ÿå°¾t&lt;é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123; <span class=\"comment\">// æšä¸¾é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ </span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ–°å…ƒç´ æ¯”å½“å‰é˜Ÿå°¾è¿˜å°,è¯´æ˜æ–°å…ƒç´ æ›´ä¼˜,é‚£ä¹ˆæŠŠåé¢çš„å…¨éƒ¨ç§»å‡ºå»,æœ€å°çš„å˜è¿›æ¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[q[t]]&gt;=a[i]) t--;</span><br><span class=\"line\">\t\tq[++t]=i; <span class=\"comment\">// æ³¨æ„,qå­˜çš„éƒ½æ˜¯ä¸‹æ ‡å—·,è¡¨ç¤ºæŠŠiä»é˜Ÿå°¾å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“æ–°å…ƒç´ ä¸æ˜¯æœ€ä¼˜æ—¶,ä¹Ÿä¼šç›´æ¥æ‰§è¡Œq[++t]=iåŠ åˆ°å½“å‰çª—å£çš„æœ«å°¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(q[h]&lt;i-k+<span class=\"number\">1</span>) h++; <span class=\"comment\">// i-k+1æ˜¯å½“å‰çª—å£çš„å·¦è¾¹ç•Œ,å¦‚æœé˜Ÿå¤´ä¸‹æ ‡å°äºi-k+1,è¯´æ˜çª—å£å³ç§»</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ­¤æ—¶ç›¸å½“äºé˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// èƒ½è¾“å‡ºç¬¬ä¸€ä¸ªçª—å£çš„å¤§å°æ—¶</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤æœ€å¤§å€¼çš„å•è°ƒé˜Ÿåˆ—,q[h]ä»£è¡¨é˜Ÿå¤´å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\th=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜,åˆ™å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[q[t]]&lt;=a[i]) t--;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\tq[++t]=i;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ»‘åŠ¨çª—å£å³ç§»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(q[h]&lt;i-k+<span class=\"number\">1</span>) h++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºå½“å‰çª—å£æœ€å¤§å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>åŸºäºSTL</p>\n</li>\n<li><p>å•è°ƒé˜Ÿåˆ—æ˜¯ç›¸è¾ƒäºé˜Ÿåˆ—ï¼Œé˜Ÿå¤´ä¹Ÿå¯ä»¥å‡ºé˜Ÿçš„æ•°æ®ç»“æ„ï¼Œåˆ™å¯ä»¥ç”¨ $STL$ åº“ä¸­çš„ $deque$ å®ç°ã€åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥å…¥é˜Ÿä¹Ÿå¯ä»¥å‡ºé˜Ÿã€‘</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&gt;a[i]) dq.pop_back(); <span class=\"comment\">// å»å°¾</span></span><br><span class=\"line\">    dq.push_back(i); <span class=\"comment\">// 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœè¾¾åˆ°çª—å£å¤§å°</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k) dq.pop_back(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]); <span class=\"comment\">// è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1886\">P1886 æ»‘åŠ¨çª—å£ &#x2F;ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<ul>\n<li>è¦ $pop_back()$ æˆ–è€… $pop_front()$ ä¹‹å‰å¯ä»¥ç”¨ $dq.size()$ æ£€æµ‹ä¸€ä¸‹æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ $RE$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: REä¹Ÿå¯èƒ½æ˜¯æ•°ç»„æ²¡å¼€å¤Ÿå“¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"built_in\">deque</span>&lt;<span class=\"type\">int</span>&gt; dq; <span class=\"comment\">// åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºå•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// å…ƒç´ ä¸ªæ•°ä»¥åŠçª—å£å¤§å°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&gt;a[i] &amp;&amp; dq.size()) dq.pop_back(); <span class=\"comment\">// å»å°¾</span></span><br><span class=\"line\">\t\tdq.push_back(i); <span class=\"comment\">// 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¾¾åˆ°çª—å£å¤§å°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k &amp;&amp; dq.size()) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]); <span class=\"comment\">// è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\tdq.clear();</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,å¦‚æœa[i]æ¯”é˜Ÿå°¾å¤§å°±å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&lt;a[i] &amp;&amp; dq.size()) dq.pop_back();</span><br><span class=\"line\">\t\tdq.push_back(i);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k &amp;&amp; dq.size()) dq.pop_front();</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"12-ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\">1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š</p>\n</blockquote>\n<ul>\n<li><p>åŸºäºæ•°ç»„</p>\n</li>\n<li><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºé•¿åº¦ä¸è¶…è¿‡ $m$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ ${2,\\ -3,\\ 5,\\ 2,\\ -4,\\ -1,\\ 8}$ ï¼Œ$m$ å– $3$ ï¼Œé‚£ä¹ˆé•¿åº¦ä¸è¶…è¿‡ $3$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º $8$</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258085.png\" alt=\"image-20240327145503331\"></p>\n<ul>\n<li>å¯¹äºå¸¸è§„åšæ³•ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ¯æ¬¡æšä¸¾ä¸€ä¸ªçª—å£é•¿åº¦ï¼Œå†åœ¨è¿™ä¸ªçª—å£ä¸­æšä¸¾å¾—åˆ°æœ€å¤§çš„è¿ç»­å­æ®µå’Œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^3)$ï¼Œå¯¹äºå³å›¾ï¼Œè¡¨ç¤ºçš„æ˜¯å‰ç¼€å’Œæ•°ç»„ $s$</li>\n<li>å¯¹äºè¿ç»­å­æ®µå’Œï¼ˆåŒºé—´å’Œï¼‰ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°é¢„å¤„ç†ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè®¡ç®—è¿ç»­å­—æ®µå’Œçš„æ—¶é—´ä» $O(n)$ ä¼˜åŒ–åˆ° $O(1)$ï¼Œ$i$ åˆ° $j$ çš„é—´å’Œè®¡ç®—å…¬å¼æ˜¯ $s[i]-s[j-1]$ï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°å·¦ç«¯ç‚¹ $s[l-1]$ çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ±‚å‡º $s[i]-min(s[j]),\\ jâˆˆ[i-m,i-1]$ å¾—åˆ°å‰ $i$ é¡¹çš„æœ€å¤§è¿ç»­å­æ®µå’Œï¼Œå› ä¸ºè¦æšä¸¾æ±‚å¾—æœ€å°å€¼ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$</li>\n<li>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å†ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤è¿™ä¸ªæœ€å°å€¼ï¼Œå°±ä¸éœ€è¦å†æšä¸¾æ±‚è¿ç»­åŒºé—´å’Œçš„æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šç»§ç»­ä¸‹é™åˆ° $O(n)$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"type\">int</span> q[N]; <span class=\"comment\">// å•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,k;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k; <span class=\"comment\">// æ±‚çš„æ˜¯é•¿åº¦ä¸è¶…è¿‡kçš„æœ€å¤§åŒºé—´å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> h=<span class=\"number\">0</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=s[<span class=\"number\">1</span>]; <span class=\"comment\">// åˆå§‹åŒ–åŒºé—´å’Œçš„ç­”æ¡ˆ</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é˜Ÿå¤´ä¸åœ¨çª—å£[i-k,i-1]å†…,é˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k) h++; <span class=\"comment\">// è¿™é‡Œå› ä¸ºåªç”¨çœ‹å‰i-kä¸ªå…ƒç´ ,çª—å£å³è¾¹ç•Œå°äº†1,å› æ­¤ä¸ç”¨åŠ 1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä½¿ç”¨é˜Ÿå¤´æœ€å°å€¼,åŒæ ·çš„å› ä¸ºé˜Ÿå°¾å°äº†1,æ‰€ä»¥è¦æŠŠæœ€å°å€¼åœ¨è¿™é‡Œå¤„ç†</span></span><br><span class=\"line\">\t\tans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“å‰å€¼&lt;=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ,æŠŠæ›´å°çš„s[i]æ”¾è¿›é˜Ÿåˆ—ä¸­ä»¥ç»´æŠ¤s[i]çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»é˜Ÿå°¾æ­£å¸¸å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\tq[++t]=i; <span class=\"comment\">// æ”¾è¿›å»çš„ä»ç„¶æ˜¯ä¸‹æ ‡å“ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">Input:</span></span><br><span class=\"line\"><span class=\"comment\">7 3</span></span><br><span class=\"line\"><span class=\"comment\">2 -3 5 2 -4 -1 8</span></span><br><span class=\"line\"><span class=\"comment\">Output:</span></span><br><span class=\"line\"><span class=\"comment\">8</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦ä¸€ç§å†™æ³•ï¼Œæœ¬äººæš‚æ—¶è¿˜æ²¡éªŒè¯æ˜¯å¦æ­£ç¡®ï¼Œåœ¨ç»´æŠ¤æ»‘åŠ¨çª—å£æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŸºç¡€ä¸Šåªæ”¹åŠ¨äº†æœ€åä¸€æ­¥ï¼Œå³ç»´æŠ¤ $ans$ çš„ä»£ç ï¼Œå› ä¸º $s[i]-s[q[h]]$ ä¸­ $s[q[h]]$ å·²ç»å‰ $i$ é¡¹çª—å£å¤§å°ä¸º $[1,k]$ çš„æ»‘åŠ¨çª—å£ä¸­å‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œæ‰€ä»¥ç›¸å‡å³å¯å¾—åˆ°æœ€å¤§åŒºé—´å’Œ</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ans=s[<span class=\"number\">1</span>];</span><br><span class=\"line\">h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">    q[++t]=i;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k) h++;</span><br><span class=\"line\">    ans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœçª—å£å¤§å°æ˜¯ä» $[st,en]$ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼‰ï¼Œé‚£ä¹ˆæ¨¡æ¿å¯æ”¹ä¸ºï¼š</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾æ¯ä¸ªå…ƒç´ </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¯¹äºåŒºé—´é•¿åº¦åœ¨[st,en]ä¹‹é—´,å½“i&gt;=stæ‰è®¡ç®—</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=st) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i-st]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">        q[++t]=i-st; <span class=\"comment\">// åç§»é‡æ˜¯i-st</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-en) h++;</span><br><span class=\"line\">   \tans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>åŸºäºSTL</p>\n</li>\n<li><p>å…³é”®ç‚¹ï¼Œ$dq.fonrt()&lt;i-k$ æ­¤æ—¶ä»£è¡¨çª—å£å¤§äº $k$ äº†ï¼Œå› ä¸ºçª—å£å¤§å°æ˜¯ $â‰¤k$ æ‰€ä»¥æ²¡æœ‰è®¾é™ $if(i&gt;&#x3D;k)$</p>\n</li>\n<li><p>å¯¹äº $dq.empty()$ å³æ˜¯æœ€åˆçš„çŠ¶æ€ï¼Œå³æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œæ­¤æ—¶åªä¼šæ·»åŠ  $s[1]$ è¿›å»ï¼Œå…¶ä»–æƒ…å†µä¼šè¿›å…¥ $s[i]-s[dq.front()]$ è¡¨ç¤º $[0,i-1]$ ä¸­çš„æœ€å°å€¼</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ans=INT_MIN; <span class=\"comment\">// æ‰¾æœ€å¤§å€¼</span></span><br><span class=\"line\">dq.push_back(<span class=\"number\">0</span>); </span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front&lt;i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;i-k) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(dq.empty()) ans=max(ans,s[i]); <span class=\"comment\">// å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> ans=max(ans,s[i]-s[dq.front()]); <span class=\"comment\">// æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.back()&gt;=s[i]) dq.pop_back();</span><br><span class=\"line\">    dq.push_back(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´ä»£ç </li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œ</span></span><br><span class=\"line\"><span class=\"built_in\">deque</span>&lt;<span class=\"type\">int</span>&gt; dq; <span class=\"comment\">// å•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// é•¿åº¦ä¸è¶…è¿‡kçš„å­åºåˆ—æœ€å¤§å’Œ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=INT_MIN; <span class=\"comment\">// æ‰¾æœ€å¤§å€¼</span></span><br><span class=\"line\">\tdq.push_back(<span class=\"number\">0</span>); </span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front&lt;i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;i-k) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(dq.empty()) ans=max(ans,s[i]); <span class=\"comment\">// å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> ans=max(ans,s[i]-s[dq.front()]); <span class=\"comment\">// æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.back()&gt;=s[i]) dq.pop_back();</span><br><span class=\"line\">\t\tdq.push_back(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å•è°ƒé˜Ÿåˆ—\"><a href=\"#å•è°ƒé˜Ÿåˆ—\" class=\"headerlink\" title=\"å•è°ƒé˜Ÿåˆ—\"></a>å•è°ƒé˜Ÿåˆ—</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97\">1. å•è°ƒé˜Ÿåˆ—</a><ul>\n<li><a href=\"#11-%E7%BB%B4%E6%8A%A4%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E6%9C%80%E5%B0%8F%E5%80%BC\">1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼</a></li>\n<li><a href=\"#12-%E7%BB%B4%E6%8A%A4%E8%BF%9E%E7%BB%AD%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E5%92%8C\">1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1H5411j7o6/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">C15ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— æ»‘åŠ¨çª—å£æœ€å€¼_bilibili</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>ç”¨äºæ±‚æ»‘åŠ¨çª—å£å†…çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</li>\n</ul>\n<h2 id=\"1-å•è°ƒé˜Ÿåˆ—\"><a href=\"#1-å•è°ƒé˜Ÿåˆ—\" class=\"headerlink\" title=\"1. å•è°ƒé˜Ÿåˆ—\"></a>1. å•è°ƒé˜Ÿåˆ—</h2><ul>\n<li>é˜Ÿå°¾è¿›é˜Ÿå‡ºé˜Ÿï¼Œé˜Ÿå¤´å‡ºé˜Ÿï¼ˆç»´æŠ¤å­åºåˆ—çš„å•è°ƒæ€§ï¼‰çš„æ•°æ®ç»“æ„</li>\n<li>é˜Ÿå°¾å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿåˆ—ä¸ç©ºä¸”æ–°å…ƒç´ æ›´ä¼˜ï¼Œé˜Ÿä¸­æ—§å…ƒç´ é˜Ÿå°¾å‡ºé˜Ÿ</li>\n<li>æ¯ä¸ªå…ƒç´ å¿…ç„¶ä»é˜Ÿå°¾è¿›é˜Ÿä¸€æ¬¡</li>\n<li>é˜Ÿå¤´å‡ºé˜Ÿçš„æ¡ä»¶ï¼šé˜Ÿå¤´å…ƒç´ æ»‘å‡ºäº†çª—å£</li>\n<li>æ³¨æ„ï¼šé˜Ÿåˆ—ä¸­å­˜å‚¨å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ–¹ä¾¿åˆ¤æ–­é˜Ÿå¤´å‡ºé˜Ÿ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258078.png\" alt=\"image-20240327125322278\"></p>\n<h3 id=\"1-1-ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼-æœ€å°å€¼\"><a href=\"#1-1-ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼-æœ€å°å€¼\" class=\"headerlink\" title=\"1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼\"></a>1.1. ç»´æŠ¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼</h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>; <span class=\"comment\">// å½“é˜Ÿå°¾t&lt;é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰é˜Ÿå¤´q[h]ä¸åœ¨çª—å£[i-k+1,i]å†…,é˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k+<span class=\"number\">1</span>) h++;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰å€¼&gt;=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ(å¦‚æœå½“å‰å€¼æ¯”é˜Ÿå¤´è¿˜å¤§,é‚£ä¹ˆä¼šä¸€ç›´å‡ºé˜Ÿåˆ°é˜Ÿå¤´å‡ºé˜Ÿ)</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[i]&gt;=a[q[t]]) t--;</span><br><span class=\"line\">    <span class=\"comment\">// å½“å‰å€¼ä»é˜Ÿå°¾å…¥é˜Ÿ,æ³¨æ„å…¥é˜Ÿçš„æ˜¯ä¸‹æ ‡,ä¸€ç›´å­˜å‚¨çš„éƒ½æ˜¯ä¸‹æ ‡</span></span><br><span class=\"line\">    q[++t]=i;</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœi&gt;=kè¡¨æ˜èµ·ç å æ»¡ä¸€ä¸ªçª—å£,æ­¤æ—¶é˜Ÿå¤´ä¸­çš„æ˜¯æœ€å¤§å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1886\">P1886 æ»‘åŠ¨çª—å£ &#x2F;ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],q[N]; <span class=\"comment\">// qæ˜¯é˜Ÿåˆ—,å»ºè®®æ•°ç»„æ¨¡æ‹Ÿ,ä¸å¼€O2ä¼˜åŒ–çš„æƒ…å†µä¸‹æ•°ç»„éƒ½æ¯”STLåº“æ›´å¿«</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,k;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤çª—å£æœ€å°å€¼O(n)</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>; <span class=\"comment\">// å½“é˜Ÿå°¾t&lt;é˜Ÿå¤´hæ—¶,è¯´æ˜å•è°ƒé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123; <span class=\"comment\">// æšä¸¾é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ </span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ–°å…ƒç´ æ¯”å½“å‰é˜Ÿå°¾è¿˜å°,è¯´æ˜æ–°å…ƒç´ æ›´ä¼˜,é‚£ä¹ˆæŠŠåé¢çš„å…¨éƒ¨ç§»å‡ºå»,æœ€å°çš„å˜è¿›æ¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[q[t]]&gt;=a[i]) t--;</span><br><span class=\"line\">\t\tq[++t]=i; <span class=\"comment\">// æ³¨æ„,qå­˜çš„éƒ½æ˜¯ä¸‹æ ‡å—·,è¡¨ç¤ºæŠŠiä»é˜Ÿå°¾å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“æ–°å…ƒç´ ä¸æ˜¯æœ€ä¼˜æ—¶,ä¹Ÿä¼šç›´æ¥æ‰§è¡Œq[++t]=iåŠ åˆ°å½“å‰çª—å£çš„æœ«å°¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(q[h]&lt;i-k+<span class=\"number\">1</span>) h++; <span class=\"comment\">// i-k+1æ˜¯å½“å‰çª—å£çš„å·¦è¾¹ç•Œ,å¦‚æœé˜Ÿå¤´ä¸‹æ ‡å°äºi-k+1,è¯´æ˜çª—å£å³ç§»</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ­¤æ—¶ç›¸å½“äºé˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// èƒ½è¾“å‡ºç¬¬ä¸€ä¸ªçª—å£çš„å¤§å°æ—¶</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤æœ€å¤§å€¼çš„å•è°ƒé˜Ÿåˆ—,q[h]ä»£è¡¨é˜Ÿå¤´å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\th=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ¯”é˜Ÿå°¾æ›´ä¼˜,åˆ™å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; a[q[t]]&lt;=a[i]) t--;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\tq[++t]=i;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ»‘åŠ¨çª—å£å³ç§»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(q[h]&lt;i-k+<span class=\"number\">1</span>) h++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºå½“å‰çª—å£æœ€å¤§å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) <span class=\"built_in\">cout</span>&lt;&lt;a[q[h]]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>åŸºäºSTL</p>\n</li>\n<li><p>å•è°ƒé˜Ÿåˆ—æ˜¯ç›¸è¾ƒäºé˜Ÿåˆ—ï¼Œé˜Ÿå¤´ä¹Ÿå¯ä»¥å‡ºé˜Ÿçš„æ•°æ®ç»“æ„ï¼Œåˆ™å¯ä»¥ç”¨ $STL$ åº“ä¸­çš„ $deque$ å®ç°ã€åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥å…¥é˜Ÿä¹Ÿå¯ä»¥å‡ºé˜Ÿã€‘</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&gt;a[i]) dq.pop_back(); <span class=\"comment\">// å»å°¾</span></span><br><span class=\"line\">    dq.push_back(i); <span class=\"comment\">// 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)</span></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœè¾¾åˆ°çª—å£å¤§å°</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k) dq.pop_back(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]); <span class=\"comment\">// è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1886\">P1886 æ»‘åŠ¨çª—å£ &#x2F;ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<ul>\n<li>è¦ $pop_back()$ æˆ–è€… $pop_front()$ ä¹‹å‰å¯ä»¥ç”¨ $dq.size()$ æ£€æµ‹ä¸€ä¸‹æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ $RE$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: REä¹Ÿå¯èƒ½æ˜¯æ•°ç»„æ²¡å¼€å¤Ÿå“¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"built_in\">deque</span>&lt;<span class=\"type\">int</span>&gt; dq; <span class=\"comment\">// åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºå•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// å…ƒç´ ä¸ªæ•°ä»¥åŠçª—å£å¤§å°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å°å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºæœ€å°å€¼,a[i]æ¯”é˜Ÿå°¾å…ƒç´ æ›´ä¼˜,åˆ™å¼¹å‡ºå¯¹ä½å¹¶åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºä¸”è¿™ä¸ªæ–°å…ƒç´ æ›´ä¼˜,åˆ™å»å°¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&gt;a[i] &amp;&amp; dq.size()) dq.pop_back(); <span class=\"comment\">// å»å°¾</span></span><br><span class=\"line\">\t\tdq.push_back(i); <span class=\"comment\">// 1)å»å°¾åå°†æœ€ä¼˜å…ƒç´ åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­;2)dqä¸ºç©º,è‡ªç„¶å°†ä¸‹æ ‡å…¥é˜Ÿ;3)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¾¾åˆ°çª—å£å¤§å°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœdqä¸ä¸ºç©ºå¹¶ä¸”é˜Ÿå¤´å…ƒç´ ä¸‹æ ‡å°äºç­‰äºi-k(å³æ»‘å‡ºçª—å£äº†)</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k &amp;&amp; dq.size()) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]); <span class=\"comment\">// è¾“å‡ºé˜Ÿå¤´çš„å…ƒç´ ,æ­¤æ—¶å¯¹åº”æœ€å¤§å€¼</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\tdq.clear();</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾æœ€å¤§å€¼,å¦‚æœa[i]æ¯”é˜Ÿå°¾å¤§å°±å…¥é˜Ÿ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; a[dq.back()]&lt;a[i] &amp;&amp; dq.size()) dq.pop_back();</span><br><span class=\"line\">\t\tdq.push_back(i);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&gt;=k) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;=i-k &amp;&amp; dq.size()) dq.pop_front();</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[dq.front()]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-2-ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\"><a href=\"#1-2-ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\" class=\"headerlink\" title=\"1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ\"></a>1.2. ç»´æŠ¤è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š</p>\n</blockquote>\n<ul>\n<li><p>åŸºäºæ•°ç»„</p>\n</li>\n<li><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºé•¿åº¦ä¸è¶…è¿‡ $m$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ ${2,\\ -3,\\ 5,\\ 2,\\ -4,\\ -1,\\ 8}$ ï¼Œ$m$ å– $3$ ï¼Œé‚£ä¹ˆé•¿åº¦ä¸è¶…è¿‡ $3$ çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º $8$</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031258085.png\" alt=\"image-20240327145503331\"></p>\n<ul>\n<li>å¯¹äºå¸¸è§„åšæ³•ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ¯æ¬¡æšä¸¾ä¸€ä¸ªçª—å£é•¿åº¦ï¼Œå†åœ¨è¿™ä¸ªçª—å£ä¸­æšä¸¾å¾—åˆ°æœ€å¤§çš„è¿ç»­å­æ®µå’Œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^3)$ï¼Œå¯¹äºå³å›¾ï¼Œè¡¨ç¤ºçš„æ˜¯å‰ç¼€å’Œæ•°ç»„ $s$</li>\n<li>å¯¹äºè¿ç»­å­æ®µå’Œï¼ˆåŒºé—´å’Œï¼‰ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°é¢„å¤„ç†ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè®¡ç®—è¿ç»­å­—æ®µå’Œçš„æ—¶é—´ä» $O(n)$ ä¼˜åŒ–åˆ° $O(1)$ï¼Œ$i$ åˆ° $j$ çš„é—´å’Œè®¡ç®—å…¬å¼æ˜¯ $s[i]-s[j-1]$ï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°å·¦ç«¯ç‚¹ $s[l-1]$ çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ±‚å‡º $s[i]-min(s[j]),\\ jâˆˆ[i-m,i-1]$ å¾—åˆ°å‰ $i$ é¡¹çš„æœ€å¤§è¿ç»­å­æ®µå’Œï¼Œå› ä¸ºè¦æšä¸¾æ±‚å¾—æœ€å°å€¼ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$</li>\n<li>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å†ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤è¿™ä¸ªæœ€å°å€¼ï¼Œå°±ä¸éœ€è¦å†æšä¸¾æ±‚è¿ç»­åŒºé—´å’Œçš„æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šç»§ç»­ä¸‹é™åˆ° $O(n)$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"type\">int</span> q[N]; <span class=\"comment\">// å•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,k;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k; <span class=\"comment\">// æ±‚çš„æ˜¯é•¿åº¦ä¸è¶…è¿‡kçš„æœ€å¤§åŒºé—´å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> h=<span class=\"number\">0</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=s[<span class=\"number\">1</span>]; <span class=\"comment\">// åˆå§‹åŒ–åŒºé—´å’Œçš„ç­”æ¡ˆ</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é˜Ÿå¤´ä¸åœ¨çª—å£[i-k,i-1]å†…,é˜Ÿå¤´å‡ºé˜Ÿ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k) h++; <span class=\"comment\">// è¿™é‡Œå› ä¸ºåªç”¨çœ‹å‰i-kä¸ªå…ƒç´ ,çª—å£å³è¾¹ç•Œå°äº†1,å› æ­¤ä¸ç”¨åŠ 1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä½¿ç”¨é˜Ÿå¤´æœ€å°å€¼,åŒæ ·çš„å› ä¸ºé˜Ÿå°¾å°äº†1,æ‰€ä»¥è¦æŠŠæœ€å°å€¼åœ¨è¿™é‡Œå¤„ç†</span></span><br><span class=\"line\">\t\tans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“å‰å€¼&lt;=é˜Ÿå°¾å€¼,é˜Ÿå°¾å‡ºé˜Ÿ,æŠŠæ›´å°çš„s[i]æ”¾è¿›é˜Ÿåˆ—ä¸­ä»¥ç»´æŠ¤s[i]çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»é˜Ÿå°¾æ­£å¸¸å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\tq[++t]=i; <span class=\"comment\">// æ”¾è¿›å»çš„ä»ç„¶æ˜¯ä¸‹æ ‡å“ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">Input:</span></span><br><span class=\"line\"><span class=\"comment\">7 3</span></span><br><span class=\"line\"><span class=\"comment\">2 -3 5 2 -4 -1 8</span></span><br><span class=\"line\"><span class=\"comment\">Output:</span></span><br><span class=\"line\"><span class=\"comment\">8</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦ä¸€ç§å†™æ³•ï¼Œæœ¬äººæš‚æ—¶è¿˜æ²¡éªŒè¯æ˜¯å¦æ­£ç¡®ï¼Œåœ¨ç»´æŠ¤æ»‘åŠ¨çª—å£æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŸºç¡€ä¸Šåªæ”¹åŠ¨äº†æœ€åä¸€æ­¥ï¼Œå³ç»´æŠ¤ $ans$ çš„ä»£ç ï¼Œå› ä¸º $s[i]-s[q[h]]$ ä¸­ $s[q[h]]$ å·²ç»å‰ $i$ é¡¹çª—å£å¤§å°ä¸º $[1,k]$ çš„æ»‘åŠ¨çª—å£ä¸­å‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œæ‰€ä»¥ç›¸å‡å³å¯å¾—åˆ°æœ€å¤§åŒºé—´å’Œ</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ans=s[<span class=\"number\">1</span>];</span><br><span class=\"line\">h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">    q[++t]=i;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-k) h++;</span><br><span class=\"line\">    ans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœçª—å£å¤§å°æ˜¯ä» $[st,en]$ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼‰ï¼Œé‚£ä¹ˆæ¨¡æ¿å¯æ”¹ä¸ºï¼š</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h=<span class=\"number\">1</span>,t=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾æ¯ä¸ªå…ƒç´ </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¯¹äºåŒºé—´é•¿åº¦åœ¨[st,en]ä¹‹é—´,å½“i&gt;=stæ‰è®¡ç®—</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;=st) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">while</span>(h&lt;=t &amp;&amp; s[i-st]&lt;=s[q[t]]) t--;</span><br><span class=\"line\">        q[++t]=i-st; <span class=\"comment\">// åç§»é‡æ˜¯i-st</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(h&lt;=t &amp;&amp; q[h]&lt;i-en) h++;</span><br><span class=\"line\">   \tans=max(ans,s[i]-s[q[h]]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>åŸºäºSTL</p>\n</li>\n<li><p>å…³é”®ç‚¹ï¼Œ$dq.fonrt()&lt;i-k$ æ­¤æ—¶ä»£è¡¨çª—å£å¤§äº $k$ äº†ï¼Œå› ä¸ºçª—å£å¤§å°æ˜¯ $â‰¤k$ æ‰€ä»¥æ²¡æœ‰è®¾é™ $if(i&gt;&#x3D;k)$</p>\n</li>\n<li><p>å¯¹äº $dq.empty()$ å³æ˜¯æœ€åˆçš„çŠ¶æ€ï¼Œå³æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œæ­¤æ—¶åªä¼šæ·»åŠ  $s[1]$ è¿›å»ï¼Œå…¶ä»–æƒ…å†µä¼šè¿›å…¥ $s[i]-s[dq.front()]$ è¡¨ç¤º $[0,i-1]$ ä¸­çš„æœ€å°å€¼</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ans=INT_MIN; <span class=\"comment\">// æ‰¾æœ€å¤§å€¼</span></span><br><span class=\"line\">dq.push_back(<span class=\"number\">0</span>); </span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front&lt;i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;i-k) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(dq.empty()) ans=max(ans,s[i]); <span class=\"comment\">// å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> ans=max(ans,s[i]-s[dq.front()]); <span class=\"comment\">// æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.back()&gt;=s[i]) dq.pop_back();</span><br><span class=\"line\">    dq.push_back(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´ä»£ç </li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œ</span></span><br><span class=\"line\"><span class=\"built_in\">deque</span>&lt;<span class=\"type\">int</span>&gt; dq; <span class=\"comment\">// å•è°ƒé˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,k; <span class=\"comment\">// é•¿åº¦ä¸è¶…è¿‡kçš„å­åºåˆ—æœ€å¤§å’Œ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=INT_MIN; <span class=\"comment\">// æ‰¾æœ€å¤§å€¼</span></span><br><span class=\"line\">\tdq.push_back(<span class=\"number\">0</span>); </span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾åˆ°ç¬¬iä¸ªå…ƒç´ ,åˆ™ä»å‰[0,i-1]ä¸­æ‰¾æœ€å°å€¼s[j](å‰ç¼€å’Œ),ç”¨s[i]-s[j]å³å¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å› ä¸ºçª—å£å¤§å°æ˜¯å°äºç­‰äºk,æ‰€ä»¥ä¸€æ—¦dq.front&lt;i-kä»£è¡¨çª—å£å¤§å°å¤§äºkäº†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.front()&lt;i-k) dq.pop_front(); <span class=\"comment\">// åˆ å¤´</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(dq.empty()) ans=max(ans,s[i]); <span class=\"comment\">// å¯¹åº”æœ€åˆçŠ¶æ€,è¿™é‡Œåªä¼šæ·»åŠ s[1],å…¶ä»–æƒ…å†µä¸‹é˜Ÿåˆ—èµ·ç æœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> ans=max(ans,s[i]-s[dq.front()]); <span class=\"comment\">// æ­¤æ—¶dqä¸­çš„æ˜¯0~s[i-1]ä¸­çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!dq.empty() &amp;&amp; dq.back()&gt;=s[i]) dq.pop_back();</span><br><span class=\"line\">\t\tdq.push_back(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§","date":"2024-10-03T04:42:58.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\n\n<!-- toc -->\n\n\n\n## 1. æ—¶é—´å¤æ‚åº¦\n\n* C++è¯­è¨€1ç§’é’Ÿå¯ä»¥æ‰§è¡Œçš„æ“ä½œæ¬¡æ•°æ˜¯ 10^7^~10^8^\n* æ—¶é—´å¤æ‚åº¦çš„å¸¸æ•°æ€ä¹ˆç†è§£ï¼Ÿå¯ä»¥ç†è§£ä¸ºä»£ç çš„æŒ‡ä»¤è¡Œæ•°ï¼Œå¦‚æœå¾ªç¯å†…éƒ¨æŒ‡ä»¤è¡Œæ•°>=10æ¡ä¸€èˆ¬è®¤ä¸ºå¸¸æ•°æ¯”è¾ƒå¤§\n* æ ¹æ®é¢˜ç›®ç»™å®šçš„èŒƒå›´ï¼Œåæ¨åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼š\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031243416.png\" alt=\"image-20240111214332856\" style=\"zoom:80%;\" />\n\n\n\n## 2. ç©ºé—´å¤æ‚åº¦\n\n* C++ä¸­æœ€å¤§ç©ºé—´é™åˆ¶ä¸º2147483647ï¼Œå³5e8ï¼ˆå¯¹intå‹ï¼‰ï¼Œå¦‚æœæ•°æ®èŒƒå›´è¶…è¿‡5e8å°±ä¸è¦ç”¨æ•°ç»„\n* å¯¹64MBçš„å­˜å‚¨ç©ºé—´ï¼Œå¼€ä¸€ä¸ªnÃ—nçš„intå‹äºŒç»´æ•°ç»„ï¼Œå…¶næœ€å¤§ä¸º8172\n\n\n\n## 3. å¸¸ç”¨æŠ€å·§\n\n1. a/bå‘ä¸Šå–æ•´ï¼Œå¯ä»¥ç”¨ceil(a/b)ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯doubleç±»å‹çš„ï¼Œæ‰€ä»¥éœ€è¦å¼ºè½¬ï¼Œå³int(ceil(a/b))ï¼Œè¿™æ ·å†™éå¸¸ç¹çï¼Œä¸å¦‚ç”¨ $a+b-1/b$ è¡¨ç¤ºå‘ä¸Šå–æ•´\n\n2. ç±»ä¼¼çš„æŠ€å·§è¿˜æœ‰ a%b å¦‚ä½•æŠŠä½™æ•°é™åˆ¶ä¸ºæ­£æ•°ï¼Ÿåªéœ€è¦ (a%b+b)%b å°±å¯ä»¥äº†ï¼Œä¿è¯æ¨¡æ•°ä¸å˜çš„åŒæ—¶ä½¿ç»“æœéƒ½å˜ä¸ºæ­£æ•°\n3. ä¼˜åŒ–è¾“å…¥è¾“å‡ºé€Ÿåº¦ï¼Œä½†é€Ÿåº¦ä¾ç„¶ä¸åŠscanfå’Œprintf\n\n``` c++\nios::sync_with_stdio(0); // ä¼˜åŒ–è¾“å…¥è¾“å‡º(å–æ¶ˆå…³è”)\ncin.tie(0); // åŠ å¿«è¾“å…¥\ncout.tie(0); // åŠ å¿«è¾“å‡º\n```\n\n4. cinåé¢ä¸èƒ½é©¬ä¸Šè·Ÿgetlineï¼Œå› ä¸ºcinè¯»ä¸äº†æ¢è¡Œç¬¦ï¼Œè€Œæ¢è¡Œç¬¦æ˜¯getlineçš„ç»“æŸç¬¦ï¼Œæ‰€ä»¥è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œç”¨è¯­å¥ï¼Œæˆ–è€…getchar()è¯»èµ°è¿™ä¸ªæ¢è¡Œç¬¦\n\n``` C++\ncin.ignore();\n```\n\n5. ä¸‡èƒ½å¤´æ–‡ä»¶(è“æ¡¥æ¯ä¹Ÿå¯ç”¨ï¼Œå‰ææ˜¯å¼€C++11)\n\n``` c++\n#include<bits/stdc++.h>\n```\n\n6. å›¾è®ºæ— ç©·å¤§ï¼š0x3f3f3f3f\n\n* åœ¨å›¾è®ºä¸­ï¼Œå°†è·ç¦»æ•°ç»„åˆå§‹åŒ–ä¸º0x3f3f3f3fæ˜¯ä¸ºäº†è¡¨ç¤ºæ— ç©·å¤§ã€‚è¿™æ˜¯å› ä¸º0x3f3f3f3fçš„åè¿›åˆ¶å€¼æ˜¯1061109567ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œä½†åˆä¸ä¼šæº¢å‡ºã€‚è¿™ä¸ªå€¼è¢«ç”¨æ¥è¡¨ç¤ºæ— ç©·å¤§ï¼Œå› ä¸ºä¸¤ä¸ª0x3f3f3f3fçš„å’Œåªæ¯”intç±»å‹çš„æœ€å¤§å€¼å°ä¸€ç‚¹ï¼Œè¿™æ ·åœ¨ä¸¤ä¸ªæ— ç©·ç›¸åŠ æ—¶èƒ½å¤Ÿä¿è¯ä¸ä¼šæº¢å‡ºï¼Œå¯¹äºlong longç±»å‹ï¼Œåˆ™ç”¨0x3f3f3f3f3f3f3f3fã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨memsetå‡½æ•°è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåªéœ€è¦memset(dis, 0x3f, sizeof dis)å³å¯ï¼Œå› ä¸ºmemsetå‡½æ•°æ˜¯æŒ‰ç…§å­—èŠ‚æ¥èµ‹å€¼çš„ï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥é»˜è®¤èµ‹å€¼0x3f3f3f3f\n\n7. è¡Œæ•°ä¸å›ºå®šçš„è¾“å…¥\n\n``` c++\nwhile(scanf(\"%d%d\",&a,&b)==2)\nwhile(cin>>n && n)\n```\n\n\n\n## 4. DebugæŠ€å·§\n\n1. Segmentation Faultï¼šæ®µé”™è¯¯ï¼Œå¤šä¸ºæ•°ç»„è¶Šç•Œå¯¼è‡´çš„ï¼Œä¸”ä¸è¾“å‡ºä»»ä½•é¢å¤–çš„ä¿¡æ¯ï¼Œæ­¤æ—¶å¯ä»¥å€ŸåŠ©exit(0)å‡½æ•°ï¼šåœ¨ç¨‹åºçš„ä»»ä½•ä½ç½®ç›´æ¥é€€å‡ºï¼Œæ¥æ’é™¤æ˜¯å“ªä¸€æ­¥çš„é—®é¢˜\n2. CEï¼šç¼–è¯‘é”™è¯¯ï¼Œ\n3. REï¼šè¿è¡Œé”™è¯¯ï¼Œæ•°ç»„è¶Šç•Œæˆ–çˆ†æ ˆ\n4. TLEï¼šæ—¶é—´è¶…é™\n5. MLEï¼šå†…å­˜è¶…é™\n6. PEï¼šæ ¼å¼é”™è¯¯\n7. OLEï¼šè¾“å‡ºè¶…é™ï¼Œé€šå¸¸ä¸ºæ²¡æœ‰åˆ é™¤è°ƒè¯•è¯­å¥\n","source":"_posts/å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§.md","raw":"---\ntitle: å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\ndate: 2024-10-03 12:42:58\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - å‰ç½®çŸ¥è¯†\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\n\n<!-- toc -->\n\n\n\n## 1. æ—¶é—´å¤æ‚åº¦\n\n* C++è¯­è¨€1ç§’é’Ÿå¯ä»¥æ‰§è¡Œçš„æ“ä½œæ¬¡æ•°æ˜¯ 10^7^~10^8^\n* æ—¶é—´å¤æ‚åº¦çš„å¸¸æ•°æ€ä¹ˆç†è§£ï¼Ÿå¯ä»¥ç†è§£ä¸ºä»£ç çš„æŒ‡ä»¤è¡Œæ•°ï¼Œå¦‚æœå¾ªç¯å†…éƒ¨æŒ‡ä»¤è¡Œæ•°>=10æ¡ä¸€èˆ¬è®¤ä¸ºå¸¸æ•°æ¯”è¾ƒå¤§\n* æ ¹æ®é¢˜ç›®ç»™å®šçš„èŒƒå›´ï¼Œåæ¨åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼š\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031243416.png\" alt=\"image-20240111214332856\" style=\"zoom:80%;\" />\n\n\n\n## 2. ç©ºé—´å¤æ‚åº¦\n\n* C++ä¸­æœ€å¤§ç©ºé—´é™åˆ¶ä¸º2147483647ï¼Œå³5e8ï¼ˆå¯¹intå‹ï¼‰ï¼Œå¦‚æœæ•°æ®èŒƒå›´è¶…è¿‡5e8å°±ä¸è¦ç”¨æ•°ç»„\n* å¯¹64MBçš„å­˜å‚¨ç©ºé—´ï¼Œå¼€ä¸€ä¸ªnÃ—nçš„intå‹äºŒç»´æ•°ç»„ï¼Œå…¶næœ€å¤§ä¸º8172\n\n\n\n## 3. å¸¸ç”¨æŠ€å·§\n\n1. a/bå‘ä¸Šå–æ•´ï¼Œå¯ä»¥ç”¨ceil(a/b)ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯doubleç±»å‹çš„ï¼Œæ‰€ä»¥éœ€è¦å¼ºè½¬ï¼Œå³int(ceil(a/b))ï¼Œè¿™æ ·å†™éå¸¸ç¹çï¼Œä¸å¦‚ç”¨ $a+b-1/b$ è¡¨ç¤ºå‘ä¸Šå–æ•´\n\n2. ç±»ä¼¼çš„æŠ€å·§è¿˜æœ‰ a%b å¦‚ä½•æŠŠä½™æ•°é™åˆ¶ä¸ºæ­£æ•°ï¼Ÿåªéœ€è¦ (a%b+b)%b å°±å¯ä»¥äº†ï¼Œä¿è¯æ¨¡æ•°ä¸å˜çš„åŒæ—¶ä½¿ç»“æœéƒ½å˜ä¸ºæ­£æ•°\n3. ä¼˜åŒ–è¾“å…¥è¾“å‡ºé€Ÿåº¦ï¼Œä½†é€Ÿåº¦ä¾ç„¶ä¸åŠscanfå’Œprintf\n\n``` c++\nios::sync_with_stdio(0); // ä¼˜åŒ–è¾“å…¥è¾“å‡º(å–æ¶ˆå…³è”)\ncin.tie(0); // åŠ å¿«è¾“å…¥\ncout.tie(0); // åŠ å¿«è¾“å‡º\n```\n\n4. cinåé¢ä¸èƒ½é©¬ä¸Šè·Ÿgetlineï¼Œå› ä¸ºcinè¯»ä¸äº†æ¢è¡Œç¬¦ï¼Œè€Œæ¢è¡Œç¬¦æ˜¯getlineçš„ç»“æŸç¬¦ï¼Œæ‰€ä»¥è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œç”¨è¯­å¥ï¼Œæˆ–è€…getchar()è¯»èµ°è¿™ä¸ªæ¢è¡Œç¬¦\n\n``` C++\ncin.ignore();\n```\n\n5. ä¸‡èƒ½å¤´æ–‡ä»¶(è“æ¡¥æ¯ä¹Ÿå¯ç”¨ï¼Œå‰ææ˜¯å¼€C++11)\n\n``` c++\n#include<bits/stdc++.h>\n```\n\n6. å›¾è®ºæ— ç©·å¤§ï¼š0x3f3f3f3f\n\n* åœ¨å›¾è®ºä¸­ï¼Œå°†è·ç¦»æ•°ç»„åˆå§‹åŒ–ä¸º0x3f3f3f3fæ˜¯ä¸ºäº†è¡¨ç¤ºæ— ç©·å¤§ã€‚è¿™æ˜¯å› ä¸º0x3f3f3f3fçš„åè¿›åˆ¶å€¼æ˜¯1061109567ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œä½†åˆä¸ä¼šæº¢å‡ºã€‚è¿™ä¸ªå€¼è¢«ç”¨æ¥è¡¨ç¤ºæ— ç©·å¤§ï¼Œå› ä¸ºä¸¤ä¸ª0x3f3f3f3fçš„å’Œåªæ¯”intç±»å‹çš„æœ€å¤§å€¼å°ä¸€ç‚¹ï¼Œè¿™æ ·åœ¨ä¸¤ä¸ªæ— ç©·ç›¸åŠ æ—¶èƒ½å¤Ÿä¿è¯ä¸ä¼šæº¢å‡ºï¼Œå¯¹äºlong longç±»å‹ï¼Œåˆ™ç”¨0x3f3f3f3f3f3f3f3fã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨memsetå‡½æ•°è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåªéœ€è¦memset(dis, 0x3f, sizeof dis)å³å¯ï¼Œå› ä¸ºmemsetå‡½æ•°æ˜¯æŒ‰ç…§å­—èŠ‚æ¥èµ‹å€¼çš„ï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥é»˜è®¤èµ‹å€¼0x3f3f3f3f\n\n7. è¡Œæ•°ä¸å›ºå®šçš„è¾“å…¥\n\n``` c++\nwhile(scanf(\"%d%d\",&a,&b)==2)\nwhile(cin>>n && n)\n```\n\n\n\n## 4. DebugæŠ€å·§\n\n1. Segmentation Faultï¼šæ®µé”™è¯¯ï¼Œå¤šä¸ºæ•°ç»„è¶Šç•Œå¯¼è‡´çš„ï¼Œä¸”ä¸è¾“å‡ºä»»ä½•é¢å¤–çš„ä¿¡æ¯ï¼Œæ­¤æ—¶å¯ä»¥å€ŸåŠ©exit(0)å‡½æ•°ï¼šåœ¨ç¨‹åºçš„ä»»ä½•ä½ç½®ç›´æ¥é€€å‡ºï¼Œæ¥æ’é™¤æ˜¯å“ªä¸€æ­¥çš„é—®é¢˜\n2. CEï¼šç¼–è¯‘é”™è¯¯ï¼Œ\n3. REï¼šè¿è¡Œé”™è¯¯ï¼Œæ•°ç»„è¶Šç•Œæˆ–çˆ†æ ˆ\n4. TLEï¼šæ—¶é—´è¶…é™\n5. MLEï¼šå†…å­˜è¶…é™\n6. PEï¼šæ ¼å¼é”™è¯¯\n7. OLEï¼šè¾“å‡ºè¶…é™ï¼Œé€šå¸¸ä¸ºæ²¡æœ‰åˆ é™¤è°ƒè¯•è¯­å¥\n","slug":"å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§","published":1,"updated":"2024-10-05T08:00:22.661Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsk000uc0nf7aexhboj","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\">å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6\">1. æ—¶é—´å¤æ‚åº¦</a></li>\n<li><a href=\"#2-%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6\">2. ç©ºé—´å¤æ‚åº¦</a></li>\n<li><a href=\"#3-%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7\">3. å¸¸ç”¨æŠ€å·§</a></li>\n<li><a href=\"#4-debug%E6%8A%80%E5%B7%A7\">4. DebugæŠ€å·§</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-æ—¶é—´å¤æ‚åº¦\">1. æ—¶é—´å¤æ‚åº¦</span></h2><ul>\n<li>C++è¯­è¨€1ç§’é’Ÿå¯ä»¥æ‰§è¡Œçš„æ“ä½œæ¬¡æ•°æ˜¯ 10^7^~10^8^</li>\n<li>æ—¶é—´å¤æ‚åº¦çš„å¸¸æ•°æ€ä¹ˆç†è§£ï¼Ÿå¯ä»¥ç†è§£ä¸ºä»£ç çš„æŒ‡ä»¤è¡Œæ•°ï¼Œå¦‚æœå¾ªç¯å†…éƒ¨æŒ‡ä»¤è¡Œæ•°&gt;&#x3D;10æ¡ä¸€èˆ¬è®¤ä¸ºå¸¸æ•°æ¯”è¾ƒå¤§</li>\n<li>æ ¹æ®é¢˜ç›®ç»™å®šçš„èŒƒå›´ï¼Œåæ¨åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼š</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031243416.png\" alt=\"image-20240111214332856\" style=\"zoom:80%;\">\n\n\n\n<h2><span id=\"2-ç©ºé—´å¤æ‚åº¦\">2. ç©ºé—´å¤æ‚åº¦</span></h2><ul>\n<li>C++ä¸­æœ€å¤§ç©ºé—´é™åˆ¶ä¸º2147483647ï¼Œå³5e8ï¼ˆå¯¹intå‹ï¼‰ï¼Œå¦‚æœæ•°æ®èŒƒå›´è¶…è¿‡5e8å°±ä¸è¦ç”¨æ•°ç»„</li>\n<li>å¯¹64MBçš„å­˜å‚¨ç©ºé—´ï¼Œå¼€ä¸€ä¸ªnÃ—nçš„intå‹äºŒç»´æ•°ç»„ï¼Œå…¶næœ€å¤§ä¸º8172</li>\n</ul>\n<h2><span id=\"3-å¸¸ç”¨æŠ€å·§\">3. å¸¸ç”¨æŠ€å·§</span></h2><ol>\n<li><p>a&#x2F;bå‘ä¸Šå–æ•´ï¼Œå¯ä»¥ç”¨ceil(a&#x2F;b)ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯doubleç±»å‹çš„ï¼Œæ‰€ä»¥éœ€è¦å¼ºè½¬ï¼Œå³int(ceil(a&#x2F;b))ï¼Œè¿™æ ·å†™éå¸¸ç¹çï¼Œä¸å¦‚ç”¨ $a+b-1&#x2F;b$ è¡¨ç¤ºå‘ä¸Šå–æ•´</p>\n</li>\n<li><p>ç±»ä¼¼çš„æŠ€å·§è¿˜æœ‰ a%b å¦‚ä½•æŠŠä½™æ•°é™åˆ¶ä¸ºæ­£æ•°ï¼Ÿåªéœ€è¦ (a%b+b)%b å°±å¯ä»¥äº†ï¼Œä¿è¯æ¨¡æ•°ä¸å˜çš„åŒæ—¶ä½¿ç»“æœéƒ½å˜ä¸ºæ­£æ•°</p>\n</li>\n<li><p>ä¼˜åŒ–è¾“å…¥è¾“å‡ºé€Ÿåº¦ï¼Œä½†é€Ÿåº¦ä¾ç„¶ä¸åŠscanfå’Œprintf</p>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>); <span class=\"comment\">// ä¼˜åŒ–è¾“å…¥è¾“å‡º(å–æ¶ˆå…³è”)</span></span><br><span class=\"line\">cin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>); <span class=\"comment\">// åŠ å¿«è¾“å…¥</span></span><br><span class=\"line\">cout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>); <span class=\"comment\">// åŠ å¿«è¾“å‡º</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>cinåé¢ä¸èƒ½é©¬ä¸Šè·Ÿgetlineï¼Œå› ä¸ºcinè¯»ä¸äº†æ¢è¡Œç¬¦ï¼Œè€Œæ¢è¡Œç¬¦æ˜¯getlineçš„ç»“æŸç¬¦ï¼Œæ‰€ä»¥è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œç”¨è¯­å¥ï¼Œæˆ–è€…getchar()è¯»èµ°è¿™ä¸ªæ¢è¡Œç¬¦</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cin.<span class=\"built_in\">ignore</span>();</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>ä¸‡èƒ½å¤´æ–‡ä»¶(è“æ¡¥æ¯ä¹Ÿå¯ç”¨ï¼Œå‰ææ˜¯å¼€C++11)</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li>å›¾è®ºæ— ç©·å¤§ï¼š0x3f3f3f3f</li>\n</ol>\n<ul>\n<li>åœ¨å›¾è®ºä¸­ï¼Œå°†è·ç¦»æ•°ç»„åˆå§‹åŒ–ä¸º0x3f3f3f3fæ˜¯ä¸ºäº†è¡¨ç¤ºæ— ç©·å¤§ã€‚è¿™æ˜¯å› ä¸º0x3f3f3f3fçš„åè¿›åˆ¶å€¼æ˜¯1061109567ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œä½†åˆä¸ä¼šæº¢å‡ºã€‚è¿™ä¸ªå€¼è¢«ç”¨æ¥è¡¨ç¤ºæ— ç©·å¤§ï¼Œå› ä¸ºä¸¤ä¸ª0x3f3f3f3fçš„å’Œåªæ¯”intç±»å‹çš„æœ€å¤§å€¼å°ä¸€ç‚¹ï¼Œè¿™æ ·åœ¨ä¸¤ä¸ªæ— ç©·ç›¸åŠ æ—¶èƒ½å¤Ÿä¿è¯ä¸ä¼šæº¢å‡ºï¼Œå¯¹äºlong longç±»å‹ï¼Œåˆ™ç”¨0x3f3f3f3f3f3f3f3fã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨memsetå‡½æ•°è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåªéœ€è¦memset(dis, 0x3f, sizeof dis)å³å¯ï¼Œå› ä¸ºmemsetå‡½æ•°æ˜¯æŒ‰ç…§å­—èŠ‚æ¥èµ‹å€¼çš„ï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥é»˜è®¤èµ‹å€¼0x3f3f3f3f</li>\n</ul>\n<ol start=\"7\">\n<li>è¡Œæ•°ä¸å›ºå®šçš„è¾“å…¥</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;a,&amp;b)==<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"keyword\">while</span>(cin&gt;&gt;n &amp;&amp; n)</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-debugæŠ€å·§\">4. DebugæŠ€å·§</span></h2><ol>\n<li>Segmentation Faultï¼šæ®µé”™è¯¯ï¼Œå¤šä¸ºæ•°ç»„è¶Šç•Œå¯¼è‡´çš„ï¼Œä¸”ä¸è¾“å‡ºä»»ä½•é¢å¤–çš„ä¿¡æ¯ï¼Œæ­¤æ—¶å¯ä»¥å€ŸåŠ©exit(0)å‡½æ•°ï¼šåœ¨ç¨‹åºçš„ä»»ä½•ä½ç½®ç›´æ¥é€€å‡ºï¼Œæ¥æ’é™¤æ˜¯å“ªä¸€æ­¥çš„é—®é¢˜</li>\n<li>CEï¼šç¼–è¯‘é”™è¯¯ï¼Œ</li>\n<li>REï¼šè¿è¡Œé”™è¯¯ï¼Œæ•°ç»„è¶Šç•Œæˆ–çˆ†æ ˆ</li>\n<li>TLEï¼šæ—¶é—´è¶…é™</li>\n<li>MLEï¼šå†…å­˜è¶…é™</li>\n<li>PEï¼šæ ¼å¼é”™è¯¯</li>\n<li>OLEï¼šè¾“å‡ºè¶…é™ï¼Œé€šå¸¸ä¸ºæ²¡æœ‰åˆ é™¤è°ƒè¯•è¯­å¥</li>\n</ol>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\"><a href=\"#å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\" class=\"headerlink\" title=\"å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§\"></a>å¤æ‚åº¦åˆ†æåŠå¸¸ç”¨æŠ€å·§</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6\">1. æ—¶é—´å¤æ‚åº¦</a></li>\n<li><a href=\"#2-%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6\">2. ç©ºé—´å¤æ‚åº¦</a></li>\n<li><a href=\"#3-%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7\">3. å¸¸ç”¨æŠ€å·§</a></li>\n<li><a href=\"#4-debug%E6%8A%80%E5%B7%A7\">4. DebugæŠ€å·§</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-æ—¶é—´å¤æ‚åº¦\"><a href=\"#1-æ—¶é—´å¤æ‚åº¦\" class=\"headerlink\" title=\"1. æ—¶é—´å¤æ‚åº¦\"></a>1. æ—¶é—´å¤æ‚åº¦</h2><ul>\n<li>C++è¯­è¨€1ç§’é’Ÿå¯ä»¥æ‰§è¡Œçš„æ“ä½œæ¬¡æ•°æ˜¯ 10^7^~10^8^</li>\n<li>æ—¶é—´å¤æ‚åº¦çš„å¸¸æ•°æ€ä¹ˆç†è§£ï¼Ÿå¯ä»¥ç†è§£ä¸ºä»£ç çš„æŒ‡ä»¤è¡Œæ•°ï¼Œå¦‚æœå¾ªç¯å†…éƒ¨æŒ‡ä»¤è¡Œæ•°&gt;&#x3D;10æ¡ä¸€èˆ¬è®¤ä¸ºå¸¸æ•°æ¯”è¾ƒå¤§</li>\n<li>æ ¹æ®é¢˜ç›®ç»™å®šçš„èŒƒå›´ï¼Œåæ¨åº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼š</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031243416.png\" alt=\"image-20240111214332856\" style=\"zoom:80%;\" />\n\n\n\n<h2 id=\"2-ç©ºé—´å¤æ‚åº¦\"><a href=\"#2-ç©ºé—´å¤æ‚åº¦\" class=\"headerlink\" title=\"2. ç©ºé—´å¤æ‚åº¦\"></a>2. ç©ºé—´å¤æ‚åº¦</h2><ul>\n<li>C++ä¸­æœ€å¤§ç©ºé—´é™åˆ¶ä¸º2147483647ï¼Œå³5e8ï¼ˆå¯¹intå‹ï¼‰ï¼Œå¦‚æœæ•°æ®èŒƒå›´è¶…è¿‡5e8å°±ä¸è¦ç”¨æ•°ç»„</li>\n<li>å¯¹64MBçš„å­˜å‚¨ç©ºé—´ï¼Œå¼€ä¸€ä¸ªnÃ—nçš„intå‹äºŒç»´æ•°ç»„ï¼Œå…¶næœ€å¤§ä¸º8172</li>\n</ul>\n<h2 id=\"3-å¸¸ç”¨æŠ€å·§\"><a href=\"#3-å¸¸ç”¨æŠ€å·§\" class=\"headerlink\" title=\"3. å¸¸ç”¨æŠ€å·§\"></a>3. å¸¸ç”¨æŠ€å·§</h2><ol>\n<li><p>a&#x2F;bå‘ä¸Šå–æ•´ï¼Œå¯ä»¥ç”¨ceil(a&#x2F;b)ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯doubleç±»å‹çš„ï¼Œæ‰€ä»¥éœ€è¦å¼ºè½¬ï¼Œå³int(ceil(a&#x2F;b))ï¼Œè¿™æ ·å†™éå¸¸ç¹çï¼Œä¸å¦‚ç”¨ $a+b-1&#x2F;b$ è¡¨ç¤ºå‘ä¸Šå–æ•´</p>\n</li>\n<li><p>ç±»ä¼¼çš„æŠ€å·§è¿˜æœ‰ a%b å¦‚ä½•æŠŠä½™æ•°é™åˆ¶ä¸ºæ­£æ•°ï¼Ÿåªéœ€è¦ (a%b+b)%b å°±å¯ä»¥äº†ï¼Œä¿è¯æ¨¡æ•°ä¸å˜çš„åŒæ—¶ä½¿ç»“æœéƒ½å˜ä¸ºæ­£æ•°</p>\n</li>\n<li><p>ä¼˜åŒ–è¾“å…¥è¾“å‡ºé€Ÿåº¦ï¼Œä½†é€Ÿåº¦ä¾ç„¶ä¸åŠscanfå’Œprintf</p>\n</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>); <span class=\"comment\">// ä¼˜åŒ–è¾“å…¥è¾“å‡º(å–æ¶ˆå…³è”)</span></span><br><span class=\"line\">cin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>); <span class=\"comment\">// åŠ å¿«è¾“å…¥</span></span><br><span class=\"line\">cout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>); <span class=\"comment\">// åŠ å¿«è¾“å‡º</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>cinåé¢ä¸èƒ½é©¬ä¸Šè·Ÿgetlineï¼Œå› ä¸ºcinè¯»ä¸äº†æ¢è¡Œç¬¦ï¼Œè€Œæ¢è¡Œç¬¦æ˜¯getlineçš„ç»“æŸç¬¦ï¼Œæ‰€ä»¥è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œç”¨è¯­å¥ï¼Œæˆ–è€…getchar()è¯»èµ°è¿™ä¸ªæ¢è¡Œç¬¦</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cin.<span class=\"built_in\">ignore</span>();</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>ä¸‡èƒ½å¤´æ–‡ä»¶(è“æ¡¥æ¯ä¹Ÿå¯ç”¨ï¼Œå‰ææ˜¯å¼€C++11)</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li>å›¾è®ºæ— ç©·å¤§ï¼š0x3f3f3f3f</li>\n</ol>\n<ul>\n<li>åœ¨å›¾è®ºä¸­ï¼Œå°†è·ç¦»æ•°ç»„åˆå§‹åŒ–ä¸º0x3f3f3f3fæ˜¯ä¸ºäº†è¡¨ç¤ºæ— ç©·å¤§ã€‚è¿™æ˜¯å› ä¸º0x3f3f3f3fçš„åè¿›åˆ¶å€¼æ˜¯1061109567ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œä½†åˆä¸ä¼šæº¢å‡ºã€‚è¿™ä¸ªå€¼è¢«ç”¨æ¥è¡¨ç¤ºæ— ç©·å¤§ï¼Œå› ä¸ºä¸¤ä¸ª0x3f3f3f3fçš„å’Œåªæ¯”intç±»å‹çš„æœ€å¤§å€¼å°ä¸€ç‚¹ï¼Œè¿™æ ·åœ¨ä¸¤ä¸ªæ— ç©·ç›¸åŠ æ—¶èƒ½å¤Ÿä¿è¯ä¸ä¼šæº¢å‡ºï¼Œå¯¹äºlong longç±»å‹ï¼Œåˆ™ç”¨0x3f3f3f3f3f3f3f3fã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨memsetå‡½æ•°è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåªéœ€è¦memset(dis, 0x3f, sizeof dis)å³å¯ï¼Œå› ä¸ºmemsetå‡½æ•°æ˜¯æŒ‰ç…§å­—èŠ‚æ¥èµ‹å€¼çš„ï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥é»˜è®¤èµ‹å€¼0x3f3f3f3f</li>\n</ul>\n<ol start=\"7\">\n<li>è¡Œæ•°ä¸å›ºå®šçš„è¾“å…¥</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;a,&amp;b)==<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"keyword\">while</span>(cin&gt;&gt;n &amp;&amp; n)</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-DebugæŠ€å·§\"><a href=\"#4-DebugæŠ€å·§\" class=\"headerlink\" title=\"4. DebugæŠ€å·§\"></a>4. DebugæŠ€å·§</h2><ol>\n<li>Segmentation Faultï¼šæ®µé”™è¯¯ï¼Œå¤šä¸ºæ•°ç»„è¶Šç•Œå¯¼è‡´çš„ï¼Œä¸”ä¸è¾“å‡ºä»»ä½•é¢å¤–çš„ä¿¡æ¯ï¼Œæ­¤æ—¶å¯ä»¥å€ŸåŠ©exit(0)å‡½æ•°ï¼šåœ¨ç¨‹åºçš„ä»»ä½•ä½ç½®ç›´æ¥é€€å‡ºï¼Œæ¥æ’é™¤æ˜¯å“ªä¸€æ­¥çš„é—®é¢˜</li>\n<li>CEï¼šç¼–è¯‘é”™è¯¯ï¼Œ</li>\n<li>REï¼šè¿è¡Œé”™è¯¯ï¼Œæ•°ç»„è¶Šç•Œæˆ–çˆ†æ ˆ</li>\n<li>TLEï¼šæ—¶é—´è¶…é™</li>\n<li>MLEï¼šå†…å­˜è¶…é™</li>\n<li>PEï¼šæ ¼å¼é”™è¯¯</li>\n<li>OLEï¼šè¾“å‡ºè¶…é™ï¼Œé€šå¸¸ä¸ºæ²¡æœ‰åˆ é™¤è°ƒè¯•è¯­å¥</li>\n</ol>\n"},{"title":"å›¾è®ºæœ€çŸ­è·¯","date":"2024-10-04T12:56:35.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å›¾è®ºæœ€çŸ­è·¯\n\n<!-- toc -->\n\n\n\n## 1. å•æºæœ€çŸ­è·¯\n\n> ä»ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»\n\n* å¯¹äºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å¦‚ä¸‹ï¼Œå¯¹äºç©ºé—´å¤æ‚åº¦éœ€å¼ºè°ƒï¼šå¯¹äºç¨€ç–å›¾ï¼ˆè¾¹è¾ƒå°‘ï¼‰ï¼Œå€¾å‘äºä½¿ç”¨**é‚»æ¥è¡¨**å’Œ**é“¾å¼å‰å‘æ˜Ÿ**ï¼Œå¦‚æœä½¿ç”¨é‚»æ¥çŸ©é˜µå®¹æ˜“çˆ†å†…å­˜ï¼›å¯¹äºç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ï¼Œå€¾å‘äºä½¿ç”¨é‚»æ¥çŸ©é˜µï¼Œå› ä¸ºé‚»æ¥è¡¨æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œå ç”¨çš„å†…å­˜å¯èƒ½æ¯”é‚»æ¥çŸ©é˜µä¸­çš„ä¸€æ ¼å¤§ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µåè€Œå†…å­˜å ç”¨æ›´å°‘ã€‚\n* æ³¨æ„ï¼Œæ— å‘å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒŒæ¿å­çš„æ—¶å€™ä¸ç”¨ç‰¹åˆ«åŒºåˆ†æœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚\n* å¯¹äº**ç¨ å¯†å›¾**ï¼ˆè¾¹çš„æ•°é‡æ¥è¿‘äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µçš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…è®¿é—®ä»»ä½•è¾¹ã€‚ç„¶è€Œï¼Œé‚»æ¥çŸ©é˜µçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(V^2)$ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜è¶…é™ã€‚\n* å¯¹äº**ç¨€ç–å›¾**ï¼ˆè¾¹çš„æ•°é‡è¿œå°äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥è¡¨çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ åªéœ€è¦éå†ä¸æ¯ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ã€‚é‚»æ¥è¡¨çš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(E)$ ï¼Œè¿™é€šå¸¸æ¯”é‚»æ¥çŸ©é˜µæ›´èŠ‚çœç©ºé—´ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20231018161346568.png\" alt=\"image-20231018161346568\" style=\"zoom:67%;\" />\n\n\n\n### 1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\n\n#### 1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦ $O(nÂ²)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ï¼Œå’Œè¾¹æ•°æ— å…³ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(n^2)$\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æœ´ç´ dijkstra\n// 1:åˆå§‹åŒ–è·ç¦»,dist[1]=0,dist[v]=+inf,sæ˜¯å½“å‰å·²ç»ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹\n// 2:for v in [1,n]:â‘ ä¸åœ¨sä¸­çš„è·ç¦»æœ€è¿‘çš„ç‚¹;â‘¡tâ†’s;â‘¢ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»\n// 3:å¾ªç¯næ¬¡å,å·²ç»æ±‚å‡ºæ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»\n\n// ç¨ å¯†å›¾â†’é‚»æ¥çŸ©é˜µ\nconst int N=5e2+5; \n// ç‚¹æœ€å¤§æ˜¯500*500=2.5*10^5>é¢˜ç›®ç»™çš„mæœ€å¤§å€¼\n// æ³¨æ„:å­˜åœ¨é‡è¾¹å’Œè‡ªç¯\nint n,m;\nint g[N][N]; // å­˜å‚¨å›¾\nint dist[N]; // æ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»\nbool st[N]; // æ¯ä¸ªç‚¹çš„è®¿é—®çŠ¶æ€\n\nint dijkstra() {\n\t// å…ˆæŠŠè·ç¦»åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\tdist[1]=0; // ç¬¬ä¸€ä¸ªç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º0\n\t// å¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹,æˆ‘ä»¬æ¯éå†ä¸€æ¬¡å°±æŠŠä¸€ä¸ªç‚¹åŠ å…¥åˆ°å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„çš„é˜Ÿåˆ—ä¸­\n\tfor(int i=0;i<n;i++) {\n\t\tint t=-1; // åˆå§‹åŒ–tä¸º-1,tç”¨äºè®°å½•å½“å‰æœªè¢«è®¿é—®çš„ç»“ç‚¹ä¸­è·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„ç»“ç‚¹\n\t\t// éå†æ‰€æœ‰ç»“ç‚¹,æ‰¾åˆ°æ¯ä¸ªç»“ç‚¹è·ç¦»è‡ªå·±æœ€è¿‘ä¸”å°šæœªåŠ å…¥\"å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„\"ç‚¹é›†çš„ç»“ç‚¹\n\t\tfor(int j=1;j<=n;j++)\n\t\t\t// !st[j]:ç»“ç‚¹jæœªè¢«è®¿é—®,tä¸º-1,æˆ–è€…tåˆ°æºèŠ‚ç‚¹çš„è·ç¦»å°äºjåˆ°æºèŠ‚ç‚¹çš„è·ç¦»\n\t\t\tif(!st[j] && (t==-1 || dist[t]>dist[j]))\n\t\t\t\tt=j;\n\t\t\n\t\t// å¦‚æœå½“å‰ç»“ç‚¹çš„æœ€è¿‘ç»“ç‚¹å°±æ˜¯n,é‚£ä¹ˆç›´æ¥è·³å‡º(ä¼˜åŒ–æ„ä¹‰ä¸æ˜æ˜¾)\n\t\tif(t==n)\n\t\t\tbreak;\n\t\t\n\t\tst[t]=true;\n\t\t// ä»¥tä¸ºè·³æ¿,æ›´æ–°æ‰€æœ‰ç»“ç‚¹åˆ°æºèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tdist[j]=min(dist[j],dist[t]+g[t][j]);\n\t}\n\t// ä¸å­˜åœ¨æœ€çŸ­è·¯è¿”å›-1,å­˜åœ¨åˆ™è¿”å›æœ€å¤§è·ç¦»å€¼\n\tif(dist[n]==0x3f3f3f3f)\n\t\treturn -1;\n\treturn dist[n];\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\t\n\tcin>>n>>m;\n\t// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾\n\tmemset(g,0x3f,sizeof g);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tg[a][b]=min(g[a][b],c); // å»é™¤é‡è¾¹\n\t}\n\tint t=dijkstra();\n\tcout<<t<<endl;\n\treturn 0;\n}\n```\n\n\n\n#### 1.1.2. å †ä¼˜åŒ– $Dijkstra$\n\n> æ—¶é—´å¤æ‚åº¦ $O(mlogn)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ã€$m$ è¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(m+n)$\n\n* è¯¥ä»£ç å¯ä»¥è§£å†³å¸¦æœ‰é‡è¾¹å’Œè‡ªç¯çš„æœ‰å‘å›¾ã€æ— å‘å›¾ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e6+5;\nconst int M=N;\nint n,m;\n// h:æ¯ä¸ªç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹\n// e:æ¯æ¡è¾¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹\n// ne:æ¯æ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹\n// w:æ¯æ¡è¾¹çš„æƒé‡\nint h[N],e[N],ne[N],w[N],idx;\nint dist[N]; // é‚»æ¥è¡¨å­˜å‚¨æœ€çŸ­è·ç¦»\nbool st[N]; // è®¿é—®çŠ¶æ€\n\nvoid add(int a,int b,int c) {\n    // ç¬¬idxæ¡è¾¹æŒ‡å‘èŠ‚ç‚¹b,ç¬¬idxè¾¹è¾¹æƒä¸ºc,ç¬¬idxæ¡çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„èµ·å§‹è¾¹(å¤´æ’æ³•æ€æƒ³),èµ·å§‹è¾¹æ›´æ–°ä¸ºå½“å‰è¾¹ç¼–å·,ç¼–å·è‡ªå¢\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint dijkstra() {\n\t// åˆå§‹åŒ–äº’ä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// ç¼–å·ä¸º1çš„ç‚¹åˆ°è‡ªå·±è·ç¦»ä¸º0\n\tdist[1]=0;\n\tpriority_queue<PII,vector<PII>,greater<PII>> heap; // å°æ ¹å †\n\theap.push({0,1}); // è·ç¦»ä¸º0,ç‚¹ç¼–å·ä¸º1(ç¬¬ä¸€å…³é”®å­—å­˜å‚¨è·ç¦»,å°æ ¹å †é»˜è®¤ä»å°åˆ°å¤§æ’åº;ç¬¬äºŒå…³é”®å­—å­˜å‚¨ç¼–å·)\n\t\n\t// é˜Ÿåˆ—ä¸ä¸ºç©º\n\twhile(heap.size()) {\n\t\t// å–å‡ºå¤´ç»“ç‚¹\n\t\tauto t=heap.top();\n\t\theap.pop();\n\t\t\n\t\t// v:å–å‡ºå¤´ç»“ç‚¹çš„ç¼–å·\n\t\t// distance:åˆ°æºèŠ‚ç‚¹çš„è·ç¦»\n\t\tint v=t.second;\n\t\t// å¦‚æœå·²è®¿é—®è¿‡,åˆ™è·³è¿‡\n\t\tif(st[v])\n\t\t\tcontinue;\n\t\tst[v]=true;\n\t\t// éå†è¯¥ç»“ç‚¹çš„æ‰€æœ‰è¾¹,-1æ˜¯å°¾è¾¹(å› ä¸ºç”¨çš„æ˜¯å¤´æ’æ³•)\n\t\tfor(int i=h[v];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœè·ç¦»æ›´çŸ­,åˆ™æ›´æ–°\n\t\t\tif(dist[j]>dist[v]+w[i]) {\n\t\t\t\tdist[j]=dist[v]+w[i];\n\t\t\t\t// èŠ‚ç‚¹jçš„è·ç¦»å’Œç¼–å·åŠ å…¥é˜Ÿåˆ—\n\t\t\t\theap.push({dist[j],j});\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// å¦‚æœä¸å¯è¾¾,è¿”å›-1\n\tif(dist[n]==0x3f3f3f3f)\n\t\treturn -1;\n\treturn dist[n]; // å¦åˆ™èŒƒå›´åˆ°èŠ‚ç‚¹nçš„è·ç¦»\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n        // add(b,a,c); // æ— å‘å›¾\n\t}\n\tcout<<dijkstra()<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 1.2. å­˜åœ¨è´Ÿæƒè¾¹\n\n* $SPFA$ ä¸€èˆ¬æ¯”è´å°”æ›¼ç¦ç‰¹å¿«ï¼Œå¦‚æœæƒ³æ±‚ä¸è¶…è¿‡ $k$ æ¡è¾¹çš„æœ€çŸ­è·¯ï¼Œåªèƒ½ç”¨è´å°”æ›¼ç¦ç‰¹ç®—æ³•æ¥åšã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯æ˜¯ä¸ä¸€å®šå­˜åœ¨çš„ï¼Œè´å°”æ›¼ç¦ç‰¹ç®—æ³•å¯ä»¥æ±‚å‡ºæ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œ**å¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œè´å°”æ›¼ç¦ç‰¹å¯èƒ½æ±‚ä¸å‡ºæœ€çŸ­è·¯å¾„**\n* éœ€è¦æ³¨æ„çš„æ˜¯ï¼š$SPFA$ çš„ä½¿ç”¨æ¡ä»¶æ˜¯ï¼Œ**ä¸€å®šä¸å­˜åœ¨è´Ÿç¯ï¼ŒSPFAæœ¬è´¨ä¸Šæ˜¯å¯¹Bellman-Fordçš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰¾è´Ÿç¯**\n\n* $80\\%$ çš„æ­£æƒå›¾ä¹Ÿèƒ½ç”¨ $SPFA$ æ¥åšï¼Œä¸”æ—¶é—´æ•ˆç‡ä¼šæ¯” $dijkstra$ æ›´å¿«ï¼Œä½†æ˜¯å¦‚æœ $SPFA$ è¢«å¡äº†ï¼Œ$SPFA$ çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(m)$ï¼Œæœ€åçš„æƒ…å†µæ˜¯$O(nm)$ï¼Œæ•°æ®ç»™çš„å·®æ˜¯å¯èƒ½è¾¾åˆ°æœ€åæƒ…å†µçš„ï¼Œå¦‚æœè¢«å¡äº†ï¼Œå°±æ¢æˆå †ä¼˜åŒ–çš„ $dijkstra$\n\n#### 1.2.1. Bellman-Ford\n\n> æ—¶é—´å¤æ‚åº¦ $O(nm)$ï¼Œé¢˜ç›®é“¾æ¥ï¼š[853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/855/)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// Bellman-Fordç®—æ³•,æ³¨æ„è¯¥ç®—æ³•å­˜è¾¹éšä¾¿å­˜,åªè¦èƒ½éå†æ‰€æœ‰è¾¹å³å¯\n// forå¾ªç¯næ¬¡,æ¯ä¸€æ¬¡å¾ªç¯æ‰€æœ‰è¾¹a,b,w,æ›´æ–°æœ€çŸ­è·ç¦»(ä¸‰è§’ä¸ç­‰å¼)\n// è¿­ä»£kæ¬¡å,distæ•°ç»„ä»£è¡¨çš„å«ä¹‰:ä»1å·ç‚¹ç»è¿‡,ä¸è¶…è¿‡kæ¡è¾¹èµ°åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»\n// å¦‚æœç¬¬næ¬¡è¿­ä»£ådistæ•°ç»„æœ‰æ›´æ–°çš„è¯,è¯´æ˜ä¸€å®šå­˜åœ¨è´Ÿç¯,SPFAä¹Ÿå¯ä»¥æ‰¾è´Ÿç¯\n\n// SPFAä¸€èˆ¬åœ¨ä»»ä½•æƒ…å†µéƒ½ä¼˜äºBellman-fort\n// ä½†æ˜¯å¦‚æœæœ‰è¾¹æ•°é™åˆ¶,å¦‚AcWing853,æœ€å¤šç»è¿‡ä¸è¶…è¿‡kæ¡è¾¹çš„æœ€çŸ­è·¯å¾„,å¿…é¡»ç”¨Bellman-fort\n\nconst int N=5e2+10;\nconst int M=1e5+10;\n\nint n,m,k; // ç‚¹/è¾¹/æœ€çŸ­è·¯è¾¹é™åˆ¶\nint dist[N],backup[N];\n\nstruct Edge {\n\tint a,b,w;\t\n}edges[M];\n\nint bellman_ford() {\n\t// åˆå§‹åŒ–ä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\tdist[1]=0; // ç»“ç‚¹1åˆ°è‡ªèº«è·ç¦»ä¸º0\n\t\n\t// èµ°kæ­¥è·¯\n\tfor(int i=0;i<k;i++) {\n        // æŠŠdistå†™è¿›backup\n\t\t// æ¯æ¬¡å¤åˆ¶ä¸Šä¸€æ¬¡çš„çŠ¶æ€,å› ä¸ºè¦æ±‚åœ¨kæ­¥è·¯å†…çš„æœ€çŸ­è·ç¦»,æ‰€ä»¥ä¸èƒ½ç›´æ¥æ›´æ–°\n\t\tmemcpy(backup,dist,sizeof dist);\n\t\tfor(int j=0;j<m;j++) {\n\t\t\tint a=edges[j].a,b=edges[j].b,w=edges[j].w;\n\t\t\tdist[b]=min(dist[b],backup[a]+w);\n\t\t}\n\t}\n\t// ä¸ºä»€ä¹ˆè¿™é‡Œä¸æ˜¯0x3f3f3f3få‘¢?\n\t// å› ä¸ºå¦‚æœä¸¤ä¸ªç‚¹å¯¹äºç‚¹1éƒ½æ˜¯ä¸å¯è¾¾,ä½†ç›¸äº’å¯è¾¾,åˆ™å¯èƒ½åœ¨æ›´æ–°æ—¶å˜æˆä¸æ˜¯0x3f3f3f3fçš„æ•°\n\t// æ‰€ä»¥è¿™é‡Œç”¨ä¸€ä¸ªç±»ä¼¼äºæå¤§å€¼çš„æ•°æ¥æ›¿ä»£\n\t// å¦‚æœæ²¡æœ‰æœ€çŸ­è·¯å¾„,è¿”å›0x3f3f3f3f,ä¸è¿”å›-1æ˜¯å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·ç¦»å°±æ˜¯-1\n\tif(dist[n]>0x3f3f3f3f/2)\n\t\treturn 0x3f3f3f3f;\n\treturn dist[n];\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m>>k;\n\tfor(int i=0;i<m;i++) {\n\t\tint a,b,w;\n\t\tcin>>a>>b>>w;\n\t\tedges[i]={a,b,w};\n\t}\n\tint t=bellman_ford();\n\tif(t==0x3f3f3f3f)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n\treturn 0;\n}\n```\n\n\n\n#### 1.2.2. SPFA\n\n> æ—¶é—´å¤æ‚åº¦ ä¸€èˆ¬ $O(m)$ï¼Œæœ€å $O(nm)$ï¼Œä»¥ä¸‹æ¨¡æ¿æ— è§†é‡è¾¹å’Œè‡ªç¯ï¼Œé¢˜ç›®é“¾æ¥ï¼š[851. spfaæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/853/)\n\n ``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// SPFA:é•¿å¾—ç‰¹åˆ«åƒdijkstra,å¯¹äºè´Ÿæƒå›¾,å¦‚æœå‡ºé¢˜äººå¡SPFAçš„è¯å°±æ²¡åŠæ³•äº†\n// åªè¦é˜Ÿåˆ—ä¸ä¸ºç©º\n// å¼¹å‡ºé˜Ÿå¤´t,æ›´æ–°tçš„æ‰€æœ‰å‡ºè¾¹\nconst int N=1e5+5;\nint n,m;\nint h[N],w[N],e[N],ne[N],idx;\nint dist[N];\nbool st[N];\n\nvoid add(int a,int b,int c) {\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint spfa() {\n\t// åˆå§‹åŒ–distä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»ä¸º0\n\tdist[1]=0;\n\tqueue<int> q;\n\tq.push(1);\n\tst[1]=true;\n\twhile(q.size()) {\n\t\t// å¼¹å‡ºé˜Ÿå¤´\n\t\tint t=q.front();\n\t\tq.pop();\n\t\t// æ›´æ–°çŠ¶æ€\n\t\tst[t]=false;\n\t\t// éå†æ¯æ¡è¾¹\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœè·ç¦»æ›´çŸ­åˆ™æ›´æ–°\n\t\t\tif(dist[j]>dist[t]+w[i]) {\n\t\t\t\tdist[j]=dist[t]+w[i];\n\t\t\t\t// å¦‚æœæ²¡è®¿é—®è¿‡åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\t\tif(!st[j]) {\n\t\t\t\t\tq.push(j);\n\t\t\t\t\tst[j]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// ä¸å¯è¾¾ä¸è¦è¿”å›-1,å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·¯å¾„å°±æ˜¯-1\n\tif(dist[n]==0x3f3f3f3f3)\n\t\treturn 0x3f3f3f3f;\n\treturn dist[n];\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n\t}\n\tint t=spfa();\n\tif(t==0x3f3f3f3f)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n\treturn 0;\n}\n ```\n\n\n\n#### 1.2.3. SPFAåˆ¤è´Ÿç¯\n\n> é¢˜ç›®é“¾æ¥ï¼š[852. spfaåˆ¤æ–­è´Ÿç¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/854/)\n\n* ç»´æŠ¤ä¸€ä¸ª $cnt$ æ•°ç»„ï¼Œä» $[1,x]$ï¼Œ$cnt$ æ•°ç»„è®°å½•çš„æ˜¯åœ¨ç”¨ $SPFA$ æ‰¾$1$å·ç‚¹ åˆ° $n$å·ç‚¹æœ€çŸ­è·¯å¾„æ—¶ï¼Œè¿™ä¸ªæœ€çŸ­è·¯ä¸­è¾¹çš„ä¸ªæ•°ï¼Œå¦‚æœ $dist[j]>dist[v]+w[i]$ è¯´æ˜æˆ‘ä» $v$ è¿™ä¸ªç‚¹åˆ° $j$ çš„è·ç¦»æ›´çŸ­ï¼Œé‚£ä¹ˆä» $i$ â†’ $j$ å°±æ›´æ–°ä¸º $i$ â†’ $v$ â†’ $j$ï¼Œæ‰€ä»¥è¾¹æ•°è¦ $+1$ ï¼Œå³æœ‰ $cnt[j]=cnt[v]+1$ ï¼Œå¦‚æœåœ¨æŸä¸€æ¬¡ä¸­ $cnt[x]>=n$ äº†ï¼Œè¯´æ˜ä¸€å…±ç»å†äº† $n$ æ¡è¾¹ï¼Œæœ‰$n$ æ¡è¾¹å°±æœ‰ $n+1$ ä¸ªç‚¹ï¼Œä½†æ˜¯é¢˜ç›®ä¸­åªæœ‰ $n$ ä¸ªç‚¹ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªç‚¹å‡ºç°äº†ä¸¤æ¬¡ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆå› ä¸º $dist$ æ˜¯åœ¨ä¸æ–­å‡å°çš„ï¼Œæ‰€ä»¥è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè´Ÿç¯\n* è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸€å¼€å§‹æˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠ $1$ å·ç‚¹æ”¾è¿›é˜Ÿåˆ—æ¥æ‰¾ï¼Œå› ä¸ºé¢˜ç›®è¦æ‰¾çš„æ˜¯æ•´ä¸ªå›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œè€Œä» $1$ å·ç‚¹å‡ºå‘ä¸ä¸€å®šèƒ½åˆ°è¿™ä¸ªè´Ÿç¯ï¼Œæ‰€ä»¥åšæ³•æ˜¯æŠŠæ‰€æœ‰ç‚¹éƒ½æ”¾è¿›é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°è¿™ä¸ªè´Ÿç¯\n* æ³¨æ„ $SPFA$ åˆ¤è´Ÿç¯æ—¶é—´å¤æ‚åº¦å…¶å®è¿˜è›®é«˜çš„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+10;\nint n,m;\nint h[N],w[N],e[N],ne[N],idx;\nint dist[N];\nbool st[N];\nint cnt[N]; // åˆ¤æ–­æœ‰æ— è´Ÿç¯,cnt[i]:è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªèŠ‚ç‚¹æ—¶å·²éå†è¿‡çš„èŠ‚ç‚¹æ€»æ•°\n\nvoid add(int a,int b,int c) {\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint spfa() {\n\tqueue<int> q;\n\t// æ³¨æ„è¿™é‡Œä¸èƒ½æŠŠ1æ”¾è¿›å»,å› ä¸º1å¯èƒ½åˆ°ä¸äº†è¿™ä¸ªè´Ÿç¯\n\t\n//\tq.push(1);\n    // æŠŠæ¯ä¸ªç‚¹éƒ½æ”¾è¿›å»åˆ¤æ–­\n\tfor(int i=1;i<=n;i++) {\n\t\tst[i]=true;\n\t\tq.push(i);\n\t}\n\t\n\twhile(q.size()) {\n\t\tint t=q.front();\n\t\tq.pop();\n\t\t\n\t\tst[t]=false;\n\t\t\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\tif(dist[j]>dist[t]+w[i]) {\n\t\t\t\tdist[j]=dist[t]+w[i];\n\t\t\t\tcnt[j]=cnt[t]+1; // éå†åˆ°èŠ‚ç‚¹jæ—¶é‡åˆ°çš„èŠ‚ç‚¹æ€»æ•°+1\n\t\t\t\tif(cnt[j]>=n) \n\t\t\t\t\treturn true; // æœ‰è´Ÿç¯\n\t\t\t\tif(!st[j]) {\n\t\t\t\t\tq.push(j);\n\t\t\t\t\tst[j]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n\t}\n\tif(spfa()) {\n\t\tcout<<\"Yes\";\t\n\t} else {\n\t\tcout<<\"No\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 2. å¤šæºæ±‡æœ€çŸ­è·¯\n\n> æ±‚å¤šä¸ªèµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»\n\n### 2.1. Floydç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(nÂ³)ï¼Œdpçš„å¤–è¡¨ï¼Œæš´åŠ›çš„å¿ƒï¼Œé¢˜ç›®é“¾æ¥ï¼š[854. Floydæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/856/)ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½å¤„ç†é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ï¼Œä½†ä¸èƒ½å¤„ç†è´Ÿæƒå›è·¯ï¼Œå› ä¸ºå­˜åœ¨è´Ÿæƒå›è·¯æ—¶è·ç¦»ä¼šä¸æ–­å¾€ä¸‹è¶Šæ¥è¶Šå°ï¼Œæ— æ³•æ”¶æ•›\n\n* æ³¨æ„ä¹‹æ‰€ä»¥ç”¨ $d[a][b]>INF/2$ æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸å¯è¾¾æ˜¯å› ä¸ºé¢˜ç›®ä¸­å­˜åœ¨è´Ÿæƒè¾¹æ›´æ–°åçš„è·ç¦»å¾ˆæœ‰å¯èƒ½æ¯” $INF$ å°ä¸€äº›ï¼Œè¦åœ¨å…¶ä»–è´Ÿæƒè¾¹å­˜åœ¨çš„æœ€çŸ­è·¯é—®é¢˜ä¸­ä¹Ÿæ³¨æ„ä¸€ä¸‹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// å¼—æ´›ä¼Šå¾·:å¤šæºæœ€çŸ­è·¯,ç›´æ¥æš´åŠ›æš´æš´æš´å°±å®Œäº‹äº†\n// ç¬¬ä¸€å±‚å¾ªç¯,kä»1~n,æšä¸¾iâ†’jçš„ä¸­é—´èŠ‚ç‚¹\n// ç¬¬äºŒå±‚å¾ªç¯,iä»1~n\n// ç¬¬ä¸‰å±‚å¾ªç¯,jä»1~n\n// d[i,j]=min(d[i][j],d[i][k]+d[k][j])\n// åŸç†:d[k,i,j]=d[k-1,i,k]+d[k-1,k,j],åŸºäºdp\n\nconst int N=2e2+2;\nconst int INF=1e9;\n\nint n,m,Q; // Qæ˜¯å¾ªç¯æ¬¡æ•°\nint d[N][N];\n\nvoid floyd() {\n\tfor(int k=1;k<=n;k++) {\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tfor(int j=1;j<=n;j++) {\n\t\t\t\td[i][j]=min(d[i][j],d[i][k]+d[k][j]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n>>m>>Q; \n\t// é‡è¾¹å’Œè‡ªç¯çš„å¤„ç†æ–¹æ³•:\n\t// é‡è¾¹:ä¿ç•™æœ€å°çš„è¾¹\n\t// è‡ªç¯:åˆ é™¤\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tif(i==j)\n\t\t\t\td[i][j]=0; // è‡ªå·±åˆ°è‡ªå·±çš„è·ç¦»ä¸º0,èµ‹åˆå€¼,åæ¯”è¾ƒ,å»è‡ªç¯\n\t\t\telse\n\t\t\t\td[i][j]=INF; // åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾\n\t\t}\n\t}\n\t\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\td[a][b]=min(d[a][b],c); // å»é‡è¾¹,ä¿ç•™æœ€å°è¾¹(é‚»æ¥çŸ©é˜µçš„åšæ³•)\n\t}\n\tfloyd();\n\twhile(Q--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\t\n\t\tif(d[a][b]>INF/2) // å¯èƒ½ä¼šè¢«æ›´æ–°å¾—ä¸æ˜¯INF\n\t\t\tcout<<\"impossible\"<<endl;\n\t\telse\n\t\t\tcout<<d[a][b]<<endl;\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/å›¾è®ºæœ€çŸ­è·¯.md","raw":"---\ntitle: å›¾è®ºæœ€çŸ­è·¯\ndate: 2024-10-04 20:56:35\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å›¾è®º\n    - æœ€çŸ­è·¯\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å›¾è®ºæœ€çŸ­è·¯\n\n<!-- toc -->\n\n\n\n## 1. å•æºæœ€çŸ­è·¯\n\n> ä»ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»\n\n* å¯¹äºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å¦‚ä¸‹ï¼Œå¯¹äºç©ºé—´å¤æ‚åº¦éœ€å¼ºè°ƒï¼šå¯¹äºç¨€ç–å›¾ï¼ˆè¾¹è¾ƒå°‘ï¼‰ï¼Œå€¾å‘äºä½¿ç”¨**é‚»æ¥è¡¨**å’Œ**é“¾å¼å‰å‘æ˜Ÿ**ï¼Œå¦‚æœä½¿ç”¨é‚»æ¥çŸ©é˜µå®¹æ˜“çˆ†å†…å­˜ï¼›å¯¹äºç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ï¼Œå€¾å‘äºä½¿ç”¨é‚»æ¥çŸ©é˜µï¼Œå› ä¸ºé‚»æ¥è¡¨æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œå ç”¨çš„å†…å­˜å¯èƒ½æ¯”é‚»æ¥çŸ©é˜µä¸­çš„ä¸€æ ¼å¤§ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µåè€Œå†…å­˜å ç”¨æ›´å°‘ã€‚\n* æ³¨æ„ï¼Œæ— å‘å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒŒæ¿å­çš„æ—¶å€™ä¸ç”¨ç‰¹åˆ«åŒºåˆ†æœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚\n* å¯¹äº**ç¨ å¯†å›¾**ï¼ˆè¾¹çš„æ•°é‡æ¥è¿‘äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µçš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…è®¿é—®ä»»ä½•è¾¹ã€‚ç„¶è€Œï¼Œé‚»æ¥çŸ©é˜µçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(V^2)$ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜è¶…é™ã€‚\n* å¯¹äº**ç¨€ç–å›¾**ï¼ˆè¾¹çš„æ•°é‡è¿œå°äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥è¡¨çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ åªéœ€è¦éå†ä¸æ¯ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ã€‚é‚»æ¥è¡¨çš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(E)$ ï¼Œè¿™é€šå¸¸æ¯”é‚»æ¥çŸ©é˜µæ›´èŠ‚çœç©ºé—´ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20231018161346568.png\" alt=\"image-20231018161346568\" style=\"zoom:67%;\" />\n\n\n\n### 1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\n\n#### 1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦ $O(nÂ²)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ï¼Œå’Œè¾¹æ•°æ— å…³ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(n^2)$\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æœ´ç´ dijkstra\n// 1:åˆå§‹åŒ–è·ç¦»,dist[1]=0,dist[v]=+inf,sæ˜¯å½“å‰å·²ç»ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹\n// 2:for v in [1,n]:â‘ ä¸åœ¨sä¸­çš„è·ç¦»æœ€è¿‘çš„ç‚¹;â‘¡tâ†’s;â‘¢ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»\n// 3:å¾ªç¯næ¬¡å,å·²ç»æ±‚å‡ºæ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»\n\n// ç¨ å¯†å›¾â†’é‚»æ¥çŸ©é˜µ\nconst int N=5e2+5; \n// ç‚¹æœ€å¤§æ˜¯500*500=2.5*10^5>é¢˜ç›®ç»™çš„mæœ€å¤§å€¼\n// æ³¨æ„:å­˜åœ¨é‡è¾¹å’Œè‡ªç¯\nint n,m;\nint g[N][N]; // å­˜å‚¨å›¾\nint dist[N]; // æ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»\nbool st[N]; // æ¯ä¸ªç‚¹çš„è®¿é—®çŠ¶æ€\n\nint dijkstra() {\n\t// å…ˆæŠŠè·ç¦»åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\tdist[1]=0; // ç¬¬ä¸€ä¸ªç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º0\n\t// å¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹,æˆ‘ä»¬æ¯éå†ä¸€æ¬¡å°±æŠŠä¸€ä¸ªç‚¹åŠ å…¥åˆ°å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„çš„é˜Ÿåˆ—ä¸­\n\tfor(int i=0;i<n;i++) {\n\t\tint t=-1; // åˆå§‹åŒ–tä¸º-1,tç”¨äºè®°å½•å½“å‰æœªè¢«è®¿é—®çš„ç»“ç‚¹ä¸­è·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„ç»“ç‚¹\n\t\t// éå†æ‰€æœ‰ç»“ç‚¹,æ‰¾åˆ°æ¯ä¸ªç»“ç‚¹è·ç¦»è‡ªå·±æœ€è¿‘ä¸”å°šæœªåŠ å…¥\"å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„\"ç‚¹é›†çš„ç»“ç‚¹\n\t\tfor(int j=1;j<=n;j++)\n\t\t\t// !st[j]:ç»“ç‚¹jæœªè¢«è®¿é—®,tä¸º-1,æˆ–è€…tåˆ°æºèŠ‚ç‚¹çš„è·ç¦»å°äºjåˆ°æºèŠ‚ç‚¹çš„è·ç¦»\n\t\t\tif(!st[j] && (t==-1 || dist[t]>dist[j]))\n\t\t\t\tt=j;\n\t\t\n\t\t// å¦‚æœå½“å‰ç»“ç‚¹çš„æœ€è¿‘ç»“ç‚¹å°±æ˜¯n,é‚£ä¹ˆç›´æ¥è·³å‡º(ä¼˜åŒ–æ„ä¹‰ä¸æ˜æ˜¾)\n\t\tif(t==n)\n\t\t\tbreak;\n\t\t\n\t\tst[t]=true;\n\t\t// ä»¥tä¸ºè·³æ¿,æ›´æ–°æ‰€æœ‰ç»“ç‚¹åˆ°æºèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tdist[j]=min(dist[j],dist[t]+g[t][j]);\n\t}\n\t// ä¸å­˜åœ¨æœ€çŸ­è·¯è¿”å›-1,å­˜åœ¨åˆ™è¿”å›æœ€å¤§è·ç¦»å€¼\n\tif(dist[n]==0x3f3f3f3f)\n\t\treturn -1;\n\treturn dist[n];\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\t\n\tcin>>n>>m;\n\t// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾\n\tmemset(g,0x3f,sizeof g);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tg[a][b]=min(g[a][b],c); // å»é™¤é‡è¾¹\n\t}\n\tint t=dijkstra();\n\tcout<<t<<endl;\n\treturn 0;\n}\n```\n\n\n\n#### 1.1.2. å †ä¼˜åŒ– $Dijkstra$\n\n> æ—¶é—´å¤æ‚åº¦ $O(mlogn)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ã€$m$ è¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(m+n)$\n\n* è¯¥ä»£ç å¯ä»¥è§£å†³å¸¦æœ‰é‡è¾¹å’Œè‡ªç¯çš„æœ‰å‘å›¾ã€æ— å‘å›¾ã€‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e6+5;\nconst int M=N;\nint n,m;\n// h:æ¯ä¸ªç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹\n// e:æ¯æ¡è¾¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹\n// ne:æ¯æ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹\n// w:æ¯æ¡è¾¹çš„æƒé‡\nint h[N],e[N],ne[N],w[N],idx;\nint dist[N]; // é‚»æ¥è¡¨å­˜å‚¨æœ€çŸ­è·ç¦»\nbool st[N]; // è®¿é—®çŠ¶æ€\n\nvoid add(int a,int b,int c) {\n    // ç¬¬idxæ¡è¾¹æŒ‡å‘èŠ‚ç‚¹b,ç¬¬idxè¾¹è¾¹æƒä¸ºc,ç¬¬idxæ¡çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„èµ·å§‹è¾¹(å¤´æ’æ³•æ€æƒ³),èµ·å§‹è¾¹æ›´æ–°ä¸ºå½“å‰è¾¹ç¼–å·,ç¼–å·è‡ªå¢\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint dijkstra() {\n\t// åˆå§‹åŒ–äº’ä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// ç¼–å·ä¸º1çš„ç‚¹åˆ°è‡ªå·±è·ç¦»ä¸º0\n\tdist[1]=0;\n\tpriority_queue<PII,vector<PII>,greater<PII>> heap; // å°æ ¹å †\n\theap.push({0,1}); // è·ç¦»ä¸º0,ç‚¹ç¼–å·ä¸º1(ç¬¬ä¸€å…³é”®å­—å­˜å‚¨è·ç¦»,å°æ ¹å †é»˜è®¤ä»å°åˆ°å¤§æ’åº;ç¬¬äºŒå…³é”®å­—å­˜å‚¨ç¼–å·)\n\t\n\t// é˜Ÿåˆ—ä¸ä¸ºç©º\n\twhile(heap.size()) {\n\t\t// å–å‡ºå¤´ç»“ç‚¹\n\t\tauto t=heap.top();\n\t\theap.pop();\n\t\t\n\t\t// v:å–å‡ºå¤´ç»“ç‚¹çš„ç¼–å·\n\t\t// distance:åˆ°æºèŠ‚ç‚¹çš„è·ç¦»\n\t\tint v=t.second;\n\t\t// å¦‚æœå·²è®¿é—®è¿‡,åˆ™è·³è¿‡\n\t\tif(st[v])\n\t\t\tcontinue;\n\t\tst[v]=true;\n\t\t// éå†è¯¥ç»“ç‚¹çš„æ‰€æœ‰è¾¹,-1æ˜¯å°¾è¾¹(å› ä¸ºç”¨çš„æ˜¯å¤´æ’æ³•)\n\t\tfor(int i=h[v];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœè·ç¦»æ›´çŸ­,åˆ™æ›´æ–°\n\t\t\tif(dist[j]>dist[v]+w[i]) {\n\t\t\t\tdist[j]=dist[v]+w[i];\n\t\t\t\t// èŠ‚ç‚¹jçš„è·ç¦»å’Œç¼–å·åŠ å…¥é˜Ÿåˆ—\n\t\t\t\theap.push({dist[j],j});\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// å¦‚æœä¸å¯è¾¾,è¿”å›-1\n\tif(dist[n]==0x3f3f3f3f)\n\t\treturn -1;\n\treturn dist[n]; // å¦åˆ™èŒƒå›´åˆ°èŠ‚ç‚¹nçš„è·ç¦»\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n        // add(b,a,c); // æ— å‘å›¾\n\t}\n\tcout<<dijkstra()<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 1.2. å­˜åœ¨è´Ÿæƒè¾¹\n\n* $SPFA$ ä¸€èˆ¬æ¯”è´å°”æ›¼ç¦ç‰¹å¿«ï¼Œå¦‚æœæƒ³æ±‚ä¸è¶…è¿‡ $k$ æ¡è¾¹çš„æœ€çŸ­è·¯ï¼Œåªèƒ½ç”¨è´å°”æ›¼ç¦ç‰¹ç®—æ³•æ¥åšã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯æ˜¯ä¸ä¸€å®šå­˜åœ¨çš„ï¼Œè´å°”æ›¼ç¦ç‰¹ç®—æ³•å¯ä»¥æ±‚å‡ºæ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œ**å¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œè´å°”æ›¼ç¦ç‰¹å¯èƒ½æ±‚ä¸å‡ºæœ€çŸ­è·¯å¾„**\n* éœ€è¦æ³¨æ„çš„æ˜¯ï¼š$SPFA$ çš„ä½¿ç”¨æ¡ä»¶æ˜¯ï¼Œ**ä¸€å®šä¸å­˜åœ¨è´Ÿç¯ï¼ŒSPFAæœ¬è´¨ä¸Šæ˜¯å¯¹Bellman-Fordçš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰¾è´Ÿç¯**\n\n* $80\\%$ çš„æ­£æƒå›¾ä¹Ÿèƒ½ç”¨ $SPFA$ æ¥åšï¼Œä¸”æ—¶é—´æ•ˆç‡ä¼šæ¯” $dijkstra$ æ›´å¿«ï¼Œä½†æ˜¯å¦‚æœ $SPFA$ è¢«å¡äº†ï¼Œ$SPFA$ çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(m)$ï¼Œæœ€åçš„æƒ…å†µæ˜¯$O(nm)$ï¼Œæ•°æ®ç»™çš„å·®æ˜¯å¯èƒ½è¾¾åˆ°æœ€åæƒ…å†µçš„ï¼Œå¦‚æœè¢«å¡äº†ï¼Œå°±æ¢æˆå †ä¼˜åŒ–çš„ $dijkstra$\n\n#### 1.2.1. Bellman-Ford\n\n> æ—¶é—´å¤æ‚åº¦ $O(nm)$ï¼Œé¢˜ç›®é“¾æ¥ï¼š[853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/855/)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// Bellman-Fordç®—æ³•,æ³¨æ„è¯¥ç®—æ³•å­˜è¾¹éšä¾¿å­˜,åªè¦èƒ½éå†æ‰€æœ‰è¾¹å³å¯\n// forå¾ªç¯næ¬¡,æ¯ä¸€æ¬¡å¾ªç¯æ‰€æœ‰è¾¹a,b,w,æ›´æ–°æœ€çŸ­è·ç¦»(ä¸‰è§’ä¸ç­‰å¼)\n// è¿­ä»£kæ¬¡å,distæ•°ç»„ä»£è¡¨çš„å«ä¹‰:ä»1å·ç‚¹ç»è¿‡,ä¸è¶…è¿‡kæ¡è¾¹èµ°åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»\n// å¦‚æœç¬¬næ¬¡è¿­ä»£ådistæ•°ç»„æœ‰æ›´æ–°çš„è¯,è¯´æ˜ä¸€å®šå­˜åœ¨è´Ÿç¯,SPFAä¹Ÿå¯ä»¥æ‰¾è´Ÿç¯\n\n// SPFAä¸€èˆ¬åœ¨ä»»ä½•æƒ…å†µéƒ½ä¼˜äºBellman-fort\n// ä½†æ˜¯å¦‚æœæœ‰è¾¹æ•°é™åˆ¶,å¦‚AcWing853,æœ€å¤šç»è¿‡ä¸è¶…è¿‡kæ¡è¾¹çš„æœ€çŸ­è·¯å¾„,å¿…é¡»ç”¨Bellman-fort\n\nconst int N=5e2+10;\nconst int M=1e5+10;\n\nint n,m,k; // ç‚¹/è¾¹/æœ€çŸ­è·¯è¾¹é™åˆ¶\nint dist[N],backup[N];\n\nstruct Edge {\n\tint a,b,w;\t\n}edges[M];\n\nint bellman_ford() {\n\t// åˆå§‹åŒ–ä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\tdist[1]=0; // ç»“ç‚¹1åˆ°è‡ªèº«è·ç¦»ä¸º0\n\t\n\t// èµ°kæ­¥è·¯\n\tfor(int i=0;i<k;i++) {\n        // æŠŠdistå†™è¿›backup\n\t\t// æ¯æ¬¡å¤åˆ¶ä¸Šä¸€æ¬¡çš„çŠ¶æ€,å› ä¸ºè¦æ±‚åœ¨kæ­¥è·¯å†…çš„æœ€çŸ­è·ç¦»,æ‰€ä»¥ä¸èƒ½ç›´æ¥æ›´æ–°\n\t\tmemcpy(backup,dist,sizeof dist);\n\t\tfor(int j=0;j<m;j++) {\n\t\t\tint a=edges[j].a,b=edges[j].b,w=edges[j].w;\n\t\t\tdist[b]=min(dist[b],backup[a]+w);\n\t\t}\n\t}\n\t// ä¸ºä»€ä¹ˆè¿™é‡Œä¸æ˜¯0x3f3f3f3få‘¢?\n\t// å› ä¸ºå¦‚æœä¸¤ä¸ªç‚¹å¯¹äºç‚¹1éƒ½æ˜¯ä¸å¯è¾¾,ä½†ç›¸äº’å¯è¾¾,åˆ™å¯èƒ½åœ¨æ›´æ–°æ—¶å˜æˆä¸æ˜¯0x3f3f3f3fçš„æ•°\n\t// æ‰€ä»¥è¿™é‡Œç”¨ä¸€ä¸ªç±»ä¼¼äºæå¤§å€¼çš„æ•°æ¥æ›¿ä»£\n\t// å¦‚æœæ²¡æœ‰æœ€çŸ­è·¯å¾„,è¿”å›0x3f3f3f3f,ä¸è¿”å›-1æ˜¯å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·ç¦»å°±æ˜¯-1\n\tif(dist[n]>0x3f3f3f3f/2)\n\t\treturn 0x3f3f3f3f;\n\treturn dist[n];\n}\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m>>k;\n\tfor(int i=0;i<m;i++) {\n\t\tint a,b,w;\n\t\tcin>>a>>b>>w;\n\t\tedges[i]={a,b,w};\n\t}\n\tint t=bellman_ford();\n\tif(t==0x3f3f3f3f)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n\treturn 0;\n}\n```\n\n\n\n#### 1.2.2. SPFA\n\n> æ—¶é—´å¤æ‚åº¦ ä¸€èˆ¬ $O(m)$ï¼Œæœ€å $O(nm)$ï¼Œä»¥ä¸‹æ¨¡æ¿æ— è§†é‡è¾¹å’Œè‡ªç¯ï¼Œé¢˜ç›®é“¾æ¥ï¼š[851. spfaæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/853/)\n\n ``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// SPFA:é•¿å¾—ç‰¹åˆ«åƒdijkstra,å¯¹äºè´Ÿæƒå›¾,å¦‚æœå‡ºé¢˜äººå¡SPFAçš„è¯å°±æ²¡åŠæ³•äº†\n// åªè¦é˜Ÿåˆ—ä¸ä¸ºç©º\n// å¼¹å‡ºé˜Ÿå¤´t,æ›´æ–°tçš„æ‰€æœ‰å‡ºè¾¹\nconst int N=1e5+5;\nint n,m;\nint h[N],w[N],e[N],ne[N],idx;\nint dist[N];\nbool st[N];\n\nvoid add(int a,int b,int c) {\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint spfa() {\n\t// åˆå§‹åŒ–distä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»ä¸º0\n\tdist[1]=0;\n\tqueue<int> q;\n\tq.push(1);\n\tst[1]=true;\n\twhile(q.size()) {\n\t\t// å¼¹å‡ºé˜Ÿå¤´\n\t\tint t=q.front();\n\t\tq.pop();\n\t\t// æ›´æ–°çŠ¶æ€\n\t\tst[t]=false;\n\t\t// éå†æ¯æ¡è¾¹\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœè·ç¦»æ›´çŸ­åˆ™æ›´æ–°\n\t\t\tif(dist[j]>dist[t]+w[i]) {\n\t\t\t\tdist[j]=dist[t]+w[i];\n\t\t\t\t// å¦‚æœæ²¡è®¿é—®è¿‡åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\t\tif(!st[j]) {\n\t\t\t\t\tq.push(j);\n\t\t\t\t\tst[j]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// ä¸å¯è¾¾ä¸è¦è¿”å›-1,å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·¯å¾„å°±æ˜¯-1\n\tif(dist[n]==0x3f3f3f3f3)\n\t\treturn 0x3f3f3f3f;\n\treturn dist[n];\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n\t}\n\tint t=spfa();\n\tif(t==0x3f3f3f3f)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n\treturn 0;\n}\n ```\n\n\n\n#### 1.2.3. SPFAåˆ¤è´Ÿç¯\n\n> é¢˜ç›®é“¾æ¥ï¼š[852. spfaåˆ¤æ–­è´Ÿç¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/854/)\n\n* ç»´æŠ¤ä¸€ä¸ª $cnt$ æ•°ç»„ï¼Œä» $[1,x]$ï¼Œ$cnt$ æ•°ç»„è®°å½•çš„æ˜¯åœ¨ç”¨ $SPFA$ æ‰¾$1$å·ç‚¹ åˆ° $n$å·ç‚¹æœ€çŸ­è·¯å¾„æ—¶ï¼Œè¿™ä¸ªæœ€çŸ­è·¯ä¸­è¾¹çš„ä¸ªæ•°ï¼Œå¦‚æœ $dist[j]>dist[v]+w[i]$ è¯´æ˜æˆ‘ä» $v$ è¿™ä¸ªç‚¹åˆ° $j$ çš„è·ç¦»æ›´çŸ­ï¼Œé‚£ä¹ˆä» $i$ â†’ $j$ å°±æ›´æ–°ä¸º $i$ â†’ $v$ â†’ $j$ï¼Œæ‰€ä»¥è¾¹æ•°è¦ $+1$ ï¼Œå³æœ‰ $cnt[j]=cnt[v]+1$ ï¼Œå¦‚æœåœ¨æŸä¸€æ¬¡ä¸­ $cnt[x]>=n$ äº†ï¼Œè¯´æ˜ä¸€å…±ç»å†äº† $n$ æ¡è¾¹ï¼Œæœ‰$n$ æ¡è¾¹å°±æœ‰ $n+1$ ä¸ªç‚¹ï¼Œä½†æ˜¯é¢˜ç›®ä¸­åªæœ‰ $n$ ä¸ªç‚¹ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªç‚¹å‡ºç°äº†ä¸¤æ¬¡ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆå› ä¸º $dist$ æ˜¯åœ¨ä¸æ–­å‡å°çš„ï¼Œæ‰€ä»¥è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè´Ÿç¯\n* è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸€å¼€å§‹æˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠ $1$ å·ç‚¹æ”¾è¿›é˜Ÿåˆ—æ¥æ‰¾ï¼Œå› ä¸ºé¢˜ç›®è¦æ‰¾çš„æ˜¯æ•´ä¸ªå›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œè€Œä» $1$ å·ç‚¹å‡ºå‘ä¸ä¸€å®šèƒ½åˆ°è¿™ä¸ªè´Ÿç¯ï¼Œæ‰€ä»¥åšæ³•æ˜¯æŠŠæ‰€æœ‰ç‚¹éƒ½æ”¾è¿›é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°è¿™ä¸ªè´Ÿç¯\n* æ³¨æ„ $SPFA$ åˆ¤è´Ÿç¯æ—¶é—´å¤æ‚åº¦å…¶å®è¿˜è›®é«˜çš„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+10;\nint n,m;\nint h[N],w[N],e[N],ne[N],idx;\nint dist[N];\nbool st[N];\nint cnt[N]; // åˆ¤æ–­æœ‰æ— è´Ÿç¯,cnt[i]:è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªèŠ‚ç‚¹æ—¶å·²éå†è¿‡çš„èŠ‚ç‚¹æ€»æ•°\n\nvoid add(int a,int b,int c) {\n\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;\n}\n\nint spfa() {\n\tqueue<int> q;\n\t// æ³¨æ„è¿™é‡Œä¸èƒ½æŠŠ1æ”¾è¿›å»,å› ä¸º1å¯èƒ½åˆ°ä¸äº†è¿™ä¸ªè´Ÿç¯\n\t\n//\tq.push(1);\n    // æŠŠæ¯ä¸ªç‚¹éƒ½æ”¾è¿›å»åˆ¤æ–­\n\tfor(int i=1;i<=n;i++) {\n\t\tst[i]=true;\n\t\tq.push(i);\n\t}\n\t\n\twhile(q.size()) {\n\t\tint t=q.front();\n\t\tq.pop();\n\t\t\n\t\tst[t]=false;\n\t\t\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\tif(dist[j]>dist[t]+w[i]) {\n\t\t\t\tdist[j]=dist[t]+w[i];\n\t\t\t\tcnt[j]=cnt[t]+1; // éå†åˆ°èŠ‚ç‚¹jæ—¶é‡åˆ°çš„èŠ‚ç‚¹æ€»æ•°+1\n\t\t\t\tif(cnt[j]>=n) \n\t\t\t\t\treturn true; // æœ‰è´Ÿç¯\n\t\t\t\tif(!st[j]) {\n\t\t\t\t\tq.push(j);\n\t\t\t\t\tst[j]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n\t}\n\tif(spfa()) {\n\t\tcout<<\"Yes\";\t\n\t} else {\n\t\tcout<<\"No\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 2. å¤šæºæ±‡æœ€çŸ­è·¯\n\n> æ±‚å¤šä¸ªèµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»\n\n### 2.1. Floydç®—æ³•\n\n> æ—¶é—´å¤æ‚åº¦O(nÂ³)ï¼Œdpçš„å¤–è¡¨ï¼Œæš´åŠ›çš„å¿ƒï¼Œé¢˜ç›®é“¾æ¥ï¼š[854. Floydæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/856/)ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½å¤„ç†é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ï¼Œä½†ä¸èƒ½å¤„ç†è´Ÿæƒå›è·¯ï¼Œå› ä¸ºå­˜åœ¨è´Ÿæƒå›è·¯æ—¶è·ç¦»ä¼šä¸æ–­å¾€ä¸‹è¶Šæ¥è¶Šå°ï¼Œæ— æ³•æ”¶æ•›\n\n* æ³¨æ„ä¹‹æ‰€ä»¥ç”¨ $d[a][b]>INF/2$ æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸å¯è¾¾æ˜¯å› ä¸ºé¢˜ç›®ä¸­å­˜åœ¨è´Ÿæƒè¾¹æ›´æ–°åçš„è·ç¦»å¾ˆæœ‰å¯èƒ½æ¯” $INF$ å°ä¸€äº›ï¼Œè¦åœ¨å…¶ä»–è´Ÿæƒè¾¹å­˜åœ¨çš„æœ€çŸ­è·¯é—®é¢˜ä¸­ä¹Ÿæ³¨æ„ä¸€ä¸‹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// å¼—æ´›ä¼Šå¾·:å¤šæºæœ€çŸ­è·¯,ç›´æ¥æš´åŠ›æš´æš´æš´å°±å®Œäº‹äº†\n// ç¬¬ä¸€å±‚å¾ªç¯,kä»1~n,æšä¸¾iâ†’jçš„ä¸­é—´èŠ‚ç‚¹\n// ç¬¬äºŒå±‚å¾ªç¯,iä»1~n\n// ç¬¬ä¸‰å±‚å¾ªç¯,jä»1~n\n// d[i,j]=min(d[i][j],d[i][k]+d[k][j])\n// åŸç†:d[k,i,j]=d[k-1,i,k]+d[k-1,k,j],åŸºäºdp\n\nconst int N=2e2+2;\nconst int INF=1e9;\n\nint n,m,Q; // Qæ˜¯å¾ªç¯æ¬¡æ•°\nint d[N][N];\n\nvoid floyd() {\n\tfor(int k=1;k<=n;k++) {\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tfor(int j=1;j<=n;j++) {\n\t\t\t\td[i][j]=min(d[i][j],d[i][k]+d[k][j]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n>>m>>Q; \n\t// é‡è¾¹å’Œè‡ªç¯çš„å¤„ç†æ–¹æ³•:\n\t// é‡è¾¹:ä¿ç•™æœ€å°çš„è¾¹\n\t// è‡ªç¯:åˆ é™¤\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tif(i==j)\n\t\t\t\td[i][j]=0; // è‡ªå·±åˆ°è‡ªå·±çš„è·ç¦»ä¸º0,èµ‹åˆå€¼,åæ¯”è¾ƒ,å»è‡ªç¯\n\t\t\telse\n\t\t\t\td[i][j]=INF; // åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾\n\t\t}\n\t}\n\t\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\td[a][b]=min(d[a][b],c); // å»é‡è¾¹,ä¿ç•™æœ€å°è¾¹(é‚»æ¥çŸ©é˜µçš„åšæ³•)\n\t}\n\tfloyd();\n\twhile(Q--) {\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\t\n\t\tif(d[a][b]>INF/2) // å¯èƒ½ä¼šè¢«æ›´æ–°å¾—ä¸æ˜¯INF\n\t\t\tcout<<\"impossible\"<<endl;\n\t\telse\n\t\t\tcout<<d[a][b]<<endl;\n\t}\n\treturn 0;\n}\n```\n","slug":"å›¾è®ºæœ€çŸ­è·¯","published":1,"updated":"2024-10-05T08:05:30.301Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsl000xc0nf9148115m","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å›¾è®ºæœ€çŸ­è·¯\">å›¾è®ºæœ€çŸ­è·¯</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF\">1. å•æºæœ€çŸ­è·¯</a><ul>\n<li><a href=\"#11-%E6%89%80%E6%9C%89%E8%BE%B9%E6%9D%83%E9%83%BD%E6%98%AF%E6%AD%A3%E6%95%B0\">1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°</a><ul>\n<li><a href=\"#111-%E6%9C%B4%E7%B4%A0-dijkstra-%E7%AE%97%E6%B3%95\">1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•</a></li>\n<li><a href=\"#112-%E5%A0%86%E4%BC%98%E5%8C%96-dijkstra\">1.1.2. å †ä¼˜åŒ– $Dijkstra$</a></li>\n</ul>\n</li>\n<li><a href=\"#12-%E5%AD%98%E5%9C%A8%E8%B4%9F%E6%9D%83%E8%BE%B9\">1.2. å­˜åœ¨è´Ÿæƒè¾¹</a><ul>\n<li><a href=\"#121-bellman-ford\">1.2.1. Bellman-Ford</a></li>\n<li><a href=\"#122-spfa\">1.2.2. SPFA</a></li>\n<li><a href=\"#123-spfa%E5%88%A4%E8%B4%9F%E7%8E%AF\">1.2.3. SPFAåˆ¤è´Ÿç¯</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%A4%9A%E6%BA%90%E6%B1%87%E6%9C%80%E7%9F%AD%E8%B7%AF\">2. å¤šæºæ±‡æœ€çŸ­è·¯</a><ul>\n<li><a href=\"#21-floyd%E7%AE%97%E6%B3%95\">2.1. Floydç®—æ³•</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-å•æºæœ€çŸ­è·¯\">1. å•æºæœ€çŸ­è·¯</span></h2><blockquote>\n<p>ä»ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»</p>\n</blockquote>\n<ul>\n<li>å¯¹äºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å¦‚ä¸‹ï¼Œå¯¹äºç©ºé—´å¤æ‚åº¦éœ€å¼ºè°ƒï¼šå¯¹äºç¨€ç–å›¾ï¼ˆè¾¹è¾ƒå°‘ï¼‰ï¼Œå€¾å‘äºä½¿ç”¨<strong>é‚»æ¥è¡¨</strong>å’Œ<strong>é“¾å¼å‰å‘æ˜Ÿ</strong>ï¼Œå¦‚æœä½¿ç”¨é‚»æ¥çŸ©é˜µå®¹æ˜“çˆ†å†…å­˜ï¼›å¯¹äºç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ï¼Œå€¾å‘äºä½¿ç”¨é‚»æ¥çŸ©é˜µï¼Œå› ä¸ºé‚»æ¥è¡¨æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œå ç”¨çš„å†…å­˜å¯èƒ½æ¯”é‚»æ¥çŸ©é˜µä¸­çš„ä¸€æ ¼å¤§ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µåè€Œå†…å­˜å ç”¨æ›´å°‘ã€‚</li>\n<li>æ³¨æ„ï¼Œæ— å‘å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒŒæ¿å­çš„æ—¶å€™ä¸ç”¨ç‰¹åˆ«åŒºåˆ†æœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚</li>\n<li>å¯¹äº<strong>ç¨ å¯†å›¾</strong>ï¼ˆè¾¹çš„æ•°é‡æ¥è¿‘äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µçš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…è®¿é—®ä»»ä½•è¾¹ã€‚ç„¶è€Œï¼Œé‚»æ¥çŸ©é˜µçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(V^2)$ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜è¶…é™ã€‚</li>\n<li>å¯¹äº<strong>ç¨€ç–å›¾</strong>ï¼ˆè¾¹çš„æ•°é‡è¿œå°äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥è¡¨çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ åªéœ€è¦éå†ä¸æ¯ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ã€‚é‚»æ¥è¡¨çš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(E)$ ï¼Œè¿™é€šå¸¸æ¯”é‚»æ¥çŸ©é˜µæ›´èŠ‚çœç©ºé—´ã€‚</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20231018161346568.png\" alt=\"image-20231018161346568\" style=\"zoom:67%;\">\n\n\n\n<h3><span id=\"11-æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\">1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°</span></h3><h4><span id=\"111-æœ´ç´ -dijkstra-ç®—æ³•\">1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•</span></h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(nÂ²)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ï¼Œå’Œè¾¹æ•°æ— å…³ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(n^2)$</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æœ´ç´ dijkstra</span></span><br><span class=\"line\"><span class=\"comment\">// 1:åˆå§‹åŒ–è·ç¦»,dist[1]=0,dist[v]=+inf,sæ˜¯å½“å‰å·²ç»ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// 2:for v in [1,n]:â‘ ä¸åœ¨sä¸­çš„è·ç¦»æœ€è¿‘çš„ç‚¹;â‘¡tâ†’s;â‘¢ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"comment\">// 3:å¾ªç¯næ¬¡å,å·²ç»æ±‚å‡ºæ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç¨ å¯†å›¾â†’é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+5</span>; </span><br><span class=\"line\"><span class=\"comment\">// ç‚¹æœ€å¤§æ˜¯500*500=2.5*10^5&gt;é¢˜ç›®ç»™çš„mæœ€å¤§å€¼</span></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„:å­˜åœ¨é‡è¾¹å’Œè‡ªç¯</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å‚¨å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹çš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dijkstra</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆæŠŠè·ç¦»åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹,æˆ‘ä»¬æ¯éå†ä¸€æ¬¡å°±æŠŠä¸€ä¸ªç‚¹åŠ å…¥åˆ°å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„çš„é˜Ÿåˆ—ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=<span class=\"number\">-1</span>; <span class=\"comment\">// åˆå§‹åŒ–tä¸º-1,tç”¨äºè®°å½•å½“å‰æœªè¢«è®¿é—®çš„ç»“ç‚¹ä¸­è·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ‰€æœ‰ç»“ç‚¹,æ‰¾åˆ°æ¯ä¸ªç»“ç‚¹è·ç¦»è‡ªå·±æœ€è¿‘ä¸”å°šæœªåŠ å…¥&quot;å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„&quot;ç‚¹é›†çš„ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// !st[j]:ç»“ç‚¹jæœªè¢«è®¿é—®,tä¸º-1,æˆ–è€…tåˆ°æºèŠ‚ç‚¹çš„è·ç¦»å°äºjåˆ°æºèŠ‚ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!st[j] &amp;&amp; (t==<span class=\"number\">-1</span> || dist[t]&gt;dist[j]))</span><br><span class=\"line\">\t\t\t\tt=j;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå½“å‰ç»“ç‚¹çš„æœ€è¿‘ç»“ç‚¹å°±æ˜¯n,é‚£ä¹ˆç›´æ¥è·³å‡º(ä¼˜åŒ–æ„ä¹‰ä¸æ˜æ˜¾)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t==n)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»¥tä¸ºè·³æ¿,æ›´æ–°æ‰€æœ‰ç»“ç‚¹åˆ°æºèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\tdist[j]=<span class=\"built_in\">min</span>(dist[j],dist[t]+g[t][j]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸å­˜åœ¨æœ€çŸ­è·¯è¿”å›-1,å­˜åœ¨åˆ™è¿”å›æœ€å¤§è·ç¦»å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(g,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> g);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\tg[a][b]=<span class=\"built_in\">min</span>(g[a][b],c); <span class=\"comment\">// å»é™¤é‡è¾¹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">dijkstra</span>();</span><br><span class=\"line\">\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"112-å †ä¼˜åŒ–-dijkstra\">1.1.2. å †ä¼˜åŒ– $Dijkstra$</span></h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(mlogn)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ã€$m$ è¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(m+n)$</p>\n</blockquote>\n<ul>\n<li>è¯¥ä»£ç å¯ä»¥è§£å†³å¸¦æœ‰é‡è¾¹å’Œè‡ªç¯çš„æœ‰å‘å›¾ã€æ— å‘å›¾ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=N;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"comment\">// h:æ¯ä¸ªç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// e:æ¯æ¡è¾¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ne:æ¯æ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// w:æ¯æ¡è¾¹çš„æƒé‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[N],ne[N],w[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// é‚»æ¥è¡¨å­˜å‚¨æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘èŠ‚ç‚¹b,ç¬¬idxè¾¹è¾¹æƒä¸ºc,ç¬¬idxæ¡çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„èµ·å§‹è¾¹(å¤´æ’æ³•æ€æƒ³),èµ·å§‹è¾¹æ›´æ–°ä¸ºå½“å‰è¾¹ç¼–å·,ç¼–å·è‡ªå¢</span></span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dijkstra</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–äº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// ç¼–å·ä¸º1çš„ç‚¹åˆ°è‡ªå·±è·ç¦»ä¸º0</span></span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tpriority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap; <span class=\"comment\">// å°æ ¹å †</span></span><br><span class=\"line\">\theap.<span class=\"built_in\">push</span>(&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;); <span class=\"comment\">// è·ç¦»ä¸º0,ç‚¹ç¼–å·ä¸º1(ç¬¬ä¸€å…³é”®å­—å­˜å‚¨è·ç¦»,å°æ ¹å †é»˜è®¤ä»å°åˆ°å¤§æ’åº;ç¬¬äºŒå…³é”®å­—å­˜å‚¨ç¼–å·)</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é˜Ÿåˆ—ä¸ä¸ºç©º</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(heap.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºå¤´ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=heap.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">\t\theap.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// v:å–å‡ºå¤´ç»“ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// distance:åˆ°æºèŠ‚ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v=t.second;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå·²è®¿é—®è¿‡,åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(st[v])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\tst[v]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†è¯¥ç»“ç‚¹çš„æ‰€æœ‰è¾¹,-1æ˜¯å°¾è¾¹(å› ä¸ºç”¨çš„æ˜¯å¤´æ’æ³•)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[v];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè·ç¦»æ›´çŸ­,åˆ™æ›´æ–°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[v]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[v]+w[i];</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// èŠ‚ç‚¹jçš„è·ç¦»å’Œç¼–å·åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t\theap.<span class=\"built_in\">push</span>(&#123;dist[j],j&#125;);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœä¸å¯è¾¾,è¿”å›-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n]; <span class=\"comment\">// å¦åˆ™èŒƒå›´åˆ°èŠ‚ç‚¹nçš„è·ç¦»</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">        <span class=\"comment\">// add(b,a,c); // æ— å‘å›¾</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">dijkstra</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"12-å­˜åœ¨è´Ÿæƒè¾¹\">1.2. å­˜åœ¨è´Ÿæƒè¾¹</span></h3><ul>\n<li><p>$SPFA$ ä¸€èˆ¬æ¯”è´å°”æ›¼ç¦ç‰¹å¿«ï¼Œå¦‚æœæƒ³æ±‚ä¸è¶…è¿‡ $k$ æ¡è¾¹çš„æœ€çŸ­è·¯ï¼Œåªèƒ½ç”¨è´å°”æ›¼ç¦ç‰¹ç®—æ³•æ¥åšã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯æ˜¯ä¸ä¸€å®šå­˜åœ¨çš„ï¼Œè´å°”æ›¼ç¦ç‰¹ç®—æ³•å¯ä»¥æ±‚å‡ºæ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œ<strong>å¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œè´å°”æ›¼ç¦ç‰¹å¯èƒ½æ±‚ä¸å‡ºæœ€çŸ­è·¯å¾„</strong></p>\n</li>\n<li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š$SPFA$ çš„ä½¿ç”¨æ¡ä»¶æ˜¯ï¼Œ<strong>ä¸€å®šä¸å­˜åœ¨è´Ÿç¯ï¼ŒSPFAæœ¬è´¨ä¸Šæ˜¯å¯¹Bellman-Fordçš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰¾è´Ÿç¯</strong></p>\n</li>\n<li><p>$80%$ çš„æ­£æƒå›¾ä¹Ÿèƒ½ç”¨ $SPFA$ æ¥åšï¼Œä¸”æ—¶é—´æ•ˆç‡ä¼šæ¯” $dijkstra$ æ›´å¿«ï¼Œä½†æ˜¯å¦‚æœ $SPFA$ è¢«å¡äº†ï¼Œ$SPFA$ çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(m)$ï¼Œæœ€åçš„æƒ…å†µæ˜¯$O(nm)$ï¼Œæ•°æ®ç»™çš„å·®æ˜¯å¯èƒ½è¾¾åˆ°æœ€åæƒ…å†µçš„ï¼Œå¦‚æœè¢«å¡äº†ï¼Œå°±æ¢æˆå †ä¼˜åŒ–çš„ $dijkstra$</p>\n</li>\n</ul>\n<h4><span id=\"121-bellman-ford\">1.2.1. Bellman-Ford</span></h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(nm)$ï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/855/\">853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Bellman-Fordç®—æ³•,æ³¨æ„è¯¥ç®—æ³•å­˜è¾¹éšä¾¿å­˜,åªè¦èƒ½éå†æ‰€æœ‰è¾¹å³å¯</span></span><br><span class=\"line\"><span class=\"comment\">// forå¾ªç¯næ¬¡,æ¯ä¸€æ¬¡å¾ªç¯æ‰€æœ‰è¾¹a,b,w,æ›´æ–°æœ€çŸ­è·ç¦»(ä¸‰è§’ä¸ç­‰å¼)</span></span><br><span class=\"line\"><span class=\"comment\">// è¿­ä»£kæ¬¡å,distæ•°ç»„ä»£è¡¨çš„å«ä¹‰:ä»1å·ç‚¹ç»è¿‡,ä¸è¶…è¿‡kæ¡è¾¹èµ°åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœç¬¬næ¬¡è¿­ä»£ådistæ•°ç»„æœ‰æ›´æ–°çš„è¯,è¯´æ˜ä¸€å®šå­˜åœ¨è´Ÿç¯,SPFAä¹Ÿå¯ä»¥æ‰¾è´Ÿç¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SPFAä¸€èˆ¬åœ¨ä»»ä½•æƒ…å†µéƒ½ä¼˜äºBellman-fort</span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯å¦‚æœæœ‰è¾¹æ•°é™åˆ¶,å¦‚AcWing853,æœ€å¤šç»è¿‡ä¸è¶…è¿‡kæ¡è¾¹çš„æœ€çŸ­è·¯å¾„,å¿…é¡»ç”¨Bellman-fort</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,k; <span class=\"comment\">// ç‚¹/è¾¹/æœ€çŸ­è·¯è¾¹é™åˆ¶</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N],backup[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Edge</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a,b,w;\t</span><br><span class=\"line\">&#125;edges[M];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bellman_ford</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç»“ç‚¹1åˆ°è‡ªèº«è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// èµ°kæ­¥è·¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;k;i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æŠŠdistå†™è¿›backup</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¯æ¬¡å¤åˆ¶ä¸Šä¸€æ¬¡çš„çŠ¶æ€,å› ä¸ºè¦æ±‚åœ¨kæ­¥è·¯å†…çš„æœ€çŸ­è·ç¦»,æ‰€ä»¥ä¸èƒ½ç›´æ¥æ›´æ–°</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(backup,dist,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> a=edges[j].a,b=edges[j].b,w=edges[j].w;</span><br><span class=\"line\">\t\t\tdist[b]=<span class=\"built_in\">min</span>(dist[b],backup[a]+w);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºä»€ä¹ˆè¿™é‡Œä¸æ˜¯0x3f3f3f3få‘¢?</span></span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºå¦‚æœä¸¤ä¸ªç‚¹å¯¹äºç‚¹1éƒ½æ˜¯ä¸å¯è¾¾,ä½†ç›¸äº’å¯è¾¾,åˆ™å¯èƒ½åœ¨æ›´æ–°æ—¶å˜æˆä¸æ˜¯0x3f3f3f3fçš„æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰€ä»¥è¿™é‡Œç”¨ä¸€ä¸ªç±»ä¼¼äºæå¤§å€¼çš„æ•°æ¥æ›¿ä»£</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æœ€çŸ­è·¯å¾„,è¿”å›0x3f3f3f3f,ä¸è¿”å›-1æ˜¯å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·ç¦»å°±æ˜¯-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]&gt;<span class=\"number\">0x3f3f3f3f</span>/<span class=\"number\">2</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0x3f3f3f3f</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,w;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;w;</span><br><span class=\"line\">\t\tedges[i]=&#123;a,b,w&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">bellman_ford</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"122-spfa\">1.2.2. SPFA</span></h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ ä¸€èˆ¬ $O(m)$ï¼Œæœ€å $O(nm)$ï¼Œä»¥ä¸‹æ¨¡æ¿æ— è§†é‡è¾¹å’Œè‡ªç¯ï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/853/\">851. spfaæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SPFA:é•¿å¾—ç‰¹åˆ«åƒdijkstra,å¯¹äºè´Ÿæƒå›¾,å¦‚æœå‡ºé¢˜äººå¡SPFAçš„è¯å°±æ²¡åŠæ³•äº†</span></span><br><span class=\"line\"><span class=\"comment\">// åªè¦é˜Ÿåˆ—ä¸ä¸ºç©º</span></span><br><span class=\"line\"><span class=\"comment\">// å¼¹å‡ºé˜Ÿå¤´t,æ›´æ–°tçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],w[N],e[N],ne[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">spfa</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–distä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">\tst[<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼¹å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ›´æ–°çŠ¶æ€</span></span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ¯æ¡è¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè·ç¦»æ›´çŸ­åˆ™æ›´æ–°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[t]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[t]+w[i];</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœæ²¡è®¿é—®è¿‡åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(j);</span><br><span class=\"line\">\t\t\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸å¯è¾¾ä¸è¦è¿”å›-1,å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·¯å¾„å°±æ˜¯-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f3</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0x3f3f3f3f</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">spfa</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"123-spfaåˆ¤è´Ÿç¯\">1.2.3. SPFAåˆ¤è´Ÿç¯</span></h4><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/854/\">852. spfaåˆ¤æ–­è´Ÿç¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>ç»´æŠ¤ä¸€ä¸ª $cnt$ æ•°ç»„ï¼Œä» $[1,x]$ï¼Œ$cnt$ æ•°ç»„è®°å½•çš„æ˜¯åœ¨ç”¨ $SPFA$ æ‰¾$1$å·ç‚¹ åˆ° $n$å·ç‚¹æœ€çŸ­è·¯å¾„æ—¶ï¼Œè¿™ä¸ªæœ€çŸ­è·¯ä¸­è¾¹çš„ä¸ªæ•°ï¼Œå¦‚æœ $dist[j]&gt;dist[v]+w[i]$ è¯´æ˜æˆ‘ä» $v$ è¿™ä¸ªç‚¹åˆ° $j$ çš„è·ç¦»æ›´çŸ­ï¼Œé‚£ä¹ˆä» $i$ â†’ $j$ å°±æ›´æ–°ä¸º $i$ â†’ $v$ â†’ $j$ï¼Œæ‰€ä»¥è¾¹æ•°è¦ $+1$ ï¼Œå³æœ‰ $cnt[j]&#x3D;cnt[v]+1$ ï¼Œå¦‚æœåœ¨æŸä¸€æ¬¡ä¸­ $cnt[x]&gt;&#x3D;n$ äº†ï¼Œè¯´æ˜ä¸€å…±ç»å†äº† $n$ æ¡è¾¹ï¼Œæœ‰$n$ æ¡è¾¹å°±æœ‰ $n+1$ ä¸ªç‚¹ï¼Œä½†æ˜¯é¢˜ç›®ä¸­åªæœ‰ $n$ ä¸ªç‚¹ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªç‚¹å‡ºç°äº†ä¸¤æ¬¡ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆå› ä¸º $dist$ æ˜¯åœ¨ä¸æ–­å‡å°çš„ï¼Œæ‰€ä»¥è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè´Ÿç¯</li>\n<li>è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸€å¼€å§‹æˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠ $1$ å·ç‚¹æ”¾è¿›é˜Ÿåˆ—æ¥æ‰¾ï¼Œå› ä¸ºé¢˜ç›®è¦æ‰¾çš„æ˜¯æ•´ä¸ªå›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œè€Œä» $1$ å·ç‚¹å‡ºå‘ä¸ä¸€å®šèƒ½åˆ°è¿™ä¸ªè´Ÿç¯ï¼Œæ‰€ä»¥åšæ³•æ˜¯æŠŠæ‰€æœ‰ç‚¹éƒ½æ”¾è¿›é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°è¿™ä¸ªè´Ÿç¯</li>\n<li>æ³¨æ„ $SPFA$ åˆ¤è´Ÿç¯æ—¶é—´å¤æ‚åº¦å…¶å®è¿˜è›®é«˜çš„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],w[N],e[N],ne[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// åˆ¤æ–­æœ‰æ— è´Ÿç¯,cnt[i]:è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªèŠ‚ç‚¹æ—¶å·²éå†è¿‡çš„èŠ‚ç‚¹æ€»æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">spfa</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„è¿™é‡Œä¸èƒ½æŠŠ1æ”¾è¿›å»,å› ä¸º1å¯èƒ½åˆ°ä¸äº†è¿™ä¸ªè´Ÿç¯</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"comment\">//\tq.push(1);</span></span><br><span class=\"line\">    <span class=\"comment\">// æŠŠæ¯ä¸ªç‚¹éƒ½æ”¾è¿›å»åˆ¤æ–­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tst[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[t]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[t]+w[i];</span><br><span class=\"line\">\t\t\t\tcnt[j]=cnt[t]<span class=\"number\">+1</span>; <span class=\"comment\">// éå†åˆ°èŠ‚ç‚¹jæ—¶é‡åˆ°çš„èŠ‚ç‚¹æ€»æ•°+1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(cnt[j]&gt;=n) </span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// æœ‰è´Ÿç¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(j);</span><br><span class=\"line\">\t\t\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">spfa</span>()) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;Yes&quot;</span>;\t</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;No&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-å¤šæºæ±‡æœ€çŸ­è·¯\">2. å¤šæºæ±‡æœ€çŸ­è·¯</span></h2><blockquote>\n<p>æ±‚å¤šä¸ªèµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»</p>\n</blockquote>\n<h3><span id=\"21-floydç®—æ³•\">2.1. Floydç®—æ³•</span></h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(nÂ³)ï¼Œdpçš„å¤–è¡¨ï¼Œæš´åŠ›çš„å¿ƒï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/856/\">854. Floydæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“</a>ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½å¤„ç†é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ï¼Œä½†ä¸èƒ½å¤„ç†è´Ÿæƒå›è·¯ï¼Œå› ä¸ºå­˜åœ¨è´Ÿæƒå›è·¯æ—¶è·ç¦»ä¼šä¸æ–­å¾€ä¸‹è¶Šæ¥è¶Šå°ï¼Œæ— æ³•æ”¶æ•›</p>\n</blockquote>\n<ul>\n<li>æ³¨æ„ä¹‹æ‰€ä»¥ç”¨ $d[a][b]&gt;INF&#x2F;2$ æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸å¯è¾¾æ˜¯å› ä¸ºé¢˜ç›®ä¸­å­˜åœ¨è´Ÿæƒè¾¹æ›´æ–°åçš„è·ç¦»å¾ˆæœ‰å¯èƒ½æ¯” $INF$ å°ä¸€äº›ï¼Œè¦åœ¨å…¶ä»–è´Ÿæƒè¾¹å­˜åœ¨çš„æœ€çŸ­è·¯é—®é¢˜ä¸­ä¹Ÿæ³¨æ„ä¸€ä¸‹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼—æ´›ä¼Šå¾·:å¤šæºæœ€çŸ­è·¯,ç›´æ¥æš´åŠ›æš´æš´æš´å°±å®Œäº‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬ä¸€å±‚å¾ªç¯,kä»1~n,æšä¸¾iâ†’jçš„ä¸­é—´èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬äºŒå±‚å¾ªç¯,iä»1~n</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬ä¸‰å±‚å¾ªç¯,jä»1~n</span></span><br><span class=\"line\"><span class=\"comment\">// d[i,j]=min(d[i][j],d[i][k]+d[k][j])</span></span><br><span class=\"line\"><span class=\"comment\">// åŸç†:d[k,i,j]=d[k-1,i,k]+d[k-1,k,j],åŸºäºdp</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">2e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> INF=<span class=\"number\">1e9</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,Q; <span class=\"comment\">// Qæ˜¯å¾ªç¯æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N][N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">floyd</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">1</span>;k&lt;=n;k++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t\td[i][j]=<span class=\"built_in\">min</span>(d[i][j],d[i][k]+d[k][j]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;Q; </span><br><span class=\"line\">\t<span class=\"comment\">// é‡è¾¹å’Œè‡ªç¯çš„å¤„ç†æ–¹æ³•:</span></span><br><span class=\"line\">\t<span class=\"comment\">// é‡è¾¹:ä¿ç•™æœ€å°çš„è¾¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// è‡ªç¯:åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(i==j)</span><br><span class=\"line\">\t\t\t\td[i][j]=<span class=\"number\">0</span>; <span class=\"comment\">// è‡ªå·±åˆ°è‡ªå·±çš„è·ç¦»ä¸º0,èµ‹åˆå€¼,åæ¯”è¾ƒ,å»è‡ªç¯</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\td[i][j]=INF; <span class=\"comment\">// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\td[a][b]=<span class=\"built_in\">min</span>(d[a][b],c); <span class=\"comment\">// å»é‡è¾¹,ä¿ç•™æœ€å°è¾¹(é‚»æ¥çŸ©é˜µçš„åšæ³•)</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">floyd</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(Q--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[a][b]&gt;INF/<span class=\"number\">2</span>) <span class=\"comment\">// å¯èƒ½ä¼šè¢«æ›´æ–°å¾—ä¸æ˜¯INF</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>&lt;&lt;endl;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;d[a][b]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å›¾è®ºæœ€çŸ­è·¯\"><a href=\"#å›¾è®ºæœ€çŸ­è·¯\" class=\"headerlink\" title=\"å›¾è®ºæœ€çŸ­è·¯\"></a>å›¾è®ºæœ€çŸ­è·¯</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF\">1. å•æºæœ€çŸ­è·¯</a><ul>\n<li><a href=\"#11-%E6%89%80%E6%9C%89%E8%BE%B9%E6%9D%83%E9%83%BD%E6%98%AF%E6%AD%A3%E6%95%B0\">1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°</a><ul>\n<li><a href=\"#111-%E6%9C%B4%E7%B4%A0-dijkstra-%E7%AE%97%E6%B3%95\">1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•</a></li>\n<li><a href=\"#112-%E5%A0%86%E4%BC%98%E5%8C%96-dijkstra\">1.1.2. å †ä¼˜åŒ– $Dijkstra$</a></li>\n</ul>\n</li>\n<li><a href=\"#12-%E5%AD%98%E5%9C%A8%E8%B4%9F%E6%9D%83%E8%BE%B9\">1.2. å­˜åœ¨è´Ÿæƒè¾¹</a><ul>\n<li><a href=\"#121-bellman-ford\">1.2.1. Bellman-Ford</a></li>\n<li><a href=\"#122-spfa\">1.2.2. SPFA</a></li>\n<li><a href=\"#123-spfa%E5%88%A4%E8%B4%9F%E7%8E%AF\">1.2.3. SPFAåˆ¤è´Ÿç¯</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%A4%9A%E6%BA%90%E6%B1%87%E6%9C%80%E7%9F%AD%E8%B7%AF\">2. å¤šæºæ±‡æœ€çŸ­è·¯</a><ul>\n<li><a href=\"#21-floyd%E7%AE%97%E6%B3%95\">2.1. Floydç®—æ³•</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-å•æºæœ€çŸ­è·¯\"><a href=\"#1-å•æºæœ€çŸ­è·¯\" class=\"headerlink\" title=\"1. å•æºæœ€çŸ­è·¯\"></a>1. å•æºæœ€çŸ­è·¯</h2><blockquote>\n<p>ä»ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»</p>\n</blockquote>\n<ul>\n<li>å¯¹äºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å¦‚ä¸‹ï¼Œå¯¹äºç©ºé—´å¤æ‚åº¦éœ€å¼ºè°ƒï¼šå¯¹äºç¨€ç–å›¾ï¼ˆè¾¹è¾ƒå°‘ï¼‰ï¼Œå€¾å‘äºä½¿ç”¨<strong>é‚»æ¥è¡¨</strong>å’Œ<strong>é“¾å¼å‰å‘æ˜Ÿ</strong>ï¼Œå¦‚æœä½¿ç”¨é‚»æ¥çŸ©é˜µå®¹æ˜“çˆ†å†…å­˜ï¼›å¯¹äºç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ï¼Œå€¾å‘äºä½¿ç”¨é‚»æ¥çŸ©é˜µï¼Œå› ä¸ºé‚»æ¥è¡¨æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œå ç”¨çš„å†…å­˜å¯èƒ½æ¯”é‚»æ¥çŸ©é˜µä¸­çš„ä¸€æ ¼å¤§ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µåè€Œå†…å­˜å ç”¨æ›´å°‘ã€‚</li>\n<li>æ³¨æ„ï¼Œæ— å‘å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒŒæ¿å­çš„æ—¶å€™ä¸ç”¨ç‰¹åˆ«åŒºåˆ†æœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚</li>\n<li>å¯¹äº<strong>ç¨ å¯†å›¾</strong>ï¼ˆè¾¹çš„æ•°é‡æ¥è¿‘äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µçš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…è®¿é—®ä»»ä½•è¾¹ã€‚ç„¶è€Œï¼Œé‚»æ¥çŸ©é˜µçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(V^2)$ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜è¶…é™ã€‚</li>\n<li>å¯¹äº<strong>ç¨€ç–å›¾</strong>ï¼ˆè¾¹çš„æ•°é‡è¿œå°äºé¡¶ç‚¹æ•°é‡çš„å¹³æ–¹ï¼‰ï¼Œä½¿ç”¨é‚»æ¥è¡¨çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸æ›´ä½ï¼Œå› ä¸ºä½ åªéœ€è¦éå†ä¸æ¯ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ã€‚é‚»æ¥è¡¨çš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(E)$ ï¼Œè¿™é€šå¸¸æ¯”é‚»æ¥çŸ©é˜µæ›´èŠ‚çœç©ºé—´ã€‚</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20231018161346568.png\" alt=\"image-20231018161346568\" style=\"zoom:67%;\" />\n\n\n\n<h3 id=\"1-1-æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\"><a href=\"#1-1-æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\" class=\"headerlink\" title=\"1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°\"></a>1.1. æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°</h3><h4 id=\"1-1-1-æœ´ç´ -Dijkstra-ç®—æ³•\"><a href=\"#1-1-1-æœ´ç´ -Dijkstra-ç®—æ³•\" class=\"headerlink\" title=\"1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•\"></a>1.1.1. æœ´ç´  $Dijkstra$ ç®—æ³•</h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(nÂ²)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ï¼Œå’Œè¾¹æ•°æ— å…³ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(n^2)$</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æœ´ç´ dijkstra</span></span><br><span class=\"line\"><span class=\"comment\">// 1:åˆå§‹åŒ–è·ç¦»,dist[1]=0,dist[v]=+inf,sæ˜¯å½“å‰å·²ç»ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// 2:for v in [1,n]:â‘ ä¸åœ¨sä¸­çš„è·ç¦»æœ€è¿‘çš„ç‚¹;â‘¡tâ†’s;â‘¢ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"comment\">// 3:å¾ªç¯næ¬¡å,å·²ç»æ±‚å‡ºæ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç¨ å¯†å›¾â†’é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+5</span>; </span><br><span class=\"line\"><span class=\"comment\">// ç‚¹æœ€å¤§æ˜¯500*500=2.5*10^5&gt;é¢˜ç›®ç»™çš„mæœ€å¤§å€¼</span></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„:å­˜åœ¨é‡è¾¹å’Œè‡ªç¯</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å‚¨å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹çš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dijkstra</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆæŠŠè·ç¦»åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç¬¬ä¸€ä¸ªç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹,æˆ‘ä»¬æ¯éå†ä¸€æ¬¡å°±æŠŠä¸€ä¸ªç‚¹åŠ å…¥åˆ°å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„çš„é˜Ÿåˆ—ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=<span class=\"number\">-1</span>; <span class=\"comment\">// åˆå§‹åŒ–tä¸º-1,tç”¨äºè®°å½•å½“å‰æœªè¢«è®¿é—®çš„ç»“ç‚¹ä¸­è·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ‰€æœ‰ç»“ç‚¹,æ‰¾åˆ°æ¯ä¸ªç»“ç‚¹è·ç¦»è‡ªå·±æœ€è¿‘ä¸”å°šæœªåŠ å…¥&quot;å·²ç»æ‰¾åˆ°æœ€çŸ­è·¯å¾„&quot;ç‚¹é›†çš„ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// !st[j]:ç»“ç‚¹jæœªè¢«è®¿é—®,tä¸º-1,æˆ–è€…tåˆ°æºèŠ‚ç‚¹çš„è·ç¦»å°äºjåˆ°æºèŠ‚ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!st[j] &amp;&amp; (t==<span class=\"number\">-1</span> || dist[t]&gt;dist[j]))</span><br><span class=\"line\">\t\t\t\tt=j;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå½“å‰ç»“ç‚¹çš„æœ€è¿‘ç»“ç‚¹å°±æ˜¯n,é‚£ä¹ˆç›´æ¥è·³å‡º(ä¼˜åŒ–æ„ä¹‰ä¸æ˜æ˜¾)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t==n)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»¥tä¸ºè·³æ¿,æ›´æ–°æ‰€æœ‰ç»“ç‚¹åˆ°æºèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\tdist[j]=<span class=\"built_in\">min</span>(dist[j],dist[t]+g[t][j]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸å­˜åœ¨æœ€çŸ­è·¯è¿”å›-1,å­˜åœ¨åˆ™è¿”å›æœ€å¤§è·ç¦»å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(g,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> g);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\tg[a][b]=<span class=\"built_in\">min</span>(g[a][b],c); <span class=\"comment\">// å»é™¤é‡è¾¹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">dijkstra</span>();</span><br><span class=\"line\">\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"1-1-2-å †ä¼˜åŒ–-Dijkstra\"><a href=\"#1-1-2-å †ä¼˜åŒ–-Dijkstra\" class=\"headerlink\" title=\"1.1.2. å †ä¼˜åŒ– $Dijkstra$\"></a>1.1.2. å †ä¼˜åŒ– $Dijkstra$</h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(mlogn)$ï¼š$n$ è¡¨ç¤ºç‚¹çš„æ•°é‡ã€$m$ è¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œç©ºé—´å¤æ‚åº¦ $O(m+n)$</p>\n</blockquote>\n<ul>\n<li>è¯¥ä»£ç å¯ä»¥è§£å†³å¸¦æœ‰é‡è¾¹å’Œè‡ªç¯çš„æœ‰å‘å›¾ã€æ— å‘å›¾ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=N;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"comment\">// h:æ¯ä¸ªç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// e:æ¯æ¡è¾¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ne:æ¯æ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// w:æ¯æ¡è¾¹çš„æƒé‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[N],ne[N],w[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// é‚»æ¥è¡¨å­˜å‚¨æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘èŠ‚ç‚¹b,ç¬¬idxè¾¹è¾¹æƒä¸ºc,ç¬¬idxæ¡çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„èµ·å§‹è¾¹(å¤´æ’æ³•æ€æƒ³),èµ·å§‹è¾¹æ›´æ–°ä¸ºå½“å‰è¾¹ç¼–å·,ç¼–å·è‡ªå¢</span></span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dijkstra</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–äº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// ç¼–å·ä¸º1çš„ç‚¹åˆ°è‡ªå·±è·ç¦»ä¸º0</span></span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tpriority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; heap; <span class=\"comment\">// å°æ ¹å †</span></span><br><span class=\"line\">\theap.<span class=\"built_in\">push</span>(&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;); <span class=\"comment\">// è·ç¦»ä¸º0,ç‚¹ç¼–å·ä¸º1(ç¬¬ä¸€å…³é”®å­—å­˜å‚¨è·ç¦»,å°æ ¹å †é»˜è®¤ä»å°åˆ°å¤§æ’åº;ç¬¬äºŒå…³é”®å­—å­˜å‚¨ç¼–å·)</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é˜Ÿåˆ—ä¸ä¸ºç©º</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(heap.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºå¤´ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=heap.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">\t\theap.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// v:å–å‡ºå¤´ç»“ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// distance:åˆ°æºèŠ‚ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v=t.second;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå·²è®¿é—®è¿‡,åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(st[v])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\tst[v]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†è¯¥ç»“ç‚¹çš„æ‰€æœ‰è¾¹,-1æ˜¯å°¾è¾¹(å› ä¸ºç”¨çš„æ˜¯å¤´æ’æ³•)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[v];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè·ç¦»æ›´çŸ­,åˆ™æ›´æ–°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[v]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[v]+w[i];</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// èŠ‚ç‚¹jçš„è·ç¦»å’Œç¼–å·åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t\theap.<span class=\"built_in\">push</span>(&#123;dist[j],j&#125;);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœä¸å¯è¾¾,è¿”å›-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n]; <span class=\"comment\">// å¦åˆ™èŒƒå›´åˆ°èŠ‚ç‚¹nçš„è·ç¦»</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">        <span class=\"comment\">// add(b,a,c); // æ— å‘å›¾</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">dijkstra</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-2-å­˜åœ¨è´Ÿæƒè¾¹\"><a href=\"#1-2-å­˜åœ¨è´Ÿæƒè¾¹\" class=\"headerlink\" title=\"1.2. å­˜åœ¨è´Ÿæƒè¾¹\"></a>1.2. å­˜åœ¨è´Ÿæƒè¾¹</h3><ul>\n<li><p>$SPFA$ ä¸€èˆ¬æ¯”è´å°”æ›¼ç¦ç‰¹å¿«ï¼Œå¦‚æœæƒ³æ±‚ä¸è¶…è¿‡ $k$ æ¡è¾¹çš„æœ€çŸ­è·¯ï¼Œåªèƒ½ç”¨è´å°”æ›¼ç¦ç‰¹ç®—æ³•æ¥åšã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯æ˜¯ä¸ä¸€å®šå­˜åœ¨çš„ï¼Œè´å°”æ›¼ç¦ç‰¹ç®—æ³•å¯ä»¥æ±‚å‡ºæ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œ<strong>å¦‚æœå­˜åœ¨è´Ÿæƒå›è·¯ï¼Œè´å°”æ›¼ç¦ç‰¹å¯èƒ½æ±‚ä¸å‡ºæœ€çŸ­è·¯å¾„</strong></p>\n</li>\n<li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š$SPFA$ çš„ä½¿ç”¨æ¡ä»¶æ˜¯ï¼Œ<strong>ä¸€å®šä¸å­˜åœ¨è´Ÿç¯ï¼ŒSPFAæœ¬è´¨ä¸Šæ˜¯å¯¹Bellman-Fordçš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰¾è´Ÿç¯</strong></p>\n</li>\n<li><p>$80%$ çš„æ­£æƒå›¾ä¹Ÿèƒ½ç”¨ $SPFA$ æ¥åšï¼Œä¸”æ—¶é—´æ•ˆç‡ä¼šæ¯” $dijkstra$ æ›´å¿«ï¼Œä½†æ˜¯å¦‚æœ $SPFA$ è¢«å¡äº†ï¼Œ$SPFA$ çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯$O(m)$ï¼Œæœ€åçš„æƒ…å†µæ˜¯$O(nm)$ï¼Œæ•°æ®ç»™çš„å·®æ˜¯å¯èƒ½è¾¾åˆ°æœ€åæƒ…å†µçš„ï¼Œå¦‚æœè¢«å¡äº†ï¼Œå°±æ¢æˆå †ä¼˜åŒ–çš„ $dijkstra$</p>\n</li>\n</ul>\n<h4 id=\"1-2-1-Bellman-Ford\"><a href=\"#1-2-1-Bellman-Ford\" class=\"headerlink\" title=\"1.2.1. Bellman-Ford\"></a>1.2.1. Bellman-Ford</h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ $O(nm)$ï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/855/\">853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Bellman-Fordç®—æ³•,æ³¨æ„è¯¥ç®—æ³•å­˜è¾¹éšä¾¿å­˜,åªè¦èƒ½éå†æ‰€æœ‰è¾¹å³å¯</span></span><br><span class=\"line\"><span class=\"comment\">// forå¾ªç¯næ¬¡,æ¯ä¸€æ¬¡å¾ªç¯æ‰€æœ‰è¾¹a,b,w,æ›´æ–°æœ€çŸ­è·ç¦»(ä¸‰è§’ä¸ç­‰å¼)</span></span><br><span class=\"line\"><span class=\"comment\">// è¿­ä»£kæ¬¡å,distæ•°ç»„ä»£è¡¨çš„å«ä¹‰:ä»1å·ç‚¹ç»è¿‡,ä¸è¶…è¿‡kæ¡è¾¹èµ°åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœç¬¬næ¬¡è¿­ä»£ådistæ•°ç»„æœ‰æ›´æ–°çš„è¯,è¯´æ˜ä¸€å®šå­˜åœ¨è´Ÿç¯,SPFAä¹Ÿå¯ä»¥æ‰¾è´Ÿç¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SPFAä¸€èˆ¬åœ¨ä»»ä½•æƒ…å†µéƒ½ä¼˜äºBellman-fort</span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯å¦‚æœæœ‰è¾¹æ•°é™åˆ¶,å¦‚AcWing853,æœ€å¤šç»è¿‡ä¸è¶…è¿‡kæ¡è¾¹çš„æœ€çŸ­è·¯å¾„,å¿…é¡»ç”¨Bellman-fort</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,k; <span class=\"comment\">// ç‚¹/è¾¹/æœ€çŸ­è·¯è¾¹é™åˆ¶</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N],backup[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Edge</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a,b,w;\t</span><br><span class=\"line\">&#125;edges[M];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bellman_ford</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç»“ç‚¹1åˆ°è‡ªèº«è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// èµ°kæ­¥è·¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;k;i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æŠŠdistå†™è¿›backup</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ¯æ¬¡å¤åˆ¶ä¸Šä¸€æ¬¡çš„çŠ¶æ€,å› ä¸ºè¦æ±‚åœ¨kæ­¥è·¯å†…çš„æœ€çŸ­è·ç¦»,æ‰€ä»¥ä¸èƒ½ç›´æ¥æ›´æ–°</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(backup,dist,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> a=edges[j].a,b=edges[j].b,w=edges[j].w;</span><br><span class=\"line\">\t\t\tdist[b]=<span class=\"built_in\">min</span>(dist[b],backup[a]+w);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºä»€ä¹ˆè¿™é‡Œä¸æ˜¯0x3f3f3f3få‘¢?</span></span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºå¦‚æœä¸¤ä¸ªç‚¹å¯¹äºç‚¹1éƒ½æ˜¯ä¸å¯è¾¾,ä½†ç›¸äº’å¯è¾¾,åˆ™å¯èƒ½åœ¨æ›´æ–°æ—¶å˜æˆä¸æ˜¯0x3f3f3f3fçš„æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰€ä»¥è¿™é‡Œç”¨ä¸€ä¸ªç±»ä¼¼äºæå¤§å€¼çš„æ•°æ¥æ›¿ä»£</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰æœ€çŸ­è·¯å¾„,è¿”å›0x3f3f3f3f,ä¸è¿”å›-1æ˜¯å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·ç¦»å°±æ˜¯-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]&gt;<span class=\"number\">0x3f3f3f3f</span>/<span class=\"number\">2</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0x3f3f3f3f</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,w;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;w;</span><br><span class=\"line\">\t\tedges[i]=&#123;a,b,w&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">bellman_ford</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"1-2-2-SPFA\"><a href=\"#1-2-2-SPFA\" class=\"headerlink\" title=\"1.2.2. SPFA\"></a>1.2.2. SPFA</h4><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ ä¸€èˆ¬ $O(m)$ï¼Œæœ€å $O(nm)$ï¼Œä»¥ä¸‹æ¨¡æ¿æ— è§†é‡è¾¹å’Œè‡ªç¯ï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/853/\">851. spfaæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SPFA:é•¿å¾—ç‰¹åˆ«åƒdijkstra,å¯¹äºè´Ÿæƒå›¾,å¦‚æœå‡ºé¢˜äººå¡SPFAçš„è¯å°±æ²¡åŠæ³•äº†</span></span><br><span class=\"line\"><span class=\"comment\">// åªè¦é˜Ÿåˆ—ä¸ä¸ºç©º</span></span><br><span class=\"line\"><span class=\"comment\">// å¼¹å‡ºé˜Ÿå¤´t,æ›´æ–°tçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],w[N],e[N],ne[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">spfa</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–distä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬ä¸€ä¸ªç‚¹çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">\tst[<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼¹å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ›´æ–°çŠ¶æ€</span></span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ¯æ¡è¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœè·ç¦»æ›´çŸ­åˆ™æ›´æ–°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[t]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[t]+w[i];</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœæ²¡è®¿é—®è¿‡åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(j);</span><br><span class=\"line\">\t\t\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸å¯è¾¾ä¸è¦è¿”å›-1,å› ä¸ºæœ‰å¯èƒ½æœ€çŸ­è·¯å¾„å°±æ˜¯-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(dist[n]==<span class=\"number\">0x3f3f3f3f3</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"number\">0x3f3f3f3f</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> dist[n];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"built_in\">spfa</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==<span class=\"number\">0x3f3f3f3f</span>)</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\tcout&lt;&lt;t&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"1-2-3-SPFAåˆ¤è´Ÿç¯\"><a href=\"#1-2-3-SPFAåˆ¤è´Ÿç¯\" class=\"headerlink\" title=\"1.2.3. SPFAåˆ¤è´Ÿç¯\"></a>1.2.3. SPFAåˆ¤è´Ÿç¯</h4><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/854/\">852. spfaåˆ¤æ–­è´Ÿç¯ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>ç»´æŠ¤ä¸€ä¸ª $cnt$ æ•°ç»„ï¼Œä» $[1,x]$ï¼Œ$cnt$ æ•°ç»„è®°å½•çš„æ˜¯åœ¨ç”¨ $SPFA$ æ‰¾$1$å·ç‚¹ åˆ° $n$å·ç‚¹æœ€çŸ­è·¯å¾„æ—¶ï¼Œè¿™ä¸ªæœ€çŸ­è·¯ä¸­è¾¹çš„ä¸ªæ•°ï¼Œå¦‚æœ $dist[j]&gt;dist[v]+w[i]$ è¯´æ˜æˆ‘ä» $v$ è¿™ä¸ªç‚¹åˆ° $j$ çš„è·ç¦»æ›´çŸ­ï¼Œé‚£ä¹ˆä» $i$ â†’ $j$ å°±æ›´æ–°ä¸º $i$ â†’ $v$ â†’ $j$ï¼Œæ‰€ä»¥è¾¹æ•°è¦ $+1$ ï¼Œå³æœ‰ $cnt[j]&#x3D;cnt[v]+1$ ï¼Œå¦‚æœåœ¨æŸä¸€æ¬¡ä¸­ $cnt[x]&gt;&#x3D;n$ äº†ï¼Œè¯´æ˜ä¸€å…±ç»å†äº† $n$ æ¡è¾¹ï¼Œæœ‰$n$ æ¡è¾¹å°±æœ‰ $n+1$ ä¸ªç‚¹ï¼Œä½†æ˜¯é¢˜ç›®ä¸­åªæœ‰ $n$ ä¸ªç‚¹ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªç‚¹å‡ºç°äº†ä¸¤æ¬¡ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆå› ä¸º $dist$ æ˜¯åœ¨ä¸æ–­å‡å°çš„ï¼Œæ‰€ä»¥è¿™ä¸€å®šæ˜¯ä¸€ä¸ªè´Ÿç¯</li>\n<li>è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸€å¼€å§‹æˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠ $1$ å·ç‚¹æ”¾è¿›é˜Ÿåˆ—æ¥æ‰¾ï¼Œå› ä¸ºé¢˜ç›®è¦æ‰¾çš„æ˜¯æ•´ä¸ªå›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ï¼Œè€Œä» $1$ å·ç‚¹å‡ºå‘ä¸ä¸€å®šèƒ½åˆ°è¿™ä¸ªè´Ÿç¯ï¼Œæ‰€ä»¥åšæ³•æ˜¯æŠŠæ‰€æœ‰ç‚¹éƒ½æ”¾è¿›é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°è¿™ä¸ªè´Ÿç¯</li>\n<li>æ³¨æ„ $SPFA$ åˆ¤è´Ÿç¯æ—¶é—´å¤æ‚åº¦å…¶å®è¿˜è›®é«˜çš„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],w[N],e[N],ne[N],idx;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N];</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// åˆ¤æ–­æœ‰æ— è´Ÿç¯,cnt[i]:è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªèŠ‚ç‚¹æ—¶å·²éå†è¿‡çš„èŠ‚ç‚¹æ€»æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,w[idx]=c,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">spfa</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„è¿™é‡Œä¸èƒ½æŠŠ1æ”¾è¿›å»,å› ä¸º1å¯èƒ½åˆ°ä¸äº†è¿™ä¸ªè´Ÿç¯</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"comment\">//\tq.push(1);</span></span><br><span class=\"line\">    <span class=\"comment\">// æŠŠæ¯ä¸ªç‚¹éƒ½æ”¾è¿›å»åˆ¤æ–­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tst[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[j]&gt;dist[t]+w[i]) &#123;</span><br><span class=\"line\">\t\t\t\tdist[j]=dist[t]+w[i];</span><br><span class=\"line\">\t\t\t\tcnt[j]=cnt[t]<span class=\"number\">+1</span>; <span class=\"comment\">// éå†åˆ°èŠ‚ç‚¹jæ—¶é‡åˆ°çš„èŠ‚ç‚¹æ€»æ•°+1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(cnt[j]&gt;=n) </span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// æœ‰è´Ÿç¯</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!st[j]) &#123;</span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(j);</span><br><span class=\"line\">\t\t\t\t\tst[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(a,b,c);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">spfa</span>()) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;Yes&quot;</span>;\t</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;No&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-å¤šæºæ±‡æœ€çŸ­è·¯\"><a href=\"#2-å¤šæºæ±‡æœ€çŸ­è·¯\" class=\"headerlink\" title=\"2. å¤šæºæ±‡æœ€çŸ­è·¯\"></a>2. å¤šæºæ±‡æœ€çŸ­è·¯</h2><blockquote>\n<p>æ±‚å¤šä¸ªèµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»</p>\n</blockquote>\n<h3 id=\"2-1-Floydç®—æ³•\"><a href=\"#2-1-Floydç®—æ³•\" class=\"headerlink\" title=\"2.1. Floydç®—æ³•\"></a>2.1. Floydç®—æ³•</h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(nÂ³)ï¼Œdpçš„å¤–è¡¨ï¼Œæš´åŠ›çš„å¿ƒï¼Œé¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/856/\">854. Floydæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“</a>ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½å¤„ç†é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ï¼Œä½†ä¸èƒ½å¤„ç†è´Ÿæƒå›è·¯ï¼Œå› ä¸ºå­˜åœ¨è´Ÿæƒå›è·¯æ—¶è·ç¦»ä¼šä¸æ–­å¾€ä¸‹è¶Šæ¥è¶Šå°ï¼Œæ— æ³•æ”¶æ•›</p>\n</blockquote>\n<ul>\n<li>æ³¨æ„ä¹‹æ‰€ä»¥ç”¨ $d[a][b]&gt;INF&#x2F;2$ æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸å¯è¾¾æ˜¯å› ä¸ºé¢˜ç›®ä¸­å­˜åœ¨è´Ÿæƒè¾¹æ›´æ–°åçš„è·ç¦»å¾ˆæœ‰å¯èƒ½æ¯” $INF$ å°ä¸€äº›ï¼Œè¦åœ¨å…¶ä»–è´Ÿæƒè¾¹å­˜åœ¨çš„æœ€çŸ­è·¯é—®é¢˜ä¸­ä¹Ÿæ³¨æ„ä¸€ä¸‹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼—æ´›ä¼Šå¾·:å¤šæºæœ€çŸ­è·¯,ç›´æ¥æš´åŠ›æš´æš´æš´å°±å®Œäº‹äº†</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬ä¸€å±‚å¾ªç¯,kä»1~n,æšä¸¾iâ†’jçš„ä¸­é—´èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬äºŒå±‚å¾ªç¯,iä»1~n</span></span><br><span class=\"line\"><span class=\"comment\">// ç¬¬ä¸‰å±‚å¾ªç¯,jä»1~n</span></span><br><span class=\"line\"><span class=\"comment\">// d[i,j]=min(d[i][j],d[i][k]+d[k][j])</span></span><br><span class=\"line\"><span class=\"comment\">// åŸç†:d[k,i,j]=d[k-1,i,k]+d[k-1,k,j],åŸºäºdp</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">2e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> INF=<span class=\"number\">1e9</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,Q; <span class=\"comment\">// Qæ˜¯å¾ªç¯æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N][N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">floyd</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">1</span>;k&lt;=n;k++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t\td[i][j]=<span class=\"built_in\">min</span>(d[i][j],d[i][k]+d[k][j]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;Q; </span><br><span class=\"line\">\t<span class=\"comment\">// é‡è¾¹å’Œè‡ªç¯çš„å¤„ç†æ–¹æ³•:</span></span><br><span class=\"line\">\t<span class=\"comment\">// é‡è¾¹:ä¿ç•™æœ€å°çš„è¾¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// è‡ªç¯:åˆ é™¤</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(i==j)</span><br><span class=\"line\">\t\t\t\td[i][j]=<span class=\"number\">0</span>; <span class=\"comment\">// è‡ªå·±åˆ°è‡ªå·±çš„è·ç¦»ä¸º0,èµ‹åˆå€¼,åæ¯”è¾ƒ,å»è‡ªç¯</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\td[i][j]=INF; <span class=\"comment\">// åˆå§‹åŒ–é‚»æ¥çŸ©é˜µä¸ºäº’ä¸å¯è¾¾</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\td[a][b]=<span class=\"built_in\">min</span>(d[a][b],c); <span class=\"comment\">// å»é‡è¾¹,ä¿ç•™æœ€å°è¾¹(é‚»æ¥çŸ©é˜µçš„åšæ³•)</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">floyd</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(Q--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[a][b]&gt;INF/<span class=\"number\">2</span>) <span class=\"comment\">// å¯èƒ½ä¼šè¢«æ›´æ–°å¾—ä¸æ˜¯INF</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>&lt;&lt;endl;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;d[a][b]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å­—ç¬¦ä¸²å“ˆå¸Œ","date":"2024-10-05T08:06:44.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å­—ç¬¦ä¸²å“ˆå¸Œ\n\n<!-- toc -->\n\n\n\n> è§†é¢‘é“¾æ¥ï¼š[F02 å­—ç¬¦ä¸²å“ˆå¸Œ bilibili](https://www.bilibili.com/video/BV1Ha411E7re/?spm_id_from=333.788&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* å­—ç¬¦ä¸²å“ˆå¸Œå³æŠŠä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„æˆä¸åŒçš„æ•´æ•°\n\n1. æŠŠå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ª $p$ è¿›åˆ¶æ•°å­—ï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„å­—ç¬¦ä¸² $s$\n   * å®šä¹‰å…¶ $Hash$ å‡½æ•°ä¸ºï¼š$ h(s)=\\sum_{i=1}^n s[i]Ã—p^{i-1}(mod M)$\n   * å¦‚ï¼šå­—ç¬¦ä¸² $abc$ ï¼Œå“ˆå¸Œå‡½æ•°å€¼ä¸º $ap^2+bp^1+c=97Ã—131^2+98Ã—131^1+99$ \n\n2. å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ä¸€æ ·ä½† $Hash$ å‡½æ•°å€¼ä¸€æ ·ï¼Œè¿™æ ·çš„ç°è±¡è¢«ç§°ä½œå“ˆå¸Œç¢°æ’\n3. è§£å†³å“ˆå¸Œç¢°æ’çš„æ–¹æ³•ï¼ˆæå¤§ç¨‹åº¦å‡å°‘å“ˆå¸Œç¢°æ’æ¬¡æ•°ï¼Œä½†è¿˜æ˜¯æœ‰å¯èƒ½ç¢°æ’ï¼‰\n   * å·§å¦™è®¾ç½® $p$ å’Œ $M$ çš„å€¼ï¼Œä¿è¯ $p$ å’Œ $M$ äº’è´¨\n   * $p$ é€šå¸¸ä¸ºï¼š$131$ æˆ– $13331$\n   * $M$ é€šå¸¸å–å¤§æ•´æ•° $2^{64}$ï¼ŒæŠŠå“ˆå¸Œå‡½æ•°å€¼ $h$ å®šä¹‰ä¸º $ULL$ï¼Œå¯¹äºæ— ç¬¦å·æ•°ï¼Œè¶…è¿‡åˆ™è‡ªåŠ¨æº¢å‡ºï¼Œç­‰ä»·äºå–æ¨¡äº†\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n``` c++\nconst int N=1e5+5; // æœ€å¤§å­—ç¬¦ä¸²çš„ä¸ªæ•°\nconst int M=1.5e3+10; // é¢˜ç›®ä¸­å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦\nconst int P=131; // 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’\n\n// p[i]:è¡¨ç¤ºpçš„iæ¬¡æ–¹\n// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼\nULL p[N],h[N];\nchar s[M]; // å­˜å‚¨å­—ç¬¦ä¸²\nint n;\n```\n\n\n\n## 2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\n\n* æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚å‰ç¼€å’Œ\n\n![image-20240312215219122](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312215219122.png)\n\n\n\n``` c++\n// é¢„å¤„ç†hashå‡½æ•°çš„å‰ç¼€å’Œ,æ—¶é—´å¤æ‚åº¦O(n)\nvoid init() {\n\t// p^0=1,ç©ºä¸²å“ˆå¸Œå€¼ä¸º0\n\tp[0]=1,h[0]=0;\n\tfor(int i=1;i<=n;i++) {\n\t\tp[i]=p[i-1]*P;\t\n\t\th[i]=h[i-1]*P+s[i]; // å‰ç¼€å’Œè®¡ç®—å…¬å¼\n\t}\n}\n```\n\n\n\n## 3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\n\n* æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚åŒºé—´å’Œ\n\n![image-20240312220823283](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312220823283.png)\n\n``` c++\n// è®¡ç®—s[l~r](å­ä¸²)çš„hashå€¼,æ—¶é—´å¤æ‚åº¦O(1)\nULL get(int l,int r) {\n\treturn h[r]-h[l-1]*p[r-l+1]; // åŒºé—´å’Œè®¡ç®—å­—ä¸²çš„hashå€¼\n}\n```\n\n\n\n## 4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\n\n* ç›´æ¥è®¡ç®—è¿™ä¸¤ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼å³å¯ï¼Œè‹¥ç›¸ç­‰è¯´æ˜å­ä¸²ç›¸åŒï¼Œåä¹‹äº¦ç„¶\n\n``` c++\n// åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\nbool substr(int l1,int r1,int l2,int r2) {\n\treturn get(l1,r1)==get(l2,r2);\n}\n```\n\n\n\n## 5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370\n\n> é¢˜ç›®é“¾æ¥ï¼š[P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°·](https://www.luogu.com.cn/problem/P3370)\n\n![image-20240312221054653](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312221054653.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ULL;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // å­—ç¬¦ä¸²æ•°é‡ä¸Šç•Œ\nconst int M=1.5e3+10; // å•ä¸ªå­—ç¬¦ä¸²æœ€å¤§é•¿åº¦\nconst int P=131; // 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’\n\n// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼\nULL h[N]; \nchar str[M]; // å­˜å‚¨å­—ç¬¦ä¸²\nset<ULL> s; // å­˜å‚¨æ¯ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼,é›†åˆè‡ªåŠ¨å»é‡\n\nint n;\n\n// è®¡ç®—å­—ç¬¦ä¸²sçš„å“ˆå¸Œå€¼\nULL Hash(char str[]) {\n\th[0]=0; // ç©ºä¸²å“ˆå¸Œå€¼ä¸º0\n\tint len=strlen(str+1); // è®¡ç®—é•¿åº¦\n\tfor(int i=1;i<=len;i++) {\n\t\th[i]=h[i-1]*P+str[i];\t\n\t}\n\treturn h[len]; // è¿”å›æ­¤ä¸²çš„å“ˆå¸Œå€¼\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%str\",str+1); // ä»ä¸‹æ ‡1å¼€å§‹å­˜\n\t\ts.insert(Hash(str)); // å­˜å‚¨ç­”æ¡ˆ\n\t}\n\tcout<<s.size();\n\treturn 0;\n\n```\n","source":"_posts/å­—ç¬¦ä¸²å“ˆå¸Œ.md","raw":"---\ntitle: å­—ç¬¦ä¸²å“ˆå¸Œ\ndate: 2024-10-05 16:06:44\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å­—ç¬¦ä¸²\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å­—ç¬¦ä¸²å“ˆå¸Œ\n\n<!-- toc -->\n\n\n\n> è§†é¢‘é“¾æ¥ï¼š[F02 å­—ç¬¦ä¸²å“ˆå¸Œ bilibili](https://www.bilibili.com/video/BV1Ha411E7re/?spm_id_from=333.788&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* å­—ç¬¦ä¸²å“ˆå¸Œå³æŠŠä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„æˆä¸åŒçš„æ•´æ•°\n\n1. æŠŠå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ª $p$ è¿›åˆ¶æ•°å­—ï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„å­—ç¬¦ä¸² $s$\n   * å®šä¹‰å…¶ $Hash$ å‡½æ•°ä¸ºï¼š$ h(s)=\\sum_{i=1}^n s[i]Ã—p^{i-1}(mod M)$\n   * å¦‚ï¼šå­—ç¬¦ä¸² $abc$ ï¼Œå“ˆå¸Œå‡½æ•°å€¼ä¸º $ap^2+bp^1+c=97Ã—131^2+98Ã—131^1+99$ \n\n2. å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ä¸€æ ·ä½† $Hash$ å‡½æ•°å€¼ä¸€æ ·ï¼Œè¿™æ ·çš„ç°è±¡è¢«ç§°ä½œå“ˆå¸Œç¢°æ’\n3. è§£å†³å“ˆå¸Œç¢°æ’çš„æ–¹æ³•ï¼ˆæå¤§ç¨‹åº¦å‡å°‘å“ˆå¸Œç¢°æ’æ¬¡æ•°ï¼Œä½†è¿˜æ˜¯æœ‰å¯èƒ½ç¢°æ’ï¼‰\n   * å·§å¦™è®¾ç½® $p$ å’Œ $M$ çš„å€¼ï¼Œä¿è¯ $p$ å’Œ $M$ äº’è´¨\n   * $p$ é€šå¸¸ä¸ºï¼š$131$ æˆ– $13331$\n   * $M$ é€šå¸¸å–å¤§æ•´æ•° $2^{64}$ï¼ŒæŠŠå“ˆå¸Œå‡½æ•°å€¼ $h$ å®šä¹‰ä¸º $ULL$ï¼Œå¯¹äºæ— ç¬¦å·æ•°ï¼Œè¶…è¿‡åˆ™è‡ªåŠ¨æº¢å‡ºï¼Œç­‰ä»·äºå–æ¨¡äº†\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n``` c++\nconst int N=1e5+5; // æœ€å¤§å­—ç¬¦ä¸²çš„ä¸ªæ•°\nconst int M=1.5e3+10; // é¢˜ç›®ä¸­å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦\nconst int P=131; // 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’\n\n// p[i]:è¡¨ç¤ºpçš„iæ¬¡æ–¹\n// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼\nULL p[N],h[N];\nchar s[M]; // å­˜å‚¨å­—ç¬¦ä¸²\nint n;\n```\n\n\n\n## 2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\n\n* æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚å‰ç¼€å’Œ\n\n![image-20240312215219122](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312215219122.png)\n\n\n\n``` c++\n// é¢„å¤„ç†hashå‡½æ•°çš„å‰ç¼€å’Œ,æ—¶é—´å¤æ‚åº¦O(n)\nvoid init() {\n\t// p^0=1,ç©ºä¸²å“ˆå¸Œå€¼ä¸º0\n\tp[0]=1,h[0]=0;\n\tfor(int i=1;i<=n;i++) {\n\t\tp[i]=p[i-1]*P;\t\n\t\th[i]=h[i-1]*P+s[i]; // å‰ç¼€å’Œè®¡ç®—å…¬å¼\n\t}\n}\n```\n\n\n\n## 3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\n\n* æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚åŒºé—´å’Œ\n\n![image-20240312220823283](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312220823283.png)\n\n``` c++\n// è®¡ç®—s[l~r](å­ä¸²)çš„hashå€¼,æ—¶é—´å¤æ‚åº¦O(1)\nULL get(int l,int r) {\n\treturn h[r]-h[l-1]*p[r-l+1]; // åŒºé—´å’Œè®¡ç®—å­—ä¸²çš„hashå€¼\n}\n```\n\n\n\n## 4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\n\n* ç›´æ¥è®¡ç®—è¿™ä¸¤ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼å³å¯ï¼Œè‹¥ç›¸ç­‰è¯´æ˜å­ä¸²ç›¸åŒï¼Œåä¹‹äº¦ç„¶\n\n``` c++\n// åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\nbool substr(int l1,int r1,int l2,int r2) {\n\treturn get(l1,r1)==get(l2,r2);\n}\n```\n\n\n\n## 5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370\n\n> é¢˜ç›®é“¾æ¥ï¼š[P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°·](https://www.luogu.com.cn/problem/P3370)\n\n![image-20240312221054653](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312221054653.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ULL;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // å­—ç¬¦ä¸²æ•°é‡ä¸Šç•Œ\nconst int M=1.5e3+10; // å•ä¸ªå­—ç¬¦ä¸²æœ€å¤§é•¿åº¦\nconst int P=131; // 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’\n\n// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼\nULL h[N]; \nchar str[M]; // å­˜å‚¨å­—ç¬¦ä¸²\nset<ULL> s; // å­˜å‚¨æ¯ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼,é›†åˆè‡ªåŠ¨å»é‡\n\nint n;\n\n// è®¡ç®—å­—ç¬¦ä¸²sçš„å“ˆå¸Œå€¼\nULL Hash(char str[]) {\n\th[0]=0; // ç©ºä¸²å“ˆå¸Œå€¼ä¸º0\n\tint len=strlen(str+1); // è®¡ç®—é•¿åº¦\n\tfor(int i=1;i<=len;i++) {\n\t\th[i]=h[i-1]*P+str[i];\t\n\t}\n\treturn h[len]; // è¿”å›æ­¤ä¸²çš„å“ˆå¸Œå€¼\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%str\",str+1); // ä»ä¸‹æ ‡1å¼€å§‹å­˜\n\t\ts.insert(Hash(str)); // å­˜å‚¨ç­”æ¡ˆ\n\t}\n\tcout<<s.size();\n\treturn 0;\n\n```\n","slug":"å­—ç¬¦ä¸²å“ˆå¸Œ","published":1,"updated":"2024-10-05T08:13:56.458Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsl0011c0nfd9q59ut4","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å­—ç¬¦ä¸²å“ˆå¸Œ\">å­—ç¬¦ä¸²å“ˆå¸Œ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#2-%E6%B1%82%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C%E5%80%BC\">2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼</a></li>\n<li><a href=\"#3-%E6%B1%82%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E4%B8%B2%E7%9A%84%E5%93%88%E5%B8%8C%E5%80%BC\">3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼</a></li>\n<li><a href=\"#4-%E5%88%A4%E6%96%AD%E4%B8%A4%E4%B8%AA%E5%AD%90%E4%B8%B2%E6%98%AF%E5%90%A6%E7%9B%B8%E5%90%8C\">4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</a></li>\n<li><a href=\"#5-%E4%BE%8B%E9%A2%98%E6%B4%9B%E8%B0%B7-p3370\">5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1Ha411E7re/?spm_id_from=333.788&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F02 å­—ç¬¦ä¸²å“ˆå¸Œ bilibili</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å­—ç¬¦ä¸²å“ˆå¸Œå³æŠŠä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„æˆä¸åŒçš„æ•´æ•°</li>\n</ul>\n<ol>\n<li><p>æŠŠå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ª $p$ è¿›åˆ¶æ•°å­—ï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„å­—ç¬¦ä¸² $s$</p>\n<ul>\n<li>å®šä¹‰å…¶ $Hash$ å‡½æ•°ä¸ºï¼š$ h(s)&#x3D;\\sum_{i&#x3D;1}^n s[i]Ã—p^{i-1}(mod M)$</li>\n<li>å¦‚ï¼šå­—ç¬¦ä¸² $abc$ ï¼Œå“ˆå¸Œå‡½æ•°å€¼ä¸º $ap^2+bp^1+c&#x3D;97Ã—131^2+98Ã—131^1+99$</li>\n</ul>\n</li>\n<li><p>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ä¸€æ ·ä½† $Hash$ å‡½æ•°å€¼ä¸€æ ·ï¼Œè¿™æ ·çš„ç°è±¡è¢«ç§°ä½œå“ˆå¸Œç¢°æ’</p>\n</li>\n<li><p>è§£å†³å“ˆå¸Œç¢°æ’çš„æ–¹æ³•ï¼ˆæå¤§ç¨‹åº¦å‡å°‘å“ˆå¸Œç¢°æ’æ¬¡æ•°ï¼Œä½†è¿˜æ˜¯æœ‰å¯èƒ½ç¢°æ’ï¼‰</p>\n<ul>\n<li>å·§å¦™è®¾ç½® $p$ å’Œ $M$ çš„å€¼ï¼Œä¿è¯ $p$ å’Œ $M$ äº’è´¨</li>\n<li>$p$ é€šå¸¸ä¸ºï¼š$131$ æˆ– $13331$</li>\n<li>$M$ é€šå¸¸å–å¤§æ•´æ•° $2^{64}$ï¼ŒæŠŠå“ˆå¸Œå‡½æ•°å€¼ $h$ å®šä¹‰ä¸º $ULL$ï¼Œå¯¹äºæ— ç¬¦å·æ•°ï¼Œè¶…è¿‡åˆ™è‡ªåŠ¨æº¢å‡ºï¼Œç­‰ä»·äºå–æ¨¡äº†</li>\n</ul>\n</li>\n</ol>\n<h2><span id=\"1-æ•°æ®ç»“æ„\">1. æ•°æ®ç»“æ„</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§å­—ç¬¦ä¸²çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1.5e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> P=<span class=\"number\">131</span>; <span class=\"comment\">// 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p[i]:è¡¨ç¤ºpçš„iæ¬¡æ–¹</span></span><br><span class=\"line\"><span class=\"comment\">// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">ULL p[N],h[N];</span><br><span class=\"line\"><span class=\"type\">char</span> s[M]; <span class=\"comment\">// å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\">2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼</span></h2><ul>\n<li>æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚å‰ç¼€å’Œ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312215219122.png\" alt=\"image-20240312215219122\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é¢„å¤„ç†hashå‡½æ•°çš„å‰ç¼€å’Œ,æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// p^0=1,ç©ºä¸²å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\tp[<span class=\"number\">0</span>]=<span class=\"number\">1</span>,h[<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tp[i]=p[i<span class=\"number\">-1</span>]*P;\t</span><br><span class=\"line\">\t\th[i]=h[i<span class=\"number\">-1</span>]*P+s[i]; <span class=\"comment\">// å‰ç¼€å’Œè®¡ç®—å…¬å¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\">3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼</span></h2><ul>\n<li>æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚åŒºé—´å’Œ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312220823283.png\" alt=\"image-20240312220823283\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®¡ç®—s[l~r](å­ä¸²)çš„hashå€¼,æ—¶é—´å¤æ‚åº¦O(1)</span></span><br><span class=\"line\"><span class=\"function\">ULL <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> h[r]-h[l<span class=\"number\">-1</span>]*p[r-l<span class=\"number\">+1</span>]; <span class=\"comment\">// åŒºé—´å’Œè®¡ç®—å­—ä¸²çš„hashå€¼</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\">4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</span></h2><ul>\n<li>ç›´æ¥è®¡ç®—è¿™ä¸¤ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼å³å¯ï¼Œè‹¥ç›¸ç­‰è¯´æ˜å­ä¸²ç›¸åŒï¼Œåä¹‹äº¦ç„¶</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">substr</span><span class=\"params\">(<span class=\"type\">int</span> l1,<span class=\"type\">int</span> r1,<span class=\"type\">int</span> l2,<span class=\"type\">int</span> r2)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"built_in\">get</span>(l1,r1)==<span class=\"built_in\">get</span>(l2,r2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"5-ä¾‹é¢˜æ´›è°·-p3370\">5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3370\">P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°·</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312221054653.png\" alt=\"image-20240312221054653\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ULL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// å­—ç¬¦ä¸²æ•°é‡ä¸Šç•Œ</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1.5e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// å•ä¸ªå­—ç¬¦ä¸²æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> P=<span class=\"number\">131</span>; <span class=\"comment\">// 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">ULL h[N]; </span><br><span class=\"line\"><span class=\"type\">char</span> str[M]; <span class=\"comment\">// å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class=\"line\">set&lt;ULL&gt; s; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼,é›†åˆè‡ªåŠ¨å»é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—å­—ç¬¦ä¸²sçš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\"><span class=\"function\">ULL <span class=\"title\">Hash</span><span class=\"params\">(<span class=\"type\">char</span> str[])</span> </span>&#123;</span><br><span class=\"line\">\th[<span class=\"number\">0</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç©ºä¸²å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> len=<span class=\"built_in\">strlen</span>(str<span class=\"number\">+1</span>); <span class=\"comment\">// è®¡ç®—é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len;i++) &#123;</span><br><span class=\"line\">\t\th[i]=h[i<span class=\"number\">-1</span>]*P+str[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> h[len]; <span class=\"comment\">// è¿”å›æ­¤ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%str&quot;</span>,str<span class=\"number\">+1</span>); <span class=\"comment\">// ä»ä¸‹æ ‡1å¼€å§‹å­˜</span></span><br><span class=\"line\">\t\ts.<span class=\"built_in\">insert</span>(<span class=\"built_in\">Hash</span>(str)); <span class=\"comment\">// å­˜å‚¨ç­”æ¡ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å­—ç¬¦ä¸²å“ˆå¸Œ\"><a href=\"#å­—ç¬¦ä¸²å“ˆå¸Œ\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²å“ˆå¸Œ\"></a>å­—ç¬¦ä¸²å“ˆå¸Œ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#2-%E6%B1%82%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C%E5%80%BC\">2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼</a></li>\n<li><a href=\"#3-%E6%B1%82%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E4%B8%B2%E7%9A%84%E5%93%88%E5%B8%8C%E5%80%BC\">3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼</a></li>\n<li><a href=\"#4-%E5%88%A4%E6%96%AD%E4%B8%A4%E4%B8%AA%E5%AD%90%E4%B8%B2%E6%98%AF%E5%90%A6%E7%9B%B8%E5%90%8C\">4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</a></li>\n<li><a href=\"#5-%E4%BE%8B%E9%A2%98%E6%B4%9B%E8%B0%B7-p3370\">5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1Ha411E7re/?spm_id_from=333.788&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F02 å­—ç¬¦ä¸²å“ˆå¸Œ bilibili</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å­—ç¬¦ä¸²å“ˆå¸Œå³æŠŠä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„æˆä¸åŒçš„æ•´æ•°</li>\n</ul>\n<ol>\n<li><p>æŠŠå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ª $p$ è¿›åˆ¶æ•°å­—ï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„å­—ç¬¦ä¸² $s$</p>\n<ul>\n<li>å®šä¹‰å…¶ $Hash$ å‡½æ•°ä¸ºï¼š$ h(s)&#x3D;\\sum_{i&#x3D;1}^n s[i]Ã—p^{i-1}(mod M)$</li>\n<li>å¦‚ï¼šå­—ç¬¦ä¸² $abc$ ï¼Œå“ˆå¸Œå‡½æ•°å€¼ä¸º $ap^2+bp^1+c&#x3D;97Ã—131^2+98Ã—131^1+99$</li>\n</ul>\n</li>\n<li><p>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ä¸€æ ·ä½† $Hash$ å‡½æ•°å€¼ä¸€æ ·ï¼Œè¿™æ ·çš„ç°è±¡è¢«ç§°ä½œå“ˆå¸Œç¢°æ’</p>\n</li>\n<li><p>è§£å†³å“ˆå¸Œç¢°æ’çš„æ–¹æ³•ï¼ˆæå¤§ç¨‹åº¦å‡å°‘å“ˆå¸Œç¢°æ’æ¬¡æ•°ï¼Œä½†è¿˜æ˜¯æœ‰å¯èƒ½ç¢°æ’ï¼‰</p>\n<ul>\n<li>å·§å¦™è®¾ç½® $p$ å’Œ $M$ çš„å€¼ï¼Œä¿è¯ $p$ å’Œ $M$ äº’è´¨</li>\n<li>$p$ é€šå¸¸ä¸ºï¼š$131$ æˆ– $13331$</li>\n<li>$M$ é€šå¸¸å–å¤§æ•´æ•° $2^{64}$ï¼ŒæŠŠå“ˆå¸Œå‡½æ•°å€¼ $h$ å®šä¹‰ä¸º $ULL$ï¼Œå¯¹äºæ— ç¬¦å·æ•°ï¼Œè¶…è¿‡åˆ™è‡ªåŠ¨æº¢å‡ºï¼Œç­‰ä»·äºå–æ¨¡äº†</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"1-æ•°æ®ç»“æ„\"><a href=\"#1-æ•°æ®ç»“æ„\" class=\"headerlink\" title=\"1. æ•°æ®ç»“æ„\"></a>1. æ•°æ®ç»“æ„</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§å­—ç¬¦ä¸²çš„ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1.5e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> P=<span class=\"number\">131</span>; <span class=\"comment\">// 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p[i]:è¡¨ç¤ºpçš„iæ¬¡æ–¹</span></span><br><span class=\"line\"><span class=\"comment\">// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">ULL p[N],h[N];</span><br><span class=\"line\"><span class=\"type\">char</span> s[M]; <span class=\"comment\">// å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\"><a href=\"#2-æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\" class=\"headerlink\" title=\"2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼\"></a>2. æ±‚å­—ç¬¦ä¸²å“ˆå¸Œå€¼</h2><ul>\n<li>æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚å‰ç¼€å’Œ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312215219122.png\" alt=\"image-20240312215219122\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é¢„å¤„ç†hashå‡½æ•°çš„å‰ç¼€å’Œ,æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// p^0=1,ç©ºä¸²å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\tp[<span class=\"number\">0</span>]=<span class=\"number\">1</span>,h[<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tp[i]=p[i<span class=\"number\">-1</span>]*P;\t</span><br><span class=\"line\">\t\th[i]=h[i<span class=\"number\">-1</span>]*P+s[i]; <span class=\"comment\">// å‰ç¼€å’Œè®¡ç®—å…¬å¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\"><a href=\"#3-æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\" class=\"headerlink\" title=\"3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼\"></a>3. æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼</h2><ul>\n<li>æ±‚å­—ç¬¦ä¸²å­—ä¸²çš„å“ˆå¸Œå€¼ç›¸å½“äºæ±‚åŒºé—´å’Œ</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312220823283.png\" alt=\"image-20240312220823283\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è®¡ç®—s[l~r](å­ä¸²)çš„hashå€¼,æ—¶é—´å¤æ‚åº¦O(1)</span></span><br><span class=\"line\"><span class=\"function\">ULL <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> h[r]-h[l<span class=\"number\">-1</span>]*p[r-l<span class=\"number\">+1</span>]; <span class=\"comment\">// åŒºé—´å’Œè®¡ç®—å­—ä¸²çš„hashå€¼</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\"><a href=\"#4-åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\" class=\"headerlink\" title=\"4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ\"></a>4. åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</h2><ul>\n<li>ç›´æ¥è®¡ç®—è¿™ä¸¤ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼å³å¯ï¼Œè‹¥ç›¸ç­‰è¯´æ˜å­ä¸²ç›¸åŒï¼Œåä¹‹äº¦ç„¶</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­ä¸¤ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">substr</span><span class=\"params\">(<span class=\"type\">int</span> l1,<span class=\"type\">int</span> r1,<span class=\"type\">int</span> l2,<span class=\"type\">int</span> r2)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"built_in\">get</span>(l1,r1)==<span class=\"built_in\">get</span>(l2,r2);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"5-ã€ä¾‹é¢˜ã€‘æ´›è°·-P3370\"><a href=\"#5-ã€ä¾‹é¢˜ã€‘æ´›è°·-P3370\" class=\"headerlink\" title=\"5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370\"></a>5. ã€ä¾‹é¢˜ã€‘æ´›è°· P3370</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3370\">P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°·</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240312221054653.png\" alt=\"image-20240312221054653\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ULL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// å­—ç¬¦ä¸²æ•°é‡ä¸Šç•Œ</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1.5e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// å•ä¸ªå­—ç¬¦ä¸²æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> P=<span class=\"number\">131</span>; <span class=\"comment\">// 131,13331ä¸å®¹æ˜“å“ˆå¸Œç¢°æ’</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// h[i]:è¡¨ç¤ºs[1~i]çš„å“ˆå¸Œå€¼,å¦‚h[2]è¡¨ç¤ºå­—ç¬¦ä¸²så‰ä¸¤ä¸ªå­—ç¬¦ç»„æˆå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">ULL h[N]; </span><br><span class=\"line\"><span class=\"type\">char</span> str[M]; <span class=\"comment\">// å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class=\"line\">set&lt;ULL&gt; s; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼,é›†åˆè‡ªåŠ¨å»é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—å­—ç¬¦ä¸²sçš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\"><span class=\"function\">ULL <span class=\"title\">Hash</span><span class=\"params\">(<span class=\"type\">char</span> str[])</span> </span>&#123;</span><br><span class=\"line\">\th[<span class=\"number\">0</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç©ºä¸²å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> len=<span class=\"built_in\">strlen</span>(str<span class=\"number\">+1</span>); <span class=\"comment\">// è®¡ç®—é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len;i++) &#123;</span><br><span class=\"line\">\t\th[i]=h[i<span class=\"number\">-1</span>]*P+str[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> h[len]; <span class=\"comment\">// è¿”å›æ­¤ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%str&quot;</span>,str<span class=\"number\">+1</span>); <span class=\"comment\">// ä»ä¸‹æ ‡1å¼€å§‹å­˜</span></span><br><span class=\"line\">\t\ts.<span class=\"built_in\">insert</span>(<span class=\"built_in\">Hash</span>(str)); <span class=\"comment\">// å­˜å‚¨ç­”æ¡ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"å­—å…¸æ ‘","date":"2024-10-05T07:51:31.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# å­—å…¸æ ‘\n\n<!-- toc -->\n\n\n\n> è§†é¢‘é“¾æ¥ï¼š[F06 å­—å…¸æ ‘(Trie)](https://www.bilibili.com/video/BV1yA4y1Z74t/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* æ˜¯å¿«é€Ÿæ’å…¥å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²çš„å¤šå‰æ ‘ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹ç¼–å·ä¸º0ï¼Œå…¶ä½™èŠ‚ç‚¹æ ‡è¯†è·¯å¾„ï¼Œè¿˜å¯ä»¥æ ‡è®°å•è¯æ’å…¥çš„æ¬¡æ•°ï¼Œè¾¹è¡¨ç¤ºå­—ç¬¦ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303203511065.png\" alt=\"image-20240303203511065\" style=\"zoom:80%;\" />\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n``` c++\nconst int N=1e5+5;\nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n```\n\n\n\n## 2. æ’å…¥æ“ä½œ\n\n* insertå‡½æ•°ï¼Œæ’å…¥å•ä¸ªå•è¯å¹¶å»ºç«‹å­—å…¸æ ‘\n\n``` c++\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(char *s) {\n\tint p=0; // æ ¹èŠ‚ç‚¹ç¼–å·ä¸º0\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n```\n\n![image-20240303235131060](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303235131060.png)\n\n\n\n## 3. æŸ¥è¯¢æ“ä½œ\n\n* queryå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯è¢«æ’å…¥çš„æ¬¡æ•°\n\n``` c++\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n```\n\n\n\n## 4. å®Œæ•´ä»£ç \n\n### 4.1. å­—ç¬¦æ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦\n\nconst int N=1e5+5;\nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\twhile(n--) {\n\t\tchar op;\n\t\tscanf(\"%s%s\",&op,s);\n\t\tif(op=='I') insert(s);\n\t\telse cout<<query(s)<<'\\n';\n\t}\n\treturn 0;\n}\n```\n\n\n\n### 4.2. å­—ç¬¦ä¸²\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦\n\n// æ–‡ä»¶æ€»é•¿åº¦ä¸è¶…è¿‡32K,æ‰€ä»¥æ€»å­—ç¬¦ä¸è¶…è¿‡:32K=32*1024\nconst int N=32*1024+10; \nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(string s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;i<s.length();i++) {\n\t\tint j=s[i]-'A'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(string s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;i<s.length();i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n\nint main() {\n//\twhile(scanf(\"%s\",s)) {\n//\t\tinsert(s);\n//\t}\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tstring s;\n\twhile(cin>>s) {\n\t\tinsert(s);\n\t}\n\tcout<<idx+1; // åŠ ä¸Šæ ¹èŠ‚ç‚¹\n\treturn 0;\n}\n```\n","source":"_posts/å­—å…¸æ ‘.md","raw":"---\ntitle: å­—å…¸æ ‘\ndate: 2024-10-05 15:51:31\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å­—ç¬¦ä¸²\n    - æ•°æ®ç»“æ„\n    - æ ‘\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# å­—å…¸æ ‘\n\n<!-- toc -->\n\n\n\n> è§†é¢‘é“¾æ¥ï¼š[F06 å­—å…¸æ ‘(Trie)](https://www.bilibili.com/video/BV1yA4y1Z74t/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* æ˜¯å¿«é€Ÿæ’å…¥å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²çš„å¤šå‰æ ‘ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹ç¼–å·ä¸º0ï¼Œå…¶ä½™èŠ‚ç‚¹æ ‡è¯†è·¯å¾„ï¼Œè¿˜å¯ä»¥æ ‡è®°å•è¯æ’å…¥çš„æ¬¡æ•°ï¼Œè¾¹è¡¨ç¤ºå­—ç¬¦ã€‚\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303203511065.png\" alt=\"image-20240303203511065\" style=\"zoom:80%;\" />\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n``` c++\nconst int N=1e5+5;\nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n```\n\n\n\n## 2. æ’å…¥æ“ä½œ\n\n* insertå‡½æ•°ï¼Œæ’å…¥å•ä¸ªå•è¯å¹¶å»ºç«‹å­—å…¸æ ‘\n\n``` c++\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(char *s) {\n\tint p=0; // æ ¹èŠ‚ç‚¹ç¼–å·ä¸º0\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n```\n\n![image-20240303235131060](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303235131060.png)\n\n\n\n## 3. æŸ¥è¯¢æ“ä½œ\n\n* queryå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯è¢«æ’å…¥çš„æ¬¡æ•°\n\n``` c++\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n```\n\n\n\n## 4. å®Œæ•´ä»£ç \n\n### 4.1. å­—ç¬¦æ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦\n\nconst int N=1e5+5;\nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(char *s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;s[i];i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\twhile(n--) {\n\t\tchar op;\n\t\tscanf(\"%s%s\",&op,s);\n\t\tif(op=='I') insert(s);\n\t\telse cout<<query(s)<<'\\n';\n\t}\n\treturn 0;\n}\n```\n\n\n\n### 4.2. å­—ç¬¦ä¸²\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦\n\n// æ–‡ä»¶æ€»é•¿åº¦ä¸è¶…è¿‡32K,æ‰€ä»¥æ€»å­—ç¬¦ä¸è¶…è¿‡:32K=32*1024\nconst int N=32*1024+10; \nchar s[N]; // æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦\nint ch[N][26]; // ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25\nint cnt[N]; // cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°\nint idx; // éå†å› å­\n\n// s:å•è¯(å­—ç¬¦ä¸²)\nvoid insert(string s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’\n\t// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦\n\tfor(int i=0;i<s.length();i++) {\n\t\tint j=s[i]-'A'; // a~zæ˜ å°„åˆ°0~25\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­\n\t\tif(!ch[p][j]) ch[p][j]=++idx; // èŠ‚ç‚¹ç¼–å·+1\n\t\t// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹\n\t\tp=ch[p][j];\n\t}\n\tcnt[p]++; // ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 \n}\n\n// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„\nint query(string s) {\n\tint p=0; // ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥\n\t// æ‰«æå­—ç¬¦ä¸²\n\tfor(int i=0;i<s.length();i++) {\n\t\tint j=s[i]-'a'; // è½¬æ¢ä¸ºæ˜ å°„å€¼\n\t\tif(!ch[p][j]) return 0; // å¦‚æœæ‰¾ä¸åˆ°è¿”å›0\n\t\t// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥\n\t\tp=ch[p][j];\n\t}\n\t// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°\n\treturn cnt[p];\n}\n\nint main() {\n//\twhile(scanf(\"%s\",s)) {\n//\t\tinsert(s);\n//\t}\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tstring s;\n\twhile(cin>>s) {\n\t\tinsert(s);\n\t}\n\tcout<<idx+1; // åŠ ä¸Šæ ¹èŠ‚ç‚¹\n\treturn 0;\n}\n```\n","slug":"å­—å…¸æ ‘","published":1,"updated":"2024-10-05T07:58:34.471Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsm0014c0nfdrob7ugu","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"å­—å…¸æ ‘\">å­—å…¸æ ‘</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#2-%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C\">2. æ’å…¥æ“ä½œ</a></li>\n<li><a href=\"#3-%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C\">3. æŸ¥è¯¢æ“ä½œ</a></li>\n<li><a href=\"#4-%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">4. å®Œæ•´ä»£ç </a><ul>\n<li><a href=\"#41-%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84\">4.1. å­—ç¬¦æ•°ç»„</a></li>\n<li><a href=\"#42-%E5%AD%97%E7%AC%A6%E4%B8%B2\">4.2. å­—ç¬¦ä¸²</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1yA4y1Z74t/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F06 å­—å…¸æ ‘(Trie)</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>æ˜¯å¿«é€Ÿæ’å…¥å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²çš„å¤šå‰æ ‘ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹ç¼–å·ä¸º0ï¼Œå…¶ä½™èŠ‚ç‚¹æ ‡è¯†è·¯å¾„ï¼Œè¿˜å¯ä»¥æ ‡è®°å•è¯æ’å…¥çš„æ¬¡æ•°ï¼Œè¾¹è¡¨ç¤ºå­—ç¬¦ã€‚</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303203511065.png\" alt=\"image-20240303203511065\" style=\"zoom:80%;\">\n\n\n\n<h2><span id=\"1-æ•°æ®ç»“æ„\">1. æ•°æ®ç»“æ„</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ’å…¥æ“ä½œ\">2. æ’å…¥æ“ä½œ</span></h2><ul>\n<li>insertå‡½æ•°ï¼Œæ’å…¥å•ä¸ªå•è¯å¹¶å»ºç«‹å­—å…¸æ ‘</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// æ ¹èŠ‚ç‚¹ç¼–å·ä¸º0</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303235131060.png\" alt=\"image-20240303235131060\"></p>\n<h2><span id=\"3-æŸ¥è¯¢æ“ä½œ\">3. æŸ¥è¯¢æ“ä½œ</span></h2><ul>\n<li>queryå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯è¢«æ’å…¥çš„æ¬¡æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-å®Œæ•´ä»£ç \">4. å®Œæ•´ä»£ç </span></h2><h3><span id=\"41-å­—ç¬¦æ•°ç»„\">4.1. å­—ç¬¦æ•°ç»„</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> op;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%s%s&quot;</span>,&amp;op,s);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"string\">&#x27;I&#x27;</span>) <span class=\"built_in\">insert</span>(s);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> cout&lt;&lt;<span class=\"built_in\">query</span>(s)&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"42-å­—ç¬¦ä¸²\">4.2. å­—ç¬¦ä¸²</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ–‡ä»¶æ€»é•¿åº¦ä¸è¶…è¿‡32K,æ‰€ä»¥æ€»å­—ç¬¦ä¸è¶…è¿‡:32K=32*1024</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">32</span>*<span class=\"number\">1024</span><span class=\"number\">+10</span>; </span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;A&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//\twhile(scanf(&quot;%s&quot;,s)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tinsert(s);</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(cin&gt;&gt;s) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">insert</span>(s);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;idx<span class=\"number\">+1</span>; <span class=\"comment\">// åŠ ä¸Šæ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"å­—å…¸æ ‘\"><a href=\"#å­—å…¸æ ‘\" class=\"headerlink\" title=\"å­—å…¸æ ‘\"></a>å­—å…¸æ ‘</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#2-%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C\">2. æ’å…¥æ“ä½œ</a></li>\n<li><a href=\"#3-%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C\">3. æŸ¥è¯¢æ“ä½œ</a></li>\n<li><a href=\"#4-%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">4. å®Œæ•´ä»£ç </a><ul>\n<li><a href=\"#41-%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84\">4.1. å­—ç¬¦æ•°ç»„</a></li>\n<li><a href=\"#42-%E5%AD%97%E7%AC%A6%E4%B8%B2\">4.2. å­—ç¬¦ä¸²</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1yA4y1Z74t/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">F06 å­—å…¸æ ‘(Trie)</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>æ˜¯å¿«é€Ÿæ’å…¥å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²çš„å¤šå‰æ ‘ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹ç¼–å·ä¸º0ï¼Œå…¶ä½™èŠ‚ç‚¹æ ‡è¯†è·¯å¾„ï¼Œè¿˜å¯ä»¥æ ‡è®°å•è¯æ’å…¥çš„æ¬¡æ•°ï¼Œè¾¹è¡¨ç¤ºå­—ç¬¦ã€‚</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303203511065.png\" alt=\"image-20240303203511065\" style=\"zoom:80%;\" />\n\n\n\n<h2 id=\"1-æ•°æ®ç»“æ„\"><a href=\"#1-æ•°æ®ç»“æ„\" class=\"headerlink\" title=\"1. æ•°æ®ç»“æ„\"></a>1. æ•°æ®ç»“æ„</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ’å…¥æ“ä½œ\"><a href=\"#2-æ’å…¥æ“ä½œ\" class=\"headerlink\" title=\"2. æ’å…¥æ“ä½œ\"></a>2. æ’å…¥æ“ä½œ</h2><ul>\n<li>insertå‡½æ•°ï¼Œæ’å…¥å•ä¸ªå•è¯å¹¶å»ºç«‹å­—å…¸æ ‘</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// æ ¹èŠ‚ç‚¹ç¼–å·ä¸º0</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240303235131060.png\" alt=\"image-20240303235131060\"></p>\n<h2 id=\"3-æŸ¥è¯¢æ“ä½œ\"><a href=\"#3-æŸ¥è¯¢æ“ä½œ\" class=\"headerlink\" title=\"3. æŸ¥è¯¢æ“ä½œ\"></a>3. æŸ¥è¯¢æ“ä½œ</h2><ul>\n<li>queryå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯è¢«æ’å…¥çš„æ¬¡æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-å®Œæ•´ä»£ç \"><a href=\"#4-å®Œæ•´ä»£ç \" class=\"headerlink\" title=\"4. å®Œæ•´ä»£ç \"></a>4. å®Œæ•´ä»£ç </h2><h3 id=\"4-1-å­—ç¬¦æ•°ç»„\"><a href=\"#4-1-å­—ç¬¦æ•°ç»„\" class=\"headerlink\" title=\"4.1. å­—ç¬¦æ•°ç»„\"></a>4.1. å­—ç¬¦æ•°ç»„</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(<span class=\"type\">char</span> *s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;s[i];i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> op;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%s%s&quot;</span>,&amp;op,s);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"string\">&#x27;I&#x27;</span>) <span class=\"built_in\">insert</span>(s);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> cout&lt;&lt;<span class=\"built_in\">query</span>(s)&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"4-2-å­—ç¬¦ä¸²\"><a href=\"#4-2-å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"4.2. å­—ç¬¦ä¸²\"></a>4.2. å­—ç¬¦ä¸²</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: èŠ‚ç‚¹è¡¨ç¤ºæ•°å­—,è¾¹è¡¨ç¤ºå­—ç¬¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ–‡ä»¶æ€»é•¿åº¦ä¸è¶…è¿‡32K,æ‰€ä»¥æ€»å­—ç¬¦ä¸è¶…è¿‡:32K=32*1024</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">32</span>*<span class=\"number\">1024</span><span class=\"number\">+10</span>; </span><br><span class=\"line\"><span class=\"type\">char</span> s[N]; <span class=\"comment\">// æ¯æ¬¡è¾“å…¥çš„å­—ç¬¦ä¸²,Næ˜¯æ¯ä¸ªå•è¯çš„æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> ch[N][<span class=\"number\">26</span>]; <span class=\"comment\">// ch[p][j]:ä»èŠ‚ç‚¹pæ²¿ç€jè¿™æ¡è¾¹èµ°åˆ°çš„å­èŠ‚ç‚¹,è¾¹ä¸º26ä¸ªå°å†™å­—æ¯æ˜ å°„å€¼ä¸º0~25</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[p]:ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯çš„æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// s:å•è¯(å­—ç¬¦ä¸²)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">insert</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾å­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;A&#x27;</span>; <span class=\"comment\">// a~zæ˜ å°„åˆ°0~25</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸æ˜¯å„¿å­èŠ‚ç‚¹,åˆ›å»ºå„¿å­,pæŒ‡é’ˆå†èµ°åˆ°å„¿å­</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) ch[p][j]=++idx; <span class=\"comment\">// èŠ‚ç‚¹ç¼–å·+1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿™ä¸ªå­—ç¬¦æ˜¯å„¿å­èŠ‚ç‚¹,pæŒ‡é’ˆèµ°åˆ°å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcnt[p]++; <span class=\"comment\">// ä»¥èŠ‚ç‚¹pç»“å°¾çš„å•è¯æ’å…¥çš„æ¬¡æ•°+1 </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æŸä¸ªå•è¯å‡ºç°çš„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">query</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> p=<span class=\"number\">0</span>; <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æŸ¥</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰«æå­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=s[i]-<span class=\"string\">&#x27;a&#x27;</span>; <span class=\"comment\">// è½¬æ¢ä¸ºæ˜ å°„å€¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!ch[p][j]) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// å¦‚æœæ‰¾ä¸åˆ°è¿”å›0</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ‰å­—æ¯s[i],åˆ™èµ°ä¸‹æ¥</span></span><br><span class=\"line\">\t\tp=ch[p][j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœèƒ½èµ°åˆ°è¯å°¾,åˆ™è¿”å›æ’å…¥æ¬¡æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> cnt[p];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//\twhile(scanf(&quot;%s&quot;,s)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tinsert(s);</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(cin&gt;&gt;s) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">insert</span>(s);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;idx<span class=\"number\">+1</span>; <span class=\"comment\">// åŠ ä¸Šæ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å¹¶æŸ¥é›†","date":"2024-10-03T04:51:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¹¶æŸ¥é›†\n\n[toc]\n\n## 0. æ¦‚è¿°\n\n* å¹¶æŸ¥é›†æ˜¯ç”¨äºå¤„ç†ä¸ç›¸äº¤é›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢çš„æ ‘å½¢æ•°æ®ç»“æ„\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n* å‡†å¤‡ä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æ‰€æœ‰ç‚¹çš„è¿é€šåˆ†é‡ï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰\n\n``` c++\nconst int maxn=2e5+5;\nint fa[maxn];\n```\n\n\n\n## 2. æ ¸å¿ƒå‡½æ•°\n\n### 2.1. findå‡½æ•°\n\n* ç”¨äºæŸ¥è¯¢æŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹\n\n``` c++\n// æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹\nint find(int x) {\n\t// æ ¹èŠ‚ç‚¹\n\tif(x==fa[x]) return x;\n//\treturn find(fa[x]); // é€’å½’æŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\n\t// å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾(æœ‰æ•ˆé™ä½é€’å½’çš„æ—¶é—´å¤æ‚åº¦)\n\t// åœ¨è¿”å›çš„è·¯ä¸Š,é¡ºå¸¦ä¿®æ”¹å„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºæ ¹\n\t// è¿™å¥ä»£ç çš„æ„æ€æ˜¯:fa[x]=find(fa[x]),return fa[x]\n\treturn fa[x]=find(fa[x]);\n}\n```\n\n![image-20240410144829099](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031254549.png)\n\n* å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾å’Œæ™®é€šæŸ¥æ‰¾çš„åŒºåˆ«ä»…ä»…åœ¨äºåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ›´æ–°ä¸ºæ ¹\n\n![image-20240410144851687](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031253600.png)\n\n\n\n### 2.2. joinå‡½æ•°\n\n* ç”¨äºè¿æ¥ä¸¤ä¸ªå¹¶æŸ¥é›†\n\n``` c++\nvoid join(int a,int b) {\n    // bçš„æ ¹ä½œä¸ºaçš„æ ¹\n    fa[find(a)]=find(b); // bçš„çˆ¶èŠ‚ç‚¹ä½œä¸ºaåŸæœ¬çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\n}\n```\n\n\n\n## 3. æ¨¡æ¿\n\n> é¢˜ç›®é“¾æ¥ï¼š[P3367 ã€æ¨¡æ¿ã€‘å¹¶æŸ¥é›† - æ´›è°·](https://www.luogu.com.cn/problem/P3367)\n\n* 1ï¼‰åˆå§‹åŒ–æ—¶å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºè‡ªå·±\n* 2ï¼‰å¦‚æœ $a$ å’Œ $b$ çš„æ ¹ç›¸åŒï¼Œåˆ™è¡¨æ˜äºŒè€…å¤„äºåŒä¸€å¹¶æŸ¥é›†ä¸­\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1e4+4;\nint fa[maxn]; // è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\nint find(int x) {\n\tif(x==fa[x]) \n\t\treturn x;\n\telse\n\t\t// è·¯å¾„å‹ç¼©\n\t\treturn fa[x]=find(fa[x]);\n}\nvoid join(int l,int r) {\n\tfa[find(l)]=find(r); // xçš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å˜ä¸ºyçš„çˆ¶èŠ‚ç‚¹(åˆå¹¶)\n    // å³æŠŠlçš„é›†åˆçš„æ ¹èŠ‚ç‚¹çš„çˆ¶äº²è®¾ç½®ä¸ºré›†åˆçš„æ ¹èŠ‚ç‚¹\n}\nint main() {\n\tint n,m;\n\tcin>>n>>m;\n\tint op,l,r; // opæ˜¯æ“ä½œ,lå’Œræ˜¯åˆå¹¶æˆ–åˆ¤æ–­å…³ç³»çš„ä¸¤ä¸ªå¹¶æŸ¥é›†\n\t// 1. åˆå§‹åŒ–æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±\n\tfor(int i=1;i<=n;i++) \n\t\tfa[i]=i;\n\twhile(m--) {\n\t\tcin>>op>>l>>r;\n\t\tif(op==1)\n\t\t\tjoin(l,r);\n\t\telse if(op==2) {\n\t\t\tif(find(l)==find(r)) // åœ¨åŒä¸€å¹¶æŸ¥é›†ä¸­\n\t\t\t\tcout<<\"Y\\n\";\n\t\t\telse\n\t\t\t\tcout<<\"N\\n\";\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\n\n### 4.1. ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\n\n* åªéœ€è¦åœ¨åˆå¹¶æ—¶è¿›è¡Œè®¡ç®—å³å¯ï¼Œå°†å­é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°åŠ ç­‰åˆ°çˆ¶é›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸­\n\n``` c\nint cnt[N]; // cnt[i]:ä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„é›†åˆçš„å…ƒç´ ä¸ªæ•° \n\n// ç»´æŠ¤é›†åˆæ€»æ•°çš„åˆå¹¶\nvoid merge(int a,int b) {\n\tint x=find(a);\n\tint y=find(b);\n\tif(x==y) return;\n\tfa[x]=y; // aæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹ä½œä¸ºbæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹çš„å„¿å­èŠ‚ç‚¹\n\t// å¦‚æœé‡åˆ°é‡å¤çš„è¯­å¥,é‚£ä¹ˆæ­¤æ—¶x==yæˆç«‹,æ‰€ä»¥ä¸å†é‡å¤è®¡æ•°\n\tcnt[y]+=cnt[x];\n}\n```\n\n### 4.2. ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\n\n* æœ‰å¤šå°‘ä¸ªé›†åˆå³æ˜¯çœ‹æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹çš„ $x==fa[x]$ å³æœ‰å¤šå°‘ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ— éœ€ç»´æŠ¤ï¼Œ$O(n)$ éå†ä¸€éå³å¯\n\n\n\n## 5. å®Œå¤‡å¹¶æŸ¥é›†\n\n* éå¸¸å¥½ç”¨\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\n// å®Œå¤‡å¹¶æŸ¥é›†\nstruct DSU {\n\t// fa:æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹\n\t// p:æ¯ä¸ªé›†åˆçš„ç»“ç‚¹æ•°é‡\n\t// e:æ¯ä¸ªé›†åˆè¾¹çš„æ•°é‡\n\t// f:è®°å½•é›†åˆä¸­æ˜¯å¦å­˜åœ¨è‡ªç¯\n\tvector<int> fa,p,e,f; \n\n\t// åˆå§‹åŒ–ä¸€ä¸ªå¹¶æŸ¥é›†\n\tDSU(int n) {\n\t\t// å¤§å°ä¸ºn+1,ä¸‹æ ‡ä»0~n,æˆ‘ä»¬å¯ä»¥ä»1å¼€å§‹ä½¿ç”¨\n\t\t\n\t\tfa.resize(n+1); // å¤§å°è°ƒæ•´ä¸ºn+1 \n\t\t// faä»èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®,ä»0å¼€å§‹é€’å¢èµ‹å€¼,å³çˆ¶ç»“ç‚¹ä¸ºè‡ªå·±\n\t\t// å³fa[0]=0,fa[1]=1,...,fa[n]=n\n\t\tiota(fa.begin(),fa.end(),0); \n\t\tp.resize(n+1,1); // æ¯ä¸ªç»“ç‚¹å•ç‹¬æˆä¸ºä¸€ä¸ªé›†åˆ,å¤§å°ä¸º1\n\t\te.resize(n+1); // åˆå§‹æ—¶æ¯ä¸ªé›†åˆæ²¡æœ‰è¾¹\n\t\tf.resize(n+1); // åˆå§‹æ—¶æ²¡æœ‰è‡ªç¯\n\t}\n\t// æ‰¾xæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹\n\tint get(int x) {\n\t\t// æ‰¾xçš„æ ¹èŠ‚ç‚¹,å¹¶ä½œè·¯å¾„å‹ç¼©\n\t\twhile(x!=fa[x]) {\n\t\t\tx=fa[x]=fa[fa[x]];\n\t\t}\n\t\treturn x;\n\t}\n\t// å‡è®¾xæ‰€åœ¨é›†åˆä¸ºA,å‡è®¾yæ‰€åœ¨é›†åˆä¸ºB,åˆå¹¶Aå’ŒB\n\tbool merge(int x,int y) {\n\t\t// è®¾xæ˜¯yçš„ç¥–å…ˆ\n\t\tif(x==y) f[get(x)]=1; // å¦‚æœè‡ªå·±å’Œè‡ªå·±åˆå¹¶,åˆ™å­˜åœ¨è‡ªç¯\n\t\tx=get(x),y=get(y);\n\t\te[x]++; // é›†åˆAè¾¹æ•°+1\n\t\tif(x==y) return false;\n\t\tif(x<y) swap(x,y); // æŒ‡å®šå°†ç¼–å·å°çš„åˆå¹¶åˆ°ç¼–å·å¤§çš„ä¸Š\n\t\tfa[y]=x; // é›†åˆBçˆ¶ç»“ç‚¹å˜ä¸ºx\n\t\t// è‹¥Bæœ‰è‡ªç¯,åˆ™åˆå¹¶åAæœ‰è‡ªç¯,æˆ–è¿ç®—æ˜¯ä¸€èµ·çœ‹,æœ‰1åˆ™1\n\t\t// AåŠ ä¸ŠBä¸­è¾¹çš„æ•°é‡å’Œç»“ç‚¹æ•°é‡\n\t\tf[x]|=f[y],p[x]+=p[y],e[x]+=e[y];\n\t\treturn true;\n\t}\n\t// åˆ¤æ–­xå’Œyæ˜¯å¦åœ¨åŒä¸€é›†åˆä¸­\n\tbool same(int x,int y) {\n\t\treturn get(x)==get(y);\n\t}\n\t// åˆ¤æ–­xæ‰€åœ¨é›†åˆæ˜¯å¦å­˜åœ¨è‡ªç¯\n\tbool F(int x) {\n\t\treturn f[get(x)];\n\t}\n\t// è¾“å‡ºé›†åˆä¸­ç‚¹çš„æ•°é‡\n\tint size(int x) {\n\t\treturn p[get(x)];\n\t}\n\t// è¾“å‡ºé›†åˆä¸­è¾¹çš„æ•°é‡\n\tint E(int x) {\n\t\treturn e[get(x)];\n\t}\n};\n\nint main() {\n\t// ç”¨å®Œå¤‡å¹¶æŸ¥é›†è§£æ¿å­é¢˜\n\tint n,m;\n\tcin>>n>>m;\n\tDSU dsu(n); // åˆ›å»ºå¹¶æŸ¥é›†\n\twhile(m--) {\n\t\tint op,a,b;\n\t\tcin>>op;\n\t\tif(op==1) {\n\t\t\tcin>>a>>b;\n\t\t\tdsu.merge(a,b); // åˆå¹¶a,bæ‰€åœ¨é›†åˆ\n\t\t} else {\n\t\t\tcin>>a>>b;\n\t\t\tif(dsu.same(a,b)) {\n\t\t\t\tcout<<\"Y\"<<endl;\n\t\t\t} else {\n\t\t\t\tcout<<\"N\"<<endl;\n\t\t\t}\n\t\t}\n\t}\t\n\treturn 0;\n}\n```\n","source":"_posts/å¹¶æŸ¥é›†.md","raw":"---\ntitle: å¹¶æŸ¥é›†\ndate: 2024-10-03 12:51:46\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¹¶æŸ¥é›†\n\n[toc]\n\n## 0. æ¦‚è¿°\n\n* å¹¶æŸ¥é›†æ˜¯ç”¨äºå¤„ç†ä¸ç›¸äº¤é›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢çš„æ ‘å½¢æ•°æ®ç»“æ„\n\n\n\n## 1. æ•°æ®ç»“æ„\n\n* å‡†å¤‡ä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æ‰€æœ‰ç‚¹çš„è¿é€šåˆ†é‡ï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰\n\n``` c++\nconst int maxn=2e5+5;\nint fa[maxn];\n```\n\n\n\n## 2. æ ¸å¿ƒå‡½æ•°\n\n### 2.1. findå‡½æ•°\n\n* ç”¨äºæŸ¥è¯¢æŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹\n\n``` c++\n// æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹\nint find(int x) {\n\t// æ ¹èŠ‚ç‚¹\n\tif(x==fa[x]) return x;\n//\treturn find(fa[x]); // é€’å½’æŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\n\t// å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾(æœ‰æ•ˆé™ä½é€’å½’çš„æ—¶é—´å¤æ‚åº¦)\n\t// åœ¨è¿”å›çš„è·¯ä¸Š,é¡ºå¸¦ä¿®æ”¹å„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºæ ¹\n\t// è¿™å¥ä»£ç çš„æ„æ€æ˜¯:fa[x]=find(fa[x]),return fa[x]\n\treturn fa[x]=find(fa[x]);\n}\n```\n\n![image-20240410144829099](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031254549.png)\n\n* å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾å’Œæ™®é€šæŸ¥æ‰¾çš„åŒºåˆ«ä»…ä»…åœ¨äºåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ›´æ–°ä¸ºæ ¹\n\n![image-20240410144851687](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031253600.png)\n\n\n\n### 2.2. joinå‡½æ•°\n\n* ç”¨äºè¿æ¥ä¸¤ä¸ªå¹¶æŸ¥é›†\n\n``` c++\nvoid join(int a,int b) {\n    // bçš„æ ¹ä½œä¸ºaçš„æ ¹\n    fa[find(a)]=find(b); // bçš„çˆ¶èŠ‚ç‚¹ä½œä¸ºaåŸæœ¬çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\n}\n```\n\n\n\n## 3. æ¨¡æ¿\n\n> é¢˜ç›®é“¾æ¥ï¼š[P3367 ã€æ¨¡æ¿ã€‘å¹¶æŸ¥é›† - æ´›è°·](https://www.luogu.com.cn/problem/P3367)\n\n* 1ï¼‰åˆå§‹åŒ–æ—¶å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºè‡ªå·±\n* 2ï¼‰å¦‚æœ $a$ å’Œ $b$ çš„æ ¹ç›¸åŒï¼Œåˆ™è¡¨æ˜äºŒè€…å¤„äºåŒä¸€å¹¶æŸ¥é›†ä¸­\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1e4+4;\nint fa[maxn]; // è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\nint find(int x) {\n\tif(x==fa[x]) \n\t\treturn x;\n\telse\n\t\t// è·¯å¾„å‹ç¼©\n\t\treturn fa[x]=find(fa[x]);\n}\nvoid join(int l,int r) {\n\tfa[find(l)]=find(r); // xçš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å˜ä¸ºyçš„çˆ¶èŠ‚ç‚¹(åˆå¹¶)\n    // å³æŠŠlçš„é›†åˆçš„æ ¹èŠ‚ç‚¹çš„çˆ¶äº²è®¾ç½®ä¸ºré›†åˆçš„æ ¹èŠ‚ç‚¹\n}\nint main() {\n\tint n,m;\n\tcin>>n>>m;\n\tint op,l,r; // opæ˜¯æ“ä½œ,lå’Œræ˜¯åˆå¹¶æˆ–åˆ¤æ–­å…³ç³»çš„ä¸¤ä¸ªå¹¶æŸ¥é›†\n\t// 1. åˆå§‹åŒ–æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±\n\tfor(int i=1;i<=n;i++) \n\t\tfa[i]=i;\n\twhile(m--) {\n\t\tcin>>op>>l>>r;\n\t\tif(op==1)\n\t\t\tjoin(l,r);\n\t\telse if(op==2) {\n\t\t\tif(find(l)==find(r)) // åœ¨åŒä¸€å¹¶æŸ¥é›†ä¸­\n\t\t\t\tcout<<\"Y\\n\";\n\t\t\telse\n\t\t\t\tcout<<\"N\\n\";\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\n\n### 4.1. ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\n\n* åªéœ€è¦åœ¨åˆå¹¶æ—¶è¿›è¡Œè®¡ç®—å³å¯ï¼Œå°†å­é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°åŠ ç­‰åˆ°çˆ¶é›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸­\n\n``` c\nint cnt[N]; // cnt[i]:ä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„é›†åˆçš„å…ƒç´ ä¸ªæ•° \n\n// ç»´æŠ¤é›†åˆæ€»æ•°çš„åˆå¹¶\nvoid merge(int a,int b) {\n\tint x=find(a);\n\tint y=find(b);\n\tif(x==y) return;\n\tfa[x]=y; // aæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹ä½œä¸ºbæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹çš„å„¿å­èŠ‚ç‚¹\n\t// å¦‚æœé‡åˆ°é‡å¤çš„è¯­å¥,é‚£ä¹ˆæ­¤æ—¶x==yæˆç«‹,æ‰€ä»¥ä¸å†é‡å¤è®¡æ•°\n\tcnt[y]+=cnt[x];\n}\n```\n\n### 4.2. ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\n\n* æœ‰å¤šå°‘ä¸ªé›†åˆå³æ˜¯çœ‹æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹çš„ $x==fa[x]$ å³æœ‰å¤šå°‘ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ— éœ€ç»´æŠ¤ï¼Œ$O(n)$ éå†ä¸€éå³å¯\n\n\n\n## 5. å®Œå¤‡å¹¶æŸ¥é›†\n\n* éå¸¸å¥½ç”¨\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\n// å®Œå¤‡å¹¶æŸ¥é›†\nstruct DSU {\n\t// fa:æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹\n\t// p:æ¯ä¸ªé›†åˆçš„ç»“ç‚¹æ•°é‡\n\t// e:æ¯ä¸ªé›†åˆè¾¹çš„æ•°é‡\n\t// f:è®°å½•é›†åˆä¸­æ˜¯å¦å­˜åœ¨è‡ªç¯\n\tvector<int> fa,p,e,f; \n\n\t// åˆå§‹åŒ–ä¸€ä¸ªå¹¶æŸ¥é›†\n\tDSU(int n) {\n\t\t// å¤§å°ä¸ºn+1,ä¸‹æ ‡ä»0~n,æˆ‘ä»¬å¯ä»¥ä»1å¼€å§‹ä½¿ç”¨\n\t\t\n\t\tfa.resize(n+1); // å¤§å°è°ƒæ•´ä¸ºn+1 \n\t\t// faä»èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®,ä»0å¼€å§‹é€’å¢èµ‹å€¼,å³çˆ¶ç»“ç‚¹ä¸ºè‡ªå·±\n\t\t// å³fa[0]=0,fa[1]=1,...,fa[n]=n\n\t\tiota(fa.begin(),fa.end(),0); \n\t\tp.resize(n+1,1); // æ¯ä¸ªç»“ç‚¹å•ç‹¬æˆä¸ºä¸€ä¸ªé›†åˆ,å¤§å°ä¸º1\n\t\te.resize(n+1); // åˆå§‹æ—¶æ¯ä¸ªé›†åˆæ²¡æœ‰è¾¹\n\t\tf.resize(n+1); // åˆå§‹æ—¶æ²¡æœ‰è‡ªç¯\n\t}\n\t// æ‰¾xæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹\n\tint get(int x) {\n\t\t// æ‰¾xçš„æ ¹èŠ‚ç‚¹,å¹¶ä½œè·¯å¾„å‹ç¼©\n\t\twhile(x!=fa[x]) {\n\t\t\tx=fa[x]=fa[fa[x]];\n\t\t}\n\t\treturn x;\n\t}\n\t// å‡è®¾xæ‰€åœ¨é›†åˆä¸ºA,å‡è®¾yæ‰€åœ¨é›†åˆä¸ºB,åˆå¹¶Aå’ŒB\n\tbool merge(int x,int y) {\n\t\t// è®¾xæ˜¯yçš„ç¥–å…ˆ\n\t\tif(x==y) f[get(x)]=1; // å¦‚æœè‡ªå·±å’Œè‡ªå·±åˆå¹¶,åˆ™å­˜åœ¨è‡ªç¯\n\t\tx=get(x),y=get(y);\n\t\te[x]++; // é›†åˆAè¾¹æ•°+1\n\t\tif(x==y) return false;\n\t\tif(x<y) swap(x,y); // æŒ‡å®šå°†ç¼–å·å°çš„åˆå¹¶åˆ°ç¼–å·å¤§çš„ä¸Š\n\t\tfa[y]=x; // é›†åˆBçˆ¶ç»“ç‚¹å˜ä¸ºx\n\t\t// è‹¥Bæœ‰è‡ªç¯,åˆ™åˆå¹¶åAæœ‰è‡ªç¯,æˆ–è¿ç®—æ˜¯ä¸€èµ·çœ‹,æœ‰1åˆ™1\n\t\t// AåŠ ä¸ŠBä¸­è¾¹çš„æ•°é‡å’Œç»“ç‚¹æ•°é‡\n\t\tf[x]|=f[y],p[x]+=p[y],e[x]+=e[y];\n\t\treturn true;\n\t}\n\t// åˆ¤æ–­xå’Œyæ˜¯å¦åœ¨åŒä¸€é›†åˆä¸­\n\tbool same(int x,int y) {\n\t\treturn get(x)==get(y);\n\t}\n\t// åˆ¤æ–­xæ‰€åœ¨é›†åˆæ˜¯å¦å­˜åœ¨è‡ªç¯\n\tbool F(int x) {\n\t\treturn f[get(x)];\n\t}\n\t// è¾“å‡ºé›†åˆä¸­ç‚¹çš„æ•°é‡\n\tint size(int x) {\n\t\treturn p[get(x)];\n\t}\n\t// è¾“å‡ºé›†åˆä¸­è¾¹çš„æ•°é‡\n\tint E(int x) {\n\t\treturn e[get(x)];\n\t}\n};\n\nint main() {\n\t// ç”¨å®Œå¤‡å¹¶æŸ¥é›†è§£æ¿å­é¢˜\n\tint n,m;\n\tcin>>n>>m;\n\tDSU dsu(n); // åˆ›å»ºå¹¶æŸ¥é›†\n\twhile(m--) {\n\t\tint op,a,b;\n\t\tcin>>op;\n\t\tif(op==1) {\n\t\t\tcin>>a>>b;\n\t\t\tdsu.merge(a,b); // åˆå¹¶a,bæ‰€åœ¨é›†åˆ\n\t\t} else {\n\t\t\tcin>>a>>b;\n\t\t\tif(dsu.same(a,b)) {\n\t\t\t\tcout<<\"Y\"<<endl;\n\t\t\t} else {\n\t\t\t\tcout<<\"N\"<<endl;\n\t\t\t}\n\t\t}\n\t}\t\n\treturn 0;\n}\n```\n","slug":"å¹¶æŸ¥é›†","published":1,"updated":"2024-10-05T07:59:21.134Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsn0018c0nf15ts5r7s","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å¹¶æŸ¥é›†\">å¹¶æŸ¥é›†</span></h1><p>[toc]</p>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å¹¶æŸ¥é›†æ˜¯ç”¨äºå¤„ç†ä¸ç›¸äº¤é›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢çš„æ ‘å½¢æ•°æ®ç»“æ„</li>\n</ul>\n<h2><span id=\"1-æ•°æ®ç»“æ„\">1. æ•°æ®ç»“æ„</span></h2><ul>\n<li>å‡†å¤‡ä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æ‰€æœ‰ç‚¹çš„è¿é€šåˆ†é‡ï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">2e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[maxn];</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ ¸å¿ƒå‡½æ•°\">2. æ ¸å¿ƒå‡½æ•°</span></h2><h3><span id=\"21-findå‡½æ•°\">2.1. findå‡½æ•°</span></h3><ul>\n<li>ç”¨äºæŸ¥è¯¢æŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\"><span class=\"comment\">//\treturn find(fa[x]); // é€’å½’æŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾(æœ‰æ•ˆé™ä½é€’å½’çš„æ—¶é—´å¤æ‚åº¦)</span></span><br><span class=\"line\">\t<span class=\"comment\">// åœ¨è¿”å›çš„è·¯ä¸Š,é¡ºå¸¦ä¿®æ”¹å„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºæ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™å¥ä»£ç çš„æ„æ€æ˜¯:fa[x]=find(fa[x]),return fa[x]</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031254549.png\" alt=\"image-20240410144829099\"></p>\n<ul>\n<li>å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾å’Œæ™®é€šæŸ¥æ‰¾çš„åŒºåˆ«ä»…ä»…åœ¨äºåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ›´æ–°ä¸ºæ ¹</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031253600.png\" alt=\"image-20240410144851687\"></p>\n<h3><span id=\"22-joinå‡½æ•°\">2.2. joinå‡½æ•°</span></h3><ul>\n<li>ç”¨äºè¿æ¥ä¸¤ä¸ªå¹¶æŸ¥é›†</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">join</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// bçš„æ ¹ä½œä¸ºaçš„æ ¹</span></span><br><span class=\"line\">    fa[<span class=\"built_in\">find</span>(a)]=<span class=\"built_in\">find</span>(b); <span class=\"comment\">// bçš„çˆ¶èŠ‚ç‚¹ä½œä¸ºaåŸæœ¬çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-æ¨¡æ¿\">3. æ¨¡æ¿</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3367\">P3367 ã€æ¨¡æ¿ã€‘å¹¶æŸ¥é›† - æ´›è°·</a></p>\n</blockquote>\n<ul>\n<li>1ï¼‰åˆå§‹åŒ–æ—¶å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºè‡ªå·±</li>\n<li>2ï¼‰å¦‚æœ $a$ å’Œ $b$ çš„æ ¹ç›¸åŒï¼Œåˆ™è¡¨æ˜äºŒè€…å¤„äºåŒä¸€å¹¶æŸ¥é›†ä¸­</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e4</span><span class=\"number\">+4</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[maxn]; <span class=\"comment\">// è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) </span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">join</span><span class=\"params\">(<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\tfa[<span class=\"built_in\">find</span>(l)]=<span class=\"built_in\">find</span>(r); <span class=\"comment\">// xçš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å˜ä¸ºyçš„çˆ¶èŠ‚ç‚¹(åˆå¹¶)</span></span><br><span class=\"line\">    <span class=\"comment\">// å³æŠŠlçš„é›†åˆçš„æ ¹èŠ‚ç‚¹çš„çˆ¶äº²è®¾ç½®ä¸ºré›†åˆçš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> op,l,r; <span class=\"comment\">// opæ˜¯æ“ä½œ,lå’Œræ˜¯åˆå¹¶æˆ–åˆ¤æ–­å…³ç³»çš„ä¸¤ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"comment\">// 1. åˆå§‹åŒ–æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) </span><br><span class=\"line\">\t\tfa[i]=i;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;op&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">join</span>(l,r);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(op==<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">find</span>(l)==<span class=\"built_in\">find</span>(r)) <span class=\"comment\">// åœ¨åŒä¸€å¹¶æŸ¥é›†ä¸­</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&quot;Y\\n&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&quot;N\\n&quot;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\">4. ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†</span></h2><h3><span id=\"41-ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\">4.1. ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°</span></h3><ul>\n<li>åªéœ€è¦åœ¨åˆå¹¶æ—¶è¿›è¡Œè®¡ç®—å³å¯ï¼Œå°†å­é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°åŠ ç­‰åˆ°çˆ¶é›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸­</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[i]:ä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„é›†åˆçš„å…ƒç´ ä¸ªæ•° </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç»´æŠ¤é›†åˆæ€»æ•°çš„åˆå¹¶</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">merge</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=find(a);</span><br><span class=\"line\">\t<span class=\"type\">int</span> y=find(b);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==y) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tfa[x]=y; <span class=\"comment\">// aæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹ä½œä¸ºbæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹çš„å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœé‡åˆ°é‡å¤çš„è¯­å¥,é‚£ä¹ˆæ­¤æ—¶x==yæˆç«‹,æ‰€ä»¥ä¸å†é‡å¤è®¡æ•°</span></span><br><span class=\"line\">\tcnt[y]+=cnt[x];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3><span id=\"42-ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\">4.2. ç»´æŠ¤æ€»é›†åˆä¸ªæ•°</span></h3><ul>\n<li>æœ‰å¤šå°‘ä¸ªé›†åˆå³æ˜¯çœ‹æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹çš„ $x&#x3D;&#x3D;fa[x]$ å³æœ‰å¤šå°‘ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ— éœ€ç»´æŠ¤ï¼Œ$O(n)$ éå†ä¸€éå³å¯</li>\n</ul>\n<h2><span id=\"5-å®Œå¤‡å¹¶æŸ¥é›†\">5. å®Œå¤‡å¹¶æŸ¥é›†</span></h2><ul>\n<li>éå¸¸å¥½ç”¨</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®Œå¤‡å¹¶æŸ¥é›†</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">DSU</span> &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// fa:æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// p:æ¯ä¸ªé›†åˆçš„ç»“ç‚¹æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// e:æ¯ä¸ªé›†åˆè¾¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// f:è®°å½•é›†åˆä¸­æ˜¯å¦å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; fa,p,e,f; </span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸€ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\tDSU(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¤§å°ä¸ºn+1,ä¸‹æ ‡ä»0~n,æˆ‘ä»¬å¯ä»¥ä»1å¼€å§‹ä½¿ç”¨</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfa.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// å¤§å°è°ƒæ•´ä¸ºn+1 </span></span><br><span class=\"line\">\t\t<span class=\"comment\">// faä»èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®,ä»0å¼€å§‹é€’å¢èµ‹å€¼,å³çˆ¶ç»“ç‚¹ä¸ºè‡ªå·±</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å³fa[0]=0,fa[1]=1,...,fa[n]=n</span></span><br><span class=\"line\">\t\tiota(fa.begin(),fa.end(),<span class=\"number\">0</span>); </span><br><span class=\"line\">\t\tp.resize(n+<span class=\"number\">1</span>,<span class=\"number\">1</span>); <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹å•ç‹¬æˆä¸ºä¸€ä¸ªé›†åˆ,å¤§å°ä¸º1</span></span><br><span class=\"line\">\t\te.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// åˆå§‹æ—¶æ¯ä¸ªé›†åˆæ²¡æœ‰è¾¹</span></span><br><span class=\"line\">\t\tf.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// åˆå§‹æ—¶æ²¡æœ‰è‡ªç¯</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾xæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">get</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰¾xçš„æ ¹èŠ‚ç‚¹,å¹¶ä½œè·¯å¾„å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(x!=fa[x]) &#123;</span><br><span class=\"line\">\t\t\tx=fa[x]=fa[fa[x]];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡è®¾xæ‰€åœ¨é›†åˆä¸ºA,å‡è®¾yæ‰€åœ¨é›†åˆä¸ºB,åˆå¹¶Aå’ŒB</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">merge</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾xæ˜¯yçš„ç¥–å…ˆ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) f[get(x)]=<span class=\"number\">1</span>; <span class=\"comment\">// å¦‚æœè‡ªå·±å’Œè‡ªå·±åˆå¹¶,åˆ™å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t\tx=get(x),y=get(y);</span><br><span class=\"line\">\t\te[x]++; <span class=\"comment\">// é›†åˆAè¾¹æ•°+1</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x&lt;y) swap(x,y); <span class=\"comment\">// æŒ‡å®šå°†ç¼–å·å°çš„åˆå¹¶åˆ°ç¼–å·å¤§çš„ä¸Š</span></span><br><span class=\"line\">\t\tfa[y]=x; <span class=\"comment\">// é›†åˆBçˆ¶ç»“ç‚¹å˜ä¸ºx</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è‹¥Bæœ‰è‡ªç¯,åˆ™åˆå¹¶åAæœ‰è‡ªç¯,æˆ–è¿ç®—æ˜¯ä¸€èµ·çœ‹,æœ‰1åˆ™1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// AåŠ ä¸ŠBä¸­è¾¹çš„æ•°é‡å’Œç»“ç‚¹æ•°é‡</span></span><br><span class=\"line\">\t\tf[x]|=f[y],p[x]+=p[y],e[x]+=e[y];</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­xå’Œyæ˜¯å¦åœ¨åŒä¸€é›†åˆä¸­</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">same</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> get(x)==get(y);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­xæ‰€åœ¨é›†åˆæ˜¯å¦å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">F</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> f[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé›†åˆä¸­ç‚¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">size</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> p[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé›†åˆä¸­è¾¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">E</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> e[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨å®Œå¤‡å¹¶æŸ¥é›†è§£æ¿å­é¢˜</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\tDSU <span class=\"title function_\">dsu</span><span class=\"params\">(n)</span>; <span class=\"comment\">// åˆ›å»ºå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> op,a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;op;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t\tdsu.merge(a,b); <span class=\"comment\">// åˆå¹¶a,bæ‰€åœ¨é›†åˆ</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dsu.same(a,b)) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;Y&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;N&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å¹¶æŸ¥é›†\"><a href=\"#å¹¶æŸ¥é›†\" class=\"headerlink\" title=\"å¹¶æŸ¥é›†\"></a>å¹¶æŸ¥é›†</h1><p>[toc]</p>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å¹¶æŸ¥é›†æ˜¯ç”¨äºå¤„ç†ä¸ç›¸äº¤é›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢çš„æ ‘å½¢æ•°æ®ç»“æ„</li>\n</ul>\n<h2 id=\"1-æ•°æ®ç»“æ„\"><a href=\"#1-æ•°æ®ç»“æ„\" class=\"headerlink\" title=\"1. æ•°æ®ç»“æ„\"></a>1. æ•°æ®ç»“æ„</h2><ul>\n<li>å‡†å¤‡ä¸€ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æ‰€æœ‰ç‚¹çš„è¿é€šåˆ†é‡ï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">2e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[maxn];</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ ¸å¿ƒå‡½æ•°\"><a href=\"#2-æ ¸å¿ƒå‡½æ•°\" class=\"headerlink\" title=\"2. æ ¸å¿ƒå‡½æ•°\"></a>2. æ ¸å¿ƒå‡½æ•°</h2><h3 id=\"2-1-findå‡½æ•°\"><a href=\"#2-1-findå‡½æ•°\" class=\"headerlink\" title=\"2.1. findå‡½æ•°\"></a>2.1. findå‡½æ•°</h3><ul>\n<li>ç”¨äºæŸ¥è¯¢æŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨é›†åˆçš„æ ¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\"><span class=\"comment\">//\treturn find(fa[x]); // é€’å½’æŸ¥æ‰¾çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾(æœ‰æ•ˆé™ä½é€’å½’çš„æ—¶é—´å¤æ‚åº¦)</span></span><br><span class=\"line\">\t<span class=\"comment\">// åœ¨è¿”å›çš„è·¯ä¸Š,é¡ºå¸¦ä¿®æ”¹å„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºæ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™å¥ä»£ç çš„æ„æ€æ˜¯:fa[x]=find(fa[x]),return fa[x]</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031254549.png\" alt=\"image-20240410144829099\"></p>\n<ul>\n<li>å¸¦è·¯å¾„å‹ç¼©çš„æŸ¥æ‰¾å’Œæ™®é€šæŸ¥æ‰¾çš„åŒºåˆ«ä»…ä»…åœ¨äºåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ›´æ–°ä¸ºæ ¹</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031253600.png\" alt=\"image-20240410144851687\"></p>\n<h3 id=\"2-2-joinå‡½æ•°\"><a href=\"#2-2-joinå‡½æ•°\" class=\"headerlink\" title=\"2.2. joinå‡½æ•°\"></a>2.2. joinå‡½æ•°</h3><ul>\n<li>ç”¨äºè¿æ¥ä¸¤ä¸ªå¹¶æŸ¥é›†</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">join</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// bçš„æ ¹ä½œä¸ºaçš„æ ¹</span></span><br><span class=\"line\">    fa[<span class=\"built_in\">find</span>(a)]=<span class=\"built_in\">find</span>(b); <span class=\"comment\">// bçš„çˆ¶èŠ‚ç‚¹ä½œä¸ºaåŸæœ¬çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-æ¨¡æ¿\"><a href=\"#3-æ¨¡æ¿\" class=\"headerlink\" title=\"3. æ¨¡æ¿\"></a>3. æ¨¡æ¿</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3367\">P3367 ã€æ¨¡æ¿ã€‘å¹¶æŸ¥é›† - æ´›è°·</a></p>\n</blockquote>\n<ul>\n<li>1ï¼‰åˆå§‹åŒ–æ—¶å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºè‡ªå·±</li>\n<li>2ï¼‰å¦‚æœ $a$ å’Œ $b$ çš„æ ¹ç›¸åŒï¼Œåˆ™è¡¨æ˜äºŒè€…å¤„äºåŒä¸€å¹¶æŸ¥é›†ä¸­</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e4</span><span class=\"number\">+4</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[maxn]; <span class=\"comment\">// è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) </span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">join</span><span class=\"params\">(<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\tfa[<span class=\"built_in\">find</span>(l)]=<span class=\"built_in\">find</span>(r); <span class=\"comment\">// xçš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å˜ä¸ºyçš„çˆ¶èŠ‚ç‚¹(åˆå¹¶)</span></span><br><span class=\"line\">    <span class=\"comment\">// å³æŠŠlçš„é›†åˆçš„æ ¹èŠ‚ç‚¹çš„çˆ¶äº²è®¾ç½®ä¸ºré›†åˆçš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> op,l,r; <span class=\"comment\">// opæ˜¯æ“ä½œ,lå’Œræ˜¯åˆå¹¶æˆ–åˆ¤æ–­å…³ç³»çš„ä¸¤ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"comment\">// 1. åˆå§‹åŒ–æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) </span><br><span class=\"line\">\t\tfa[i]=i;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;op&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">join</span>(l,r);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(op==<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">find</span>(l)==<span class=\"built_in\">find</span>(r)) <span class=\"comment\">// åœ¨åŒä¸€å¹¶æŸ¥é›†ä¸­</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&quot;Y\\n&quot;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&quot;N\\n&quot;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\"><a href=\"#4-ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\" class=\"headerlink\" title=\"4. ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†\"></a>4. ç»´æŠ¤ä¿¡æ¯çš„å¹¶æŸ¥é›†</h2><h3 id=\"4-1-ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\"><a href=\"#4-1-ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\" class=\"headerlink\" title=\"4.1. ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°\"></a>4.1. ç»´æŠ¤å„é›†åˆä¸­å…ƒç´ æ€»æ•°</h3><ul>\n<li>åªéœ€è¦åœ¨åˆå¹¶æ—¶è¿›è¡Œè®¡ç®—å³å¯ï¼Œå°†å­é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°åŠ ç­‰åˆ°çˆ¶é›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸­</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> cnt[N]; <span class=\"comment\">// cnt[i]:ä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„é›†åˆçš„å…ƒç´ ä¸ªæ•° </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç»´æŠ¤é›†åˆæ€»æ•°çš„åˆå¹¶</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">merge</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=find(a);</span><br><span class=\"line\">\t<span class=\"type\">int</span> y=find(b);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==y) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tfa[x]=y; <span class=\"comment\">// aæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹ä½œä¸ºbæ‰€åœ¨é›†åˆæ ¹èŠ‚ç‚¹çš„å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœé‡åˆ°é‡å¤çš„è¯­å¥,é‚£ä¹ˆæ­¤æ—¶x==yæˆç«‹,æ‰€ä»¥ä¸å†é‡å¤è®¡æ•°</span></span><br><span class=\"line\">\tcnt[y]+=cnt[x];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-2-ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\"><a href=\"#4-2-ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\" class=\"headerlink\" title=\"4.2. ç»´æŠ¤æ€»é›†åˆä¸ªæ•°\"></a>4.2. ç»´æŠ¤æ€»é›†åˆä¸ªæ•°</h3><ul>\n<li>æœ‰å¤šå°‘ä¸ªé›†åˆå³æ˜¯çœ‹æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹çš„ $x&#x3D;&#x3D;fa[x]$ å³æœ‰å¤šå°‘ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ— éœ€ç»´æŠ¤ï¼Œ$O(n)$ éå†ä¸€éå³å¯</li>\n</ul>\n<h2 id=\"5-å®Œå¤‡å¹¶æŸ¥é›†\"><a href=\"#5-å®Œå¤‡å¹¶æŸ¥é›†\" class=\"headerlink\" title=\"5. å®Œå¤‡å¹¶æŸ¥é›†\"></a>5. å®Œå¤‡å¹¶æŸ¥é›†</h2><ul>\n<li>éå¸¸å¥½ç”¨</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®Œå¤‡å¹¶æŸ¥é›†</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">DSU</span> &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// fa:æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// p:æ¯ä¸ªé›†åˆçš„ç»“ç‚¹æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// e:æ¯ä¸ªé›†åˆè¾¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// f:è®°å½•é›†åˆä¸­æ˜¯å¦å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; fa,p,e,f; </span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸€ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\tDSU(<span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¤§å°ä¸ºn+1,ä¸‹æ ‡ä»0~n,æˆ‘ä»¬å¯ä»¥ä»1å¼€å§‹ä½¿ç”¨</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfa.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// å¤§å°è°ƒæ•´ä¸ºn+1 </span></span><br><span class=\"line\">\t\t<span class=\"comment\">// faä»èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®,ä»0å¼€å§‹é€’å¢èµ‹å€¼,å³çˆ¶ç»“ç‚¹ä¸ºè‡ªå·±</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å³fa[0]=0,fa[1]=1,...,fa[n]=n</span></span><br><span class=\"line\">\t\tiota(fa.begin(),fa.end(),<span class=\"number\">0</span>); </span><br><span class=\"line\">\t\tp.resize(n+<span class=\"number\">1</span>,<span class=\"number\">1</span>); <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹å•ç‹¬æˆä¸ºä¸€ä¸ªé›†åˆ,å¤§å°ä¸º1</span></span><br><span class=\"line\">\t\te.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// åˆå§‹æ—¶æ¯ä¸ªé›†åˆæ²¡æœ‰è¾¹</span></span><br><span class=\"line\">\t\tf.resize(n+<span class=\"number\">1</span>); <span class=\"comment\">// åˆå§‹æ—¶æ²¡æœ‰è‡ªç¯</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾xæ‰€åœ¨é›†åˆçš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">get</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰¾xçš„æ ¹èŠ‚ç‚¹,å¹¶ä½œè·¯å¾„å‹ç¼©</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(x!=fa[x]) &#123;</span><br><span class=\"line\">\t\t\tx=fa[x]=fa[fa[x]];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡è®¾xæ‰€åœ¨é›†åˆä¸ºA,å‡è®¾yæ‰€åœ¨é›†åˆä¸ºB,åˆå¹¶Aå’ŒB</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">merge</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¾xæ˜¯yçš„ç¥–å…ˆ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) f[get(x)]=<span class=\"number\">1</span>; <span class=\"comment\">// å¦‚æœè‡ªå·±å’Œè‡ªå·±åˆå¹¶,åˆ™å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t\tx=get(x),y=get(y);</span><br><span class=\"line\">\t\te[x]++; <span class=\"comment\">// é›†åˆAè¾¹æ•°+1</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x&lt;y) swap(x,y); <span class=\"comment\">// æŒ‡å®šå°†ç¼–å·å°çš„åˆå¹¶åˆ°ç¼–å·å¤§çš„ä¸Š</span></span><br><span class=\"line\">\t\tfa[y]=x; <span class=\"comment\">// é›†åˆBçˆ¶ç»“ç‚¹å˜ä¸ºx</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è‹¥Bæœ‰è‡ªç¯,åˆ™åˆå¹¶åAæœ‰è‡ªç¯,æˆ–è¿ç®—æ˜¯ä¸€èµ·çœ‹,æœ‰1åˆ™1</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// AåŠ ä¸ŠBä¸­è¾¹çš„æ•°é‡å’Œç»“ç‚¹æ•°é‡</span></span><br><span class=\"line\">\t\tf[x]|=f[y],p[x]+=p[y],e[x]+=e[y];</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­xå’Œyæ˜¯å¦åœ¨åŒä¸€é›†åˆä¸­</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">same</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> get(x)==get(y);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­xæ‰€åœ¨é›†åˆæ˜¯å¦å­˜åœ¨è‡ªç¯</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"title function_\">F</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> f[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé›†åˆä¸­ç‚¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">size</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> p[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé›†åˆä¸­è¾¹çš„æ•°é‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> <span class=\"title function_\">E</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> e[get(x)];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨å®Œå¤‡å¹¶æŸ¥é›†è§£æ¿å­é¢˜</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\tDSU <span class=\"title function_\">dsu</span><span class=\"params\">(n)</span>; <span class=\"comment\">// åˆ›å»ºå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> op,a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;op;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(op==<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t\tdsu.merge(a,b); <span class=\"comment\">// åˆå¹¶a,bæ‰€åœ¨é›†åˆ</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dsu.same(a,b)) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;Y&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;N&quot;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å·®åˆ†","date":"2024-10-03T03:57:47.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å·®åˆ†\n\n[toc]\n\n> å¤ä¹ ä¸€ä¸‹å‰ç¼€å’Œå§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘é¢„å¤„ç†ç®—æ³•ï¼šä¸€ç»´å‰ç¼€å’Œã€äºŒç»´å‰ç¼€å’Œæ€»ç»“ï¼Œè¯¦è§£å¸¦ä¾‹é¢˜-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136780044?csdn_share_tail={\"type\"%3A\"blog\"%2C\"rType\"%3A\"article\"%2C\"rId\"%3A\"136780044\"%2C\"source\"%3A\"qq_63586399\"})\n\n## 0. æ¦‚è¿°\n\n* å·®åˆ†çš„æ¨å¯¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜\n\n\n\n## 1. ä¸€ç»´å·®åˆ†\n\n* ç»™å®šä¸€ä¸ªä¸€ç»´åºåˆ—ï¼Œå®šä¹‰å®ƒçš„å·®åˆ†åºåˆ— $b$ ä¸ºï¼Œè®¡ç®—å·®åˆ†åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$\n  * $b[1]=a[1]\\ (i=1)$\n  * $b[i]=a[i]-a[i-1]\\ (2<=i<=n)$\n* ä¸ºåŸåºåˆ— $[l,r]$ åŒºé—´åˆ†åˆ«åŠ ä¸Š $c$ ç­‰ä»·äºï¼š$b[l]+=c,\\ b[r+1]-=c$ï¼Œå¯¹å·®åˆ†åºåˆ— $b$ åšä¸€ç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n> ã€ä¾‹é¢˜ã€‘AcWing 797ï¼Œé“¾æ¥ï¼š[797. å·®åˆ† - AcWingé¢˜åº“](https://www.acwing.com/problem/content/799/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: \n\nconst int N=1e5+5;\nint n,m;\nint a[N],b[N]; // a:åŸåºåˆ—,b:å·®åˆ†åºåˆ—\nint s[N]; // å¯¹bæ±‚å‰ç¼€å’Œ\nint l,r,c;\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5,æ¨èä½¿ç”¨scanf\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\tb[i]=a[i]-a[i-1]; // å‰ç¼€å’Œå’Œå·®åˆ†ä¸‹æ ‡éƒ½ä»1å¼€å§‹,å¦åˆ™å®¹æ˜“æœ‰è¾¹ç•Œé—®é¢˜\n\t}\n\twhile(m--) {\n\t\tscanf(\"%d%d%d\",&l,&r,&c);\n\t\tb[l]+=c;\n\t\tb[r+1]-=c;\n\t}\n\t// ç”¨æ–°æ•°ç»„sè®¡ç®—å·®åˆ†åºåˆ—bçš„å‰ç¼€å’Œ\n\tfor(int i=1;i<=n;i++) {\n\t\ts[i]=s[i-1]+b[i];\n\t\tprintf(\"%d \",s[i]);\n\t}\n\tcout<<endl;\n\t\n\t// ç”¨ç´¯åŠ çš„æ€æƒ³,åœ¨å·®åˆ†åºåˆ—æœ¬èº«ä¸Šåšå‰ç¼€å’Œ,èŠ‚çœç©ºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\tb[i]+=b[i-1];\n\t\tprintf(\"%d \",b[i]);\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 2. äºŒç»´å·®åˆ†\n\n* åœ¨ä¸€ç»´å·®åˆ†ä¸­æˆ‘ä»¬å¯¹å·®åˆ†åºåˆ— $b$ æ±‚å‰ç¼€å’Œå¯ä»¥å¾—åˆ°åŸåºåˆ— $a$ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºå·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—\n\n![image-20240317085114587](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227790.png)\n\n* åˆ™æˆ‘ä»¬å¯ç”±äºŒç»´å‰ç¼€å’Œè®¡ç®—å…¬å¼è½»æ¾æ¨å¯¼å‡ºäºŒç»´å·®åˆ†åºåˆ—çš„è®¡ç®—å…¬å¼ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$\n  * äºŒç»´å‰ç¼€å’Œçš„è®¡ç®—å…¬å¼ $s[i][j]=\\sum_{i=1}^i\\sum_{j=1}^ja[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$\n  * å°† $a[i]$ å•ç‹¬ç§»è‡³ç­‰å·ä¸€è¾¹ï¼Œå¯¹ $s$ åˆå¹¶åŒç±»é¡¹ï¼Œå¾—åˆ° $a[i][j]=s[i][j]-s[i-1][j]-s[i][j-1]+s[i-1][j-1]$\n  * ç”±äº $b$ çš„å‰ç¼€å’Œæ˜¯ $a$ï¼Œæ‰€ä»¥å°† $a$ æ›¿æ¢æˆ $b$ï¼Œå°† $s$ æ›¿æ¢æˆ $a$ï¼Œå¾—åˆ°äºŒä½å·®åˆ†è®¡ç®—å…¬å¼\n  * $b[i][j]=a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]$ï¼Œå…¶ç‰©ç†å«ä¹‰æ˜¯ï¼šåœ¨ä¸‹æ ‡ $[i][j]$ ä½ç½®ä¸Šçš„å·®åˆ†ç­‰äºåŸåºåˆ— $[i][j]$ ä¸Šçš„å…ƒç´ å‡å»ä¸Šè¾¹ $[i-1][j]$ å’Œå·¦è¾¹ $[i][j-1]$ ä¸Šçš„å…ƒç´ å¹¶åŠ ä¸Šå·¦ä¸Šè§’ $[i-1][j-1]$ çš„å…ƒç´ \n* å¯¹åŸåºåˆ— $a$ åŒºé—´ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ ä¹‹é—´çš„å…ƒç´ åŠ ä¸Š $c$ï¼Œç­‰ä»·äºå…¶å·®åˆ†åºåˆ— $b$ çš„ç‚¹ $(x_1,y_1)$ åŠ  $c$ï¼Œç‚¹ $(x_1,y_{2}+1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y_2+1)$ åŠ  $c$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$ï¼Œæœ€åå¯¹å·®åˆ†åºåˆ— $b$ æ±‚äºŒç»´å‰ç¼€å’Œå³å¯å¾—åˆ°æ“ä½œè¿‡åçš„åŸåºåˆ—\n\n![](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227796.png)\n\n> ã€ä¾‹é¢˜ã€‘AcWing 798ï¼Œé“¾æ¥ï¼š[798. å·®åˆ†çŸ©é˜µ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/800/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: é€è¡Œå·®åˆ†å’Œé€è¡Œæ±‚å’Œçš„æ€è·¯\n\nconst int N=1e3+5;\nint n,m,k; // n:çŸ©é˜µè¡Œæ•°,m:çŸ©é˜µåˆ—æ•°,k:æ“ä½œæ¬¡æ•°\nint a[N][N];\nint b[N][N]; // å·®åˆ†çŸ©é˜µ\n\nint s[N][N]; // å¯¹bæ±‚äºŒç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—\n\nint main() {\n\tcin>>n>>m>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>a[i][j];\n\t\t\tb[i][j]=a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]; // å·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—\n\t\t}\n\t}\n\t// è¾“å‡ºå·®åˆ†æ•°ç»„çœ‹ä¸€çœ‹\n//\tcout<<\"è¾“å‡ºå·®åˆ†æ•°ç»„:>\\n\";\n//\tfor(int i=1;i<=n;i++,puts(\"\")) {\n//\t\tfor(int j=1;j<=m;j++) {\n//\t\t\tcout<<b[i][j]<<' ';\n//\t\t}\n//\t}\n\tint x1,y1,x2,y2,c;\n\twhile(k--) {\n\t\tscanf(\"%d%d%d%d%d\",&x1,&y1,&x2,&y2,&c);\n\t\tb[x1][y1]+=c;\n\t\tb[x1][y2+1]-=c;\n\t\tb[x2+1][y1]-=c;\n\t\tb[x2+1][y2+1]+=c;\n\t}\n\tcout<<endl;\n\t// æ±‚å‰ç¼€å’Œä¿å­˜åˆ°sé‡Œé¢\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\ts[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+b[i][j];\n\t\t\tcout<<s[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n\t// ç›´æ¥åœ¨bæœ¬èº«ä¸Šè¿›è¡Œå‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„a\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tb[i][j]+=b[i-1][j]+b[i][j-1]-b[i-1][j-1];\n\t\t\tcout<<b[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n\n\treturn 0;\n}\n```\n","source":"_posts/å·®åˆ†.md","raw":"---\ntitle: å·®åˆ†\ndate: 2024-10-03 11:57:47\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - å·®åˆ†\n    - é¢„å¤„ç†\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å·®åˆ†\n\n[toc]\n\n> å¤ä¹ ä¸€ä¸‹å‰ç¼€å’Œå§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘é¢„å¤„ç†ç®—æ³•ï¼šä¸€ç»´å‰ç¼€å’Œã€äºŒç»´å‰ç¼€å’Œæ€»ç»“ï¼Œè¯¦è§£å¸¦ä¾‹é¢˜-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136780044?csdn_share_tail={\"type\"%3A\"blog\"%2C\"rType\"%3A\"article\"%2C\"rId\"%3A\"136780044\"%2C\"source\"%3A\"qq_63586399\"})\n\n## 0. æ¦‚è¿°\n\n* å·®åˆ†çš„æ¨å¯¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜\n\n\n\n## 1. ä¸€ç»´å·®åˆ†\n\n* ç»™å®šä¸€ä¸ªä¸€ç»´åºåˆ—ï¼Œå®šä¹‰å®ƒçš„å·®åˆ†åºåˆ— $b$ ä¸ºï¼Œè®¡ç®—å·®åˆ†åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$\n  * $b[1]=a[1]\\ (i=1)$\n  * $b[i]=a[i]-a[i-1]\\ (2<=i<=n)$\n* ä¸ºåŸåºåˆ— $[l,r]$ åŒºé—´åˆ†åˆ«åŠ ä¸Š $c$ ç­‰ä»·äºï¼š$b[l]+=c,\\ b[r+1]-=c$ï¼Œå¯¹å·®åˆ†åºåˆ— $b$ åšä¸€ç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$\n\n> ã€ä¾‹é¢˜ã€‘AcWing 797ï¼Œé“¾æ¥ï¼š[797. å·®åˆ† - AcWingé¢˜åº“](https://www.acwing.com/problem/content/799/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: \n\nconst int N=1e5+5;\nint n,m;\nint a[N],b[N]; // a:åŸåºåˆ—,b:å·®åˆ†åºåˆ—\nint s[N]; // å¯¹bæ±‚å‰ç¼€å’Œ\nint l,r,c;\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5,æ¨èä½¿ç”¨scanf\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d\",&a[i]);\t\n\t\tb[i]=a[i]-a[i-1]; // å‰ç¼€å’Œå’Œå·®åˆ†ä¸‹æ ‡éƒ½ä»1å¼€å§‹,å¦åˆ™å®¹æ˜“æœ‰è¾¹ç•Œé—®é¢˜\n\t}\n\twhile(m--) {\n\t\tscanf(\"%d%d%d\",&l,&r,&c);\n\t\tb[l]+=c;\n\t\tb[r+1]-=c;\n\t}\n\t// ç”¨æ–°æ•°ç»„sè®¡ç®—å·®åˆ†åºåˆ—bçš„å‰ç¼€å’Œ\n\tfor(int i=1;i<=n;i++) {\n\t\ts[i]=s[i-1]+b[i];\n\t\tprintf(\"%d \",s[i]);\n\t}\n\tcout<<endl;\n\t\n\t// ç”¨ç´¯åŠ çš„æ€æƒ³,åœ¨å·®åˆ†åºåˆ—æœ¬èº«ä¸Šåšå‰ç¼€å’Œ,èŠ‚çœç©ºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\tb[i]+=b[i-1];\n\t\tprintf(\"%d \",b[i]);\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 2. äºŒç»´å·®åˆ†\n\n* åœ¨ä¸€ç»´å·®åˆ†ä¸­æˆ‘ä»¬å¯¹å·®åˆ†åºåˆ— $b$ æ±‚å‰ç¼€å’Œå¯ä»¥å¾—åˆ°åŸåºåˆ— $a$ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºå·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—\n\n![image-20240317085114587](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227790.png)\n\n* åˆ™æˆ‘ä»¬å¯ç”±äºŒç»´å‰ç¼€å’Œè®¡ç®—å…¬å¼è½»æ¾æ¨å¯¼å‡ºäºŒç»´å·®åˆ†åºåˆ—çš„è®¡ç®—å…¬å¼ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$\n  * äºŒç»´å‰ç¼€å’Œçš„è®¡ç®—å…¬å¼ $s[i][j]=\\sum_{i=1}^i\\sum_{j=1}^ja[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$\n  * å°† $a[i]$ å•ç‹¬ç§»è‡³ç­‰å·ä¸€è¾¹ï¼Œå¯¹ $s$ åˆå¹¶åŒç±»é¡¹ï¼Œå¾—åˆ° $a[i][j]=s[i][j]-s[i-1][j]-s[i][j-1]+s[i-1][j-1]$\n  * ç”±äº $b$ çš„å‰ç¼€å’Œæ˜¯ $a$ï¼Œæ‰€ä»¥å°† $a$ æ›¿æ¢æˆ $b$ï¼Œå°† $s$ æ›¿æ¢æˆ $a$ï¼Œå¾—åˆ°äºŒä½å·®åˆ†è®¡ç®—å…¬å¼\n  * $b[i][j]=a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]$ï¼Œå…¶ç‰©ç†å«ä¹‰æ˜¯ï¼šåœ¨ä¸‹æ ‡ $[i][j]$ ä½ç½®ä¸Šçš„å·®åˆ†ç­‰äºåŸåºåˆ— $[i][j]$ ä¸Šçš„å…ƒç´ å‡å»ä¸Šè¾¹ $[i-1][j]$ å’Œå·¦è¾¹ $[i][j-1]$ ä¸Šçš„å…ƒç´ å¹¶åŠ ä¸Šå·¦ä¸Šè§’ $[i-1][j-1]$ çš„å…ƒç´ \n* å¯¹åŸåºåˆ— $a$ åŒºé—´ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ ä¹‹é—´çš„å…ƒç´ åŠ ä¸Š $c$ï¼Œç­‰ä»·äºå…¶å·®åˆ†åºåˆ— $b$ çš„ç‚¹ $(x_1,y_1)$ åŠ  $c$ï¼Œç‚¹ $(x_1,y_{2}+1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y_2+1)$ åŠ  $c$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$ï¼Œæœ€åå¯¹å·®åˆ†åºåˆ— $b$ æ±‚äºŒç»´å‰ç¼€å’Œå³å¯å¾—åˆ°æ“ä½œè¿‡åçš„åŸåºåˆ—\n\n![](https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227796.png)\n\n> ã€ä¾‹é¢˜ã€‘AcWing 798ï¼Œé“¾æ¥ï¼š[798. å·®åˆ†çŸ©é˜µ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/800/)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: é€è¡Œå·®åˆ†å’Œé€è¡Œæ±‚å’Œçš„æ€è·¯\n\nconst int N=1e3+5;\nint n,m,k; // n:çŸ©é˜µè¡Œæ•°,m:çŸ©é˜µåˆ—æ•°,k:æ“ä½œæ¬¡æ•°\nint a[N][N];\nint b[N][N]; // å·®åˆ†çŸ©é˜µ\n\nint s[N][N]; // å¯¹bæ±‚äºŒç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—\n\nint main() {\n\tcin>>n>>m>>k;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>a[i][j];\n\t\t\tb[i][j]=a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]; // å·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—\n\t\t}\n\t}\n\t// è¾“å‡ºå·®åˆ†æ•°ç»„çœ‹ä¸€çœ‹\n//\tcout<<\"è¾“å‡ºå·®åˆ†æ•°ç»„:>\\n\";\n//\tfor(int i=1;i<=n;i++,puts(\"\")) {\n//\t\tfor(int j=1;j<=m;j++) {\n//\t\t\tcout<<b[i][j]<<' ';\n//\t\t}\n//\t}\n\tint x1,y1,x2,y2,c;\n\twhile(k--) {\n\t\tscanf(\"%d%d%d%d%d\",&x1,&y1,&x2,&y2,&c);\n\t\tb[x1][y1]+=c;\n\t\tb[x1][y2+1]-=c;\n\t\tb[x2+1][y1]-=c;\n\t\tb[x2+1][y2+1]+=c;\n\t}\n\tcout<<endl;\n\t// æ±‚å‰ç¼€å’Œä¿å­˜åˆ°sé‡Œé¢\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\ts[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+b[i][j];\n\t\t\tcout<<s[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n\t// ç›´æ¥åœ¨bæœ¬èº«ä¸Šè¿›è¡Œå‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„a\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tb[i][j]+=b[i-1][j]+b[i][j-1]-b[i-1][j-1];\n\t\t\tcout<<b[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n\n\treturn 0;\n}\n```\n","slug":"å·®åˆ†","published":1,"updated":"2024-10-05T07:59:29.657Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpso001bc0nf9uia0efv","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å·®åˆ†\">å·®åˆ†</span></h1><p>[toc]</p>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹å‰ç¼€å’Œå§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136780044?csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22136780044%22,%22source%22:%22qq_63586399%22%7D\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘é¢„å¤„ç†ç®—æ³•ï¼šä¸€ç»´å‰ç¼€å’Œã€äºŒç»´å‰ç¼€å’Œæ€»ç»“ï¼Œè¯¦è§£å¸¦ä¾‹é¢˜-CSDNåšå®¢</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å·®åˆ†çš„æ¨å¯¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜</li>\n</ul>\n<h2><span id=\"1-ä¸€ç»´å·®åˆ†\">1. ä¸€ç»´å·®åˆ†</span></h2><ul>\n<li>ç»™å®šä¸€ä¸ªä¸€ç»´åºåˆ—ï¼Œå®šä¹‰å®ƒçš„å·®åˆ†åºåˆ— $b$ ä¸ºï¼Œè®¡ç®—å·®åˆ†åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$<ul>\n<li>$b[1]&#x3D;a[1]\\ (i&#x3D;1)$</li>\n<li>$b[i]&#x3D;a[i]-a[i-1]\\ (2&lt;&#x3D;i&lt;&#x3D;n)$</li>\n</ul>\n</li>\n<li>ä¸ºåŸåºåˆ— $[l,r]$ åŒºé—´åˆ†åˆ«åŠ ä¸Š $c$ ç­‰ä»·äºï¼š$b[l]+&#x3D;c,\\ b[r+1]-&#x3D;c$ï¼Œå¯¹å·®åˆ†åºåˆ— $b$ åšä¸€ç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 797ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/799/\">797. å·®åˆ† - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],b[N]; <span class=\"comment\">// a:åŸåºåˆ—,b:å·®åˆ†åºåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å¯¹bæ±‚å‰ç¼€å’Œ</span></span><br><span class=\"line\"><span class=\"type\">int</span> l,r,c;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5,æ¨èä½¿ç”¨scanf</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\tb[i]=a[i]-a[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‰ç¼€å’Œå’Œå·®åˆ†ä¸‹æ ‡éƒ½ä»1å¼€å§‹,å¦åˆ™å®¹æ˜“æœ‰è¾¹ç•Œé—®é¢˜</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;l,&amp;r,&amp;c);</span><br><span class=\"line\">\t\tb[l]+=c;</span><br><span class=\"line\">\t\tb[r+<span class=\"number\">1</span>]-=c;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ–°æ•°ç»„sè®¡ç®—å·®åˆ†åºåˆ—bçš„å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+b[i];</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,s[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨ç´¯åŠ çš„æ€æƒ³,åœ¨å·®åˆ†åºåˆ—æœ¬èº«ä¸Šåšå‰ç¼€å’Œ,èŠ‚çœç©ºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tb[i]+=b[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,b[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-äºŒç»´å·®åˆ†\">2. äºŒç»´å·®åˆ†</span></h2><ul>\n<li>åœ¨ä¸€ç»´å·®åˆ†ä¸­æˆ‘ä»¬å¯¹å·®åˆ†åºåˆ— $b$ æ±‚å‰ç¼€å’Œå¯ä»¥å¾—åˆ°åŸåºåˆ— $a$ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºå·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227790.png\" alt=\"image-20240317085114587\"></p>\n<ul>\n<li>åˆ™æˆ‘ä»¬å¯ç”±äºŒç»´å‰ç¼€å’Œè®¡ç®—å…¬å¼è½»æ¾æ¨å¯¼å‡ºäºŒç»´å·®åˆ†åºåˆ—çš„è®¡ç®—å…¬å¼ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$<ul>\n<li>äºŒç»´å‰ç¼€å’Œçš„è®¡ç®—å…¬å¼ $s[i][j]&#x3D;\\sum_{i&#x3D;1}^i\\sum_{j&#x3D;1}^ja[i][j]&#x3D;s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$</li>\n<li>å°† $a[i]$ å•ç‹¬ç§»è‡³ç­‰å·ä¸€è¾¹ï¼Œå¯¹ $s$ åˆå¹¶åŒç±»é¡¹ï¼Œå¾—åˆ° $a[i][j]&#x3D;s[i][j]-s[i-1][j]-s[i][j-1]+s[i-1][j-1]$</li>\n<li>ç”±äº $b$ çš„å‰ç¼€å’Œæ˜¯ $a$ï¼Œæ‰€ä»¥å°† $a$ æ›¿æ¢æˆ $b$ï¼Œå°† $s$ æ›¿æ¢æˆ $a$ï¼Œå¾—åˆ°äºŒä½å·®åˆ†è®¡ç®—å…¬å¼</li>\n<li>$b[i][j]&#x3D;a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]$ï¼Œå…¶ç‰©ç†å«ä¹‰æ˜¯ï¼šåœ¨ä¸‹æ ‡ $[i][j]$ ä½ç½®ä¸Šçš„å·®åˆ†ç­‰äºåŸåºåˆ— $[i][j]$ ä¸Šçš„å…ƒç´ å‡å»ä¸Šè¾¹ $[i-1][j]$ å’Œå·¦è¾¹ $[i][j-1]$ ä¸Šçš„å…ƒç´ å¹¶åŠ ä¸Šå·¦ä¸Šè§’ $[i-1][j-1]$ çš„å…ƒç´ </li>\n</ul>\n</li>\n<li>å¯¹åŸåºåˆ— $a$ åŒºé—´ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ ä¹‹é—´çš„å…ƒç´ åŠ ä¸Š $c$ï¼Œç­‰ä»·äºå…¶å·®åˆ†åºåˆ— $b$ çš„ç‚¹ $(x_1,y_1)$ åŠ  $c$ï¼Œç‚¹ $(x_1,y_{2}+1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y_2+1)$ åŠ  $c$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$ï¼Œæœ€åå¯¹å·®åˆ†åºåˆ— $b$ æ±‚äºŒç»´å‰ç¼€å’Œå³å¯å¾—åˆ°æ“ä½œè¿‡åçš„åŸåºåˆ—</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227796.png\"></p>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 798ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/800/\">798. å·®åˆ†çŸ©é˜µ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: é€è¡Œå·®åˆ†å’Œé€è¡Œæ±‚å’Œçš„æ€è·¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,k; <span class=\"comment\">// n:çŸ©é˜µè¡Œæ•°,m:çŸ©é˜µåˆ—æ•°,k:æ“ä½œæ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> b[N][N]; <span class=\"comment\">// å·®åˆ†çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> s[N][N]; <span class=\"comment\">// å¯¹bæ±‚äºŒç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i][j];</span><br><span class=\"line\">\t\t\tb[i][j]=a[i][j]-a[i<span class=\"number\">-1</span>][j]-a[i][j<span class=\"number\">-1</span>]+a[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]; <span class=\"comment\">// å·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºå·®åˆ†æ•°ç»„çœ‹ä¸€çœ‹</span></span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&quot;è¾“å‡ºå·®åˆ†æ•°ç»„:&gt;\\n&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=1;i&lt;=n;i++,puts(&quot;&quot;)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tfor(int j=1;j&lt;=m;j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tcout&lt;&lt;b[i][j]&lt;&lt;&#x27; &#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> x1,y1,x2,y2,c;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(k--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2,&amp;c);</span><br><span class=\"line\">\t\tb[x1][y1]+=c;</span><br><span class=\"line\">\t\tb[x1][y2+<span class=\"number\">1</span>]-=c;</span><br><span class=\"line\">\t\tb[x2+<span class=\"number\">1</span>][y1]-=c;</span><br><span class=\"line\">\t\tb[x2+<span class=\"number\">1</span>][y2+<span class=\"number\">1</span>]+=c;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚å‰ç¼€å’Œä¿å­˜åˆ°sé‡Œé¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\ts[i][j]=s[i<span class=\"number\">-1</span>][j]+s[i][j<span class=\"number\">-1</span>]-s[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]+b[i][j];</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;s[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç›´æ¥åœ¨bæœ¬èº«ä¸Šè¿›è¡Œå‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„a</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\tb[i][j]+=b[i<span class=\"number\">-1</span>][j]+b[i][j<span class=\"number\">-1</span>]-b[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>];</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;b[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å·®åˆ†\"><a href=\"#å·®åˆ†\" class=\"headerlink\" title=\"å·®åˆ†\"></a>å·®åˆ†</h1><p>[toc]</p>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹å‰ç¼€å’Œå§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136780044?csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22136780044%22,%22source%22:%22qq_63586399%22%7D\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘é¢„å¤„ç†ç®—æ³•ï¼šä¸€ç»´å‰ç¼€å’Œã€äºŒç»´å‰ç¼€å’Œæ€»ç»“ï¼Œè¯¦è§£å¸¦ä¾‹é¢˜-CSDNåšå®¢</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å·®åˆ†çš„æ¨å¯¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› æ­¤æœ¬åšå®¢é‡ç‚¹åœ¨äºçŸ¥è¯†ç‚¹å½’çº³è€Œä¸åœ¨äºè¯æ˜</li>\n</ul>\n<h2 id=\"1-ä¸€ç»´å·®åˆ†\"><a href=\"#1-ä¸€ç»´å·®åˆ†\" class=\"headerlink\" title=\"1. ä¸€ç»´å·®åˆ†\"></a>1. ä¸€ç»´å·®åˆ†</h2><ul>\n<li>ç»™å®šä¸€ä¸ªä¸€ç»´åºåˆ—ï¼Œå®šä¹‰å®ƒçš„å·®åˆ†åºåˆ— $b$ ä¸ºï¼Œè®¡ç®—å·®åˆ†åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$<ul>\n<li>$b[1]&#x3D;a[1]\\ (i&#x3D;1)$</li>\n<li>$b[i]&#x3D;a[i]-a[i-1]\\ (2&lt;&#x3D;i&lt;&#x3D;n)$</li>\n</ul>\n</li>\n<li>ä¸ºåŸåºåˆ— $[l,r]$ åŒºé—´åˆ†åˆ«åŠ ä¸Š $c$ ç­‰ä»·äºï¼š$b[l]+&#x3D;c,\\ b[r+1]-&#x3D;c$ï¼Œå¯¹å·®åˆ†åºåˆ— $b$ åšä¸€ç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$</li>\n</ul>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 797ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/799/\">797. å·®åˆ† - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],b[N]; <span class=\"comment\">// a:åŸåºåˆ—,b:å·®åˆ†åºåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å¯¹bæ±‚å‰ç¼€å’Œ</span></span><br><span class=\"line\"><span class=\"type\">int</span> l,r,c;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è§„æ¨¡è¶…è¿‡1e5,æ¨èä½¿ç”¨scanf</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);\t</span><br><span class=\"line\">\t\tb[i]=a[i]-a[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‰ç¼€å’Œå’Œå·®åˆ†ä¸‹æ ‡éƒ½ä»1å¼€å§‹,å¦åˆ™å®¹æ˜“æœ‰è¾¹ç•Œé—®é¢˜</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;l,&amp;r,&amp;c);</span><br><span class=\"line\">\t\tb[l]+=c;</span><br><span class=\"line\">\t\tb[r+<span class=\"number\">1</span>]-=c;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ–°æ•°ç»„sè®¡ç®—å·®åˆ†åºåˆ—bçš„å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+b[i];</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,s[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨ç´¯åŠ çš„æ€æƒ³,åœ¨å·®åˆ†åºåˆ—æœ¬èº«ä¸Šåšå‰ç¼€å’Œ,èŠ‚çœç©ºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tb[i]+=b[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,b[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-äºŒç»´å·®åˆ†\"><a href=\"#2-äºŒç»´å·®åˆ†\" class=\"headerlink\" title=\"2. äºŒç»´å·®åˆ†\"></a>2. äºŒç»´å·®åˆ†</h2><ul>\n<li>åœ¨ä¸€ç»´å·®åˆ†ä¸­æˆ‘ä»¬å¯¹å·®åˆ†åºåˆ— $b$ æ±‚å‰ç¼€å’Œå¯ä»¥å¾—åˆ°åŸåºåˆ— $a$ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºå·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227790.png\" alt=\"image-20240317085114587\"></p>\n<ul>\n<li>åˆ™æˆ‘ä»¬å¯ç”±äºŒç»´å‰ç¼€å’Œè®¡ç®—å…¬å¼è½»æ¾æ¨å¯¼å‡ºäºŒç»´å·®åˆ†åºåˆ—çš„è®¡ç®—å…¬å¼ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$<ul>\n<li>äºŒç»´å‰ç¼€å’Œçš„è®¡ç®—å…¬å¼ $s[i][j]&#x3D;\\sum_{i&#x3D;1}^i\\sum_{j&#x3D;1}^ja[i][j]&#x3D;s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j]$</li>\n<li>å°† $a[i]$ å•ç‹¬ç§»è‡³ç­‰å·ä¸€è¾¹ï¼Œå¯¹ $s$ åˆå¹¶åŒç±»é¡¹ï¼Œå¾—åˆ° $a[i][j]&#x3D;s[i][j]-s[i-1][j]-s[i][j-1]+s[i-1][j-1]$</li>\n<li>ç”±äº $b$ çš„å‰ç¼€å’Œæ˜¯ $a$ï¼Œæ‰€ä»¥å°† $a$ æ›¿æ¢æˆ $b$ï¼Œå°† $s$ æ›¿æ¢æˆ $a$ï¼Œå¾—åˆ°äºŒä½å·®åˆ†è®¡ç®—å…¬å¼</li>\n<li>$b[i][j]&#x3D;a[i][j]-a[i-1][j]-a[i][j-1]+a[i-1][j-1]$ï¼Œå…¶ç‰©ç†å«ä¹‰æ˜¯ï¼šåœ¨ä¸‹æ ‡ $[i][j]$ ä½ç½®ä¸Šçš„å·®åˆ†ç­‰äºåŸåºåˆ— $[i][j]$ ä¸Šçš„å…ƒç´ å‡å»ä¸Šè¾¹ $[i-1][j]$ å’Œå·¦è¾¹ $[i][j-1]$ ä¸Šçš„å…ƒç´ å¹¶åŠ ä¸Šå·¦ä¸Šè§’ $[i-1][j-1]$ çš„å…ƒç´ </li>\n</ul>\n</li>\n<li>å¯¹åŸåºåˆ— $a$ åŒºé—´ $(x_1,y_1)$ åˆ° $(x_2,y_2)$ ä¹‹é—´çš„å…ƒç´ åŠ ä¸Š $c$ï¼Œç­‰ä»·äºå…¶å·®åˆ†åºåˆ— $b$ çš„ç‚¹ $(x_1,y_1)$ åŠ  $c$ï¼Œç‚¹ $(x_1,y_{2}+1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y1)$ å‡ $c$ï¼Œç‚¹ $(x_2+1,y_2+1)$ åŠ  $c$ï¼Œæ—¶é—´å¤æ‚åº¦ $O(1)$ï¼Œæœ€åå¯¹å·®åˆ†åºåˆ— $b$ æ±‚äºŒç»´å‰ç¼€å’Œå³å¯å¾—åˆ°æ“ä½œè¿‡åçš„åŸåºåˆ—</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/202410031227796.png\"></p>\n<blockquote>\n<p>ã€ä¾‹é¢˜ã€‘AcWing 798ï¼Œé“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/800/\">798. å·®åˆ†çŸ©é˜µ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: é€è¡Œå·®åˆ†å’Œé€è¡Œæ±‚å’Œçš„æ€è·¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,k; <span class=\"comment\">// n:çŸ©é˜µè¡Œæ•°,m:çŸ©é˜µåˆ—æ•°,k:æ“ä½œæ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> b[N][N]; <span class=\"comment\">// å·®åˆ†çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> s[N][N]; <span class=\"comment\">// å¯¹bæ±‚äºŒç»´å‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„åŸåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i][j];</span><br><span class=\"line\">\t\t\tb[i][j]=a[i][j]-a[i<span class=\"number\">-1</span>][j]-a[i][j<span class=\"number\">-1</span>]+a[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]; <span class=\"comment\">// å·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºå·®åˆ†æ•°ç»„çœ‹ä¸€çœ‹</span></span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&quot;è¾“å‡ºå·®åˆ†æ•°ç»„:&gt;\\n&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=1;i&lt;=n;i++,puts(&quot;&quot;)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tfor(int j=1;j&lt;=m;j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tcout&lt;&lt;b[i][j]&lt;&lt;&#x27; &#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> x1,y1,x2,y2,c;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(k--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2,&amp;c);</span><br><span class=\"line\">\t\tb[x1][y1]+=c;</span><br><span class=\"line\">\t\tb[x1][y2+<span class=\"number\">1</span>]-=c;</span><br><span class=\"line\">\t\tb[x2+<span class=\"number\">1</span>][y1]-=c;</span><br><span class=\"line\">\t\tb[x2+<span class=\"number\">1</span>][y2+<span class=\"number\">1</span>]+=c;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ±‚å‰ç¼€å’Œä¿å­˜åˆ°sé‡Œé¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\ts[i][j]=s[i<span class=\"number\">-1</span>][j]+s[i][j<span class=\"number\">-1</span>]-s[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]+b[i][j];</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;s[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ç›´æ¥åœ¨bæœ¬èº«ä¸Šè¿›è¡Œå‰ç¼€å’Œå¾—åˆ°æ“ä½œåçš„a</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\tb[i][j]+=b[i<span class=\"number\">-1</span>][j]+b[i][j<span class=\"number\">-1</span>]-b[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>];</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;b[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"å¹¿åº¦ä¼˜å…ˆæœç´¢","date":"2024-10-04T13:06:53.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¹¿åº¦ä¼˜å…ˆæœç´¢\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å¹¿æœæ˜¯åŸºäºé˜Ÿåˆ—å®ç°çš„ä»æ ¹å¼€å§‹å‘ä¸‹é€å±‚æ‰©å±•é€å±‚è®¿é—®çš„æœç´¢éå†æ–¹æ³•\n\n\n\n## 1. åŸºäºé‚»æ¥è¡¨\n\n![image-20240510202644636](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240510202644636.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nvector<int> e[N]; // e[1]:ç»“ç‚¹1çš„ç›¸é‚»ç»“ç‚¹\nint vis[N]; // vis[1]:ç»“ç‚¹1çš„è®¿é—®çŠ¶æ€,true:è®¿é—®è¿‡äº†,false:æœªè®¿é—®\nqueue<int> q; // é˜Ÿåˆ—\n\nvoid bfs() {\n\tvis[1]=1; // å‡è®¾ç»“ç‚¹1æ˜¯æ ¹èŠ‚ç‚¹\n\tq.push(1);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tprintf(\"%d å‡ºé˜Ÿ\\n\",x);\n\t\t// æ‰©å±•å…¶å„¿å­ç»“ç‚¹\n\t\tfor(int y:e[x]) {\n\t\t\tif(vis[y]) continue; // é¿å…åå¤å…¥é˜Ÿ\n\t\t\tvis[y]=1;\n\t\t\tprintf(\"%d å…¥é˜Ÿ\\n\",y);\n\t\t\tq.push(y);\n\t\t}\n\t}\n}\n\nint n,m; // æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°\n\nint main() {\n\tcin>>n>>m; // nä¸ªç»“ç‚¹,.æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n\t\tint a,b;\n\t\tcin>>a>>b; // çˆ¶åœ¨å‰\n\t\t// æ— å‘å›¾åŒå‘å»ºè¾¹\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tbfs();\n\treturn 0;\n}\n\n/*\n8 7\n1 2\n1 3\n2 4\n2 5\n2 6\n3 7\n3 8\n*/\n```\n\n\n\n## 2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ\n\n* æ³¨æ„ï¼Œå› ä¸ºé“¾å¼å‰å‘æ˜Ÿæ˜¯å¤´æ’ï¼Œæ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ï¼ˆå°¾æ’ï¼‰ä¸å¤ªä¸€æ ·\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§ç»“ç‚¹æ•°\nconst int M=(1e5+5)*2; // æœ€å¤§è¾¹æ•°(æ— å‘å›¾)\nint h[N]; // h[i]:ç»“ç‚¹içš„èµ·å§‹è¾¹ç¼–å·\nint e[M]; // e[i]:ç¬¬iæ¡è¾¹åˆ°è¾¾çš„ç»“ç‚¹\nint ne[M]; // ne[i]:ç¬¬iæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint idx; // å»ºè¾¹å› å­\n\nint vis[N]; // æ¯ä¸ªç»“ç‚¹çš„è®¿é—®çŠ¶æ€\n\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a];\n\th[a]=idx++;\n}\n\nint n,m; // æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°\n\nqueue<int> q; // ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—\n\nvoid bfs() {\n\tvis[1]=true;\n\tq.push(1);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tprintf(\"%d å‡ºé˜Ÿ\\n\",x);\n\t\t// éå†è¿æ¥xçš„æ‰€æœ‰è¾¹\n\t\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i]; // å–å‡ºç¬¬iæ¡è¾¹æ‰€è¾¾ç»“ç‚¹\n\t\t\tif(vis[j]) continue;\n\t\t\tvis[j]=true;\n\t\t\tprintf(\"%d å…¥é˜Ÿ\\n\",j);\n\t\t\tq.push(j);\n\t\t}\n\t}\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–\n\tcin>>n>>m; // nä¸ªç»“ç‚¹,.æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n\t\tint a,b;\n\t\tcin>>a>>b; // çˆ¶åœ¨å‰\n\t\t// æ— å‘å›¾åŒå‘å»ºè¾¹\n\t\tadd(a,b);\n\t\tadd(b,a);\n\t}\n\tbfs();\n\treturn 0;\n}\n\n// æ³¨æ„,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ä¸å¤ªä¸€æ ·\n\n/*\n8 7\n1 2\n1 3\n2 4\n2 5\n2 6\n3 7\n3 8\n */\n```\n\n\n\n## 3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰\n\n### 3.1. å•æºBFS\n\n#### 3.1.1. è±¡æ£‹é©¬çš„éå†\n\n> é¢˜ç›®æè¿°ï¼šåœ¨è±¡æ£‹æ£‹ç›˜ä¸­ï¼Œé©¬ä» $(0,0)$ è·³åˆ° $(fx,fy)$ã€è‡ªè¡Œè¾“å…¥ã€‘ï¼Œå·²çŸ¥é©¬åªèƒ½å‘å³è·³ï¼Œæ±‚åˆ°è¾¾ç»ˆç‚¹æ‰€éœ€æœ€å°‘æ­¥é•¿å¹¶è¾“å‡ºå…¶è·¯å¾„\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\n// åªèƒ½å‘å³èµ°,è¯´æ˜åœ¨åˆ—æ–¹å‘ä¸Šçš„å˜åŒ–åªèƒ½æ˜¯æ­£å€¼\nconst int dx[]={0,1,2,-1,-2};\nconst int dy[]={0,2,1,2,1};\nint dist[N][N]; // åˆå§‹åŒ–ä¸º-1,ä¹ŸæŠŠdistå½“ä½œstæ•°ç»„ç”¨\nint ans; // å­˜å‚¨æœ€çŸ­è·¯å¾„\nint fx,fy; // ç»ˆç‚¹æ˜¯(fx,fy),è¡Œæ˜¯m,åˆ—æ˜¯n\nqueue<PII> q; // æ”¾çš„æ˜¯åæ ‡\n\nPII pre[N][N]; // è®°å½•è·¯å¾„\n\n// åªè°ƒç”¨ä¸€æ¬¡\nint bfs(int x,int y) {\n\tdist[x][y]=0;\n\tq.push(make_pair(x,y));\n\twhile(q.size()) {\n\t\t// å–å‡ºé˜Ÿå¤´\n\t\tPII t=q.front();\n\t\tq.pop();\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\t// ä¸€å®šä¸ä¼šå¾€å›èµ°\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// è¶Šç•Œå¤„ç†\n\t\t\tif(xx<0 || yy<0 || xx>fx || yy>fy) continue;\n\t\t\tq.push(make_pair(xx,yy));\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1;\n\t\t\tpre[xx][yy]=make_pair(t.x,t.y); // [xx,yy]çš„å‰é©±æ˜¯[t.x,t.y]\n\t\t\t// æ‰¾åˆ°ç»ˆç‚¹äº†\n\t\t\tif(xx==fx && yy==fy) {\n\t\t\t\treturn dist[xx][yy];\n\t\t\t}\n\t\t}\n\t}\n\treturn -1; // æ‰¾ä¸åˆ°\n}\n\nint main() {\n\tcin>>fx>>fy;\n\tint sx=0,sy=0; // èµ·ç‚¹\n\tcout<<bfs(sx,sy);\n\tint x=fx,y=fy; // å›æº¯è·¯å¾„\n\tcout<<endl;\n\tvector<PII> v; // è®°å½•æ­£å‘è·¯å¾„\n\twhile(x!=sx || y!=sy) { \n\t\tv.push_back(make_pair(x,y));\n\t\tPII prev=pre[x][y];\n\t\tx=prev.x;\n\t\ty=prev.y;\n\t}\n\tv.push_back(make_pair(sx, sy)); // æ·»åŠ èµ·ç‚¹åˆ°è·¯å¾„ä¸­ \n\tfor(int i=v.size()-1;i>=0;i--) { // è¾“å‡ºè·¯å¾„è¦å€’åºè¾“å‡º\n\t\tif(i!=0) cout<<\"(\"<<v[i].x<<\",\"<<v[i].y<<\")\"<<\"-->\";\n\t\telse cout<<\"(\"<<v[i].x<<\",\"<<v[i].y<<\")\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n#### 3.1.2. è¿·å®«æœ€çŸ­è·¯\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B12 BFS è¿·å®« æœ€çŸ­è·¯_bilibili](https://www.bilibili.com/video/BV1NU4y1R7fd/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼š$n$ è¡Œ $n$ åˆ—çš„äºŒç»´åœ°å›¾ä¸­ï¼Œ$1$ è¡¨ç¤ºå¢™å£ï¼Œ$0$ è¡¨ç¤ºå¯èµ°çš„è·¯ï¼Œåªèƒ½æœä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦å¹¶è¾“å‡ºè¿™æ¡è·¯å¾„\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\n// åç§»é‡\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\n\nint n;\nint g[N][N]; // åœ°å›¾,01å­˜å‚¨,å…¼çŠ¶æ€æ•°ç»„\nint dist[N][N]; // dist[i][j]:(i,j)åˆ°èµ·ç‚¹(1,1)çš„è·ç¦»\nqueue<PII> q; // ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—\nPII pre[N][N]; // pre[i][j]:(i,j)çš„ä¸Šä¸€æ­¥çš„åæ ‡(è®°å½•æœ€çŸ­è·¯)\nint fx,fy; // ç»ˆç‚¹\n\nint bfs(int x,int y) {\n\tdist[x][y]=0;\n\tq.push({x,y}); // å·¦ä¸Šè§’åˆå§‹åŠ å…¥é˜Ÿåˆ—\n\tg[x][y]=1; // æ¸²æŸ“æˆå¢™å£,è¡¨ç¤ºèµ°è¿‡äº†\n\twhile(q.size()) {\n\t\tPII t=q.front(); // å–å‡ºé˜Ÿå¤´\n\t\tq.pop();\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// çº¦æŸæ¡ä»¶\n\t\t\t// 1) è¶Šç•Œå¤„ç†\n\t\t\tif(xx<1 || xx>n || yy<1 || yy>n) continue;\n\t\t\t// 2) å¿…é¡»ä¸ºå¯èµ°&&å¿…é¡»æ²¡èµ°è¿‡\n\t\t\tif(g[xx][yy]==1) continue;\n\t\t\t// å æ®æ–¹æ¡ˆ\n\t\t\tg[xx][yy]=1;\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1; // æ­¥é•¿+1\n\t\t\tpre[xx][yy]={t.x,t.y}; // è®°å½•ä¸Šä¸€æ­¥\n\t\t\tcout<<t.x<<','<<t.y<<\"-->\"<<xx<<','<<yy<<endl;\n\t\t\tif(xx==fx && yy==fy) return dist[xx][yy];\n\t\t\tq.push({xx,yy});\n\t\t\t// å¦‚æœæ‰¾åˆ°ç»ˆç‚¹\n\t\t}\n\t}\n\treturn -1; // æ‰¾ä¸åˆ°æœ€çŸ­è·¯\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\n\t}\n\tfx=n,fy=n;\n\tcout<<bfs(1,1)<<endl; // ä»(1,1)å¹¿æœ\n\tcout<<dist[n][n]<<endl;\n\tvector<PII> path; // å­˜å‚¨è·¯å¾„\n\t// ä¸€ç›´å›æº¯åˆ°èµ·ç‚¹\n\twhile(fx!=1 || fy!=1) {\n\t\tprintf(\"(%d,%d)çš„ä¸Šä¸€ä¸ªä½ç½®æ˜¯(%d,%d)\\n\",fx,fy,pre[fx][fy].first,pre[fx][fy].second);\n\t\tpath.push_back({fx,fy});\n\t\tPII prev=pre[fx][fy];\n\t\tfx=prev.x;\n\t\tfy=prev.y;\n\t}\n\tpath.push_back({1,1});\n\treverse(path.begin(),path.end());\n\tfor(int i=0;i<path.size();i++) {\n\t\tif(i!=path.size()-1) printf(\"(%d,%d)->\",path[i].first,path[i].second);\n\t\telse printf(\"(%d,%d)\",path[i].first,path[i].second);\n\t}\n\treturn 0;\n}\n/*\n5\n0 1 0 0 0\n0 1 0 1 0\n0 0 0 0 0 \n0 1 1 1 0\n0 0 0 1 0\n*/\n```\n\n\n\n#### 3.1.3. æŠ“ä½é‚£å¤´ç‰›\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B15 BFS æŠ“ä½é‚£å¤´ç‰›_bilibili](https://www.bilibili.com/video/BV1KM4y1e7v1/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼šäººå’Œç‰›åœ¨åŒä¸€ç›´çº¿ä¸Šï¼Œåˆå§‹ä½ç½®åˆ†åˆ«ä¸º $x$ å’Œ $y$ï¼Œç‰›ä¸åŠ¨ï¼Œäººæ¯æ¬¡å¯ä»¥å‰è¿› $1$ æ­¥ã€åé€€ $1$ æ­¥æˆ–è€…ç›´æ¥èµ°åˆ° $2Ã—x$ çš„ä½ç½®ï¼Œè®¡ç®—è¿½ä¸Šç‰›çš„æœ€å°æ­¥æ•°\n\n* å¯¹äºèµ·ç‚¹å…ˆåŠ å…¥é˜Ÿåˆ—ï¼Œéšåæ¯æ¬¡å–å‡ºé˜Ÿå¤´åˆ†åˆ«å¤„ç†å‰è¿›ä¸€æ­¥ã€åé€€ä¸€æ­¥ä»¥åŠ $Ã—2$ åçš„æ­¥æ•°ï¼Œå› ä¸ºæ˜¯é€å±‚æ‰©å±•ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡éå†åˆ°çš„æ—¶å€™æ‰€ç”¨åˆ°çš„æ­¥æ•°ä¸€å®šæ˜¯æœ€å°çš„\n* åŒæ—¶æˆ‘ä»¬çº¦æŸå…¶ä¸Šä¸‹ç•Œï¼Œä¸‹ç•Œä¸º $0$ ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚ $x,y>=0$ ï¼Œä¸Šç•Œä¸ºé¢˜ç›®ç»™çš„æ•°æ®èŒƒå›´ $1e5$ï¼Œå› ä¸º $xÃ—2,\\ x-1,\\ x-1$ ä¸å¦‚ $x-1,xÃ—2$ æ›´ä¼˜ï¼Œæ‰€ä»¥å¯ä»¥çº¦æŸå…¶ä¸Šç•Œ\n* æœ¬é¢˜è¿˜éœ€è¦å­¦ä¹ çš„ä¸€ç‚¹åœ¨äºç”¨ $dist$ æ•°ç»„è¿›è¡Œå‰ªæï¼Œé™åˆ¶ç¬¬ä¸€æ¬¡æ¥åˆ°è¿™ä¸€æ­¥æ‰å¯¹å€¼è¿›è¡Œæ›´æ–°ï¼Œæ ¹æ® $BFS$ é€å±‚æ‰©å±•çš„åŸç†ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„æœ¬èº«ä¹Ÿæ˜¯æœ€å°å€¼\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint x,y,dist[N]; // dist[i]:èµ°åˆ°iæ‰€éœ€è¦çš„æœ€å°‘æ­¥æ•°\n\nqueue<int> q;\n\nvoid bfs() {\n\tmemset(dist,-1,sizeof dist);\n\tdist[x]=0; // èµ·ç‚¹\n\tq.push(x); \n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\t// ä¸‹é¢ä¸‰ç§æƒ…å†µçš„çº¦æŸæ¡ä»¶:éƒ½æ˜¯æ²¡èµ°è¿‡(å› ä¸ºé€å±‚æ‰©å±•,æ‰€ä»¥ç¬¬ä¸€æ¬¡é‡åˆ°ä¸€å®šæœ€å°)å¹¶ä¸”ä¸è¶Šç•Œ\n\t\t// ä¸‹é¢çš„ä¸‰ä¸ªifæ˜¯å¹¶åˆ—å…³ç³»,ç›¸å½“äºä¸€ä¸ªç»“ç‚¹ä¼šæ‰©å±•3æ¬¡,å‰è¿›ä¸€æ­¥/åé€€ä¸€æ­¥å’ŒÃ—2\n\t\t// å…¶å®distæ•°ç»„çš„ä½œç”¨ç›¸å½“äºå‰ªæäº†,å› ä¸ºæ¯ä¸ªç»“ç‚¹åªèƒ½è¢«æ‰©å±•ä¸€æ¬¡\n\t\t// æ˜“è¯æ˜,x*2å†-1-1,ä¸å¦‚x-1,x*2æ›´ä¼˜,æ•…æœ‰ä¸Šç•Œx<=10^5\n\t\tif(x+1<N && dist[x+1]==-1) {\n\t\t\tdist[x+1]=dist[x]+1; // å‰è¿›ä¸€æ­¥\n\t\t\tq.push(x+1);\n\t\t}\n\t\t// åæ ‡èŒƒå›´æœ¬èº«(x,y)éƒ½>0\n\t\tif(x-1>0 && dist[x-1]==-1) {\n\t\t\tdist[x-1]=dist[x]+1; // åé€€ä¸€æ­¥\n\t\t\tq.push(x-1);\n\t\t}\n\t\tif(2*x<N && dist[2*x]==-1) {\n\t\t\tdist[2*x]=dist[x]+1; // èµ°åˆ°2*xçš„ä½ç½®\n\t\t\tq.push(2*x);\n\t\t}\n\t\t// å¦‚æœèµ°åˆ°ç»ˆç‚¹\n\t\tif(x==y) {\n\t\t\tcout<<dist[y]<<endl; \n\t\t\treturn;\n\t\t}\n\t}\n}\n\nint main() {\n\tint T;\n\tcin>>T;\n\twhile(T--) {\n\t\tcin>>x>>y;\n\t\tbfs();\n\t}\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\n1\n5 17\nè¾“å‡ºæ ·ä¾‹:\n4\n */\n```\n\n\n\n### 3.2. å¤šæºBFS\n\n#### 3.2.1. è·ç¦»çŸ©é˜µ\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B13 å¤šæºBFS çŸ©é˜µè·ç¦»_bilibili](https://www.bilibili.com/video/BV1GB4y1Q7bR/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼šå³æ˜¯è¯´æ±‚å›¾ä¸­æ¯ä¸€ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä»è€Œæ„æˆä¸€ä¸ªæ–°çš„çŸ©é˜µ $B$\n\n![image-20240512154726043](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240512154726043.png)\n\n* ä¸ºäº†æ±‚æ¯ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œå¦‚æœè®¡ç®—éå†åˆ°æ¯ä¸ª $0$ æ—¶åˆ†åˆ«å»å¯»æ‰¾è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ å¹¶æ‰“æ“‚å–å¾—æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆä¼šé«˜\n* æ‰€ä»¥å¯ä»¥ä»æ¯ä¸ª $1$ åšæ´ªæ°´è¦†ç›–ï¼Œå³å¤šæº $BFS$ï¼Œå…ˆæ¥åˆ°è¿™ä¸ªç‚¹çš„è·ç¦»ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œå› ä¸º $BFS$ æ˜¯é€å±‚æ‰©å±•\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\nchar g[N][N]; // åœ°å›¾\nint dist[N][N]; // å­˜å‚¨åˆ°æºç‚¹çš„è·ç¦»,å…¼èŒåˆ¤é‡\nint n,m; // nè¡Œmåˆ—\n\nqueue<PII> q; // å¤šæº,æŠŠæ¯ä¸ª1éƒ½æ”¾å…¥é˜Ÿåˆ—\n\nvoid bfs() {\n\tmemset(dist,-1, sizeof dist); // å‡åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\t// éå†åœ°å›¾\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\t// å¤šæºBFS,åŒºåˆ«å°±æ˜¯æŠŠå¤šä¸ªæºç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(g[i][j]=='1') {\n\t\t\t\tdist[i][j]=0; // åˆ°è‡ªå·±çš„è·ç¦»ä¸º0\n\t\t\t\tq.push({i,j});\n\t\t\t}\n\t\t}\n\t}\n\twhile(q.size()) {\n\t\tauto t=q.front();\n\t\tq.pop();\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// 1) è¶Šç•Œå¤„ç†\n\t\t\tif(xx<1 || xx>n || yy<1 || yy>m) continue;\n\t\t\t// 2) èµ°è¿‡åˆ™è·³è¿‡\n\t\t\tif(dist[xx][yy]!=-1) continue;\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1; // æ´ªæ³›è®¡ç®—è·ç¦»\n\t\t\tq.push({xx,yy});\t\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥åœ°å›¾\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\t\n\t}\n\tbfs();\n\tfor(int i=1;i<=n;i++,puts(\"\")) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcout<<dist[i][j]<<' ';\n\t\t}\t\n\t}\n\treturn 0;\n}\n/*\n3 4\n0 0 0 1\n0 0 1 1\n0 1 1 0\n*/\n```\n","source":"_posts/å¹¿åº¦ä¼˜å…ˆæœç´¢.md","raw":"---\ntitle: å¹¿åº¦ä¼˜å…ˆæœç´¢\ndate: 2024-10-04 21:06:53\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æœç´¢\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# å¹¿åº¦ä¼˜å…ˆæœç´¢\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* å¹¿æœæ˜¯åŸºäºé˜Ÿåˆ—å®ç°çš„ä»æ ¹å¼€å§‹å‘ä¸‹é€å±‚æ‰©å±•é€å±‚è®¿é—®çš„æœç´¢éå†æ–¹æ³•\n\n\n\n## 1. åŸºäºé‚»æ¥è¡¨\n\n![image-20240510202644636](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240510202644636.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nvector<int> e[N]; // e[1]:ç»“ç‚¹1çš„ç›¸é‚»ç»“ç‚¹\nint vis[N]; // vis[1]:ç»“ç‚¹1çš„è®¿é—®çŠ¶æ€,true:è®¿é—®è¿‡äº†,false:æœªè®¿é—®\nqueue<int> q; // é˜Ÿåˆ—\n\nvoid bfs() {\n\tvis[1]=1; // å‡è®¾ç»“ç‚¹1æ˜¯æ ¹èŠ‚ç‚¹\n\tq.push(1);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tprintf(\"%d å‡ºé˜Ÿ\\n\",x);\n\t\t// æ‰©å±•å…¶å„¿å­ç»“ç‚¹\n\t\tfor(int y:e[x]) {\n\t\t\tif(vis[y]) continue; // é¿å…åå¤å…¥é˜Ÿ\n\t\t\tvis[y]=1;\n\t\t\tprintf(\"%d å…¥é˜Ÿ\\n\",y);\n\t\t\tq.push(y);\n\t\t}\n\t}\n}\n\nint n,m; // æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°\n\nint main() {\n\tcin>>n>>m; // nä¸ªç»“ç‚¹,.æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n\t\tint a,b;\n\t\tcin>>a>>b; // çˆ¶åœ¨å‰\n\t\t// æ— å‘å›¾åŒå‘å»ºè¾¹\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tbfs();\n\treturn 0;\n}\n\n/*\n8 7\n1 2\n1 3\n2 4\n2 5\n2 6\n3 7\n3 8\n*/\n```\n\n\n\n## 2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ\n\n* æ³¨æ„ï¼Œå› ä¸ºé“¾å¼å‰å‘æ˜Ÿæ˜¯å¤´æ’ï¼Œæ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ï¼ˆå°¾æ’ï¼‰ä¸å¤ªä¸€æ ·\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§ç»“ç‚¹æ•°\nconst int M=(1e5+5)*2; // æœ€å¤§è¾¹æ•°(æ— å‘å›¾)\nint h[N]; // h[i]:ç»“ç‚¹içš„èµ·å§‹è¾¹ç¼–å·\nint e[M]; // e[i]:ç¬¬iæ¡è¾¹åˆ°è¾¾çš„ç»“ç‚¹\nint ne[M]; // ne[i]:ç¬¬iæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint idx; // å»ºè¾¹å› å­\n\nint vis[N]; // æ¯ä¸ªç»“ç‚¹çš„è®¿é—®çŠ¶æ€\n\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a];\n\th[a]=idx++;\n}\n\nint n,m; // æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°\n\nqueue<int> q; // ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—\n\nvoid bfs() {\n\tvis[1]=true;\n\tq.push(1);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tprintf(\"%d å‡ºé˜Ÿ\\n\",x);\n\t\t// éå†è¿æ¥xçš„æ‰€æœ‰è¾¹\n\t\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i]; // å–å‡ºç¬¬iæ¡è¾¹æ‰€è¾¾ç»“ç‚¹\n\t\t\tif(vis[j]) continue;\n\t\t\tvis[j]=true;\n\t\t\tprintf(\"%d å…¥é˜Ÿ\\n\",j);\n\t\t\tq.push(j);\n\t\t}\n\t}\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–\n\tcin>>n>>m; // nä¸ªç»“ç‚¹,.æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n\t\tint a,b;\n\t\tcin>>a>>b; // çˆ¶åœ¨å‰\n\t\t// æ— å‘å›¾åŒå‘å»ºè¾¹\n\t\tadd(a,b);\n\t\tadd(b,a);\n\t}\n\tbfs();\n\treturn 0;\n}\n\n// æ³¨æ„,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ä¸å¤ªä¸€æ ·\n\n/*\n8 7\n1 2\n1 3\n2 4\n2 5\n2 6\n3 7\n3 8\n */\n```\n\n\n\n## 3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰\n\n### 3.1. å•æºBFS\n\n#### 3.1.1. è±¡æ£‹é©¬çš„éå†\n\n> é¢˜ç›®æè¿°ï¼šåœ¨è±¡æ£‹æ£‹ç›˜ä¸­ï¼Œé©¬ä» $(0,0)$ è·³åˆ° $(fx,fy)$ã€è‡ªè¡Œè¾“å…¥ã€‘ï¼Œå·²çŸ¥é©¬åªèƒ½å‘å³è·³ï¼Œæ±‚åˆ°è¾¾ç»ˆç‚¹æ‰€éœ€æœ€å°‘æ­¥é•¿å¹¶è¾“å‡ºå…¶è·¯å¾„\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\n// åªèƒ½å‘å³èµ°,è¯´æ˜åœ¨åˆ—æ–¹å‘ä¸Šçš„å˜åŒ–åªèƒ½æ˜¯æ­£å€¼\nconst int dx[]={0,1,2,-1,-2};\nconst int dy[]={0,2,1,2,1};\nint dist[N][N]; // åˆå§‹åŒ–ä¸º-1,ä¹ŸæŠŠdistå½“ä½œstæ•°ç»„ç”¨\nint ans; // å­˜å‚¨æœ€çŸ­è·¯å¾„\nint fx,fy; // ç»ˆç‚¹æ˜¯(fx,fy),è¡Œæ˜¯m,åˆ—æ˜¯n\nqueue<PII> q; // æ”¾çš„æ˜¯åæ ‡\n\nPII pre[N][N]; // è®°å½•è·¯å¾„\n\n// åªè°ƒç”¨ä¸€æ¬¡\nint bfs(int x,int y) {\n\tdist[x][y]=0;\n\tq.push(make_pair(x,y));\n\twhile(q.size()) {\n\t\t// å–å‡ºé˜Ÿå¤´\n\t\tPII t=q.front();\n\t\tq.pop();\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\t// ä¸€å®šä¸ä¼šå¾€å›èµ°\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// è¶Šç•Œå¤„ç†\n\t\t\tif(xx<0 || yy<0 || xx>fx || yy>fy) continue;\n\t\t\tq.push(make_pair(xx,yy));\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1;\n\t\t\tpre[xx][yy]=make_pair(t.x,t.y); // [xx,yy]çš„å‰é©±æ˜¯[t.x,t.y]\n\t\t\t// æ‰¾åˆ°ç»ˆç‚¹äº†\n\t\t\tif(xx==fx && yy==fy) {\n\t\t\t\treturn dist[xx][yy];\n\t\t\t}\n\t\t}\n\t}\n\treturn -1; // æ‰¾ä¸åˆ°\n}\n\nint main() {\n\tcin>>fx>>fy;\n\tint sx=0,sy=0; // èµ·ç‚¹\n\tcout<<bfs(sx,sy);\n\tint x=fx,y=fy; // å›æº¯è·¯å¾„\n\tcout<<endl;\n\tvector<PII> v; // è®°å½•æ­£å‘è·¯å¾„\n\twhile(x!=sx || y!=sy) { \n\t\tv.push_back(make_pair(x,y));\n\t\tPII prev=pre[x][y];\n\t\tx=prev.x;\n\t\ty=prev.y;\n\t}\n\tv.push_back(make_pair(sx, sy)); // æ·»åŠ èµ·ç‚¹åˆ°è·¯å¾„ä¸­ \n\tfor(int i=v.size()-1;i>=0;i--) { // è¾“å‡ºè·¯å¾„è¦å€’åºè¾“å‡º\n\t\tif(i!=0) cout<<\"(\"<<v[i].x<<\",\"<<v[i].y<<\")\"<<\"-->\";\n\t\telse cout<<\"(\"<<v[i].x<<\",\"<<v[i].y<<\")\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n#### 3.1.2. è¿·å®«æœ€çŸ­è·¯\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B12 BFS è¿·å®« æœ€çŸ­è·¯_bilibili](https://www.bilibili.com/video/BV1NU4y1R7fd/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼š$n$ è¡Œ $n$ åˆ—çš„äºŒç»´åœ°å›¾ä¸­ï¼Œ$1$ è¡¨ç¤ºå¢™å£ï¼Œ$0$ è¡¨ç¤ºå¯èµ°çš„è·¯ï¼Œåªèƒ½æœä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦å¹¶è¾“å‡ºè¿™æ¡è·¯å¾„\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\n// åç§»é‡\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\n\nint n;\nint g[N][N]; // åœ°å›¾,01å­˜å‚¨,å…¼çŠ¶æ€æ•°ç»„\nint dist[N][N]; // dist[i][j]:(i,j)åˆ°èµ·ç‚¹(1,1)çš„è·ç¦»\nqueue<PII> q; // ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—\nPII pre[N][N]; // pre[i][j]:(i,j)çš„ä¸Šä¸€æ­¥çš„åæ ‡(è®°å½•æœ€çŸ­è·¯)\nint fx,fy; // ç»ˆç‚¹\n\nint bfs(int x,int y) {\n\tdist[x][y]=0;\n\tq.push({x,y}); // å·¦ä¸Šè§’åˆå§‹åŠ å…¥é˜Ÿåˆ—\n\tg[x][y]=1; // æ¸²æŸ“æˆå¢™å£,è¡¨ç¤ºèµ°è¿‡äº†\n\twhile(q.size()) {\n\t\tPII t=q.front(); // å–å‡ºé˜Ÿå¤´\n\t\tq.pop();\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// çº¦æŸæ¡ä»¶\n\t\t\t// 1) è¶Šç•Œå¤„ç†\n\t\t\tif(xx<1 || xx>n || yy<1 || yy>n) continue;\n\t\t\t// 2) å¿…é¡»ä¸ºå¯èµ°&&å¿…é¡»æ²¡èµ°è¿‡\n\t\t\tif(g[xx][yy]==1) continue;\n\t\t\t// å æ®æ–¹æ¡ˆ\n\t\t\tg[xx][yy]=1;\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1; // æ­¥é•¿+1\n\t\t\tpre[xx][yy]={t.x,t.y}; // è®°å½•ä¸Šä¸€æ­¥\n\t\t\tcout<<t.x<<','<<t.y<<\"-->\"<<xx<<','<<yy<<endl;\n\t\t\tif(xx==fx && yy==fy) return dist[xx][yy];\n\t\t\tq.push({xx,yy});\n\t\t\t// å¦‚æœæ‰¾åˆ°ç»ˆç‚¹\n\t\t}\n\t}\n\treturn -1; // æ‰¾ä¸åˆ°æœ€çŸ­è·¯\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\n\t}\n\tfx=n,fy=n;\n\tcout<<bfs(1,1)<<endl; // ä»(1,1)å¹¿æœ\n\tcout<<dist[n][n]<<endl;\n\tvector<PII> path; // å­˜å‚¨è·¯å¾„\n\t// ä¸€ç›´å›æº¯åˆ°èµ·ç‚¹\n\twhile(fx!=1 || fy!=1) {\n\t\tprintf(\"(%d,%d)çš„ä¸Šä¸€ä¸ªä½ç½®æ˜¯(%d,%d)\\n\",fx,fy,pre[fx][fy].first,pre[fx][fy].second);\n\t\tpath.push_back({fx,fy});\n\t\tPII prev=pre[fx][fy];\n\t\tfx=prev.x;\n\t\tfy=prev.y;\n\t}\n\tpath.push_back({1,1});\n\treverse(path.begin(),path.end());\n\tfor(int i=0;i<path.size();i++) {\n\t\tif(i!=path.size()-1) printf(\"(%d,%d)->\",path[i].first,path[i].second);\n\t\telse printf(\"(%d,%d)\",path[i].first,path[i].second);\n\t}\n\treturn 0;\n}\n/*\n5\n0 1 0 0 0\n0 1 0 1 0\n0 0 0 0 0 \n0 1 1 1 0\n0 0 0 1 0\n*/\n```\n\n\n\n#### 3.1.3. æŠ“ä½é‚£å¤´ç‰›\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B15 BFS æŠ“ä½é‚£å¤´ç‰›_bilibili](https://www.bilibili.com/video/BV1KM4y1e7v1/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼šäººå’Œç‰›åœ¨åŒä¸€ç›´çº¿ä¸Šï¼Œåˆå§‹ä½ç½®åˆ†åˆ«ä¸º $x$ å’Œ $y$ï¼Œç‰›ä¸åŠ¨ï¼Œäººæ¯æ¬¡å¯ä»¥å‰è¿› $1$ æ­¥ã€åé€€ $1$ æ­¥æˆ–è€…ç›´æ¥èµ°åˆ° $2Ã—x$ çš„ä½ç½®ï¼Œè®¡ç®—è¿½ä¸Šç‰›çš„æœ€å°æ­¥æ•°\n\n* å¯¹äºèµ·ç‚¹å…ˆåŠ å…¥é˜Ÿåˆ—ï¼Œéšåæ¯æ¬¡å–å‡ºé˜Ÿå¤´åˆ†åˆ«å¤„ç†å‰è¿›ä¸€æ­¥ã€åé€€ä¸€æ­¥ä»¥åŠ $Ã—2$ åçš„æ­¥æ•°ï¼Œå› ä¸ºæ˜¯é€å±‚æ‰©å±•ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡éå†åˆ°çš„æ—¶å€™æ‰€ç”¨åˆ°çš„æ­¥æ•°ä¸€å®šæ˜¯æœ€å°çš„\n* åŒæ—¶æˆ‘ä»¬çº¦æŸå…¶ä¸Šä¸‹ç•Œï¼Œä¸‹ç•Œä¸º $0$ ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚ $x,y>=0$ ï¼Œä¸Šç•Œä¸ºé¢˜ç›®ç»™çš„æ•°æ®èŒƒå›´ $1e5$ï¼Œå› ä¸º $xÃ—2,\\ x-1,\\ x-1$ ä¸å¦‚ $x-1,xÃ—2$ æ›´ä¼˜ï¼Œæ‰€ä»¥å¯ä»¥çº¦æŸå…¶ä¸Šç•Œ\n* æœ¬é¢˜è¿˜éœ€è¦å­¦ä¹ çš„ä¸€ç‚¹åœ¨äºç”¨ $dist$ æ•°ç»„è¿›è¡Œå‰ªæï¼Œé™åˆ¶ç¬¬ä¸€æ¬¡æ¥åˆ°è¿™ä¸€æ­¥æ‰å¯¹å€¼è¿›è¡Œæ›´æ–°ï¼Œæ ¹æ® $BFS$ é€å±‚æ‰©å±•çš„åŸç†ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„æœ¬èº«ä¹Ÿæ˜¯æœ€å°å€¼\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint x,y,dist[N]; // dist[i]:èµ°åˆ°iæ‰€éœ€è¦çš„æœ€å°‘æ­¥æ•°\n\nqueue<int> q;\n\nvoid bfs() {\n\tmemset(dist,-1,sizeof dist);\n\tdist[x]=0; // èµ·ç‚¹\n\tq.push(x); \n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\t// ä¸‹é¢ä¸‰ç§æƒ…å†µçš„çº¦æŸæ¡ä»¶:éƒ½æ˜¯æ²¡èµ°è¿‡(å› ä¸ºé€å±‚æ‰©å±•,æ‰€ä»¥ç¬¬ä¸€æ¬¡é‡åˆ°ä¸€å®šæœ€å°)å¹¶ä¸”ä¸è¶Šç•Œ\n\t\t// ä¸‹é¢çš„ä¸‰ä¸ªifæ˜¯å¹¶åˆ—å…³ç³»,ç›¸å½“äºä¸€ä¸ªç»“ç‚¹ä¼šæ‰©å±•3æ¬¡,å‰è¿›ä¸€æ­¥/åé€€ä¸€æ­¥å’ŒÃ—2\n\t\t// å…¶å®distæ•°ç»„çš„ä½œç”¨ç›¸å½“äºå‰ªæäº†,å› ä¸ºæ¯ä¸ªç»“ç‚¹åªèƒ½è¢«æ‰©å±•ä¸€æ¬¡\n\t\t// æ˜“è¯æ˜,x*2å†-1-1,ä¸å¦‚x-1,x*2æ›´ä¼˜,æ•…æœ‰ä¸Šç•Œx<=10^5\n\t\tif(x+1<N && dist[x+1]==-1) {\n\t\t\tdist[x+1]=dist[x]+1; // å‰è¿›ä¸€æ­¥\n\t\t\tq.push(x+1);\n\t\t}\n\t\t// åæ ‡èŒƒå›´æœ¬èº«(x,y)éƒ½>0\n\t\tif(x-1>0 && dist[x-1]==-1) {\n\t\t\tdist[x-1]=dist[x]+1; // åé€€ä¸€æ­¥\n\t\t\tq.push(x-1);\n\t\t}\n\t\tif(2*x<N && dist[2*x]==-1) {\n\t\t\tdist[2*x]=dist[x]+1; // èµ°åˆ°2*xçš„ä½ç½®\n\t\t\tq.push(2*x);\n\t\t}\n\t\t// å¦‚æœèµ°åˆ°ç»ˆç‚¹\n\t\tif(x==y) {\n\t\t\tcout<<dist[y]<<endl; \n\t\t\treturn;\n\t\t}\n\t}\n}\n\nint main() {\n\tint T;\n\tcin>>T;\n\twhile(T--) {\n\t\tcin>>x>>y;\n\t\tbfs();\n\t}\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\n1\n5 17\nè¾“å‡ºæ ·ä¾‹:\n4\n */\n```\n\n\n\n### 3.2. å¤šæºBFS\n\n#### 3.2.1. è·ç¦»çŸ©é˜µ\n\n> æ¨èå­¦ä¹ è§†é¢‘ï¼š[B13 å¤šæºBFS çŸ©é˜µè·ç¦»_bilibili](https://www.bilibili.com/video/BV1GB4y1Q7bR/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n> é¢˜ç›®æè¿°ï¼šå³æ˜¯è¯´æ±‚å›¾ä¸­æ¯ä¸€ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä»è€Œæ„æˆä¸€ä¸ªæ–°çš„çŸ©é˜µ $B$\n\n![image-20240512154726043](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240512154726043.png)\n\n* ä¸ºäº†æ±‚æ¯ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œå¦‚æœè®¡ç®—éå†åˆ°æ¯ä¸ª $0$ æ—¶åˆ†åˆ«å»å¯»æ‰¾è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ å¹¶æ‰“æ“‚å–å¾—æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆä¼šé«˜\n* æ‰€ä»¥å¯ä»¥ä»æ¯ä¸ª $1$ åšæ´ªæ°´è¦†ç›–ï¼Œå³å¤šæº $BFS$ï¼Œå…ˆæ¥åˆ°è¿™ä¸ªç‚¹çš„è·ç¦»ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œå› ä¸º $BFS$ æ˜¯é€å±‚æ‰©å±•\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+5;\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\nchar g[N][N]; // åœ°å›¾\nint dist[N][N]; // å­˜å‚¨åˆ°æºç‚¹çš„è·ç¦»,å…¼èŒåˆ¤é‡\nint n,m; // nè¡Œmåˆ—\n\nqueue<PII> q; // å¤šæº,æŠŠæ¯ä¸ª1éƒ½æ”¾å…¥é˜Ÿåˆ—\n\nvoid bfs() {\n\tmemset(dist,-1, sizeof dist); // å‡åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\t// éå†åœ°å›¾\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\t// å¤šæºBFS,åŒºåˆ«å°±æ˜¯æŠŠå¤šä¸ªæºç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(g[i][j]=='1') {\n\t\t\t\tdist[i][j]=0; // åˆ°è‡ªå·±çš„è·ç¦»ä¸º0\n\t\t\t\tq.push({i,j});\n\t\t\t}\n\t\t}\n\t}\n\twhile(q.size()) {\n\t\tauto t=q.front();\n\t\tq.pop();\n\t\tfor(int i=1;i<=4;i++) {\n\t\t\tint xx=t.x+dx[i];\n\t\t\tint yy=t.y+dy[i];\n\t\t\t// 1) è¶Šç•Œå¤„ç†\n\t\t\tif(xx<1 || xx>n || yy<1 || yy>m) continue;\n\t\t\t// 2) èµ°è¿‡åˆ™è·³è¿‡\n\t\t\tif(dist[xx][yy]!=-1) continue;\n\t\t\tdist[xx][yy]=dist[t.x][t.y]+1; // æ´ªæ³›è®¡ç®—è·ç¦»\n\t\t\tq.push({xx,yy});\t\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥åœ°å›¾\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\t\n\t}\n\tbfs();\n\tfor(int i=1;i<=n;i++,puts(\"\")) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcout<<dist[i][j]<<' ';\n\t\t}\t\n\t}\n\treturn 0;\n}\n/*\n3 4\n0 0 0 1\n0 0 1 1\n0 1 1 0\n*/\n```\n","slug":"å¹¿åº¦ä¼˜å…ˆæœç´¢","published":1,"updated":"2024-10-04T13:13:26.537Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpso001ec0nf3tsg3zcb","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"å¹¿åº¦ä¼˜å…ˆæœç´¢\">å¹¿åº¦ä¼˜å…ˆæœç´¢</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%9F%BA%E4%BA%8E%E9%82%BB%E6%8E%A5%E8%A1%A8\">1. åŸºäºé‚»æ¥è¡¨</a></li>\n<li><a href=\"#2-%E5%9F%BA%E4%BA%8E%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F\">2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ</a></li>\n<li><a href=\"#3-%E5%9F%BA%E4%BA%8E%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%9C%B0%E5%9B%BE\">3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰</a><ul>\n<li><a href=\"#31-%E5%8D%95%E6%BA%90bfs\">3.1. å•æºBFS</a><ul>\n<li><a href=\"#311-%E8%B1%A1%E6%A3%8B%E9%A9%AC%E7%9A%84%E9%81%8D%E5%8E%86\">3.1.1. è±¡æ£‹é©¬çš„éå†</a></li>\n<li><a href=\"#312-%E8%BF%B7%E5%AE%AB%E6%9C%80%E7%9F%AD%E8%B7%AF\">3.1.2. è¿·å®«æœ€çŸ­è·¯</a></li>\n<li><a href=\"#313-%E6%8A%93%E4%BD%8F%E9%82%A3%E5%A4%B4%E7%89%9B\">3.1.3. æŠ“ä½é‚£å¤´ç‰›</a></li>\n</ul>\n</li>\n<li><a href=\"#32-%E5%A4%9A%E6%BA%90bfs\">3.2. å¤šæºBFS</a><ul>\n<li><a href=\"#321-%E8%B7%9D%E7%A6%BB%E7%9F%A9%E9%98%B5\">3.2.1. è·ç¦»çŸ©é˜µ</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>å¹¿æœæ˜¯åŸºäºé˜Ÿåˆ—å®ç°çš„ä»æ ¹å¼€å§‹å‘ä¸‹é€å±‚æ‰©å±•é€å±‚è®¿é—®çš„æœç´¢éå†æ–¹æ³•</li>\n</ul>\n<h2><span id=\"1-åŸºäºé‚»æ¥è¡¨\">1. åŸºäºé‚»æ¥è¡¨</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240510202644636.png\" alt=\"image-20240510202644636\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N]; <span class=\"comment\">// e[1]:ç»“ç‚¹1çš„ç›¸é‚»ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> vis[N]; <span class=\"comment\">// vis[1]:ç»“ç‚¹1çš„è®¿é—®çŠ¶æ€,true:è®¿é—®è¿‡äº†,false:æœªè®¿é—®</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tvis[<span class=\"number\">1</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// å‡è®¾ç»“ç‚¹1æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\tq.push(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å‡ºé˜Ÿ\\n&quot;</span>,x);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰©å±•å…¶å„¿å­ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> y:e[x]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(vis[y]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// é¿å…åå¤å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t\tvis[y]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å…¥é˜Ÿ\\n&quot;</span>,y);</span><br><span class=\"line\">\t\t\tq.push(y);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// nä¸ªç»“ç‚¹,.æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b; <span class=\"comment\">// çˆ¶åœ¨å‰</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ— å‘å›¾åŒå‘å»ºè¾¹</span></span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">8 7</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">2 5</span></span><br><span class=\"line\"><span class=\"comment\">2 6</span></span><br><span class=\"line\"><span class=\"comment\">3 7</span></span><br><span class=\"line\"><span class=\"comment\">3 8</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-åŸºäºé“¾å¼å‰å‘æ˜Ÿ\">2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ</span></h2><ul>\n<li>æ³¨æ„ï¼Œå› ä¸ºé“¾å¼å‰å‘æ˜Ÿæ˜¯å¤´æ’ï¼Œæ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ï¼ˆå°¾æ’ï¼‰ä¸å¤ªä¸€æ ·</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§ç»“ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span>+<span class=\"number\">5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°(æ— å‘å›¾)</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç»“ç‚¹içš„èµ·å§‹è¾¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¬¬iæ¡è¾¹åˆ°è¾¾çš„ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¬¬iæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºè¾¹å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> vis[N]; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹çš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a];</span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tvis[<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\tq.push(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å‡ºé˜Ÿ\\n&quot;</span>,x);</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†è¿æ¥xçš„æ‰€æœ‰è¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i]; <span class=\"comment\">// å–å‡ºç¬¬iæ¡è¾¹æ‰€è¾¾ç»“ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(vis[j]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tvis[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å…¥é˜Ÿ\\n&quot;</span>,j);</span><br><span class=\"line\">\t\t\tq.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// nä¸ªç»“ç‚¹,.æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b; <span class=\"comment\">// çˆ¶åœ¨å‰</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ— å‘å›¾åŒå‘å»ºè¾¹</span></span><br><span class=\"line\">\t\tadd(a,b);</span><br><span class=\"line\">\t\tadd(b,a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ä¸å¤ªä¸€æ ·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">8 7</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">2 5</span></span><br><span class=\"line\"><span class=\"comment\">2 6</span></span><br><span class=\"line\"><span class=\"comment\">3 7</span></span><br><span class=\"line\"><span class=\"comment\">3 8</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-åŸºäºäºŒç»´æ•°ç»„åœ°å›¾\">3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰</span></h2><h3><span id=\"31-å•æºbfs\">3.1. å•æºBFS</span></h3><h4><span id=\"311-è±¡æ£‹é©¬çš„éå†\">3.1.1. è±¡æ£‹é©¬çš„éå†</span></h4><blockquote>\n<p>é¢˜ç›®æè¿°ï¼šåœ¨è±¡æ£‹æ£‹ç›˜ä¸­ï¼Œé©¬ä» $(0,0)$ è·³åˆ° $(fx,fy)$ã€è‡ªè¡Œè¾“å…¥ã€‘ï¼Œå·²çŸ¥é©¬åªèƒ½å‘å³è·³ï¼Œæ±‚åˆ°è¾¾ç»ˆç‚¹æ‰€éœ€æœ€å°‘æ­¥é•¿å¹¶è¾“å‡ºå…¶è·¯å¾„</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// åªèƒ½å‘å³èµ°,è¯´æ˜åœ¨åˆ—æ–¹å‘ä¸Šçš„å˜åŒ–åªèƒ½æ˜¯æ­£å€¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">-1</span>,<span class=\"number\">-2</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// åˆå§‹åŒ–ä¸º-1,ä¹ŸæŠŠdistå½“ä½œstæ•°ç»„ç”¨</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans; <span class=\"comment\">// å­˜å‚¨æœ€çŸ­è·¯å¾„</span></span><br><span class=\"line\"><span class=\"type\">int</span> fx,fy; <span class=\"comment\">// ç»ˆç‚¹æ˜¯(fx,fy),è¡Œæ˜¯m,åˆ—æ˜¯n</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// æ”¾çš„æ˜¯åæ ‡</span></span><br><span class=\"line\"></span><br><span class=\"line\">PII pre[N][N]; <span class=\"comment\">// è®°å½•è·¯å¾„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åªè°ƒç”¨ä¸€æ¬¡</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\tdist[x][y]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq.push(<span class=\"built_in\">make_pair</span>(x,y));</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\tPII t=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸€å®šä¸ä¼šå¾€å›èµ°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">0</span> || yy&lt;<span class=\"number\">0</span> || xx&gt;fx || yy&gt;fy) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tq.push(<span class=\"built_in\">make_pair</span>(xx,yy));</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tpre[xx][yy]=<span class=\"built_in\">make_pair</span>(t.x,t.y); <span class=\"comment\">// [xx,yy]çš„å‰é©±æ˜¯[t.x,t.y]</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾åˆ°ç»ˆç‚¹äº†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx==fx &amp;&amp; yy==fy) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> dist[xx][yy];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// æ‰¾ä¸åˆ°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;fx&gt;&gt;fy;</span><br><span class=\"line\">\t<span class=\"type\">int</span> sx=<span class=\"number\">0</span>,sy=<span class=\"number\">0</span>; <span class=\"comment\">// èµ·ç‚¹</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;bfs(sx,sy);</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=fx,y=fy; <span class=\"comment\">// å›æº¯è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;PII&gt; v; <span class=\"comment\">// è®°å½•æ­£å‘è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(x!=sx || y!=sy) &#123; </span><br><span class=\"line\">\t\tv.push_back(<span class=\"built_in\">make_pair</span>(x,y));</span><br><span class=\"line\">\t\tPII prev=pre[x][y];</span><br><span class=\"line\">\t\tx=prev.x;</span><br><span class=\"line\">\t\ty=prev.y;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tv.push_back(<span class=\"built_in\">make_pair</span>(sx, sy)); <span class=\"comment\">// æ·»åŠ èµ·ç‚¹åˆ°è·¯å¾„ä¸­ </span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=v.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) &#123; <span class=\"comment\">// è¾“å‡ºè·¯å¾„è¦å€’åºè¾“å‡º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=<span class=\"number\">0</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;(&quot;</span>&lt;&lt;v[i].x&lt;&lt;<span class=\"string\">&quot;,&quot;</span>&lt;&lt;v[i].y&lt;&lt;<span class=\"string\">&quot;)&quot;</span>&lt;&lt;<span class=\"string\">&quot;--&gt;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;(&quot;</span>&lt;&lt;v[i].x&lt;&lt;<span class=\"string\">&quot;,&quot;</span>&lt;&lt;v[i].y&lt;&lt;<span class=\"string\">&quot;)&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"312-è¿·å®«æœ€çŸ­è·¯\">3.1.2. è¿·å®«æœ€çŸ­è·¯</span></h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1NU4y1R7fd/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B12 BFS è¿·å®« æœ€çŸ­è·¯_bilibili</a><br>é¢˜ç›®æè¿°ï¼š$n$ è¡Œ $n$ åˆ—çš„äºŒç»´åœ°å›¾ä¸­ï¼Œ$1$ è¡¨ç¤ºå¢™å£ï¼Œ$0$ è¡¨ç¤ºå¯èµ°çš„è·¯ï¼Œåªèƒ½æœä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦å¹¶è¾“å‡ºè¿™æ¡è·¯å¾„</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// åç§»é‡</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// åœ°å›¾,01å­˜å‚¨,å…¼çŠ¶æ€æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// dist[i][j]:(i,j)åˆ°èµ·ç‚¹(1,1)çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—</span></span><br><span class=\"line\">PII pre[N][N]; <span class=\"comment\">// pre[i][j]:(i,j)çš„ä¸Šä¸€æ­¥çš„åæ ‡(è®°å½•æœ€çŸ­è·¯)</span></span><br><span class=\"line\"><span class=\"type\">int</span> fx,fy; <span class=\"comment\">// ç»ˆç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\tdist[x][y]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq.push(&#123;x,y&#125;); <span class=\"comment\">// å·¦ä¸Šè§’åˆå§‹åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\tg[x][y]=<span class=\"number\">1</span>; <span class=\"comment\">// æ¸²æŸ“æˆå¢™å£,è¡¨ç¤ºèµ°è¿‡äº†</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\tPII t=q.front(); <span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 1) è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || xx&gt;n || yy&lt;<span class=\"number\">1</span> || yy&gt;n) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 2) å¿…é¡»ä¸ºå¯èµ°&amp;&amp;å¿…é¡»æ²¡èµ°è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(g[xx][yy]==<span class=\"number\">1</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å æ®æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t\t\tg[xx][yy]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>; <span class=\"comment\">// æ­¥é•¿+1</span></span><br><span class=\"line\">\t\t\tpre[xx][yy]=&#123;t.x,t.y&#125;; <span class=\"comment\">// è®°å½•ä¸Šä¸€æ­¥</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;t.x&lt;&lt;<span class=\"string\">&#x27;,&#x27;</span>&lt;&lt;t.y&lt;&lt;<span class=\"string\">&quot;--&gt;&quot;</span>&lt;&lt;xx&lt;&lt;<span class=\"string\">&#x27;,&#x27;</span>&lt;&lt;yy&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx==fx &amp;&amp; yy==fy) <span class=\"keyword\">return</span> dist[xx][yy];</span><br><span class=\"line\">\t\t\tq.push(&#123;xx,yy&#125;);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ‰¾åˆ°ç»ˆç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// æ‰¾ä¸åˆ°æœ€çŸ­è·¯</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tfx=n,fy=n;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;bfs(<span class=\"number\">1</span>,<span class=\"number\">1</span>)&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ä»(1,1)å¹¿æœ</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;dist[n][n]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;PII&gt; path; <span class=\"comment\">// å­˜å‚¨è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸€ç›´å›æº¯åˆ°èµ·ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(fx!=<span class=\"number\">1</span> || fy!=<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)çš„ä¸Šä¸€ä¸ªä½ç½®æ˜¯(%d,%d)\\n&quot;</span>,fx,fy,pre[fx][fy].first,pre[fx][fy].second);</span><br><span class=\"line\">\t\tpath.push_back(&#123;fx,fy&#125;);</span><br><span class=\"line\">\t\tPII prev=pre[fx][fy];</span><br><span class=\"line\">\t\tfx=prev.x;</span><br><span class=\"line\">\t\tfy=prev.y;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpath.push_back(&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;);</span><br><span class=\"line\">\treverse(path.begin(),path.end());</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;path.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=path.size()<span class=\"number\">-1</span>) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)-&gt;&quot;</span>,path[i].first,path[i].second);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)&quot;</span>,path[i].first,path[i].second);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">0 1 0 0 0</span></span><br><span class=\"line\"><span class=\"comment\">0 1 0 1 0</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 0 0 </span></span><br><span class=\"line\"><span class=\"comment\">0 1 1 1 0</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 1 0</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"313-æŠ“ä½é‚£å¤´ç‰›\">3.1.3. æŠ“ä½é‚£å¤´ç‰›</span></h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1KM4y1e7v1/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B15 BFS æŠ“ä½é‚£å¤´ç‰›_bilibili</a><br>é¢˜ç›®æè¿°ï¼šäººå’Œç‰›åœ¨åŒä¸€ç›´çº¿ä¸Šï¼Œåˆå§‹ä½ç½®åˆ†åˆ«ä¸º $x$ å’Œ $y$ï¼Œç‰›ä¸åŠ¨ï¼Œäººæ¯æ¬¡å¯ä»¥å‰è¿› $1$ æ­¥ã€åé€€ $1$ æ­¥æˆ–è€…ç›´æ¥èµ°åˆ° $2Ã—x$ çš„ä½ç½®ï¼Œè®¡ç®—è¿½ä¸Šç‰›çš„æœ€å°æ­¥æ•°</p>\n</blockquote>\n<ul>\n<li>å¯¹äºèµ·ç‚¹å…ˆåŠ å…¥é˜Ÿåˆ—ï¼Œéšåæ¯æ¬¡å–å‡ºé˜Ÿå¤´åˆ†åˆ«å¤„ç†å‰è¿›ä¸€æ­¥ã€åé€€ä¸€æ­¥ä»¥åŠ $Ã—2$ åçš„æ­¥æ•°ï¼Œå› ä¸ºæ˜¯é€å±‚æ‰©å±•ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡éå†åˆ°çš„æ—¶å€™æ‰€ç”¨åˆ°çš„æ­¥æ•°ä¸€å®šæ˜¯æœ€å°çš„</li>\n<li>åŒæ—¶æˆ‘ä»¬çº¦æŸå…¶ä¸Šä¸‹ç•Œï¼Œä¸‹ç•Œä¸º $0$ ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚ $x,y&gt;&#x3D;0$ ï¼Œä¸Šç•Œä¸ºé¢˜ç›®ç»™çš„æ•°æ®èŒƒå›´ $1e5$ï¼Œå› ä¸º $xÃ—2,\\ x-1,\\ x-1$ ä¸å¦‚ $x-1,xÃ—2$ æ›´ä¼˜ï¼Œæ‰€ä»¥å¯ä»¥çº¦æŸå…¶ä¸Šç•Œ</li>\n<li>æœ¬é¢˜è¿˜éœ€è¦å­¦ä¹ çš„ä¸€ç‚¹åœ¨äºç”¨ $dist$ æ•°ç»„è¿›è¡Œå‰ªæï¼Œé™åˆ¶ç¬¬ä¸€æ¬¡æ¥åˆ°è¿™ä¸€æ­¥æ‰å¯¹å€¼è¿›è¡Œæ›´æ–°ï¼Œæ ¹æ® $BFS$ é€å±‚æ‰©å±•çš„åŸç†ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„æœ¬èº«ä¹Ÿæ˜¯æœ€å°å€¼</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> x,y,dist[N]; <span class=\"comment\">// dist[i]:èµ°åˆ°iæ‰€éœ€è¦çš„æœ€å°‘æ­¥æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[x]=<span class=\"number\">0</span>; <span class=\"comment\">// èµ·ç‚¹</span></span><br><span class=\"line\">\tq.push(x); </span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹é¢ä¸‰ç§æƒ…å†µçš„çº¦æŸæ¡ä»¶:éƒ½æ˜¯æ²¡èµ°è¿‡(å› ä¸ºé€å±‚æ‰©å±•,æ‰€ä»¥ç¬¬ä¸€æ¬¡é‡åˆ°ä¸€å®šæœ€å°)å¹¶ä¸”ä¸è¶Šç•Œ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹é¢çš„ä¸‰ä¸ªifæ˜¯å¹¶åˆ—å…³ç³»,ç›¸å½“äºä¸€ä¸ªç»“ç‚¹ä¼šæ‰©å±•3æ¬¡,å‰è¿›ä¸€æ­¥/åé€€ä¸€æ­¥å’ŒÃ—2</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¶å®distæ•°ç»„çš„ä½œç”¨ç›¸å½“äºå‰ªæäº†,å› ä¸ºæ¯ä¸ªç»“ç‚¹åªèƒ½è¢«æ‰©å±•ä¸€æ¬¡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜“è¯æ˜,x*2å†-1-1,ä¸å¦‚x-1,x*2æ›´ä¼˜,æ•…æœ‰ä¸Šç•Œx&lt;=10^5</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x+<span class=\"number\">1</span>&lt;N &amp;&amp; dist[x+<span class=\"number\">1</span>]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[x+<span class=\"number\">1</span>]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// å‰è¿›ä¸€æ­¥</span></span><br><span class=\"line\">\t\t\tq.push(x+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åæ ‡èŒƒå›´æœ¬èº«(x,y)éƒ½&gt;0</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x<span class=\"number\">-1</span>&gt;<span class=\"number\">0</span> &amp;&amp; dist[x<span class=\"number\">-1</span>]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[x<span class=\"number\">-1</span>]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// åé€€ä¸€æ­¥</span></span><br><span class=\"line\">\t\t\tq.push(x<span class=\"number\">-1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*x&lt;N &amp;&amp; dist[<span class=\"number\">2</span>*x]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[<span class=\"number\">2</span>*x]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// èµ°åˆ°2*xçš„ä½ç½®</span></span><br><span class=\"line\">\t\t\tq.push(<span class=\"number\">2</span>*x);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœèµ°åˆ°ç»ˆç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;dist[y]&lt;&lt;<span class=\"built_in\">endl</span>; </span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> T;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;T;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(T--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class=\"line\">\t\tbfs();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">1</span></span><br><span class=\"line\"><span class=\"comment\">5 17</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"32-å¤šæºbfs\">3.2. å¤šæºBFS</span></h3><h4><span id=\"321-è·ç¦»çŸ©é˜µ\">3.2.1. è·ç¦»çŸ©é˜µ</span></h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1GB4y1Q7bR/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B13 å¤šæºBFS çŸ©é˜µè·ç¦»_bilibili</a><br>é¢˜ç›®æè¿°ï¼šå³æ˜¯è¯´æ±‚å›¾ä¸­æ¯ä¸€ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä»è€Œæ„æˆä¸€ä¸ªæ–°çš„çŸ©é˜µ $B$</p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240512154726043.png\" alt=\"image-20240512154726043\"></p>\n<ul>\n<li>ä¸ºäº†æ±‚æ¯ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œå¦‚æœè®¡ç®—éå†åˆ°æ¯ä¸ª $0$ æ—¶åˆ†åˆ«å»å¯»æ‰¾è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ å¹¶æ‰“æ“‚å–å¾—æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆä¼šé«˜</li>\n<li>æ‰€ä»¥å¯ä»¥ä»æ¯ä¸ª $1$ åšæ´ªæ°´è¦†ç›–ï¼Œå³å¤šæº $BFS$ï¼Œå…ˆæ¥åˆ°è¿™ä¸ªç‚¹çš„è·ç¦»ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œå› ä¸º $BFS$ æ˜¯é€å±‚æ‰©å±•</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N]; <span class=\"comment\">// åœ°å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// å­˜å‚¨åˆ°æºç‚¹çš„è·ç¦»,å…¼èŒåˆ¤é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// nè¡Œmåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// å¤šæº,æŠŠæ¯ä¸ª1éƒ½æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">-1</span>, <span class=\"keyword\">sizeof</span> dist); <span class=\"comment\">// å‡åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†åœ°å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¤šæºBFS,åŒºåˆ«å°±æ˜¯æŠŠå¤šä¸ªæºç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\tdist[i][j]=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ°è‡ªå·±çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t\t\t\tq.push(&#123;i,j&#125;);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 1) è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || xx&gt;n || yy&lt;<span class=\"number\">1</span> || yy&gt;m) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 2) èµ°è¿‡åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[xx][yy]!=<span class=\"number\">-1</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>; <span class=\"comment\">// æ´ªæ³›è®¡ç®—è·ç¦»</span></span><br><span class=\"line\">\t\t\tq.push(&#123;xx,yy&#125;);\t</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥åœ°å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++,<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;&quot;</span>)) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;dist[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">3 4</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 1</span></span><br><span class=\"line\"><span class=\"comment\">0 0 1 1</span></span><br><span class=\"line\"><span class=\"comment\">0 1 1 0</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"å¹¿åº¦ä¼˜å…ˆæœç´¢\"><a href=\"#å¹¿åº¦ä¼˜å…ˆæœç´¢\" class=\"headerlink\" title=\"å¹¿åº¦ä¼˜å…ˆæœç´¢\"></a>å¹¿åº¦ä¼˜å…ˆæœç´¢</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%9F%BA%E4%BA%8E%E9%82%BB%E6%8E%A5%E8%A1%A8\">1. åŸºäºé‚»æ¥è¡¨</a></li>\n<li><a href=\"#2-%E5%9F%BA%E4%BA%8E%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F\">2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ</a></li>\n<li><a href=\"#3-%E5%9F%BA%E4%BA%8E%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%9C%B0%E5%9B%BE\">3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰</a><ul>\n<li><a href=\"#31-%E5%8D%95%E6%BA%90bfs\">3.1. å•æºBFS</a><ul>\n<li><a href=\"#311-%E8%B1%A1%E6%A3%8B%E9%A9%AC%E7%9A%84%E9%81%8D%E5%8E%86\">3.1.1. è±¡æ£‹é©¬çš„éå†</a></li>\n<li><a href=\"#312-%E8%BF%B7%E5%AE%AB%E6%9C%80%E7%9F%AD%E8%B7%AF\">3.1.2. è¿·å®«æœ€çŸ­è·¯</a></li>\n<li><a href=\"#313-%E6%8A%93%E4%BD%8F%E9%82%A3%E5%A4%B4%E7%89%9B\">3.1.3. æŠ“ä½é‚£å¤´ç‰›</a></li>\n</ul>\n</li>\n<li><a href=\"#32-%E5%A4%9A%E6%BA%90bfs\">3.2. å¤šæºBFS</a><ul>\n<li><a href=\"#321-%E8%B7%9D%E7%A6%BB%E7%9F%A9%E9%98%B5\">3.2.1. è·ç¦»çŸ©é˜µ</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>å¹¿æœæ˜¯åŸºäºé˜Ÿåˆ—å®ç°çš„ä»æ ¹å¼€å§‹å‘ä¸‹é€å±‚æ‰©å±•é€å±‚è®¿é—®çš„æœç´¢éå†æ–¹æ³•</li>\n</ul>\n<h2 id=\"1-åŸºäºé‚»æ¥è¡¨\"><a href=\"#1-åŸºäºé‚»æ¥è¡¨\" class=\"headerlink\" title=\"1. åŸºäºé‚»æ¥è¡¨\"></a>1. åŸºäºé‚»æ¥è¡¨</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240510202644636.png\" alt=\"image-20240510202644636\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N]; <span class=\"comment\">// e[1]:ç»“ç‚¹1çš„ç›¸é‚»ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> vis[N]; <span class=\"comment\">// vis[1]:ç»“ç‚¹1çš„è®¿é—®çŠ¶æ€,true:è®¿é—®è¿‡äº†,false:æœªè®¿é—®</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tvis[<span class=\"number\">1</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// å‡è®¾ç»“ç‚¹1æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\tq.push(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å‡ºé˜Ÿ\\n&quot;</span>,x);</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰©å±•å…¶å„¿å­ç»“ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> y:e[x]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(vis[y]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// é¿å…åå¤å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t\tvis[y]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å…¥é˜Ÿ\\n&quot;</span>,y);</span><br><span class=\"line\">\t\t\tq.push(y);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// nä¸ªç»“ç‚¹,.æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b; <span class=\"comment\">// çˆ¶åœ¨å‰</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ— å‘å›¾åŒå‘å»ºè¾¹</span></span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">8 7</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">2 5</span></span><br><span class=\"line\"><span class=\"comment\">2 6</span></span><br><span class=\"line\"><span class=\"comment\">3 7</span></span><br><span class=\"line\"><span class=\"comment\">3 8</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-åŸºäºé“¾å¼å‰å‘æ˜Ÿ\"><a href=\"#2-åŸºäºé“¾å¼å‰å‘æ˜Ÿ\" class=\"headerlink\" title=\"2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ\"></a>2. åŸºäºé“¾å¼å‰å‘æ˜Ÿ</h2><ul>\n<li>æ³¨æ„ï¼Œå› ä¸ºé“¾å¼å‰å‘æ˜Ÿæ˜¯å¤´æ’ï¼Œæ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ï¼ˆå°¾æ’ï¼‰ä¸å¤ªä¸€æ ·</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§ç»“ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span>+<span class=\"number\">5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°(æ— å‘å›¾)</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç»“ç‚¹içš„èµ·å§‹è¾¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¬¬iæ¡è¾¹åˆ°è¾¾çš„ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¬¬iæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºè¾¹å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> vis[N]; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹çš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a];</span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æ¯ä¸ªç»“ç‚¹æ‰©å±•çš„è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\tvis[<span class=\"number\">1</span>]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\tq.push(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å‡ºé˜Ÿ\\n&quot;</span>,x);</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†è¿æ¥xçš„æ‰€æœ‰è¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i]; <span class=\"comment\">// å–å‡ºç¬¬iæ¡è¾¹æ‰€è¾¾ç»“ç‚¹</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(vis[j]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tvis[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d å…¥é˜Ÿ\\n&quot;</span>,j);</span><br><span class=\"line\">\t\t\tq.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// nä¸ªç»“ç‚¹,.æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b; <span class=\"comment\">// çˆ¶åœ¨å‰</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ— å‘å›¾åŒå‘å»ºè¾¹</span></span><br><span class=\"line\">\t\tadd(a,b);</span><br><span class=\"line\">\t\tadd(b,a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥å…¥é˜Ÿå’Œå‡ºé˜Ÿé¡ºåºå’ŒåŸºäºé‚»æ¥è¡¨ä¸å¤ªä¸€æ ·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">8 7</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">2 4</span></span><br><span class=\"line\"><span class=\"comment\">2 5</span></span><br><span class=\"line\"><span class=\"comment\">2 6</span></span><br><span class=\"line\"><span class=\"comment\">3 7</span></span><br><span class=\"line\"><span class=\"comment\">3 8</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰\"><a href=\"#3-åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰\" class=\"headerlink\" title=\"3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰\"></a>3. åŸºäºäºŒç»´æ•°ç»„ï¼ˆåœ°å›¾ï¼‰</h2><h3 id=\"3-1-å•æºBFS\"><a href=\"#3-1-å•æºBFS\" class=\"headerlink\" title=\"3.1. å•æºBFS\"></a>3.1. å•æºBFS</h3><h4 id=\"3-1-1-è±¡æ£‹é©¬çš„éå†\"><a href=\"#3-1-1-è±¡æ£‹é©¬çš„éå†\" class=\"headerlink\" title=\"3.1.1. è±¡æ£‹é©¬çš„éå†\"></a>3.1.1. è±¡æ£‹é©¬çš„éå†</h4><blockquote>\n<p>é¢˜ç›®æè¿°ï¼šåœ¨è±¡æ£‹æ£‹ç›˜ä¸­ï¼Œé©¬ä» $(0,0)$ è·³åˆ° $(fx,fy)$ã€è‡ªè¡Œè¾“å…¥ã€‘ï¼Œå·²çŸ¥é©¬åªèƒ½å‘å³è·³ï¼Œæ±‚åˆ°è¾¾ç»ˆç‚¹æ‰€éœ€æœ€å°‘æ­¥é•¿å¹¶è¾“å‡ºå…¶è·¯å¾„</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// åªèƒ½å‘å³èµ°,è¯´æ˜åœ¨åˆ—æ–¹å‘ä¸Šçš„å˜åŒ–åªèƒ½æ˜¯æ­£å€¼</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">-1</span>,<span class=\"number\">-2</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// åˆå§‹åŒ–ä¸º-1,ä¹ŸæŠŠdistå½“ä½œstæ•°ç»„ç”¨</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans; <span class=\"comment\">// å­˜å‚¨æœ€çŸ­è·¯å¾„</span></span><br><span class=\"line\"><span class=\"type\">int</span> fx,fy; <span class=\"comment\">// ç»ˆç‚¹æ˜¯(fx,fy),è¡Œæ˜¯m,åˆ—æ˜¯n</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// æ”¾çš„æ˜¯åæ ‡</span></span><br><span class=\"line\"></span><br><span class=\"line\">PII pre[N][N]; <span class=\"comment\">// è®°å½•è·¯å¾„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åªè°ƒç”¨ä¸€æ¬¡</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\tdist[x][y]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq.push(<span class=\"built_in\">make_pair</span>(x,y));</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\tPII t=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸€å®šä¸ä¼šå¾€å›èµ°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">0</span> || yy&lt;<span class=\"number\">0</span> || xx&gt;fx || yy&gt;fy) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tq.push(<span class=\"built_in\">make_pair</span>(xx,yy));</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tpre[xx][yy]=<span class=\"built_in\">make_pair</span>(t.x,t.y); <span class=\"comment\">// [xx,yy]çš„å‰é©±æ˜¯[t.x,t.y]</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾åˆ°ç»ˆç‚¹äº†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx==fx &amp;&amp; yy==fy) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> dist[xx][yy];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// æ‰¾ä¸åˆ°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;fx&gt;&gt;fy;</span><br><span class=\"line\">\t<span class=\"type\">int</span> sx=<span class=\"number\">0</span>,sy=<span class=\"number\">0</span>; <span class=\"comment\">// èµ·ç‚¹</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;bfs(sx,sy);</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=fx,y=fy; <span class=\"comment\">// å›æº¯è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;PII&gt; v; <span class=\"comment\">// è®°å½•æ­£å‘è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(x!=sx || y!=sy) &#123; </span><br><span class=\"line\">\t\tv.push_back(<span class=\"built_in\">make_pair</span>(x,y));</span><br><span class=\"line\">\t\tPII prev=pre[x][y];</span><br><span class=\"line\">\t\tx=prev.x;</span><br><span class=\"line\">\t\ty=prev.y;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tv.push_back(<span class=\"built_in\">make_pair</span>(sx, sy)); <span class=\"comment\">// æ·»åŠ èµ·ç‚¹åˆ°è·¯å¾„ä¸­ </span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=v.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) &#123; <span class=\"comment\">// è¾“å‡ºè·¯å¾„è¦å€’åºè¾“å‡º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=<span class=\"number\">0</span>) <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;(&quot;</span>&lt;&lt;v[i].x&lt;&lt;<span class=\"string\">&quot;,&quot;</span>&lt;&lt;v[i].y&lt;&lt;<span class=\"string\">&quot;)&quot;</span>&lt;&lt;<span class=\"string\">&quot;--&gt;&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;(&quot;</span>&lt;&lt;v[i].x&lt;&lt;<span class=\"string\">&quot;,&quot;</span>&lt;&lt;v[i].y&lt;&lt;<span class=\"string\">&quot;)&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"3-1-2-è¿·å®«æœ€çŸ­è·¯\"><a href=\"#3-1-2-è¿·å®«æœ€çŸ­è·¯\" class=\"headerlink\" title=\"3.1.2. è¿·å®«æœ€çŸ­è·¯\"></a>3.1.2. è¿·å®«æœ€çŸ­è·¯</h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1NU4y1R7fd/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B12 BFS è¿·å®« æœ€çŸ­è·¯_bilibili</a><br>é¢˜ç›®æè¿°ï¼š$n$ è¡Œ $n$ åˆ—çš„äºŒç»´åœ°å›¾ä¸­ï¼Œ$1$ è¡¨ç¤ºå¢™å£ï¼Œ$0$ è¡¨ç¤ºå¯èµ°çš„è·¯ï¼Œåªèƒ½æœä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦å¹¶è¾“å‡ºè¿™æ¡è·¯å¾„</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// åç§»é‡</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// åœ°å›¾,01å­˜å‚¨,å…¼çŠ¶æ€æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// dist[i][j]:(i,j)åˆ°èµ·ç‚¹(1,1)çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// ç»´æŠ¤åºåˆ—çš„é˜Ÿåˆ—</span></span><br><span class=\"line\">PII pre[N][N]; <span class=\"comment\">// pre[i][j]:(i,j)çš„ä¸Šä¸€æ­¥çš„åæ ‡(è®°å½•æœ€çŸ­è·¯)</span></span><br><span class=\"line\"><span class=\"type\">int</span> fx,fy; <span class=\"comment\">// ç»ˆç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\tdist[x][y]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq.push(&#123;x,y&#125;); <span class=\"comment\">// å·¦ä¸Šè§’åˆå§‹åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\tg[x][y]=<span class=\"number\">1</span>; <span class=\"comment\">// æ¸²æŸ“æˆå¢™å£,è¡¨ç¤ºèµ°è¿‡äº†</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\tPII t=q.front(); <span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 1) è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || xx&gt;n || yy&lt;<span class=\"number\">1</span> || yy&gt;n) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 2) å¿…é¡»ä¸ºå¯èµ°&amp;&amp;å¿…é¡»æ²¡èµ°è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(g[xx][yy]==<span class=\"number\">1</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å æ®æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t\t\tg[xx][yy]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>; <span class=\"comment\">// æ­¥é•¿+1</span></span><br><span class=\"line\">\t\t\tpre[xx][yy]=&#123;t.x,t.y&#125;; <span class=\"comment\">// è®°å½•ä¸Šä¸€æ­¥</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;t.x&lt;&lt;<span class=\"string\">&#x27;,&#x27;</span>&lt;&lt;t.y&lt;&lt;<span class=\"string\">&quot;--&gt;&quot;</span>&lt;&lt;xx&lt;&lt;<span class=\"string\">&#x27;,&#x27;</span>&lt;&lt;yy&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx==fx &amp;&amp; yy==fy) <span class=\"keyword\">return</span> dist[xx][yy];</span><br><span class=\"line\">\t\t\tq.push(&#123;xx,yy&#125;);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ‰¾åˆ°ç»ˆç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// æ‰¾ä¸åˆ°æœ€çŸ­è·¯</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tfx=n,fy=n;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;bfs(<span class=\"number\">1</span>,<span class=\"number\">1</span>)&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// ä»(1,1)å¹¿æœ</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;dist[n][n]&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;PII&gt; path; <span class=\"comment\">// å­˜å‚¨è·¯å¾„</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸€ç›´å›æº¯åˆ°èµ·ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(fx!=<span class=\"number\">1</span> || fy!=<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)çš„ä¸Šä¸€ä¸ªä½ç½®æ˜¯(%d,%d)\\n&quot;</span>,fx,fy,pre[fx][fy].first,pre[fx][fy].second);</span><br><span class=\"line\">\t\tpath.push_back(&#123;fx,fy&#125;);</span><br><span class=\"line\">\t\tPII prev=pre[fx][fy];</span><br><span class=\"line\">\t\tfx=prev.x;</span><br><span class=\"line\">\t\tfy=prev.y;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpath.push_back(&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;);</span><br><span class=\"line\">\treverse(path.begin(),path.end());</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;path.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=path.size()<span class=\"number\">-1</span>) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)-&gt;&quot;</span>,path[i].first,path[i].second);</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;(%d,%d)&quot;</span>,path[i].first,path[i].second);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">0 1 0 0 0</span></span><br><span class=\"line\"><span class=\"comment\">0 1 0 1 0</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 0 0 </span></span><br><span class=\"line\"><span class=\"comment\">0 1 1 1 0</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 1 0</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"3-1-3-æŠ“ä½é‚£å¤´ç‰›\"><a href=\"#3-1-3-æŠ“ä½é‚£å¤´ç‰›\" class=\"headerlink\" title=\"3.1.3. æŠ“ä½é‚£å¤´ç‰›\"></a>3.1.3. æŠ“ä½é‚£å¤´ç‰›</h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1KM4y1e7v1/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B15 BFS æŠ“ä½é‚£å¤´ç‰›_bilibili</a><br>é¢˜ç›®æè¿°ï¼šäººå’Œç‰›åœ¨åŒä¸€ç›´çº¿ä¸Šï¼Œåˆå§‹ä½ç½®åˆ†åˆ«ä¸º $x$ å’Œ $y$ï¼Œç‰›ä¸åŠ¨ï¼Œäººæ¯æ¬¡å¯ä»¥å‰è¿› $1$ æ­¥ã€åé€€ $1$ æ­¥æˆ–è€…ç›´æ¥èµ°åˆ° $2Ã—x$ çš„ä½ç½®ï¼Œè®¡ç®—è¿½ä¸Šç‰›çš„æœ€å°æ­¥æ•°</p>\n</blockquote>\n<ul>\n<li>å¯¹äºèµ·ç‚¹å…ˆåŠ å…¥é˜Ÿåˆ—ï¼Œéšåæ¯æ¬¡å–å‡ºé˜Ÿå¤´åˆ†åˆ«å¤„ç†å‰è¿›ä¸€æ­¥ã€åé€€ä¸€æ­¥ä»¥åŠ $Ã—2$ åçš„æ­¥æ•°ï¼Œå› ä¸ºæ˜¯é€å±‚æ‰©å±•ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡éå†åˆ°çš„æ—¶å€™æ‰€ç”¨åˆ°çš„æ­¥æ•°ä¸€å®šæ˜¯æœ€å°çš„</li>\n<li>åŒæ—¶æˆ‘ä»¬çº¦æŸå…¶ä¸Šä¸‹ç•Œï¼Œä¸‹ç•Œä¸º $0$ ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚ $x,y&gt;&#x3D;0$ ï¼Œä¸Šç•Œä¸ºé¢˜ç›®ç»™çš„æ•°æ®èŒƒå›´ $1e5$ï¼Œå› ä¸º $xÃ—2,\\ x-1,\\ x-1$ ä¸å¦‚ $x-1,xÃ—2$ æ›´ä¼˜ï¼Œæ‰€ä»¥å¯ä»¥çº¦æŸå…¶ä¸Šç•Œ</li>\n<li>æœ¬é¢˜è¿˜éœ€è¦å­¦ä¹ çš„ä¸€ç‚¹åœ¨äºç”¨ $dist$ æ•°ç»„è¿›è¡Œå‰ªæï¼Œé™åˆ¶ç¬¬ä¸€æ¬¡æ¥åˆ°è¿™ä¸€æ­¥æ‰å¯¹å€¼è¿›è¡Œæ›´æ–°ï¼Œæ ¹æ® $BFS$ é€å±‚æ‰©å±•çš„åŸç†ï¼Œè¿™æ ·æ±‚å‡ºæ¥çš„æœ¬èº«ä¹Ÿæ˜¯æœ€å°å€¼</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> x,y,dist[N]; <span class=\"comment\">// dist[i]:èµ°åˆ°iæ‰€éœ€è¦çš„æœ€å°‘æ­¥æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\tdist[x]=<span class=\"number\">0</span>; <span class=\"comment\">// èµ·ç‚¹</span></span><br><span class=\"line\">\tq.push(x); </span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹é¢ä¸‰ç§æƒ…å†µçš„çº¦æŸæ¡ä»¶:éƒ½æ˜¯æ²¡èµ°è¿‡(å› ä¸ºé€å±‚æ‰©å±•,æ‰€ä»¥ç¬¬ä¸€æ¬¡é‡åˆ°ä¸€å®šæœ€å°)å¹¶ä¸”ä¸è¶Šç•Œ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹é¢çš„ä¸‰ä¸ªifæ˜¯å¹¶åˆ—å…³ç³»,ç›¸å½“äºä¸€ä¸ªç»“ç‚¹ä¼šæ‰©å±•3æ¬¡,å‰è¿›ä¸€æ­¥/åé€€ä¸€æ­¥å’ŒÃ—2</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¶å®distæ•°ç»„çš„ä½œç”¨ç›¸å½“äºå‰ªæäº†,å› ä¸ºæ¯ä¸ªç»“ç‚¹åªèƒ½è¢«æ‰©å±•ä¸€æ¬¡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ˜“è¯æ˜,x*2å†-1-1,ä¸å¦‚x-1,x*2æ›´ä¼˜,æ•…æœ‰ä¸Šç•Œx&lt;=10^5</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x+<span class=\"number\">1</span>&lt;N &amp;&amp; dist[x+<span class=\"number\">1</span>]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[x+<span class=\"number\">1</span>]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// å‰è¿›ä¸€æ­¥</span></span><br><span class=\"line\">\t\t\tq.push(x+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åæ ‡èŒƒå›´æœ¬èº«(x,y)éƒ½&gt;0</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x<span class=\"number\">-1</span>&gt;<span class=\"number\">0</span> &amp;&amp; dist[x<span class=\"number\">-1</span>]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[x<span class=\"number\">-1</span>]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// åé€€ä¸€æ­¥</span></span><br><span class=\"line\">\t\t\tq.push(x<span class=\"number\">-1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*x&lt;N &amp;&amp; dist[<span class=\"number\">2</span>*x]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\tdist[<span class=\"number\">2</span>*x]=dist[x]+<span class=\"number\">1</span>; <span class=\"comment\">// èµ°åˆ°2*xçš„ä½ç½®</span></span><br><span class=\"line\">\t\t\tq.push(<span class=\"number\">2</span>*x);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœèµ°åˆ°ç»ˆç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x==y) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;dist[y]&lt;&lt;<span class=\"built_in\">endl</span>; </span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> T;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;T;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(T--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class=\"line\">\t\tbfs();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">1</span></span><br><span class=\"line\"><span class=\"comment\">5 17</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-2-å¤šæºBFS\"><a href=\"#3-2-å¤šæºBFS\" class=\"headerlink\" title=\"3.2. å¤šæºBFS\"></a>3.2. å¤šæºBFS</h3><h4 id=\"3-2-1-è·ç¦»çŸ©é˜µ\"><a href=\"#3-2-1-è·ç¦»çŸ©é˜µ\" class=\"headerlink\" title=\"3.2.1. è·ç¦»çŸ©é˜µ\"></a>3.2.1. è·ç¦»çŸ©é˜µ</h4><blockquote>\n<p>æ¨èå­¦ä¹ è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1GB4y1Q7bR/?spm_id_from=333.999.0.0&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B13 å¤šæºBFS çŸ©é˜µè·ç¦»_bilibili</a><br>é¢˜ç›®æè¿°ï¼šå³æ˜¯è¯´æ±‚å›¾ä¸­æ¯ä¸€ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œä»è€Œæ„æˆä¸€ä¸ªæ–°çš„çŸ©é˜µ $B$</p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240512154726043.png\" alt=\"image-20240512154726043\"></p>\n<ul>\n<li>ä¸ºäº†æ±‚æ¯ä¸ª $0$ è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œå¦‚æœè®¡ç®—éå†åˆ°æ¯ä¸ª $0$ æ—¶åˆ†åˆ«å»å¯»æ‰¾è·ç¦»è‡ªå·±æœ€è¿‘çš„ $1$ å¹¶æ‰“æ“‚å–å¾—æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆä¼šé«˜</li>\n<li>æ‰€ä»¥å¯ä»¥ä»æ¯ä¸ª $1$ åšæ´ªæ°´è¦†ç›–ï¼Œå³å¤šæº $BFS$ï¼Œå…ˆæ¥åˆ°è¿™ä¸ªç‚¹çš„è·ç¦»ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œå› ä¸º $BFS$ æ˜¯é€å±‚æ‰©å±•</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N]; <span class=\"comment\">// åœ°å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N][N]; <span class=\"comment\">// å­˜å‚¨åˆ°æºç‚¹çš„è·ç¦»,å…¼èŒåˆ¤é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// nè¡Œmåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;PII&gt; q; <span class=\"comment\">// å¤šæº,æŠŠæ¯ä¸ª1éƒ½æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">bfs</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">-1</span>, <span class=\"keyword\">sizeof</span> dist); <span class=\"comment\">// å‡åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†åœ°å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¤šæºBFS,åŒºåˆ«å°±æ˜¯æŠŠå¤šä¸ªæºç‚¹éƒ½åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;1&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\tdist[i][j]=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ°è‡ªå·±çš„è·ç¦»ä¸º0</span></span><br><span class=\"line\">\t\t\t\tq.push(&#123;i,j&#125;);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> xx=t.x+dx[i];</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> yy=t.y+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 1) è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || xx&gt;n || yy&lt;<span class=\"number\">1</span> || yy&gt;m) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 2) èµ°è¿‡åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(dist[xx][yy]!=<span class=\"number\">-1</span>) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t\tdist[xx][yy]=dist[t.x][t.y]+<span class=\"number\">1</span>; <span class=\"comment\">// æ´ªæ³›è®¡ç®—è·ç¦»</span></span><br><span class=\"line\">\t\t\tq.push(&#123;xx,yy&#125;);\t</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥åœ°å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cin</span>&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tbfs();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++,<span class=\"built_in\">puts</span>(<span class=\"string\">&quot;&quot;</span>)) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=m;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;dist[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">3 4</span></span><br><span class=\"line\"><span class=\"comment\">0 0 0 1</span></span><br><span class=\"line\"><span class=\"comment\">0 0 1 1</span></span><br><span class=\"line\"><span class=\"comment\">0 1 1 0</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n"},{"title":"å¿«é€Ÿå¹‚","date":"2024-10-07T02:35:27.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# å¿«é€Ÿå¹‚\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135336870.png\" alt=\"image-20230726135336870\" style=\"zoom:67%;\" />\n\n* å…³é”®åœ¨äºæŠŠaçš„næ¬¡æ–¹ä¸­çš„næ‹†åˆ†æˆäºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼\n\n\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135625768.png\" alt=\"image-20230726135625768\" style=\"zoom: 80%;\" />\n\n* å¯¹äº $n$ çš„äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬ä»ä½åˆ°é«˜ä¸æ–­éå†æ¯ä¸€ä½ï¼Œå¦‚æœéå†åˆ°çš„é‚£ä¸€ä½æ˜¯ $1$ ï¼Œå°± $rÃ—a$\n\n* ä¼ªä»£ç ä¸­çš„ $n(mod\\ 2)$ å¯ä»¥ç”¨ $n\\&1$ æ¥è¡¨ç¤ºï¼Œ$n=floor(n/2)$ ä¹Ÿå¯ä»¥ç”¨æ— ç¬¦å·å³ç§»ä¸€ä½æ¥è¡¨ç¤ºï¼Œå³ $n>>2$\n\n\n\n## 1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726140139764.png\" alt=\"image-20230726140139764\" style=\"zoom:67%;\" />\n\n* åªéœ€è¦åœ¨å¿«é€Ÿå¹‚ç®—æ³•ä¸­åˆé€‚çš„ä½ç½®ä¸ŠåŠ ä¸Š $mod\\ m$ï¼Œå³å¯å¾—åˆ°å¹‚å–æ¨¡çš„ä»£ç \n\n``` c++\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\n// è®¡ç®—açš„næ¬¡æ–¹æ¨¡m\nint ModExpFast(int a,int n,int m) {\n\tint res;\n\ta=a%m;\n\tres=1; // ä¹˜æ³•æ“ä½œçš„åˆå§‹å€¼(ç´¯ç§¯å˜é‡)\n\twhile(n!=0) {\n\t\tif(n%2==1) {\n\t\t\tres=(res*a)%m;\n\t\t}\n\t\ta=(a*a)%m;\n\t\tn=n>>1;\n\t}\n\treturn res; // å¾—åˆ°æœ€ç»ˆçš„ä½™æ•°\n}\nsigned main() {\n\tint a,n,m;\n\tcin>>a>>n>>m;\n\tcout<<a<<\"^\"<<n<<\" mod \"<<m<<\"=\"<<ModExpFast(a,n,m);\n\treturn 0;\n}\n```\n\n* å¹‚å–æ¨¡è¿ç®—åœ¨å¯†ç å­¦å’Œæ•°è®ºä¸­æœ‰ç€éå¸¸é‡è¦çš„åº”ç”¨ï¼Œæ¯”å¦‚ï¼Œå¹‚å–æ¨¡è¿ç®—æ˜¯RSAå…¬é’¥åŠ å¯†çš„æ ¸å¿ƒè¿ç®—ä¹‹ä¸€ã€‚\n\n\n\n## 2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142215151.png\" alt=\"image-20230726142215151\" style=\"zoom:67%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240207111727658.png\" alt=\"image-20240207111727658\" style=\"zoom:80%;\" />\n\n* ä»¥ä¸Šæ˜¯é€‚ç”¨äºçŸ©é˜µå¿«é€Ÿå¹‚çš„æ•°æ®èŒƒå›´\n\n* åªéœ€è¦è®¡ç®—å‡º $[1\\ 1; 1\\ 0]$ çš„ $n$æ¬¡æ–¹å’Œå·²çŸ¥ $F0$ ä¸ $F1$ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºç¬¬ $n$ é¡¹\n* ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚è®¡ç®—ç¬¬ $n$ é¡¹å¹¶ç»´æŠ¤å‰ $n$ é¡¹å’Œçš„çŸ©é˜µå¿«é€Ÿå¹‚æ¨¡æ¿\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: çŸ©é˜µå¿«é€Ÿå¹‚æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—,[fn, fn+1] Ã— [0 1; 1 1]= f[n+1, fn+2]\n// è¿™é“é¢˜è¿˜è¦æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—å‰né¡¹çš„å’Œ,æ‰€ä»¥é™¤äº†fnä»¥å¤–è¿˜éœ€è¦ç»´æŠ¤Sn\n// [fn, fn+1, sn] Ã— [0 1 0; 1 1 0; 0 1 1] = f[n+1, fn+2, sn+1]\n\nconst int N=3; // çŸ©é˜µ3Ã—3\nint n,m; // æœ¬é¢˜è¦æ±‚è®¡ç®—å‡ºå‰né¡¹å’Œmod mçš„å€¼\n\n// ä¸€ç»´Ã—äºŒç»´ä¸¤é‡å¾ªç¯,c=a*b\nvoid mul(int c[],int a[],int b[][N]) {\n\tint temp[N]={0};\n\tfor(int i=0;i<N;i++) {\n\t\tfor(int j=0;j<N;j++) {\n\t\t\ttemp[i]=(temp[i]+(ll)a[j]*b[j][i])%m;\n\t\t}\n\t}\n\t// æ³¨æ„:ä¼ è¿›æ¥çš„æŒ‡é’ˆå’Œæœ¬èº«çš„æŒ‡é’ˆæœ‰åŒºåˆ«(å½¢å‚),å¦‚æœè¿™é‡Œsizeof c\n\t// ä¼ å›æ¥çš„æ˜¯æŒ‡é’ˆçš„é•¿åº¦,è€Œä¸æ˜¯æ•°ç»„çš„é•¿åº¦,æ‰€ä»¥sizeof temp\n\tmemcpy(c,temp,sizeof temp);\n}\n\n// äºŒç»´Ã—äºŒç»´ä¸‰é‡å¾ªç¯,c=a*b\nvoid mul(int c[][N],int a[][N],int b[][N]) {\n\tint temp[N][N]={0};\n\tfor(int i=0;i<N;i++) {\n\t\tfor(int j=0;j<N;j++) {\n\t\t\tfor(int k=0;k<N;k++) {\n\t\t\t\ttemp[i][j]=(temp[i][j]+(ll)a[i][k]*b[k][j])%m;\n\t\t\t}\n\t\t}\n\t}\n\tmemcpy(c,temp,sizeof temp);\n}\n\nint main() {\n\tcin>>n>>m;\n\tint f1[N]={1,1,1}; // f1,f2,s1;å­˜å‚¨ç­”æ¡ˆ,f1[2]å°±æ˜¯Sn\n\t// æ¨å¯¼å‡ºæ¥çš„å¹‚çŸ©é˜µ\n\tint a[N][N]= {\n\t\t{0,1,0},\n\t\t{1,1,1},\n\t\t{0,0,1}\n\t};\n\t// è®¡ç®—f1Ã—a^n\n\t// è¿­ä»£è®¡ç®—,ç±»ä¼¼äºæ»šåŠ¨æ•°ç»„,æ²¡æœ‰åˆ©ç”¨é¢å¤–çš„ç©ºé—´\n\tn--; // è°ƒæ•´æ–æ³¢é‚£å¥‘æ•°åˆ—çš„èµ·å§‹ä½ç½®\n\t// å¿«é€Ÿå¹‚æ€æƒ³\n\twhile(n) {\n\t\tif(n&1) mul(f1,f1,a); // res=res*a,è°ƒç”¨ä¸€ç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹\n\t\tmul(a,a,a); // a=a*a,è°ƒç”¨äºŒç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹\n\t\tn>>=1;\n\t}\n\tcout<<f1[2]<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142534642.png\" alt=\"image-20230726142534642\" style=\"zoom:67%;\" />\n\n\n\n## 4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘\n\n* å¯¹æˆ‘æ¥è¯´æœ‰éš¾åº¦ï¼Œæš‚æ—¶ä¸ä¸Šä»£ç \n","source":"_posts/å¿«é€Ÿå¹‚.md","raw":"---\ntitle: å¿«é€Ÿå¹‚\ndate: 2024-10-07 10:35:27\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°è®º\n    - å¿«é€Ÿå¹‚\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# å¿«é€Ÿå¹‚\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135336870.png\" alt=\"image-20230726135336870\" style=\"zoom:67%;\" />\n\n* å…³é”®åœ¨äºæŠŠaçš„næ¬¡æ–¹ä¸­çš„næ‹†åˆ†æˆäºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼\n\n\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135625768.png\" alt=\"image-20230726135625768\" style=\"zoom: 80%;\" />\n\n* å¯¹äº $n$ çš„äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬ä»ä½åˆ°é«˜ä¸æ–­éå†æ¯ä¸€ä½ï¼Œå¦‚æœéå†åˆ°çš„é‚£ä¸€ä½æ˜¯ $1$ ï¼Œå°± $rÃ—a$\n\n* ä¼ªä»£ç ä¸­çš„ $n(mod\\ 2)$ å¯ä»¥ç”¨ $n\\&1$ æ¥è¡¨ç¤ºï¼Œ$n=floor(n/2)$ ä¹Ÿå¯ä»¥ç”¨æ— ç¬¦å·å³ç§»ä¸€ä½æ¥è¡¨ç¤ºï¼Œå³ $n>>2$\n\n\n\n## 1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726140139764.png\" alt=\"image-20230726140139764\" style=\"zoom:67%;\" />\n\n* åªéœ€è¦åœ¨å¿«é€Ÿå¹‚ç®—æ³•ä¸­åˆé€‚çš„ä½ç½®ä¸ŠåŠ ä¸Š $mod\\ m$ï¼Œå³å¯å¾—åˆ°å¹‚å–æ¨¡çš„ä»£ç \n\n``` c++\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\n// è®¡ç®—açš„næ¬¡æ–¹æ¨¡m\nint ModExpFast(int a,int n,int m) {\n\tint res;\n\ta=a%m;\n\tres=1; // ä¹˜æ³•æ“ä½œçš„åˆå§‹å€¼(ç´¯ç§¯å˜é‡)\n\twhile(n!=0) {\n\t\tif(n%2==1) {\n\t\t\tres=(res*a)%m;\n\t\t}\n\t\ta=(a*a)%m;\n\t\tn=n>>1;\n\t}\n\treturn res; // å¾—åˆ°æœ€ç»ˆçš„ä½™æ•°\n}\nsigned main() {\n\tint a,n,m;\n\tcin>>a>>n>>m;\n\tcout<<a<<\"^\"<<n<<\" mod \"<<m<<\"=\"<<ModExpFast(a,n,m);\n\treturn 0;\n}\n```\n\n* å¹‚å–æ¨¡è¿ç®—åœ¨å¯†ç å­¦å’Œæ•°è®ºä¸­æœ‰ç€éå¸¸é‡è¦çš„åº”ç”¨ï¼Œæ¯”å¦‚ï¼Œå¹‚å–æ¨¡è¿ç®—æ˜¯RSAå…¬é’¥åŠ å¯†çš„æ ¸å¿ƒè¿ç®—ä¹‹ä¸€ã€‚\n\n\n\n## 2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142215151.png\" alt=\"image-20230726142215151\" style=\"zoom:67%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240207111727658.png\" alt=\"image-20240207111727658\" style=\"zoom:80%;\" />\n\n* ä»¥ä¸Šæ˜¯é€‚ç”¨äºçŸ©é˜µå¿«é€Ÿå¹‚çš„æ•°æ®èŒƒå›´\n\n* åªéœ€è¦è®¡ç®—å‡º $[1\\ 1; 1\\ 0]$ çš„ $n$æ¬¡æ–¹å’Œå·²çŸ¥ $F0$ ä¸ $F1$ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºç¬¬ $n$ é¡¹\n* ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚è®¡ç®—ç¬¬ $n$ é¡¹å¹¶ç»´æŠ¤å‰ $n$ é¡¹å’Œçš„çŸ©é˜µå¿«é€Ÿå¹‚æ¨¡æ¿\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: çŸ©é˜µå¿«é€Ÿå¹‚æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—,[fn, fn+1] Ã— [0 1; 1 1]= f[n+1, fn+2]\n// è¿™é“é¢˜è¿˜è¦æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—å‰né¡¹çš„å’Œ,æ‰€ä»¥é™¤äº†fnä»¥å¤–è¿˜éœ€è¦ç»´æŠ¤Sn\n// [fn, fn+1, sn] Ã— [0 1 0; 1 1 0; 0 1 1] = f[n+1, fn+2, sn+1]\n\nconst int N=3; // çŸ©é˜µ3Ã—3\nint n,m; // æœ¬é¢˜è¦æ±‚è®¡ç®—å‡ºå‰né¡¹å’Œmod mçš„å€¼\n\n// ä¸€ç»´Ã—äºŒç»´ä¸¤é‡å¾ªç¯,c=a*b\nvoid mul(int c[],int a[],int b[][N]) {\n\tint temp[N]={0};\n\tfor(int i=0;i<N;i++) {\n\t\tfor(int j=0;j<N;j++) {\n\t\t\ttemp[i]=(temp[i]+(ll)a[j]*b[j][i])%m;\n\t\t}\n\t}\n\t// æ³¨æ„:ä¼ è¿›æ¥çš„æŒ‡é’ˆå’Œæœ¬èº«çš„æŒ‡é’ˆæœ‰åŒºåˆ«(å½¢å‚),å¦‚æœè¿™é‡Œsizeof c\n\t// ä¼ å›æ¥çš„æ˜¯æŒ‡é’ˆçš„é•¿åº¦,è€Œä¸æ˜¯æ•°ç»„çš„é•¿åº¦,æ‰€ä»¥sizeof temp\n\tmemcpy(c,temp,sizeof temp);\n}\n\n// äºŒç»´Ã—äºŒç»´ä¸‰é‡å¾ªç¯,c=a*b\nvoid mul(int c[][N],int a[][N],int b[][N]) {\n\tint temp[N][N]={0};\n\tfor(int i=0;i<N;i++) {\n\t\tfor(int j=0;j<N;j++) {\n\t\t\tfor(int k=0;k<N;k++) {\n\t\t\t\ttemp[i][j]=(temp[i][j]+(ll)a[i][k]*b[k][j])%m;\n\t\t\t}\n\t\t}\n\t}\n\tmemcpy(c,temp,sizeof temp);\n}\n\nint main() {\n\tcin>>n>>m;\n\tint f1[N]={1,1,1}; // f1,f2,s1;å­˜å‚¨ç­”æ¡ˆ,f1[2]å°±æ˜¯Sn\n\t// æ¨å¯¼å‡ºæ¥çš„å¹‚çŸ©é˜µ\n\tint a[N][N]= {\n\t\t{0,1,0},\n\t\t{1,1,1},\n\t\t{0,0,1}\n\t};\n\t// è®¡ç®—f1Ã—a^n\n\t// è¿­ä»£è®¡ç®—,ç±»ä¼¼äºæ»šåŠ¨æ•°ç»„,æ²¡æœ‰åˆ©ç”¨é¢å¤–çš„ç©ºé—´\n\tn--; // è°ƒæ•´æ–æ³¢é‚£å¥‘æ•°åˆ—çš„èµ·å§‹ä½ç½®\n\t// å¿«é€Ÿå¹‚æ€æƒ³\n\twhile(n) {\n\t\tif(n&1) mul(f1,f1,a); // res=res*a,è°ƒç”¨ä¸€ç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹\n\t\tmul(a,a,a); // a=a*a,è°ƒç”¨äºŒç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹\n\t\tn>>=1;\n\t}\n\tcout<<f1[2]<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142534642.png\" alt=\"image-20230726142534642\" style=\"zoom:67%;\" />\n\n\n\n## 4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘\n\n* å¯¹æˆ‘æ¥è¯´æœ‰éš¾åº¦ï¼Œæš‚æ—¶ä¸ä¸Šä»£ç \n","slug":"å¿«é€Ÿå¹‚","published":1,"updated":"2024-10-07T02:39:47.000Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpss001ic0nfgnkcgiac","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"å¿«é€Ÿå¹‚\">å¿«é€Ÿå¹‚</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%BA%94%E7%94%A8%E4%B8%80-%E5%B9%82%E5%8F%96%E4%BD%99%E8%AE%A1%E7%AE%97-anmod-m\">1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$</a></li>\n<li><a href=\"#2-%E5%BA%94%E7%94%A8%E4%BA%8C-%E8%AE%A1%E7%AE%97%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97%E7%9A%84%E7%AC%ACn%E9%A1%B9%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82\">2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</a></li>\n<li><a href=\"#3-%E5%BA%94%E7%94%A8%E4%B8%89-%E5%B0%86%E7%BA%BF%E6%80%A7%E5%8F%98%E6%8D%A2%E9%87%8D%E5%A4%8D-n-%E6%AC%A1%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82\">3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</a></li>\n<li><a href=\"#4-%E5%BA%94%E7%94%A8%E5%9B%9B-%E6%9E%81%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E9%BE%9F%E9%80%9F%E4%B9%98\">4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135336870.png\" alt=\"image-20230726135336870\" style=\"zoom:67%;\">\n\n<ul>\n<li>å…³é”®åœ¨äºæŠŠaçš„næ¬¡æ–¹ä¸­çš„næ‹†åˆ†æˆäºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135625768.png\" alt=\"image-20230726135625768\" style=\"zoom: 80%;\">\n\n<ul>\n<li><p>å¯¹äº $n$ çš„äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬ä»ä½åˆ°é«˜ä¸æ–­éå†æ¯ä¸€ä½ï¼Œå¦‚æœéå†åˆ°çš„é‚£ä¸€ä½æ˜¯ $1$ ï¼Œå°± $rÃ—a$</p>\n</li>\n<li><p>ä¼ªä»£ç ä¸­çš„ $n(mod\\ 2)$ å¯ä»¥ç”¨ $n&amp;1$ æ¥è¡¨ç¤ºï¼Œ$n&#x3D;floor(n&#x2F;2)$ ä¹Ÿå¯ä»¥ç”¨æ— ç¬¦å·å³ç§»ä¸€ä½æ¥è¡¨ç¤ºï¼Œå³ $n&gt;&gt;2$</p>\n</li>\n</ul>\n<h2><span id=\"1-åº”ç”¨ä¸€-å¹‚å–ä½™è®¡ç®—-anmod-m\">1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726140139764.png\" alt=\"image-20230726140139764\" style=\"zoom:67%;\">\n\n<ul>\n<li>åªéœ€è¦åœ¨å¿«é€Ÿå¹‚ç®—æ³•ä¸­åˆé€‚çš„ä½ç½®ä¸ŠåŠ ä¸Š $mod\\ m$ï¼Œå³å¯å¾—åˆ°å¹‚å–æ¨¡çš„ä»£ç </li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> int long long</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—açš„næ¬¡æ–¹æ¨¡m</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">ModExpFast</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> n,<span class=\"type\">int</span> m)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res;</span><br><span class=\"line\">\ta=a%m;</span><br><span class=\"line\">\tres=<span class=\"number\">1</span>; <span class=\"comment\">// ä¹˜æ³•æ“ä½œçš„åˆå§‹å€¼(ç´¯ç§¯å˜é‡)</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>==<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\tres=(res*a)%m;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\ta=(a*a)%m;</span><br><span class=\"line\">\t\tn=n&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res; <span class=\"comment\">// å¾—åˆ°æœ€ç»ˆçš„ä½™æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">signed</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a,n,m;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\tcout&lt;&lt;a&lt;&lt;<span class=\"string\">&quot;^&quot;</span>&lt;&lt;n&lt;&lt;<span class=\"string\">&quot; mod &quot;</span>&lt;&lt;m&lt;&lt;<span class=\"string\">&quot;=&quot;</span>&lt;&lt;<span class=\"built_in\">ModExpFast</span>(a,n,m);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¹‚å–æ¨¡è¿ç®—åœ¨å¯†ç å­¦å’Œæ•°è®ºä¸­æœ‰ç€éå¸¸é‡è¦çš„åº”ç”¨ï¼Œæ¯”å¦‚ï¼Œå¹‚å–æ¨¡è¿ç®—æ˜¯RSAå…¬é’¥åŠ å¯†çš„æ ¸å¿ƒè¿ç®—ä¹‹ä¸€ã€‚</li>\n</ul>\n<h2><span id=\"2-åº”ç”¨äºŒ-è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹çŸ©é˜µå¿«é€Ÿå¹‚\">2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142215151.png\" alt=\"image-20230726142215151\" style=\"zoom:67%;\">\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240207111727658.png\" alt=\"image-20240207111727658\" style=\"zoom:80%;\">\n\n<ul>\n<li><p>ä»¥ä¸Šæ˜¯é€‚ç”¨äºçŸ©é˜µå¿«é€Ÿå¹‚çš„æ•°æ®èŒƒå›´</p>\n</li>\n<li><p>åªéœ€è¦è®¡ç®—å‡º $[1\\ 1; 1\\ 0]$ çš„ $n$æ¬¡æ–¹å’Œå·²çŸ¥ $F0$ ä¸ $F1$ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºç¬¬ $n$ é¡¹</p>\n</li>\n<li><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚è®¡ç®—ç¬¬ $n$ é¡¹å¹¶ç»´æŠ¤å‰ $n$ é¡¹å’Œçš„çŸ©é˜µå¿«é€Ÿå¹‚æ¨¡æ¿</p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: çŸ©é˜µå¿«é€Ÿå¹‚æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—,[fn, fn+1] Ã— [0 1; 1 1]= f[n+1, fn+2]</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™é“é¢˜è¿˜è¦æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—å‰né¡¹çš„å’Œ,æ‰€ä»¥é™¤äº†fnä»¥å¤–è¿˜éœ€è¦ç»´æŠ¤Sn</span></span><br><span class=\"line\"><span class=\"comment\">// [fn, fn+1, sn] Ã— [0 1 0; 1 1 0; 0 1 1] = f[n+1, fn+2, sn+1]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3</span>; <span class=\"comment\">// çŸ©é˜µ3Ã—3</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æœ¬é¢˜è¦æ±‚è®¡ç®—å‡ºå‰né¡¹å’Œmod mçš„å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸€ç»´Ã—äºŒç»´ä¸¤é‡å¾ªç¯,c=a*b</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> c[],<span class=\"type\">int</span> a[],<span class=\"type\">int</span> b[][N])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp[N]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;N;j++) &#123;</span><br><span class=\"line\">\t\t\ttemp[i]=(temp[i]+(ll)a[j]*b[j][i])%m;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„:ä¼ è¿›æ¥çš„æŒ‡é’ˆå’Œæœ¬èº«çš„æŒ‡é’ˆæœ‰åŒºåˆ«(å½¢å‚),å¦‚æœè¿™é‡Œsizeof c</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¼ å›æ¥çš„æ˜¯æŒ‡é’ˆçš„é•¿åº¦,è€Œä¸æ˜¯æ•°ç»„çš„é•¿åº¦,æ‰€ä»¥sizeof temp</span></span><br><span class=\"line\">\t<span class=\"built_in\">memcpy</span>(c,temp,<span class=\"keyword\">sizeof</span> temp);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// äºŒç»´Ã—äºŒç»´ä¸‰é‡å¾ªç¯,c=a*b</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> c[][N],<span class=\"type\">int</span> a[][N],<span class=\"type\">int</span> b[][N])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp[N][N]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;N;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>;k&lt;N;k++) &#123;</span><br><span class=\"line\">\t\t\t\ttemp[i][j]=(temp[i][j]+(ll)a[i][k]*b[k][j])%m;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">memcpy</span>(c,temp,<span class=\"keyword\">sizeof</span> temp);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> f1[N]=&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;; <span class=\"comment\">// f1,f2,s1;å­˜å‚¨ç­”æ¡ˆ,f1[2]å°±æ˜¯Sn</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ¨å¯¼å‡ºæ¥çš„å¹‚çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> a[N][N]= &#123;</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t<span class=\"comment\">// è®¡ç®—f1Ã—a^n</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿­ä»£è®¡ç®—,ç±»ä¼¼äºæ»šåŠ¨æ•°ç»„,æ²¡æœ‰åˆ©ç”¨é¢å¤–çš„ç©ºé—´</span></span><br><span class=\"line\">\tn--; <span class=\"comment\">// è°ƒæ•´æ–æ³¢é‚£å¥‘æ•°åˆ—çš„èµ·å§‹ä½ç½®</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¿«é€Ÿå¹‚æ€æƒ³</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n&amp;<span class=\"number\">1</span>) <span class=\"built_in\">mul</span>(f1,f1,a); <span class=\"comment\">// res=res*a,è°ƒç”¨ä¸€ç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">mul</span>(a,a,a); <span class=\"comment\">// a=a*a,è°ƒç”¨äºŒç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹</span></span><br><span class=\"line\">\t\tn&gt;&gt;=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;f1[<span class=\"number\">2</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-åº”ç”¨ä¸‰-å°†çº¿æ€§å˜æ¢é‡å¤-n-æ¬¡çŸ©é˜µå¿«é€Ÿå¹‚\">3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142534642.png\" alt=\"image-20230726142534642\" style=\"zoom:67%;\">\n\n\n\n<h2><span id=\"4-åº”ç”¨å››-ææ–æ³¢é‚£å¥‘çŸ©é˜µå¿«é€Ÿå¹‚é¾Ÿé€Ÿä¹˜\">4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘</span></h2><ul>\n<li>å¯¹æˆ‘æ¥è¯´æœ‰éš¾åº¦ï¼Œæš‚æ—¶ä¸ä¸Šä»£ç </li>\n</ul>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"å¿«é€Ÿå¹‚\"><a href=\"#å¿«é€Ÿå¹‚\" class=\"headerlink\" title=\"å¿«é€Ÿå¹‚\"></a>å¿«é€Ÿå¹‚</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E5%BA%94%E7%94%A8%E4%B8%80-%E5%B9%82%E5%8F%96%E4%BD%99%E8%AE%A1%E7%AE%97-anmod-m\">1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$</a></li>\n<li><a href=\"#2-%E5%BA%94%E7%94%A8%E4%BA%8C-%E8%AE%A1%E7%AE%97%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97%E7%9A%84%E7%AC%ACn%E9%A1%B9%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82\">2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</a></li>\n<li><a href=\"#3-%E5%BA%94%E7%94%A8%E4%B8%89-%E5%B0%86%E7%BA%BF%E6%80%A7%E5%8F%98%E6%8D%A2%E9%87%8D%E5%A4%8D-n-%E6%AC%A1%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82\">3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</a></li>\n<li><a href=\"#4-%E5%BA%94%E7%94%A8%E5%9B%9B-%E6%9E%81%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E9%BE%9F%E9%80%9F%E4%B9%98\">4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135336870.png\" alt=\"image-20230726135336870\" style=\"zoom:67%;\" />\n\n<ul>\n<li>å…³é”®åœ¨äºæŠŠaçš„næ¬¡æ–¹ä¸­çš„næ‹†åˆ†æˆäºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼</li>\n</ul>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726135625768.png\" alt=\"image-20230726135625768\" style=\"zoom: 80%;\" />\n\n<ul>\n<li><p>å¯¹äº $n$ çš„äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬ä»ä½åˆ°é«˜ä¸æ–­éå†æ¯ä¸€ä½ï¼Œå¦‚æœéå†åˆ°çš„é‚£ä¸€ä½æ˜¯ $1$ ï¼Œå°± $rÃ—a$</p>\n</li>\n<li><p>ä¼ªä»£ç ä¸­çš„ $n(mod\\ 2)$ å¯ä»¥ç”¨ $n&amp;1$ æ¥è¡¨ç¤ºï¼Œ$n&#x3D;floor(n&#x2F;2)$ ä¹Ÿå¯ä»¥ç”¨æ— ç¬¦å·å³ç§»ä¸€ä½æ¥è¡¨ç¤ºï¼Œå³ $n&gt;&gt;2$</p>\n</li>\n</ul>\n<h2 id=\"1-åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®—-a-n-mod-m\"><a href=\"#1-åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®—-a-n-mod-m\" class=\"headerlink\" title=\"1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$\"></a>1. åº”ç”¨ä¸€ã€å¹‚å–ä½™ï¼šè®¡ç®— $a^n(mod\\ m)$</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726140139764.png\" alt=\"image-20230726140139764\" style=\"zoom:67%;\" />\n\n<ul>\n<li>åªéœ€è¦åœ¨å¿«é€Ÿå¹‚ç®—æ³•ä¸­åˆé€‚çš„ä½ç½®ä¸ŠåŠ ä¸Š $mod\\ m$ï¼Œå³å¯å¾—åˆ°å¹‚å–æ¨¡çš„ä»£ç </li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> int long long</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"comment\">// è®¡ç®—açš„næ¬¡æ–¹æ¨¡m</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">ModExpFast</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> n,<span class=\"type\">int</span> m)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res;</span><br><span class=\"line\">\ta=a%m;</span><br><span class=\"line\">\tres=<span class=\"number\">1</span>; <span class=\"comment\">// ä¹˜æ³•æ“ä½œçš„åˆå§‹å€¼(ç´¯ç§¯å˜é‡)</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>==<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\tres=(res*a)%m;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\ta=(a*a)%m;</span><br><span class=\"line\">\t\tn=n&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res; <span class=\"comment\">// å¾—åˆ°æœ€ç»ˆçš„ä½™æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">signed</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a,n,m;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\tcout&lt;&lt;a&lt;&lt;<span class=\"string\">&quot;^&quot;</span>&lt;&lt;n&lt;&lt;<span class=\"string\">&quot; mod &quot;</span>&lt;&lt;m&lt;&lt;<span class=\"string\">&quot;=&quot;</span>&lt;&lt;<span class=\"built_in\">ModExpFast</span>(a,n,m);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¹‚å–æ¨¡è¿ç®—åœ¨å¯†ç å­¦å’Œæ•°è®ºä¸­æœ‰ç€éå¸¸é‡è¦çš„åº”ç”¨ï¼Œæ¯”å¦‚ï¼Œå¹‚å–æ¨¡è¿ç®—æ˜¯RSAå…¬é’¥åŠ å¯†çš„æ ¸å¿ƒè¿ç®—ä¹‹ä¸€ã€‚</li>\n</ul>\n<h2 id=\"2-åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\"><a href=\"#2-åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\" class=\"headerlink\" title=\"2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\"></a>2. åº”ç”¨äºŒã€è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142215151.png\" alt=\"image-20230726142215151\" style=\"zoom:67%;\" />\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240207111727658.png\" alt=\"image-20240207111727658\" style=\"zoom:80%;\" />\n\n<ul>\n<li><p>ä»¥ä¸Šæ˜¯é€‚ç”¨äºçŸ©é˜µå¿«é€Ÿå¹‚çš„æ•°æ®èŒƒå›´</p>\n</li>\n<li><p>åªéœ€è¦è®¡ç®—å‡º $[1\\ 1; 1\\ 0]$ çš„ $n$æ¬¡æ–¹å’Œå·²çŸ¥ $F0$ ä¸ $F1$ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºç¬¬ $n$ é¡¹</p>\n</li>\n<li><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚è®¡ç®—ç¬¬ $n$ é¡¹å¹¶ç»´æŠ¤å‰ $n$ é¡¹å’Œçš„çŸ©é˜µå¿«é€Ÿå¹‚æ¨¡æ¿</p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: çŸ©é˜µå¿«é€Ÿå¹‚æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—,[fn, fn+1] Ã— [0 1; 1 1]= f[n+1, fn+2]</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™é“é¢˜è¿˜è¦æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—å‰né¡¹çš„å’Œ,æ‰€ä»¥é™¤äº†fnä»¥å¤–è¿˜éœ€è¦ç»´æŠ¤Sn</span></span><br><span class=\"line\"><span class=\"comment\">// [fn, fn+1, sn] Ã— [0 1 0; 1 1 0; 0 1 1] = f[n+1, fn+2, sn+1]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3</span>; <span class=\"comment\">// çŸ©é˜µ3Ã—3</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// æœ¬é¢˜è¦æ±‚è®¡ç®—å‡ºå‰né¡¹å’Œmod mçš„å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸€ç»´Ã—äºŒç»´ä¸¤é‡å¾ªç¯,c=a*b</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> c[],<span class=\"type\">int</span> a[],<span class=\"type\">int</span> b[][N])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp[N]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;N;j++) &#123;</span><br><span class=\"line\">\t\t\ttemp[i]=(temp[i]+(ll)a[j]*b[j][i])%m;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„:ä¼ è¿›æ¥çš„æŒ‡é’ˆå’Œæœ¬èº«çš„æŒ‡é’ˆæœ‰åŒºåˆ«(å½¢å‚),å¦‚æœè¿™é‡Œsizeof c</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¼ å›æ¥çš„æ˜¯æŒ‡é’ˆçš„é•¿åº¦,è€Œä¸æ˜¯æ•°ç»„çš„é•¿åº¦,æ‰€ä»¥sizeof temp</span></span><br><span class=\"line\">\t<span class=\"built_in\">memcpy</span>(c,temp,<span class=\"keyword\">sizeof</span> temp);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// äºŒç»´Ã—äºŒç»´ä¸‰é‡å¾ªç¯,c=a*b</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> c[][N],<span class=\"type\">int</span> a[][N],<span class=\"type\">int</span> b[][N])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp[N][N]=&#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;N;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> k=<span class=\"number\">0</span>;k&lt;N;k++) &#123;</span><br><span class=\"line\">\t\t\t\ttemp[i][j]=(temp[i][j]+(ll)a[i][k]*b[k][j])%m;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">memcpy</span>(c,temp,<span class=\"keyword\">sizeof</span> temp);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> f1[N]=&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;; <span class=\"comment\">// f1,f2,s1;å­˜å‚¨ç­”æ¡ˆ,f1[2]å°±æ˜¯Sn</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ¨å¯¼å‡ºæ¥çš„å¹‚çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> a[N][N]= &#123;</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>&#125;,</span><br><span class=\"line\">\t\t&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t<span class=\"comment\">// è®¡ç®—f1Ã—a^n</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿­ä»£è®¡ç®—,ç±»ä¼¼äºæ»šåŠ¨æ•°ç»„,æ²¡æœ‰åˆ©ç”¨é¢å¤–çš„ç©ºé—´</span></span><br><span class=\"line\">\tn--; <span class=\"comment\">// è°ƒæ•´æ–æ³¢é‚£å¥‘æ•°åˆ—çš„èµ·å§‹ä½ç½®</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¿«é€Ÿå¹‚æ€æƒ³</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n&amp;<span class=\"number\">1</span>) <span class=\"built_in\">mul</span>(f1,f1,a); <span class=\"comment\">// res=res*a,è°ƒç”¨ä¸€ç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">mul</span>(a,a,a); <span class=\"comment\">// a=a*a,è°ƒç”¨äºŒç»´çŸ©é˜µÃ—äºŒç»´çŸ©é˜µçš„mulæ–¹ç¨‹</span></span><br><span class=\"line\">\t\tn&gt;&gt;=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;f1[<span class=\"number\">2</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤-n-æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\"><a href=\"#3-åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤-n-æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\" class=\"headerlink\" title=\"3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘\"></a>3. åº”ç”¨ä¸‰ã€å°†çº¿æ€§å˜æ¢é‡å¤ $n$ æ¬¡ã€çŸ©é˜µå¿«é€Ÿå¹‚ã€‘</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230726142534642.png\" alt=\"image-20230726142534642\" style=\"zoom:67%;\" />\n\n\n\n<h2 id=\"4-åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚-é¾Ÿé€Ÿä¹˜ã€‘\"><a href=\"#4-åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚-é¾Ÿé€Ÿä¹˜ã€‘\" class=\"headerlink\" title=\"4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘\"></a>4. åº”ç”¨å››ã€ææ–æ³¢é‚£å¥‘ã€çŸ©é˜µå¿«é€Ÿå¹‚+é¾Ÿé€Ÿä¹˜ã€‘</h2><ul>\n<li>å¯¹æˆ‘æ¥è¯´æœ‰éš¾åº¦ï¼Œæš‚æ—¶ä¸ä¸Šä»£ç </li>\n</ul>\n"},{"title":"æ‹“æ‰‘æ’åº","date":"2024-10-04T12:52:55.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ‹“æ‰‘æ’åº\n\n<!-- toc -->\n\n\n\n> æ¨èè§†é¢‘é“¾æ¥ï¼š[D01 æ‹“æ‰‘æ’åº](https://www.bilibili.com/video/BV17g41197sa/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* ç»™å®šä¸€å¼ **æœ‰å‘æ— ç¯å›¾**ï¼Œæ’å‡ºæ‰€æœ‰é¡¶ç‚¹çš„ä¸€ä¸ªåºåˆ— $A$ æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯æ¡æœ‰å‘è¾¹ $(x,y)$ï¼Œ$x$ åœ¨ $A$ ä¸­éƒ½å‡ºç°åœ¨ $y$ ä¹‹å‰ï¼Œåˆ™ç§° $A$ æ˜¯è¯¥å›¾çš„é¡¶ç‚¹çš„ä¸€ä¸ªæ‹“æ‰‘åº\n* æ‹“æ‰‘æ’åº å¯ä»¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¯ä»¥ç”Ÿæˆæ‹“æ‰‘åºåˆ—\n\n* å¯¹äºä¸‹å›¾ï¼Œ$\\{2,3,5,1,7,4,6\\}$ å’Œ $\\{3,2,1,5,7,6,4\\}$ éƒ½æ˜¯åˆæ³•çš„æ‹“æ‰‘åº\n\n![image-20240315173326430](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240315173326430.png)\n\n\n\n> å¤ä¹ ä¸€ä¸‹é“¾å¼å‰å‘æ˜Ÿå§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘å›¾çš„å­˜å‚¨-é‚»æ¥è¡¨ï¼Œæ‰‹æ’•é“¾å¼å‰å‘æ˜Ÿï¼Œè¶…è¯¦ç»†ä»£ç æ³¨é‡Š-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136579751?spm=1001.2014.3001.5502)\n\n## 1. Kahnç®—æ³•\n\n* ç®—æ³•æ ¸å¿ƒï¼šç”¨é˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªå…¥åº¦ä¸º $0$ çš„èŠ‚ç‚¹çš„é›†åˆ\n\n1. åˆå§‹åŒ–ï¼ˆé“¾å¼å‰å‘æ˜Ÿå»ºå›¾å»ºè¾¹ï¼‰ï¼Œé˜Ÿåˆ— $q$ å‹å…¥æ‰€æœ‰å…¥åº¦ä¸º $0$ çš„ç‚¹\n2. æ¯æ¬¡ä» $q$ ä¸­å–å‡ºé˜Ÿå¤´ $x$ æ”¾å…¥æ•°ç»„ $tp$ ï¼Œ$tp$ æ•°ç»„ä¿å­˜å‡ºé˜Ÿé¡ºåºï¼Œä¹Ÿå°±æ˜¯æ‹“æ‰‘åº\n3. ç„¶åå°† $x$ çš„æ‰€æœ‰å‡ºè¾¹åˆ é™¤ï¼Œå¦‚åˆ é™¤è¾¹ $(x,y)$ ï¼Œ$y$ çš„å…¥åº¦åˆ™ $-1$ï¼Œå¦‚æœ $y$ çš„å…¥åº¦å˜ä¸º $0$ï¼Œåˆ™å°† $y$ å‹å…¥ $q$ ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦ç”¨æ•°ç»„ $d$ ç»´æŠ¤\n4. ä¸æ–­é‡å¤ $2,3$ è¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ— $q$ ä¸ºç©º\n5. è‹¥ $tp$ ä¸­çš„å…ƒç´ ä¸ªæ•°ç­‰äº $n$ï¼Œåˆ™æœ‰æ‹“æ‰‘åºï¼›å¦åˆ™ï¼Œæœ‰ç¯\n\n\n\n### 1.1. æ•°æ®ç»“æ„\n\n``` c\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦\nqueue<int> q; // ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—\nqueue<int> tp; // è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n```\n\n\n\n### 1.2. å»ºå›¾\n\n``` c\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n```\n\n\n\n### 1.3. Kanhç®—æ³•\n\n``` c\n// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true\nbool tuopu() {\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\tif(d[i]==0) q.push(i);\n\t}\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\ttp.push(x); // å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº\n\t\t// éå†xçš„æ‰€æœ‰å‡ºè¾¹\n\t\tfor(int i=h[x];i=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(--d[j]==0) q.push(j);\n\t\t}\n\t}\n\treturn tp.size()==n; // å¦‚æœèƒ½å½¢æˆä¸€ä¸ªæ‹“æ‰‘åº,è¿”å›true,å¦åˆ™false\n}\n```\n\n\n\n## 2. DFSæŸ“è‰²\n\n* ç®—æ³•æ ¸å¿ƒï¼šåœ¨äº**æŸ“è‰²æ³•**ï¼Œæ¯æ¬¡ $dfs$ æœç´¢ä¼šç»™ç‚¹å˜è‰²ï¼Œå¦‚æœæœ‰æ‹“æ‰‘åºï¼Œæ¯ä¸ªç‚¹çš„é¢œè‰²éƒ½ä¼šä» $0â†’-1â†’1$ ç»å†ä¸‰æ¬¡å˜è‰²\n\n1. åˆå§‹åŒ–ï¼šå°†æ‰€æœ‰ç‚¹æŸ“è‰²ä¸º $0$\n2. æšä¸¾æ¯ä¸ªç‚¹ï¼Œè¿›å…¥ç‚¹ $x$ï¼Œå°† $x$ æŸ“è‰²ä¸º $-1$ï¼Œéšåæšä¸¾ $x$ çš„æ‰€æœ‰å„¿å­ç»“ç‚¹ $y$ï¼Œå¦‚æœ $y$ çš„é¢œè‰²ä»ä¸º $0$ï¼Œè¯´æ˜è¯¥ç‚¹æœªè¢«éå†è¿‡ï¼Œåˆ™é€’å½’åˆ°ä¸‹ä¸€å±‚ï¼›å¦‚æœ $y$ çš„é¢œè‰²ä¸º $-1$ï¼Œè¯´æ˜éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹äº†ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆ™ç›´æ¥ $return$\n3. å¦‚æœæšä¸¾å®Œ $x$ çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹éƒ½æ²¡æœ‰å‘ç°ç¯ï¼Œåˆ™æŠŠ $x$ æŸ“è‰²ä¸º $1$ï¼Œå¹¶æŠŠ $x$ å‹å…¥ $tp$ æ•°ç»„\n4. æ³¨æ„ï¼Œå› ä¸º $DFS$ æ˜¯æ ˆå®ç°çš„ï¼Œå›æº¯çš„æ—¶å€™æ‰æŠŠç‚¹åŠ å…¥ $tp$ æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦å°† $tp$ æ•°ç»„é€†åºæ‰èƒ½å¾—åˆ°æ‹“æ‰‘åº\n\n\n\n### 2.1. æ•°æ®ç»“æ„\n\n``` c\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint c[N]; // å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„é¢œè‰²\nvector<int> tp; // å­˜å‚¨æ‹“æ‰‘åº\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n```\n\n\n\n### 2.2. å»ºå›¾\n\n``` c\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n```\n\n\n\n### 2.3. DFS\n\n``` c\n// dfs\nbool dfs(int x) {\n\tc[x]=-1; // å…ˆæŸ“è‰²ä¸º-1\n\t// éå†æ‰€æœ‰å„¿å­èŠ‚ç‚¹\n\tfor(int i=h[x];i=-1;i=ne[i]) {\n\t\tint j=e[i]; // å–å‡ºèŠ‚ç‚¹ç¼–å·\n\t\tif(c[j]<0) return false; // éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹,æœ‰ç¯,ç›´æ¥return\n\t\t// å¦‚æœæ²¡æœ‰éå†è¿‡\n\t\telse if(!c[j])\n\t\t\t// ç»§ç»­å¾€ä¸‹æœ,è‡ªç„¶ç»“æŸreturn 0\n\t\t\tif(!dfs(j))\n\t\t\t\treturn false;\n\t}\n\tc[x]=1; // å¦‚æœèƒ½å¤Ÿæ­£å¸¸èµ°æ‰dfsæµç¨‹,åˆ™æŸ“è‰²ä¸º1\n\ttp.push(x); // è¿›å…¥æ‹“æ‰‘åºæ•°ç»„\n\treturn true;\n}\n\nbool toposort() {\n\tvector<int> tp; // ç”¨vectorå­˜å‚¨ä¾¿äºåè½¬\n\tmemset(c,0,sizeof c); // æŸ“è‰²åˆå§‹åŒ–ä¸º0\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœcæ²¡æœ‰è¢«èµ°è¿‡\n\t\tif(!c[i])\n\t\t\t// å¦‚æœé‡åˆ°ç¯åˆ™è¯´æ˜æ— æ³•å½¢æˆæ‹“æ‰‘åº\n\t\t\tif(!dfs(i))\n\t\t\t\treturn 0;\n\t}\n\treverse(tp.begin(),tp.end());\n\treturn 1;\n}\n```\n\n\n\n## 3. ç®—æ³•å¯¹æ¯”\n\n* åœ¨å®é™…ä½¿ç”¨æ‹“æ‰‘æ’åºæ—¶åªéœ€è¦æŒæ¡ $Kahn$ å³å¯ï¼Œå› ä¸ºæ›´å¥½ç†è§£ï¼Œ$DFS$ æŸ“è‰²å’ŒäºŒåˆ†å›¾ä¸­çš„åŒˆç‰™åˆ©ç®—æ³•çš„æ€æƒ³æ¯”è¾ƒç±»ä¼¼ï¼Œè¿™é‡Œåªç”¨äº†è§£å³å¯\n  * $Kahn$ï¼šé˜Ÿåˆ—ç»´æŠ¤ï¼Œé¡ºç€æ‹“æ‰‘åºæ”¶é›†ç‚¹\n  * $DFS$ï¼šç³»ç»Ÿæ ˆç»´æŠ¤ï¼Œé€†ç€æ‹“æ‰‘åºæ”¶é›†ç‚¹\n* äºŒè€…æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(E+V)$ï¼Œå…¶ä¸­ $E$ ä¸ºè¾¹æ•°ï¼Œ$V$ ä¸ºç‚¹æ•°\n\n\n\n## 4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644 \n\n> é¢˜ç›®é“¾æ¥ï¼š[B3644 ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº / å®¶è°±æ ‘ - æ´›è°·](https://www.luogu.com.cn/problem/B3644)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint n; // é¡¶ç‚¹æ•°\n\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦\nqueue<int> q; // ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—\nqueue<int> tp; // è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n\n// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true\nvoid tuopu() {\n\tqueue<int> q;\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\tif(d[i]==0) \n\t\t\tq.push(i);\n\t}\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tcout<<x<<' '; // ç›´æ¥è¾“å‡ºæ‹“æ‰‘åº\n\t\ttp.push(x); // å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº\n\t\t// éå†xçš„æ‰€æœ‰å‡ºè¾¹\n\t\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(--d[j]==0) q.push(j);\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tmemset(h,-1,sizeof h); // é“¾å¼å‰å‘æ˜Ÿé‚»æ¥è¡¨åˆå§‹åŒ–\n\tfor(int i=1;i<=n;i++) {\n\t\tint j;\n\t\t// å½“j==0æ—¶é€€å‡ºå¾ªç¯\n\t\twhile(cin>>j && j) {\n\t\t\tadd(i,j);\n\t\t\td[j]++; // èŠ‚ç‚¹jçš„å…¥åº¦++\n\t\t}\n\t}\n\ttuopu();\n\treturn 0;\n}\n/*\n5è¾¹,æ¥ä¸‹æ¥ç¬¬iè¡Œè¡¨ç¤ºèŠ‚ç‚¹içš„åä»£,0è¡¨ç¤ºè¾“å…¥å®Œæ¯•\nè¾“å…¥æ ·ä¾‹:\n5\n0\n4 5 1 0\n1 0\n5 3 0\n3 0\nè¾“å‡ºæ ·ä¾‹:\n2 4 5 3 1\n*/\n```\n","source":"_posts/æ‹“æ‰‘æ’åº.md","raw":"---\ntitle: æ‹“æ‰‘æ’åº\ndate: 2024-10-04 20:52:55\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ‹“æ‰‘æ’åº\n\n<!-- toc -->\n\n\n\n> æ¨èè§†é¢‘é“¾æ¥ï¼š[D01 æ‹“æ‰‘æ’åº](https://www.bilibili.com/video/BV17g41197sa/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 0. æ¦‚è¿°\n\n* ç»™å®šä¸€å¼ **æœ‰å‘æ— ç¯å›¾**ï¼Œæ’å‡ºæ‰€æœ‰é¡¶ç‚¹çš„ä¸€ä¸ªåºåˆ— $A$ æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯æ¡æœ‰å‘è¾¹ $(x,y)$ï¼Œ$x$ åœ¨ $A$ ä¸­éƒ½å‡ºç°åœ¨ $y$ ä¹‹å‰ï¼Œåˆ™ç§° $A$ æ˜¯è¯¥å›¾çš„é¡¶ç‚¹çš„ä¸€ä¸ªæ‹“æ‰‘åº\n* æ‹“æ‰‘æ’åº å¯ä»¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¯ä»¥ç”Ÿæˆæ‹“æ‰‘åºåˆ—\n\n* å¯¹äºä¸‹å›¾ï¼Œ$\\{2,3,5,1,7,4,6\\}$ å’Œ $\\{3,2,1,5,7,6,4\\}$ éƒ½æ˜¯åˆæ³•çš„æ‹“æ‰‘åº\n\n![image-20240315173326430](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240315173326430.png)\n\n\n\n> å¤ä¹ ä¸€ä¸‹é“¾å¼å‰å‘æ˜Ÿå§ï¼š[ã€C++ç®—æ³•æ¨¡æ¿ã€‘å›¾çš„å­˜å‚¨-é‚»æ¥è¡¨ï¼Œæ‰‹æ’•é“¾å¼å‰å‘æ˜Ÿï¼Œè¶…è¯¦ç»†ä»£ç æ³¨é‡Š-CSDNåšå®¢](https://blog.csdn.net/qq_63586399/article/details/136579751?spm=1001.2014.3001.5502)\n\n## 1. Kahnç®—æ³•\n\n* ç®—æ³•æ ¸å¿ƒï¼šç”¨é˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªå…¥åº¦ä¸º $0$ çš„èŠ‚ç‚¹çš„é›†åˆ\n\n1. åˆå§‹åŒ–ï¼ˆé“¾å¼å‰å‘æ˜Ÿå»ºå›¾å»ºè¾¹ï¼‰ï¼Œé˜Ÿåˆ— $q$ å‹å…¥æ‰€æœ‰å…¥åº¦ä¸º $0$ çš„ç‚¹\n2. æ¯æ¬¡ä» $q$ ä¸­å–å‡ºé˜Ÿå¤´ $x$ æ”¾å…¥æ•°ç»„ $tp$ ï¼Œ$tp$ æ•°ç»„ä¿å­˜å‡ºé˜Ÿé¡ºåºï¼Œä¹Ÿå°±æ˜¯æ‹“æ‰‘åº\n3. ç„¶åå°† $x$ çš„æ‰€æœ‰å‡ºè¾¹åˆ é™¤ï¼Œå¦‚åˆ é™¤è¾¹ $(x,y)$ ï¼Œ$y$ çš„å…¥åº¦åˆ™ $-1$ï¼Œå¦‚æœ $y$ çš„å…¥åº¦å˜ä¸º $0$ï¼Œåˆ™å°† $y$ å‹å…¥ $q$ ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦ç”¨æ•°ç»„ $d$ ç»´æŠ¤\n4. ä¸æ–­é‡å¤ $2,3$ è¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ— $q$ ä¸ºç©º\n5. è‹¥ $tp$ ä¸­çš„å…ƒç´ ä¸ªæ•°ç­‰äº $n$ï¼Œåˆ™æœ‰æ‹“æ‰‘åºï¼›å¦åˆ™ï¼Œæœ‰ç¯\n\n\n\n### 1.1. æ•°æ®ç»“æ„\n\n``` c\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦\nqueue<int> q; // ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—\nqueue<int> tp; // è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n```\n\n\n\n### 1.2. å»ºå›¾\n\n``` c\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n```\n\n\n\n### 1.3. Kanhç®—æ³•\n\n``` c\n// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true\nbool tuopu() {\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\tif(d[i]==0) q.push(i);\n\t}\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\ttp.push(x); // å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº\n\t\t// éå†xçš„æ‰€æœ‰å‡ºè¾¹\n\t\tfor(int i=h[x];i=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(--d[j]==0) q.push(j);\n\t\t}\n\t}\n\treturn tp.size()==n; // å¦‚æœèƒ½å½¢æˆä¸€ä¸ªæ‹“æ‰‘åº,è¿”å›true,å¦åˆ™false\n}\n```\n\n\n\n## 2. DFSæŸ“è‰²\n\n* ç®—æ³•æ ¸å¿ƒï¼šåœ¨äº**æŸ“è‰²æ³•**ï¼Œæ¯æ¬¡ $dfs$ æœç´¢ä¼šç»™ç‚¹å˜è‰²ï¼Œå¦‚æœæœ‰æ‹“æ‰‘åºï¼Œæ¯ä¸ªç‚¹çš„é¢œè‰²éƒ½ä¼šä» $0â†’-1â†’1$ ç»å†ä¸‰æ¬¡å˜è‰²\n\n1. åˆå§‹åŒ–ï¼šå°†æ‰€æœ‰ç‚¹æŸ“è‰²ä¸º $0$\n2. æšä¸¾æ¯ä¸ªç‚¹ï¼Œè¿›å…¥ç‚¹ $x$ï¼Œå°† $x$ æŸ“è‰²ä¸º $-1$ï¼Œéšåæšä¸¾ $x$ çš„æ‰€æœ‰å„¿å­ç»“ç‚¹ $y$ï¼Œå¦‚æœ $y$ çš„é¢œè‰²ä»ä¸º $0$ï¼Œè¯´æ˜è¯¥ç‚¹æœªè¢«éå†è¿‡ï¼Œåˆ™é€’å½’åˆ°ä¸‹ä¸€å±‚ï¼›å¦‚æœ $y$ çš„é¢œè‰²ä¸º $-1$ï¼Œè¯´æ˜éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹äº†ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆ™ç›´æ¥ $return$\n3. å¦‚æœæšä¸¾å®Œ $x$ çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹éƒ½æ²¡æœ‰å‘ç°ç¯ï¼Œåˆ™æŠŠ $x$ æŸ“è‰²ä¸º $1$ï¼Œå¹¶æŠŠ $x$ å‹å…¥ $tp$ æ•°ç»„\n4. æ³¨æ„ï¼Œå› ä¸º $DFS$ æ˜¯æ ˆå®ç°çš„ï¼Œå›æº¯çš„æ—¶å€™æ‰æŠŠç‚¹åŠ å…¥ $tp$ æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦å°† $tp$ æ•°ç»„é€†åºæ‰èƒ½å¾—åˆ°æ‹“æ‰‘åº\n\n\n\n### 2.1. æ•°æ®ç»“æ„\n\n``` c\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint c[N]; // å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„é¢œè‰²\nvector<int> tp; // å­˜å‚¨æ‹“æ‰‘åº\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n```\n\n\n\n### 2.2. å»ºå›¾\n\n``` c\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n```\n\n\n\n### 2.3. DFS\n\n``` c\n// dfs\nbool dfs(int x) {\n\tc[x]=-1; // å…ˆæŸ“è‰²ä¸º-1\n\t// éå†æ‰€æœ‰å„¿å­èŠ‚ç‚¹\n\tfor(int i=h[x];i=-1;i=ne[i]) {\n\t\tint j=e[i]; // å–å‡ºèŠ‚ç‚¹ç¼–å·\n\t\tif(c[j]<0) return false; // éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹,æœ‰ç¯,ç›´æ¥return\n\t\t// å¦‚æœæ²¡æœ‰éå†è¿‡\n\t\telse if(!c[j])\n\t\t\t// ç»§ç»­å¾€ä¸‹æœ,è‡ªç„¶ç»“æŸreturn 0\n\t\t\tif(!dfs(j))\n\t\t\t\treturn false;\n\t}\n\tc[x]=1; // å¦‚æœèƒ½å¤Ÿæ­£å¸¸èµ°æ‰dfsæµç¨‹,åˆ™æŸ“è‰²ä¸º1\n\ttp.push(x); // è¿›å…¥æ‹“æ‰‘åºæ•°ç»„\n\treturn true;\n}\n\nbool toposort() {\n\tvector<int> tp; // ç”¨vectorå­˜å‚¨ä¾¿äºåè½¬\n\tmemset(c,0,sizeof c); // æŸ“è‰²åˆå§‹åŒ–ä¸º0\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœcæ²¡æœ‰è¢«èµ°è¿‡\n\t\tif(!c[i])\n\t\t\t// å¦‚æœé‡åˆ°ç¯åˆ™è¯´æ˜æ— æ³•å½¢æˆæ‹“æ‰‘åº\n\t\t\tif(!dfs(i))\n\t\t\t\treturn 0;\n\t}\n\treverse(tp.begin(),tp.end());\n\treturn 1;\n}\n```\n\n\n\n## 3. ç®—æ³•å¯¹æ¯”\n\n* åœ¨å®é™…ä½¿ç”¨æ‹“æ‰‘æ’åºæ—¶åªéœ€è¦æŒæ¡ $Kahn$ å³å¯ï¼Œå› ä¸ºæ›´å¥½ç†è§£ï¼Œ$DFS$ æŸ“è‰²å’ŒäºŒåˆ†å›¾ä¸­çš„åŒˆç‰™åˆ©ç®—æ³•çš„æ€æƒ³æ¯”è¾ƒç±»ä¼¼ï¼Œè¿™é‡Œåªç”¨äº†è§£å³å¯\n  * $Kahn$ï¼šé˜Ÿåˆ—ç»´æŠ¤ï¼Œé¡ºç€æ‹“æ‰‘åºæ”¶é›†ç‚¹\n  * $DFS$ï¼šç³»ç»Ÿæ ˆç»´æŠ¤ï¼Œé€†ç€æ‹“æ‰‘åºæ”¶é›†ç‚¹\n* äºŒè€…æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(E+V)$ï¼Œå…¶ä¸­ $E$ ä¸ºè¾¹æ•°ï¼Œ$V$ ä¸ºç‚¹æ•°\n\n\n\n## 4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644 \n\n> é¢˜ç›®é“¾æ¥ï¼š[B3644 ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº / å®¶è°±æ ‘ - æ´›è°·](https://www.luogu.com.cn/problem/B3644)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=1e5+10; // é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2\n\nint n; // é¡¶ç‚¹æ•°\n\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦\nqueue<int> q; // ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—\nqueue<int> tp; // è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)\n\nint h[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿\nint e[M]; // e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·\nint ne[M]; // ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]\nint idx; // è¾¹çš„ç¼–å·,å»ºè¾¹å› å­\n\n// é“¾å¼å‰å‘æ˜Ÿ\nvoid add(int a,int b) {\n\te[idx]=b;\n\tne[idx]=h[a]; // å¤´æ’æ³•æ€æƒ³\n\th[a]=idx++;\n}\n\n// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true\nvoid tuopu() {\n\tqueue<int> q;\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\tif(d[i]==0) \n\t\t\tq.push(i);\n\t}\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tcout<<x<<' '; // ç›´æ¥è¾“å‡ºæ‹“æ‰‘åº\n\t\ttp.push(x); // å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº\n\t\t// éå†xçš„æ‰€æœ‰å‡ºè¾¹\n\t\tfor(int i=h[x];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—\n\t\t\tif(--d[j]==0) q.push(j);\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tmemset(h,-1,sizeof h); // é“¾å¼å‰å‘æ˜Ÿé‚»æ¥è¡¨åˆå§‹åŒ–\n\tfor(int i=1;i<=n;i++) {\n\t\tint j;\n\t\t// å½“j==0æ—¶é€€å‡ºå¾ªç¯\n\t\twhile(cin>>j && j) {\n\t\t\tadd(i,j);\n\t\t\td[j]++; // èŠ‚ç‚¹jçš„å…¥åº¦++\n\t\t}\n\t}\n\ttuopu();\n\treturn 0;\n}\n/*\n5è¾¹,æ¥ä¸‹æ¥ç¬¬iè¡Œè¡¨ç¤ºèŠ‚ç‚¹içš„åä»£,0è¡¨ç¤ºè¾“å…¥å®Œæ¯•\nè¾“å…¥æ ·ä¾‹:\n5\n0\n4 5 1 0\n1 0\n5 3 0\n3 0\nè¾“å‡ºæ ·ä¾‹:\n2 4 5 3 1\n*/\n```\n","slug":"æ‹“æ‰‘æ’åº","published":1,"updated":"2024-10-05T08:04:53.187Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpst001lc0nf5kzfbuv2","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ‹“æ‰‘æ’åº\">æ‹“æ‰‘æ’åº</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-kahn%E7%AE%97%E6%B3%95\">1. Kahnç®—æ³•</a><ul>\n<li><a href=\"#11-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1.1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#12-%E5%BB%BA%E5%9B%BE\">1.2. å»ºå›¾</a></li>\n<li><a href=\"#13-kanh%E7%AE%97%E6%B3%95\">1.3. Kanhç®—æ³•</a></li>\n</ul>\n</li>\n<li><a href=\"#2-dfs%E6%9F%93%E8%89%B2\">2. DFSæŸ“è‰²</a><ul>\n<li><a href=\"#21-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">2.1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#22-%E5%BB%BA%E5%9B%BE\">2.2. å»ºå›¾</a></li>\n<li><a href=\"#23-dfs\">2.3. DFS</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E7%AE%97%E6%B3%95%E5%AF%B9%E6%AF%94\">3. ç®—æ³•å¯¹æ¯”</a></li>\n<li><a href=\"#4-%E4%BE%8B%E9%A2%98%E6%B4%9B%E8%B0%B7-b3644\">4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èè§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV17g41197sa/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">D01 æ‹“æ‰‘æ’åº</a></p>\n</blockquote>\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li><p>ç»™å®šä¸€å¼ <strong>æœ‰å‘æ— ç¯å›¾</strong>ï¼Œæ’å‡ºæ‰€æœ‰é¡¶ç‚¹çš„ä¸€ä¸ªåºåˆ— $A$ æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯æ¡æœ‰å‘è¾¹ $(x,y)$ï¼Œ$x$ åœ¨ $A$ ä¸­éƒ½å‡ºç°åœ¨ $y$ ä¹‹å‰ï¼Œåˆ™ç§° $A$ æ˜¯è¯¥å›¾çš„é¡¶ç‚¹çš„ä¸€ä¸ªæ‹“æ‰‘åº</p>\n</li>\n<li><p>æ‹“æ‰‘æ’åº å¯ä»¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¯ä»¥ç”Ÿæˆæ‹“æ‰‘åºåˆ—</p>\n</li>\n<li><p>å¯¹äºä¸‹å›¾ï¼Œ${2,3,5,1,7,4,6}$ å’Œ ${3,2,1,5,7,6,4}$ éƒ½æ˜¯åˆæ³•çš„æ‹“æ‰‘åº</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240315173326430.png\" alt=\"image-20240315173326430\"></p>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹é“¾å¼å‰å‘æ˜Ÿå§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136579751?spm=1001.2014.3001.5502\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘å›¾çš„å­˜å‚¨-é‚»æ¥è¡¨ï¼Œæ‰‹æ’•é“¾å¼å‰å‘æ˜Ÿï¼Œè¶…è¯¦ç»†ä»£ç æ³¨é‡Š-CSDNåšå®¢</a></p>\n</blockquote>\n<h2><span id=\"1-kahnç®—æ³•\">1. Kahnç®—æ³•</span></h2><ul>\n<li>ç®—æ³•æ ¸å¿ƒï¼šç”¨é˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªå…¥åº¦ä¸º $0$ çš„èŠ‚ç‚¹çš„é›†åˆ</li>\n</ul>\n<ol>\n<li>åˆå§‹åŒ–ï¼ˆé“¾å¼å‰å‘æ˜Ÿå»ºå›¾å»ºè¾¹ï¼‰ï¼Œé˜Ÿåˆ— $q$ å‹å…¥æ‰€æœ‰å…¥åº¦ä¸º $0$ çš„ç‚¹</li>\n<li>æ¯æ¬¡ä» $q$ ä¸­å–å‡ºé˜Ÿå¤´ $x$ æ”¾å…¥æ•°ç»„ $tp$ ï¼Œ$tp$ æ•°ç»„ä¿å­˜å‡ºé˜Ÿé¡ºåºï¼Œä¹Ÿå°±æ˜¯æ‹“æ‰‘åº</li>\n<li>ç„¶åå°† $x$ çš„æ‰€æœ‰å‡ºè¾¹åˆ é™¤ï¼Œå¦‚åˆ é™¤è¾¹ $(x,y)$ ï¼Œ$y$ çš„å…¥åº¦åˆ™ $-1$ï¼Œå¦‚æœ $y$ çš„å…¥åº¦å˜ä¸º $0$ï¼Œåˆ™å°† $y$ å‹å…¥ $q$ ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦ç”¨æ•°ç»„ $d$ ç»´æŠ¤</li>\n<li>ä¸æ–­é‡å¤ $2,3$ è¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ— $q$ ä¸ºç©º</li>\n<li>è‹¥ $tp$ ä¸­çš„å…ƒç´ ä¸ªæ•°ç­‰äº $n$ï¼Œåˆ™æœ‰æ‹“æ‰‘åºï¼›å¦åˆ™ï¼Œæœ‰ç¯</li>\n</ol>\n<h3><span id=\"11-æ•°æ®ç»“æ„\">1.1. æ•°æ®ç»“æ„</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"12-å»ºå›¾\">1.2. å»ºå›¾</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"13-kanhç®—æ³•\">1.3. Kanhç®—æ³•</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">tuopu</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[i]==<span class=\"number\">0</span>) q.push(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\ttp.push(x); <span class=\"comment\">// å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†xçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(--d[j]==<span class=\"number\">0</span>) q.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> tp.size()==n; <span class=\"comment\">// å¦‚æœèƒ½å½¢æˆä¸€ä¸ªæ‹“æ‰‘åº,è¿”å›true,å¦åˆ™false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-dfsæŸ“è‰²\">2. DFSæŸ“è‰²</span></h2><ul>\n<li>ç®—æ³•æ ¸å¿ƒï¼šåœ¨äº<strong>æŸ“è‰²æ³•</strong>ï¼Œæ¯æ¬¡ $dfs$ æœç´¢ä¼šç»™ç‚¹å˜è‰²ï¼Œå¦‚æœæœ‰æ‹“æ‰‘åºï¼Œæ¯ä¸ªç‚¹çš„é¢œè‰²éƒ½ä¼šä» $0â†’-1â†’1$ ç»å†ä¸‰æ¬¡å˜è‰²</li>\n</ul>\n<ol>\n<li>åˆå§‹åŒ–ï¼šå°†æ‰€æœ‰ç‚¹æŸ“è‰²ä¸º $0$</li>\n<li>æšä¸¾æ¯ä¸ªç‚¹ï¼Œè¿›å…¥ç‚¹ $x$ï¼Œå°† $x$ æŸ“è‰²ä¸º $-1$ï¼Œéšåæšä¸¾ $x$ çš„æ‰€æœ‰å„¿å­ç»“ç‚¹ $y$ï¼Œå¦‚æœ $y$ çš„é¢œè‰²ä»ä¸º $0$ï¼Œè¯´æ˜è¯¥ç‚¹æœªè¢«éå†è¿‡ï¼Œåˆ™é€’å½’åˆ°ä¸‹ä¸€å±‚ï¼›å¦‚æœ $y$ çš„é¢œè‰²ä¸º $-1$ï¼Œè¯´æ˜éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹äº†ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆ™ç›´æ¥ $return$</li>\n<li>å¦‚æœæšä¸¾å®Œ $x$ çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹éƒ½æ²¡æœ‰å‘ç°ç¯ï¼Œåˆ™æŠŠ $x$ æŸ“è‰²ä¸º $1$ï¼Œå¹¶æŠŠ $x$ å‹å…¥ $tp$ æ•°ç»„</li>\n<li>æ³¨æ„ï¼Œå› ä¸º $DFS$ æ˜¯æ ˆå®ç°çš„ï¼Œå›æº¯çš„æ—¶å€™æ‰æŠŠç‚¹åŠ å…¥ $tp$ æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦å°† $tp$ æ•°ç»„é€†åºæ‰èƒ½å¾—åˆ°æ‹“æ‰‘åº</li>\n</ol>\n<h3><span id=\"21-æ•°æ®ç»“æ„\">2.1. æ•°æ®ç»“æ„</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> c[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„é¢œè‰²</span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// å­˜å‚¨æ‹“æ‰‘åº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"22-å»ºå›¾\">2.2. å»ºå›¾</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"23-dfs\">2.3. DFS</span></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dfs</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\tc[x]=<span class=\"number\">-1</span>; <span class=\"comment\">// å…ˆæŸ“è‰²ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i]; <span class=\"comment\">// å–å‡ºèŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[j]&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹,æœ‰ç¯,ç›´æ¥return</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰éå†è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!c[j])</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç»§ç»­å¾€ä¸‹æœ,è‡ªç„¶ç»“æŸreturn 0</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dfs(j))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tc[x]=<span class=\"number\">1</span>; <span class=\"comment\">// å¦‚æœèƒ½å¤Ÿæ­£å¸¸èµ°æ‰dfsæµç¨‹,åˆ™æŸ“è‰²ä¸º1</span></span><br><span class=\"line\">\ttp.push(x); <span class=\"comment\">// è¿›å…¥æ‹“æ‰‘åºæ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">toposort</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// ç”¨vectorå­˜å‚¨ä¾¿äºåè½¬</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(c,<span class=\"number\">0</span>,<span class=\"keyword\">sizeof</span> c); <span class=\"comment\">// æŸ“è‰²åˆå§‹åŒ–ä¸º0</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœcæ²¡æœ‰è¢«èµ°è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!c[i])</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœé‡åˆ°ç¯åˆ™è¯´æ˜æ— æ³•å½¢æˆæ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dfs(i))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\treverse(tp.begin(),tp.end());</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-ç®—æ³•å¯¹æ¯”\">3. ç®—æ³•å¯¹æ¯”</span></h2><ul>\n<li>åœ¨å®é™…ä½¿ç”¨æ‹“æ‰‘æ’åºæ—¶åªéœ€è¦æŒæ¡ $Kahn$ å³å¯ï¼Œå› ä¸ºæ›´å¥½ç†è§£ï¼Œ$DFS$ æŸ“è‰²å’ŒäºŒåˆ†å›¾ä¸­çš„åŒˆç‰™åˆ©ç®—æ³•çš„æ€æƒ³æ¯”è¾ƒç±»ä¼¼ï¼Œè¿™é‡Œåªç”¨äº†è§£å³å¯<ul>\n<li>$Kahn$ï¼šé˜Ÿåˆ—ç»´æŠ¤ï¼Œé¡ºç€æ‹“æ‰‘åºæ”¶é›†ç‚¹</li>\n<li>$DFS$ï¼šç³»ç»Ÿæ ˆç»´æŠ¤ï¼Œé€†ç€æ‹“æ‰‘åºæ”¶é›†ç‚¹</li>\n</ul>\n</li>\n<li>äºŒè€…æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(E+V)$ï¼Œå…¶ä¸­ $E$ ä¸ºè¾¹æ•°ï¼Œ$V$ ä¸ºç‚¹æ•°</li>\n</ul>\n<h2><span id=\"4-ä¾‹é¢˜æ´›è°·-b3644\">4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/B3644\">B3644 ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº &#x2F; å®¶è°±æ ‘ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">tuopu</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[i]==<span class=\"number\">0</span>) </span><br><span class=\"line\">\t\t\tq.push(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// ç›´æ¥è¾“å‡ºæ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\ttp.push(x); <span class=\"comment\">// å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†xçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(--d[j]==<span class=\"number\">0</span>) q.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿé‚»æ¥è¡¨åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“j==0æ—¶é€€å‡ºå¾ªç¯</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"built_in\">cin</span>&gt;&gt;j &amp;&amp; j) &#123;</span><br><span class=\"line\">\t\t\tadd(i,j);</span><br><span class=\"line\">\t\t\td[j]++; <span class=\"comment\">// èŠ‚ç‚¹jçš„å…¥åº¦++</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\ttuopu();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">5è¾¹,æ¥ä¸‹æ¥ç¬¬iè¡Œè¡¨ç¤ºèŠ‚ç‚¹içš„åä»£,0è¡¨ç¤ºè¾“å…¥å®Œæ¯•</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">0</span></span><br><span class=\"line\"><span class=\"comment\">4 5 1 0</span></span><br><span class=\"line\"><span class=\"comment\">1 0</span></span><br><span class=\"line\"><span class=\"comment\">5 3 0</span></span><br><span class=\"line\"><span class=\"comment\">3 0</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2 4 5 3 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"æ‹“æ‰‘æ’åº\"><a href=\"#æ‹“æ‰‘æ’åº\" class=\"headerlink\" title=\"æ‹“æ‰‘æ’åº\"></a>æ‹“æ‰‘æ’åº</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-kahn%E7%AE%97%E6%B3%95\">1. Kahnç®—æ³•</a><ul>\n<li><a href=\"#11-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">1.1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#12-%E5%BB%BA%E5%9B%BE\">1.2. å»ºå›¾</a></li>\n<li><a href=\"#13-kanh%E7%AE%97%E6%B3%95\">1.3. Kanhç®—æ³•</a></li>\n</ul>\n</li>\n<li><a href=\"#2-dfs%E6%9F%93%E8%89%B2\">2. DFSæŸ“è‰²</a><ul>\n<li><a href=\"#21-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\">2.1. æ•°æ®ç»“æ„</a></li>\n<li><a href=\"#22-%E5%BB%BA%E5%9B%BE\">2.2. å»ºå›¾</a></li>\n<li><a href=\"#23-dfs\">2.3. DFS</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E7%AE%97%E6%B3%95%E5%AF%B9%E6%AF%94\">3. ç®—æ³•å¯¹æ¯”</a></li>\n<li><a href=\"#4-%E4%BE%8B%E9%A2%98%E6%B4%9B%E8%B0%B7-b3644\">4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èè§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV17g41197sa/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">D01 æ‹“æ‰‘æ’åº</a></p>\n</blockquote>\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li><p>ç»™å®šä¸€å¼ <strong>æœ‰å‘æ— ç¯å›¾</strong>ï¼Œæ’å‡ºæ‰€æœ‰é¡¶ç‚¹çš„ä¸€ä¸ªåºåˆ— $A$ æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯æ¡æœ‰å‘è¾¹ $(x,y)$ï¼Œ$x$ åœ¨ $A$ ä¸­éƒ½å‡ºç°åœ¨ $y$ ä¹‹å‰ï¼Œåˆ™ç§° $A$ æ˜¯è¯¥å›¾çš„é¡¶ç‚¹çš„ä¸€ä¸ªæ‹“æ‰‘åº</p>\n</li>\n<li><p>æ‹“æ‰‘æ’åº å¯ä»¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¯ä»¥ç”Ÿæˆæ‹“æ‰‘åºåˆ—</p>\n</li>\n<li><p>å¯¹äºä¸‹å›¾ï¼Œ${2,3,5,1,7,4,6}$ å’Œ ${3,2,1,5,7,6,4}$ éƒ½æ˜¯åˆæ³•çš„æ‹“æ‰‘åº</p>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240315173326430.png\" alt=\"image-20240315173326430\"></p>\n<blockquote>\n<p>å¤ä¹ ä¸€ä¸‹é“¾å¼å‰å‘æ˜Ÿå§ï¼š<a href=\"https://blog.csdn.net/qq_63586399/article/details/136579751?spm=1001.2014.3001.5502\">ã€C++ç®—æ³•æ¨¡æ¿ã€‘å›¾çš„å­˜å‚¨-é‚»æ¥è¡¨ï¼Œæ‰‹æ’•é“¾å¼å‰å‘æ˜Ÿï¼Œè¶…è¯¦ç»†ä»£ç æ³¨é‡Š-CSDNåšå®¢</a></p>\n</blockquote>\n<h2 id=\"1-Kahnç®—æ³•\"><a href=\"#1-Kahnç®—æ³•\" class=\"headerlink\" title=\"1. Kahnç®—æ³•\"></a>1. Kahnç®—æ³•</h2><ul>\n<li>ç®—æ³•æ ¸å¿ƒï¼šç”¨é˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªå…¥åº¦ä¸º $0$ çš„èŠ‚ç‚¹çš„é›†åˆ</li>\n</ul>\n<ol>\n<li>åˆå§‹åŒ–ï¼ˆé“¾å¼å‰å‘æ˜Ÿå»ºå›¾å»ºè¾¹ï¼‰ï¼Œé˜Ÿåˆ— $q$ å‹å…¥æ‰€æœ‰å…¥åº¦ä¸º $0$ çš„ç‚¹</li>\n<li>æ¯æ¬¡ä» $q$ ä¸­å–å‡ºé˜Ÿå¤´ $x$ æ”¾å…¥æ•°ç»„ $tp$ ï¼Œ$tp$ æ•°ç»„ä¿å­˜å‡ºé˜Ÿé¡ºåºï¼Œä¹Ÿå°±æ˜¯æ‹“æ‰‘åº</li>\n<li>ç„¶åå°† $x$ çš„æ‰€æœ‰å‡ºè¾¹åˆ é™¤ï¼Œå¦‚åˆ é™¤è¾¹ $(x,y)$ ï¼Œ$y$ çš„å…¥åº¦åˆ™ $-1$ï¼Œå¦‚æœ $y$ çš„å…¥åº¦å˜ä¸º $0$ï¼Œåˆ™å°† $y$ å‹å…¥ $q$ ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦ç”¨æ•°ç»„ $d$ ç»´æŠ¤</li>\n<li>ä¸æ–­é‡å¤ $2,3$ è¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ— $q$ ä¸ºç©º</li>\n<li>è‹¥ $tp$ ä¸­çš„å…ƒç´ ä¸ªæ•°ç­‰äº $n$ï¼Œåˆ™æœ‰æ‹“æ‰‘åºï¼›å¦åˆ™ï¼Œæœ‰ç¯</li>\n</ol>\n<h3 id=\"1-1-æ•°æ®ç»“æ„\"><a href=\"#1-1-æ•°æ®ç»“æ„\" class=\"headerlink\" title=\"1.1. æ•°æ®ç»“æ„\"></a>1.1. æ•°æ®ç»“æ„</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-2-å»ºå›¾\"><a href=\"#1-2-å»ºå›¾\" class=\"headerlink\" title=\"1.2. å»ºå›¾\"></a>1.2. å»ºå›¾</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-3-Kanhç®—æ³•\"><a href=\"#1-3-Kanhç®—æ³•\" class=\"headerlink\" title=\"1.3. Kanhç®—æ³•\"></a>1.3. Kanhç®—æ³•</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">tuopu</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[i]==<span class=\"number\">0</span>) q.push(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\ttp.push(x); <span class=\"comment\">// å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†xçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(--d[j]==<span class=\"number\">0</span>) q.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> tp.size()==n; <span class=\"comment\">// å¦‚æœèƒ½å½¢æˆä¸€ä¸ªæ‹“æ‰‘åº,è¿”å›true,å¦åˆ™false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-DFSæŸ“è‰²\"><a href=\"#2-DFSæŸ“è‰²\" class=\"headerlink\" title=\"2. DFSæŸ“è‰²\"></a>2. DFSæŸ“è‰²</h2><ul>\n<li>ç®—æ³•æ ¸å¿ƒï¼šåœ¨äº<strong>æŸ“è‰²æ³•</strong>ï¼Œæ¯æ¬¡ $dfs$ æœç´¢ä¼šç»™ç‚¹å˜è‰²ï¼Œå¦‚æœæœ‰æ‹“æ‰‘åºï¼Œæ¯ä¸ªç‚¹çš„é¢œè‰²éƒ½ä¼šä» $0â†’-1â†’1$ ç»å†ä¸‰æ¬¡å˜è‰²</li>\n</ul>\n<ol>\n<li>åˆå§‹åŒ–ï¼šå°†æ‰€æœ‰ç‚¹æŸ“è‰²ä¸º $0$</li>\n<li>æšä¸¾æ¯ä¸ªç‚¹ï¼Œè¿›å…¥ç‚¹ $x$ï¼Œå°† $x$ æŸ“è‰²ä¸º $-1$ï¼Œéšåæšä¸¾ $x$ çš„æ‰€æœ‰å„¿å­ç»“ç‚¹ $y$ï¼Œå¦‚æœ $y$ çš„é¢œè‰²ä»ä¸º $0$ï¼Œè¯´æ˜è¯¥ç‚¹æœªè¢«éå†è¿‡ï¼Œåˆ™é€’å½’åˆ°ä¸‹ä¸€å±‚ï¼›å¦‚æœ $y$ çš„é¢œè‰²ä¸º $-1$ï¼Œè¯´æ˜éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹äº†ï¼Œå³å‡ºç°äº†ç¯ï¼Œåˆ™ç›´æ¥ $return$</li>\n<li>å¦‚æœæšä¸¾å®Œ $x$ çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹éƒ½æ²¡æœ‰å‘ç°ç¯ï¼Œåˆ™æŠŠ $x$ æŸ“è‰²ä¸º $1$ï¼Œå¹¶æŠŠ $x$ å‹å…¥ $tp$ æ•°ç»„</li>\n<li>æ³¨æ„ï¼Œå› ä¸º $DFS$ æ˜¯æ ˆå®ç°çš„ï¼Œå›æº¯çš„æ—¶å€™æ‰æŠŠç‚¹åŠ å…¥ $tp$ æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦å°† $tp$ æ•°ç»„é€†åºæ‰èƒ½å¾—åˆ°æ‹“æ‰‘åº</li>\n</ol>\n<h3 id=\"2-1-æ•°æ®ç»“æ„\"><a href=\"#2-1-æ•°æ®ç»“æ„\" class=\"headerlink\" title=\"2.1. æ•°æ®ç»“æ„\"></a>2.1. æ•°æ®ç»“æ„</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> c[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„é¢œè‰²</span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// å­˜å‚¨æ‹“æ‰‘åº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-2-å»ºå›¾\"><a href=\"#2-2-å»ºå›¾\" class=\"headerlink\" title=\"2.2. å»ºå›¾\"></a>2.2. å»ºå›¾</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-3-DFS\"><a href=\"#2-3-DFS\" class=\"headerlink\" title=\"2.3. DFS\"></a>2.3. DFS</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dfs</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\tc[x]=<span class=\"number\">-1</span>; <span class=\"comment\">// å…ˆæŸ“è‰²ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i]; <span class=\"comment\">// å–å‡ºèŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[j]&lt;<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// éå†åˆ°ç¥–å…ˆèŠ‚ç‚¹,æœ‰ç¯,ç›´æ¥return</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰éå†è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!c[j])</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ç»§ç»­å¾€ä¸‹æœ,è‡ªç„¶ç»“æŸreturn 0</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dfs(j))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tc[x]=<span class=\"number\">1</span>; <span class=\"comment\">// å¦‚æœèƒ½å¤Ÿæ­£å¸¸èµ°æ‰dfsæµç¨‹,åˆ™æŸ“è‰²ä¸º1</span></span><br><span class=\"line\">\ttp.push(x); <span class=\"comment\">// è¿›å…¥æ‹“æ‰‘åºæ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">toposort</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// ç”¨vectorå­˜å‚¨ä¾¿äºåè½¬</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(c,<span class=\"number\">0</span>,<span class=\"keyword\">sizeof</span> c); <span class=\"comment\">// æŸ“è‰²åˆå§‹åŒ–ä¸º0</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœcæ²¡æœ‰è¢«èµ°è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!c[i])</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœé‡åˆ°ç¯åˆ™è¯´æ˜æ— æ³•å½¢æˆæ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dfs(i))</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\treverse(tp.begin(),tp.end());</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-ç®—æ³•å¯¹æ¯”\"><a href=\"#3-ç®—æ³•å¯¹æ¯”\" class=\"headerlink\" title=\"3. ç®—æ³•å¯¹æ¯”\"></a>3. ç®—æ³•å¯¹æ¯”</h2><ul>\n<li>åœ¨å®é™…ä½¿ç”¨æ‹“æ‰‘æ’åºæ—¶åªéœ€è¦æŒæ¡ $Kahn$ å³å¯ï¼Œå› ä¸ºæ›´å¥½ç†è§£ï¼Œ$DFS$ æŸ“è‰²å’ŒäºŒåˆ†å›¾ä¸­çš„åŒˆç‰™åˆ©ç®—æ³•çš„æ€æƒ³æ¯”è¾ƒç±»ä¼¼ï¼Œè¿™é‡Œåªç”¨äº†è§£å³å¯<ul>\n<li>$Kahn$ï¼šé˜Ÿåˆ—ç»´æŠ¤ï¼Œé¡ºç€æ‹“æ‰‘åºæ”¶é›†ç‚¹</li>\n<li>$DFS$ï¼šç³»ç»Ÿæ ˆç»´æŠ¤ï¼Œé€†ç€æ‹“æ‰‘åºæ”¶é›†ç‚¹</li>\n</ul>\n</li>\n<li>äºŒè€…æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(E+V)$ï¼Œå…¶ä¸­ $E$ ä¸ºè¾¹æ•°ï¼Œ$V$ ä¸ºç‚¹æ•°</li>\n</ul>\n<h2 id=\"4-ã€ä¾‹é¢˜ã€‘æ´›è°·-B3644\"><a href=\"#4-ã€ä¾‹é¢˜ã€‘æ´›è°·-B3644\" class=\"headerlink\" title=\"4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644\"></a>4. ã€ä¾‹é¢˜ã€‘æ´›è°· B3644</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/B3644\">B3644 ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº &#x2F; å®¶è°±æ ‘ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">1e5</span>+<span class=\"number\">10</span>; <span class=\"comment\">// é¢˜ç›®ä¸­æœ€å¤§è¾¹æ•°,æ‹“æ‰‘æ’åºæ˜¯æœ‰å‘å›¾å»ºè¾¹,æ— éœ€Ã—2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q; <span class=\"comment\">// ç»´æŠ¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; tp; <span class=\"comment\">// è®°å½•qä¸­é¡¶ç‚¹çš„å‡ºé˜Ÿé¡ºåº(æ‹“æ‰‘åº)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹èµ·å§‹è¾¹çš„ç¼–å·,é»˜è®¤-1è¡¨ç¤ºæ— è¾¹ç›¸è¿</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[i]:ç¼–å·ä¸ºiçš„è¾¹å¯è¾¾çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[i]:ç¼–å·ä¸ºiçš„è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[i]</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·,å»ºè¾¹å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\te[idx]=b;</span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// å¤´æ’æ³•æ€æƒ³</span></span><br><span class=\"line\">\th[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‹“æ‰‘åºå­˜å‚¨äºtpé˜Ÿåˆ—ä¸­,å¦‚æœèƒ½å½¢æˆæ‹“æ‰‘åºè¿”å›true</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">tuopu</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">queue</span>&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœå…¥åº¦ä¸º0åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(d[i]==<span class=\"number\">0</span>) </span><br><span class=\"line\">\t\t\tq.push(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.size()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.front();</span><br><span class=\"line\">\t\tq.pop();</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;x&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// ç›´æ¥è¾“å‡ºæ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\ttp.push(x); <span class=\"comment\">// å‡ºé˜Ÿé¡ºåºå³æ‹“æ‰‘åº</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†xçš„æ‰€æœ‰å‡ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[x];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå»æ‰è¾¹(i,j)åjçš„å…¥åº¦å˜ä¸º0,åˆ™åŠ å…¥é˜Ÿåˆ—</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(--d[j]==<span class=\"number\">0</span>) q.push(j);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿé‚»æ¥è¡¨åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“j==0æ—¶é€€å‡ºå¾ªç¯</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"built_in\">cin</span>&gt;&gt;j &amp;&amp; j) &#123;</span><br><span class=\"line\">\t\t\tadd(i,j);</span><br><span class=\"line\">\t\t\td[j]++; <span class=\"comment\">// èŠ‚ç‚¹jçš„å…¥åº¦++</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\ttuopu();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">5è¾¹,æ¥ä¸‹æ¥ç¬¬iè¡Œè¡¨ç¤ºèŠ‚ç‚¹içš„åä»£,0è¡¨ç¤ºè¾“å…¥å®Œæ¯•</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">0</span></span><br><span class=\"line\"><span class=\"comment\">4 5 1 0</span></span><br><span class=\"line\"><span class=\"comment\">1 0</span></span><br><span class=\"line\"><span class=\"comment\">5 3 0</span></span><br><span class=\"line\"><span class=\"comment\">3 0</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">2 4 5 3 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n"},{"title":"æ’åº","date":"2024-10-02T14:30:58.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ’åº\n\n<!-- toc -->\n\n\n\n## 1. å¿«é€Ÿæ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$ï¼Œæœ€å $O(n^2)$ ï¼Œä¸ç¨³å®š\n\n* åŸºäºåˆ†æ²»æ³•å®ç°ï¼š\n\n1. ç¡®å®šåˆ†ç•Œç‚¹\n2. è°ƒæ•´åŒºé—´\n3. é€’å½’å¤„ç†å·¦å³ä¸¤æ®µ\n\n``` c++\n// å¿«é€Ÿæ’åºæ¨¡æ¿\n// l:å·¦ç«¯ç‚¹\n// r:å³ç«¯ç‚¹\nvoid quick_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn;\n\t// æ— ç¬¦å·å³ç§»ä¸€ä½ç­‰äºé™¤2\n\tint x=arr[l+r>>1]; // æ‰¾ä¸­é—´å€¼\n\t// éå†å› å­\n\tint i=l-1;\n\tint j=r+1;\n\t\n\twhile(i<j) {\n        // æŠŠä¸‹é¢ä¸¤ä¸ªwhileä¸­çš„\"<\"å’Œ\">\"æ¢ä¸€ä¸‹å°±æ˜¯ä»å¤§åˆ°å°æ’åº\n\t\twhile(arr[++i]<x);\n\t\twhile(arr[--j]>x);\n\t\tif(i<j)\n\t\t\tswap(arr[i],arr[j]);\n\t}\n\t// åˆ†æ²»æ³•\n\tquick_sort(arr,l,j); // æ’åºå·¦ä¾§\n\tquick_sort(arr,j+1,r); // æ’åºå³ä¾§\n}\n```\n\n\n\n## 2. å½’å¹¶æ’åº\n\n> æ—¶é—´å¤æ‚åº¦å¦¥å¦¥çš„ï¼š$O(nlog^2)$ï¼Œç¨³å®š\n\n* åŸºäºåˆ†æ²»æ³•å®ç°ï¼š\n\n1. ç¡®å®šåˆ†ç•Œç‚¹\n2. é€’å½’æŠŠæ•°æ®åˆ†æˆä¸¤æ®µ\n3. åˆäºŒä¸ºä¸€\n\n``` c++\n// å½’å¹¶æ’åºæ¨¡æ¿\n// arr[]:å¾…æ’åºæ•°ç»„\n// l:æ’åºå·¦åŒºé—´\n// r:æ’åºå³åŒºé—´\nvoid merge_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn; // ä¼ å…¥æ•°æ®æœ‰è¯¯\n\tint mid=l+r>>1;\n\t// é€’å½’å°†æ•°æ®åˆ†æˆä¸¤æ®µ,å›æ¥æ—¶æ’åº\n\tmerge_sort(arr,l,mid);\n\tmerge_sort(arr,mid+1,r);\n\t// å›æ¥æ—¶çš„æ“ä½œ\n\t// k:tempæ•°ç»„çš„éå†å› å­/\n\t// i:ç¬¬ä¸€æ®µçš„æœ€å·¦ç«¯\n\t// j:ç¬¬äºŒæ®µçš„æœ€å·¦ç«¯\n\tint k=0,i=l,j=mid+1;\n\t// ä»å°åˆ°å¤§æ’åº\n\twhile(i<=mid && j<=r) {\n\t\tif(arr[i]<=arr[j])\n\t\t\ttemp[k++]=arr[i++]; \n\t\telse\n\t\t\ttemp[k++]=arr[j++];\n\t}\n\t// æŠŠæœªæ’å¥½çš„ç›´æ¥æ·»åŠ åˆ°tempæœ«å°¾,ä¸‹é¢ä¸¤ç§æƒ…å†µäºŒé€‰ä¸€\n\twhile(i<=mid)\n\t\ttemp[k++]=arr[i++];\n\twhile(j<=r)\n\t\ttemp[k++]=arr[j++];\n\t\n\t// æ­¤æ—¶lå’Œræ˜¯å½¢å‚ä¼ é€’è¿‡æ¥çš„lå’Œr\n\t// j:tempçš„éå†å› å­,ç›®çš„æ˜¯èµ‹å€¼\n\tfor(int i=l,j=0;i<=r;i++,j++) {\n\t\tarr[i]=temp[j];\n\t}\n}\n```\n\n> ä¾‹é¢˜ï¼š[P1908 é€†åºå¯¹ - æ´›è°·](https://www.luogu.com.cn/problem/P1908)\n\n* è¯¥é¢˜ä¸ºåˆ©ç”¨å½’å¹¶æ’åºæ±‚è§£é€†åºå¯¹çš„é—®é¢˜ï¼Œæºå¸¦äº†å¦‚ä½•è¾“å‡ºé€†åºå¯¹ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³ä»¥å­—å…¸é¡ºåºè¾“å‡ºé€†åºå¯¹çš„é—®é¢˜ï¼Œå¯èƒ½è¦ç”¨å…¶ä»–ç®—æ³•ã€‚\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=5e5+5;\nint arr[maxn];\nint temp[maxn]; // è¾…åŠ©æ•°ç»„\nlong long res; // n=5e5,æœ€å¤§å¯¹æ•°å¯èƒ½è¶…è¿‡1e10*2\nvoid merge_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn;\n\tint mid=l+r>>1;\n\t// å…ˆåˆ†\n\tmerge_sort(arr,l,mid);\n\tmerge_sort(arr,mid+1,r);\n\t// åˆå¹¶\n\tint k=0,i=l,j=mid+1;\n\twhile(i<=mid && j<=r){\n\t\tif(arr[i]<=arr[j])\n\t\t\ttemp[k++]=arr[i++];\n\t\telse {\n\t\t\t// è¾“å‡ºé€†åºå¯¹\n//\t\t\tfor(int m=i;m<=mid;m++) {\n//\t\t\t\tcout<<\"<\"<<arr[m]<<\",\"<<arr[j]<<\">\"<<'\\n';\n//\t\t\t}\n\t\t\ttemp[k++]=arr[j++];\n\t\t\t// å¦‚æœarr[i]æ¯”arr[j]å¤§äº†,é‚£ä¹ˆarr[i]å³è¾¹çš„ä¹Ÿæ¯”å®ƒå¤§\n\t\t\tres+=(mid-i+1); // ä¸€å…±mid-i+1ä¸ª\n\t\t}\n\t}\n\twhile(i<=mid)\n\t\ttemp[k++]=arr[i++];\n\twhile(j<=r)\n\t\ttemp[k++]=arr[j++];\n\t// èµ‹å€¼\n\tfor(int i=l,j=0;i<=r;i++,j++) {\n\t\tarr[i]=temp[j];\n\t}\n}\nint main() {\n\tint n;\n\tcin>>n;\n\t// test\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>arr[i];\n\t}\n\tmerge_sort(arr,1,n);\n//\tfor(int i=1;i<=n;i++) {\n//\t\tcout<<arr[i]<<' ';\n//\t}\n//\tcout<<'\\n';\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## 3. æ¡¶æ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(n+k)$ï¼Œ$n$ æ˜¯è¾“å…¥æ•°æ®é‡ï¼Œ$k$ æ˜¯æ¡¶çš„ä¸ªæ•°ï¼›ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œé¢å¤–åˆ†é…çš„å†…å­˜å°±æ˜¯ $k$ ä¸ªæ¡¶çš„ç©ºé—´\n\n1. è£…æ¡¶\n2. å€’æ¡¶\n\n* æ³¨æ„ï¼šæ¡¶æ’åºå®¹æ˜“è¶…å‡ºæœ€å¤§å€¼ï¼ˆå­—å…¸æ€æƒ³ï¼‰ï¼Œé€šå¸¸æ¯ä¸ªå€¼éƒ½ç‰¹åˆ«é™å®šçš„èŒƒå›´æ—¶ç”¨æ¡¶æ’åºï¼Œå¦‚æ¯ä¸ªå€¼éƒ½é™å®šåœ¨ $[0,50]$ ä¹‹é—´ã€‚\n\n``` c++\nconst int MAX_NUM=1e8; // æœ€å¤§å€¼ä¸èƒ½è¶…è¿‡1e8\nint sum[MAX_NUM]; // å€¼åŸŸ\nvoid bucket_sort(int arr[]) {\n\t// å­—å…¸è£…æ¡¶\n\tfor(int i=1;i<=n;i++)\n\t\tsum[arr[i]]++; // æŠŠæ•°ç»„çš„å€¼è£…è¿›æ¡¶\n\t// å€’å‡º\n\tfor(int i=1,j=1;j<=n;i++) {\n\t\t// å½“sum[i]>=1æ—¶æ‰è¿›å…¥while\n\t\twhile(sum[i]--)\n\t\t\tarr[j++]=i; // ä¸‹æ ‡å³æ˜¯å€¼,å¯¹arré‡æ–°èµ‹å€¼æ’åºåçš„ç»“æœ\n\t}\n}\n```\n\n\n\n* æ¡¶æ’åºå®Œæ•´æ¡ˆä¾‹ï¼š\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int maxn=1e4+4; // æ•°å­—æœ€å¤§1e4ä¸ª\nconst int maxv=1e4+4; // æ¯ä¸ªæ•°å­—çš„å€¼æœ€å¤§1e4\nint arr[maxv]; // æ¡¶\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint temp;\n\t// å­—å…¸è£…æ¡¶\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>temp;\n\t\tarr[temp]++;\n\t}\n\t// ä»å¤§åˆ°å°å€’æ¡¶\n\tfor(int i=maxv;i>=0;i--) {\n\t\t// è¯¥å­—ç¬¦æ‰“å°arr[i]æ¬¡,å¦‚æœj=0åˆ™ä¸è¿›å…¥\n\t\tfor(int j=0;j<arr[i];j++) // æ³¨æ„è¿™å±‚å¾ªç¯çš„éå†æ¬¡æ•°ç”±iæ¥å†³å®š,æ‰€ä»¥è¿™ä¸¤å±‚å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦éƒ½å–å†³äºi\n\t\t\tcout<<i<<' ';\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. å †æ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$\n\n* å †ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ï¼šæœ‰å¤§æ ¹å †å’Œå°æ ¹å †ä¹‹åˆ†ã€‚\n\n1. æ±‚å †æœ€å°å€¼ï¼š$q[1]$\n2. åˆ é™¤æœ€å°å€¼ï¼š$q[1]=q[size]$ï¼Œ$down(1)$\n3. è¾“å‡ºå †é¡¶ï¼Œåˆ é™¤å †é¡¶ï¼Œé•¿åº¦å‡ä¸€ï¼Œ$down(1)$\n\n* æ³¨ï¼š$down$ æ˜¯è°ƒæ•´å †çš„æ“ä½œï¼Œå³ä¸è‡ªå·±çš„å­©å­æ¯”è¾ƒï¼Œå°†è‡ªå·±çš„å€¼ä¸å…¶ä¸­æœ€å°ä¸”æ¯”è‡ªèº«æ›´å°çš„å€¼äº¤æ¢ã€‚\n\n``` c++\n// å †æ’åºæ¨¡æ¿\n// sz:å½“å‰å †å¤§å°\n// t:å½“å‰å †\nint sz; \nvoid down(int u) {\n\tint t=u; \n\t// å¦‚æœå·¦å­©å­åœ¨èŒƒå›´å†…ä¸”å€¼æ›´å°\n\tif(2*u<=sz && arr4[t]>arr4[2*u])\n\t\tt=2*u;\n\tif(2*u+1<=sz && arr4[t]>arr4[2*u+1])\n\t\tt=2*u+1;\n\tif(t!=u) {\n\t\tswap(arr4[t],arr4[u]);\n\t\tdown(t); // é€’å½’è°ƒæ•´\n\t}\n}\n```\n\n* ä¸»å‡½æ•°éƒ¨åˆ†ï¼š\n\n``` c++\n// æµ‹è¯•å †æ’åº\nfor(int i=1;i<=n;i++) {\n    cin>>arr4[i];\n}\nsz=n; // åˆå§‹å †å¤§å°\n// å»ºç«‹å°æ ¹å †\n// n/2æ˜¯æœ€åä¸€ä¸ªæœ‰å­©å­çš„èŠ‚ç‚¹\nfor(int i=n/2;i;i--)\n    down(i);\nwhile(n--) {\n    cout<<arr4[1]<<\" \"; // è¾“å‡ºå †é¡¶\n    arr4[1]=arr4[sz--]; // è°ƒæ•´å †é¡¶\n    down(1); // è°ƒæ•´å †\n}\n```\n","source":"_posts/æ’åº.md","raw":"---\ntitle: æ’åº\ndate: 2024-10-02 22:30:58\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - æ’åº\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ’åº\n\n<!-- toc -->\n\n\n\n## 1. å¿«é€Ÿæ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$ï¼Œæœ€å $O(n^2)$ ï¼Œä¸ç¨³å®š\n\n* åŸºäºåˆ†æ²»æ³•å®ç°ï¼š\n\n1. ç¡®å®šåˆ†ç•Œç‚¹\n2. è°ƒæ•´åŒºé—´\n3. é€’å½’å¤„ç†å·¦å³ä¸¤æ®µ\n\n``` c++\n// å¿«é€Ÿæ’åºæ¨¡æ¿\n// l:å·¦ç«¯ç‚¹\n// r:å³ç«¯ç‚¹\nvoid quick_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn;\n\t// æ— ç¬¦å·å³ç§»ä¸€ä½ç­‰äºé™¤2\n\tint x=arr[l+r>>1]; // æ‰¾ä¸­é—´å€¼\n\t// éå†å› å­\n\tint i=l-1;\n\tint j=r+1;\n\t\n\twhile(i<j) {\n        // æŠŠä¸‹é¢ä¸¤ä¸ªwhileä¸­çš„\"<\"å’Œ\">\"æ¢ä¸€ä¸‹å°±æ˜¯ä»å¤§åˆ°å°æ’åº\n\t\twhile(arr[++i]<x);\n\t\twhile(arr[--j]>x);\n\t\tif(i<j)\n\t\t\tswap(arr[i],arr[j]);\n\t}\n\t// åˆ†æ²»æ³•\n\tquick_sort(arr,l,j); // æ’åºå·¦ä¾§\n\tquick_sort(arr,j+1,r); // æ’åºå³ä¾§\n}\n```\n\n\n\n## 2. å½’å¹¶æ’åº\n\n> æ—¶é—´å¤æ‚åº¦å¦¥å¦¥çš„ï¼š$O(nlog^2)$ï¼Œç¨³å®š\n\n* åŸºäºåˆ†æ²»æ³•å®ç°ï¼š\n\n1. ç¡®å®šåˆ†ç•Œç‚¹\n2. é€’å½’æŠŠæ•°æ®åˆ†æˆä¸¤æ®µ\n3. åˆäºŒä¸ºä¸€\n\n``` c++\n// å½’å¹¶æ’åºæ¨¡æ¿\n// arr[]:å¾…æ’åºæ•°ç»„\n// l:æ’åºå·¦åŒºé—´\n// r:æ’åºå³åŒºé—´\nvoid merge_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn; // ä¼ å…¥æ•°æ®æœ‰è¯¯\n\tint mid=l+r>>1;\n\t// é€’å½’å°†æ•°æ®åˆ†æˆä¸¤æ®µ,å›æ¥æ—¶æ’åº\n\tmerge_sort(arr,l,mid);\n\tmerge_sort(arr,mid+1,r);\n\t// å›æ¥æ—¶çš„æ“ä½œ\n\t// k:tempæ•°ç»„çš„éå†å› å­/\n\t// i:ç¬¬ä¸€æ®µçš„æœ€å·¦ç«¯\n\t// j:ç¬¬äºŒæ®µçš„æœ€å·¦ç«¯\n\tint k=0,i=l,j=mid+1;\n\t// ä»å°åˆ°å¤§æ’åº\n\twhile(i<=mid && j<=r) {\n\t\tif(arr[i]<=arr[j])\n\t\t\ttemp[k++]=arr[i++]; \n\t\telse\n\t\t\ttemp[k++]=arr[j++];\n\t}\n\t// æŠŠæœªæ’å¥½çš„ç›´æ¥æ·»åŠ åˆ°tempæœ«å°¾,ä¸‹é¢ä¸¤ç§æƒ…å†µäºŒé€‰ä¸€\n\twhile(i<=mid)\n\t\ttemp[k++]=arr[i++];\n\twhile(j<=r)\n\t\ttemp[k++]=arr[j++];\n\t\n\t// æ­¤æ—¶lå’Œræ˜¯å½¢å‚ä¼ é€’è¿‡æ¥çš„lå’Œr\n\t// j:tempçš„éå†å› å­,ç›®çš„æ˜¯èµ‹å€¼\n\tfor(int i=l,j=0;i<=r;i++,j++) {\n\t\tarr[i]=temp[j];\n\t}\n}\n```\n\n> ä¾‹é¢˜ï¼š[P1908 é€†åºå¯¹ - æ´›è°·](https://www.luogu.com.cn/problem/P1908)\n\n* è¯¥é¢˜ä¸ºåˆ©ç”¨å½’å¹¶æ’åºæ±‚è§£é€†åºå¯¹çš„é—®é¢˜ï¼Œæºå¸¦äº†å¦‚ä½•è¾“å‡ºé€†åºå¯¹ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³ä»¥å­—å…¸é¡ºåºè¾“å‡ºé€†åºå¯¹çš„é—®é¢˜ï¼Œå¯èƒ½è¦ç”¨å…¶ä»–ç®—æ³•ã€‚\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=5e5+5;\nint arr[maxn];\nint temp[maxn]; // è¾…åŠ©æ•°ç»„\nlong long res; // n=5e5,æœ€å¤§å¯¹æ•°å¯èƒ½è¶…è¿‡1e10*2\nvoid merge_sort(int arr[],int l,int r) {\n\tif(l>=r)\n\t\treturn;\n\tint mid=l+r>>1;\n\t// å…ˆåˆ†\n\tmerge_sort(arr,l,mid);\n\tmerge_sort(arr,mid+1,r);\n\t// åˆå¹¶\n\tint k=0,i=l,j=mid+1;\n\twhile(i<=mid && j<=r){\n\t\tif(arr[i]<=arr[j])\n\t\t\ttemp[k++]=arr[i++];\n\t\telse {\n\t\t\t// è¾“å‡ºé€†åºå¯¹\n//\t\t\tfor(int m=i;m<=mid;m++) {\n//\t\t\t\tcout<<\"<\"<<arr[m]<<\",\"<<arr[j]<<\">\"<<'\\n';\n//\t\t\t}\n\t\t\ttemp[k++]=arr[j++];\n\t\t\t// å¦‚æœarr[i]æ¯”arr[j]å¤§äº†,é‚£ä¹ˆarr[i]å³è¾¹çš„ä¹Ÿæ¯”å®ƒå¤§\n\t\t\tres+=(mid-i+1); // ä¸€å…±mid-i+1ä¸ª\n\t\t}\n\t}\n\twhile(i<=mid)\n\t\ttemp[k++]=arr[i++];\n\twhile(j<=r)\n\t\ttemp[k++]=arr[j++];\n\t// èµ‹å€¼\n\tfor(int i=l,j=0;i<=r;i++,j++) {\n\t\tarr[i]=temp[j];\n\t}\n}\nint main() {\n\tint n;\n\tcin>>n;\n\t// test\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>arr[i];\n\t}\n\tmerge_sort(arr,1,n);\n//\tfor(int i=1;i<=n;i++) {\n//\t\tcout<<arr[i]<<' ';\n//\t}\n//\tcout<<'\\n';\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## 3. æ¡¶æ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(n+k)$ï¼Œ$n$ æ˜¯è¾“å…¥æ•°æ®é‡ï¼Œ$k$ æ˜¯æ¡¶çš„ä¸ªæ•°ï¼›ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œé¢å¤–åˆ†é…çš„å†…å­˜å°±æ˜¯ $k$ ä¸ªæ¡¶çš„ç©ºé—´\n\n1. è£…æ¡¶\n2. å€’æ¡¶\n\n* æ³¨æ„ï¼šæ¡¶æ’åºå®¹æ˜“è¶…å‡ºæœ€å¤§å€¼ï¼ˆå­—å…¸æ€æƒ³ï¼‰ï¼Œé€šå¸¸æ¯ä¸ªå€¼éƒ½ç‰¹åˆ«é™å®šçš„èŒƒå›´æ—¶ç”¨æ¡¶æ’åºï¼Œå¦‚æ¯ä¸ªå€¼éƒ½é™å®šåœ¨ $[0,50]$ ä¹‹é—´ã€‚\n\n``` c++\nconst int MAX_NUM=1e8; // æœ€å¤§å€¼ä¸èƒ½è¶…è¿‡1e8\nint sum[MAX_NUM]; // å€¼åŸŸ\nvoid bucket_sort(int arr[]) {\n\t// å­—å…¸è£…æ¡¶\n\tfor(int i=1;i<=n;i++)\n\t\tsum[arr[i]]++; // æŠŠæ•°ç»„çš„å€¼è£…è¿›æ¡¶\n\t// å€’å‡º\n\tfor(int i=1,j=1;j<=n;i++) {\n\t\t// å½“sum[i]>=1æ—¶æ‰è¿›å…¥while\n\t\twhile(sum[i]--)\n\t\t\tarr[j++]=i; // ä¸‹æ ‡å³æ˜¯å€¼,å¯¹arré‡æ–°èµ‹å€¼æ’åºåçš„ç»“æœ\n\t}\n}\n```\n\n\n\n* æ¡¶æ’åºå®Œæ•´æ¡ˆä¾‹ï¼š\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int maxn=1e4+4; // æ•°å­—æœ€å¤§1e4ä¸ª\nconst int maxv=1e4+4; // æ¯ä¸ªæ•°å­—çš„å€¼æœ€å¤§1e4\nint arr[maxv]; // æ¡¶\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint temp;\n\t// å­—å…¸è£…æ¡¶\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>temp;\n\t\tarr[temp]++;\n\t}\n\t// ä»å¤§åˆ°å°å€’æ¡¶\n\tfor(int i=maxv;i>=0;i--) {\n\t\t// è¯¥å­—ç¬¦æ‰“å°arr[i]æ¬¡,å¦‚æœj=0åˆ™ä¸è¿›å…¥\n\t\tfor(int j=0;j<arr[i];j++) // æ³¨æ„è¿™å±‚å¾ªç¯çš„éå†æ¬¡æ•°ç”±iæ¥å†³å®š,æ‰€ä»¥è¿™ä¸¤å±‚å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦éƒ½å–å†³äºi\n\t\t\tcout<<i<<' ';\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. å †æ’åº\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$\n\n* å †ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ï¼šæœ‰å¤§æ ¹å †å’Œå°æ ¹å †ä¹‹åˆ†ã€‚\n\n1. æ±‚å †æœ€å°å€¼ï¼š$q[1]$\n2. åˆ é™¤æœ€å°å€¼ï¼š$q[1]=q[size]$ï¼Œ$down(1)$\n3. è¾“å‡ºå †é¡¶ï¼Œåˆ é™¤å †é¡¶ï¼Œé•¿åº¦å‡ä¸€ï¼Œ$down(1)$\n\n* æ³¨ï¼š$down$ æ˜¯è°ƒæ•´å †çš„æ“ä½œï¼Œå³ä¸è‡ªå·±çš„å­©å­æ¯”è¾ƒï¼Œå°†è‡ªå·±çš„å€¼ä¸å…¶ä¸­æœ€å°ä¸”æ¯”è‡ªèº«æ›´å°çš„å€¼äº¤æ¢ã€‚\n\n``` c++\n// å †æ’åºæ¨¡æ¿\n// sz:å½“å‰å †å¤§å°\n// t:å½“å‰å †\nint sz; \nvoid down(int u) {\n\tint t=u; \n\t// å¦‚æœå·¦å­©å­åœ¨èŒƒå›´å†…ä¸”å€¼æ›´å°\n\tif(2*u<=sz && arr4[t]>arr4[2*u])\n\t\tt=2*u;\n\tif(2*u+1<=sz && arr4[t]>arr4[2*u+1])\n\t\tt=2*u+1;\n\tif(t!=u) {\n\t\tswap(arr4[t],arr4[u]);\n\t\tdown(t); // é€’å½’è°ƒæ•´\n\t}\n}\n```\n\n* ä¸»å‡½æ•°éƒ¨åˆ†ï¼š\n\n``` c++\n// æµ‹è¯•å †æ’åº\nfor(int i=1;i<=n;i++) {\n    cin>>arr4[i];\n}\nsz=n; // åˆå§‹å †å¤§å°\n// å»ºç«‹å°æ ¹å †\n// n/2æ˜¯æœ€åä¸€ä¸ªæœ‰å­©å­çš„èŠ‚ç‚¹\nfor(int i=n/2;i;i--)\n    down(i);\nwhile(n--) {\n    cout<<arr4[1]<<\" \"; // è¾“å‡ºå †é¡¶\n    arr4[1]=arr4[sz--]; // è°ƒæ•´å †é¡¶\n    down(1); // è°ƒæ•´å †\n}\n```\n","slug":"æ’åº","published":1,"updated":"2024-10-05T08:03:54.733Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpsw001pc0nffp6b04gp","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ’åº\">æ’åº</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F\">1. å¿«é€Ÿæ’åº</a></li>\n<li><a href=\"#2-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F\">2. å½’å¹¶æ’åº</a></li>\n<li><a href=\"#3-%E6%A1%B6%E6%8E%92%E5%BA%8F\">3. æ¡¶æ’åº</a></li>\n<li><a href=\"#4-%E5%A0%86%E6%8E%92%E5%BA%8F\">4. å †æ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-å¿«é€Ÿæ’åº\">1. å¿«é€Ÿæ’åº</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$ï¼Œæœ€å $O(n^2)$ ï¼Œä¸ç¨³å®š</p>\n</blockquote>\n<ul>\n<li>åŸºäºåˆ†æ²»æ³•å®ç°ï¼š</li>\n</ul>\n<ol>\n<li>ç¡®å®šåˆ†ç•Œç‚¹</li>\n<li>è°ƒæ•´åŒºé—´</li>\n<li>é€’å½’å¤„ç†å·¦å³ä¸¤æ®µ</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¿«é€Ÿæ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// l:å·¦ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// r:å³ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quick_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ— ç¬¦å·å³ç§»ä¸€ä½ç­‰äºé™¤2</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> x=arr[l+r&gt;&gt;<span class=\"number\">1</span>]; <span class=\"comment\">// æ‰¾ä¸­é—´å€¼</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> i=l<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> j=r<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;j) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æŠŠä¸‹é¢ä¸¤ä¸ªwhileä¸­çš„&quot;&lt;&quot;å’Œ&quot;&gt;&quot;æ¢ä¸€ä¸‹å°±æ˜¯ä»å¤§åˆ°å°æ’åº</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(arr[++i]&lt;x);</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(arr[--j]&gt;x);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;j)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">swap</span>(arr[i],arr[j]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ†æ²»æ³•</span></span><br><span class=\"line\">\t<span class=\"built_in\">quick_sort</span>(arr,l,j); <span class=\"comment\">// æ’åºå·¦ä¾§</span></span><br><span class=\"line\">\t<span class=\"built_in\">quick_sort</span>(arr,j<span class=\"number\">+1</span>,r); <span class=\"comment\">// æ’åºå³ä¾§</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-å½’å¹¶æ’åº\">2. å½’å¹¶æ’åº</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦å¦¥å¦¥çš„ï¼š$O(nlog^2)$ï¼Œç¨³å®š</p>\n</blockquote>\n<ul>\n<li>åŸºäºåˆ†æ²»æ³•å®ç°ï¼š</li>\n</ul>\n<ol>\n<li>ç¡®å®šåˆ†ç•Œç‚¹</li>\n<li>é€’å½’æŠŠæ•°æ®åˆ†æˆä¸¤æ®µ</li>\n<li>åˆäºŒä¸ºä¸€</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å½’å¹¶æ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// arr[]:å¾…æ’åºæ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\">// l:æ’åºå·¦åŒºé—´</span></span><br><span class=\"line\"><span class=\"comment\">// r:æ’åºå³åŒºé—´</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>; <span class=\"comment\">// ä¼ å…¥æ•°æ®æœ‰è¯¯</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// é€’å½’å°†æ•°æ®åˆ†æˆä¸¤æ®µ,å›æ¥æ—¶æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,l,mid);</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,mid<span class=\"number\">+1</span>,r);</span><br><span class=\"line\">\t<span class=\"comment\">// å›æ¥æ—¶çš„æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"comment\">// k:tempæ•°ç»„çš„éå†å› å­/</span></span><br><span class=\"line\">\t<span class=\"comment\">// i:ç¬¬ä¸€æ®µçš„æœ€å·¦ç«¯</span></span><br><span class=\"line\">\t<span class=\"comment\">// j:ç¬¬äºŒæ®µçš„æœ€å·¦ç«¯</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=l,j=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid &amp;&amp; j&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(arr[i]&lt;=arr[j])</span><br><span class=\"line\">\t\t\ttemp[k++]=arr[i++]; </span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æŠŠæœªæ’å¥½çš„ç›´æ¥æ·»åŠ åˆ°tempæœ«å°¾,ä¸‹é¢ä¸¤ç§æƒ…å†µäºŒé€‰ä¸€</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid)</span><br><span class=\"line\">\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=r)</span><br><span class=\"line\">\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// æ­¤æ—¶lå’Œræ˜¯å½¢å‚ä¼ é€’è¿‡æ¥çš„lå’Œr</span></span><br><span class=\"line\">\t<span class=\"comment\">// j:tempçš„éå†å› å­,ç›®çš„æ˜¯èµ‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l,j=<span class=\"number\">0</span>;i&lt;=r;i++,j++) &#123;</span><br><span class=\"line\">\t\tarr[i]=temp[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"https://www.luogu.com.cn/problem/P1908\">P1908 é€†åºå¯¹ - æ´›è°·</a></p>\n</blockquote>\n<ul>\n<li>è¯¥é¢˜ä¸ºåˆ©ç”¨å½’å¹¶æ’åºæ±‚è§£é€†åºå¯¹çš„é—®é¢˜ï¼Œæºå¸¦äº†å¦‚ä½•è¾“å‡ºé€†åºå¯¹ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³ä»¥å­—å…¸é¡ºåºè¾“å‡ºé€†åºå¯¹çš„é—®é¢˜ï¼Œå¯èƒ½è¦ç”¨å…¶ä»–ç®—æ³•ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">5e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> arr[maxn];</span><br><span class=\"line\"><span class=\"type\">int</span> temp[maxn]; <span class=\"comment\">// è¾…åŠ©æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">long</span> <span class=\"type\">long</span> res; <span class=\"comment\">// n=5e5,æœ€å¤§å¯¹æ•°å¯èƒ½è¶…è¿‡1e10*2</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆåˆ†</span></span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,l,mid);</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,mid<span class=\"number\">+1</span>,r);</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå¹¶</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=l,j=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid &amp;&amp; j&lt;=r)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(arr[i]&lt;=arr[j])</span><br><span class=\"line\">\t\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¾“å‡ºé€†åºå¯¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tfor(int m=i;m&lt;=mid;m++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tcout&lt;&lt;&quot;&lt;&quot;&lt;&lt;arr[m]&lt;&lt;&quot;,&quot;&lt;&lt;arr[j]&lt;&lt;&quot;&gt;&quot;&lt;&lt;&#x27;\\n&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t&#125;</span></span><br><span class=\"line\">\t\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœarr[i]æ¯”arr[j]å¤§äº†,é‚£ä¹ˆarr[i]å³è¾¹çš„ä¹Ÿæ¯”å®ƒå¤§</span></span><br><span class=\"line\">\t\t\tres+=(mid-i<span class=\"number\">+1</span>); <span class=\"comment\">// ä¸€å…±mid-i+1ä¸ª</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid)</span><br><span class=\"line\">\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=r)</span><br><span class=\"line\">\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t<span class=\"comment\">// èµ‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l,j=<span class=\"number\">0</span>;i&lt;=r;i++,j++) &#123;</span><br><span class=\"line\">\t\tarr[i]=temp[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"comment\">// test</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;arr[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,<span class=\"number\">1</span>,n);</span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=1;i&lt;=n;i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;arr[i]&lt;&lt;&#x27; &#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&#x27;\\n&#x27;;</span></span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-æ¡¶æ’åº\">3. æ¡¶æ’åº</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n+k)$ï¼Œ$n$ æ˜¯è¾“å…¥æ•°æ®é‡ï¼Œ$k$ æ˜¯æ¡¶çš„ä¸ªæ•°ï¼›ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œé¢å¤–åˆ†é…çš„å†…å­˜å°±æ˜¯ $k$ ä¸ªæ¡¶çš„ç©ºé—´</p>\n</blockquote>\n<ol>\n<li>è£…æ¡¶</li>\n<li>å€’æ¡¶</li>\n</ol>\n<ul>\n<li>æ³¨æ„ï¼šæ¡¶æ’åºå®¹æ˜“è¶…å‡ºæœ€å¤§å€¼ï¼ˆå­—å…¸æ€æƒ³ï¼‰ï¼Œé€šå¸¸æ¯ä¸ªå€¼éƒ½ç‰¹åˆ«é™å®šçš„èŒƒå›´æ—¶ç”¨æ¡¶æ’åºï¼Œå¦‚æ¯ä¸ªå€¼éƒ½é™å®šåœ¨ $[0,50]$ ä¹‹é—´ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> MAX_NUM=<span class=\"number\">1e8</span>; <span class=\"comment\">// æœ€å¤§å€¼ä¸èƒ½è¶…è¿‡1e8</span></span><br><span class=\"line\"><span class=\"type\">int</span> sum[MAX_NUM]; <span class=\"comment\">// å€¼åŸŸ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bucket_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—å…¸è£…æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t\tsum[arr[i]]++; <span class=\"comment\">// æŠŠæ•°ç»„çš„å€¼è£…è¿›æ¡¶</span></span><br><span class=\"line\">\t<span class=\"comment\">// å€’å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">1</span>;j&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“sum[i]&gt;=1æ—¶æ‰è¿›å…¥while</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(sum[i]--)</span><br><span class=\"line\">\t\t\tarr[j++]=i; <span class=\"comment\">// ä¸‹æ ‡å³æ˜¯å€¼,å¯¹arré‡æ–°èµ‹å€¼æ’åºåçš„ç»“æœ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<ul>\n<li>æ¡¶æ’åºå®Œæ•´æ¡ˆä¾‹ï¼š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e4</span><span class=\"number\">+4</span>; <span class=\"comment\">// æ•°å­—æœ€å¤§1e4ä¸ª</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxv=<span class=\"number\">1e4</span><span class=\"number\">+4</span>; <span class=\"comment\">// æ¯ä¸ªæ•°å­—çš„å€¼æœ€å¤§1e4</span></span><br><span class=\"line\"><span class=\"type\">int</span> arr[maxv]; <span class=\"comment\">// æ¡¶</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—å…¸è£…æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\tarr[temp]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»å¤§åˆ°å°å€’æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=maxv;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯¥å­—ç¬¦æ‰“å°arr[i]æ¬¡,å¦‚æœj=0åˆ™ä¸è¿›å…¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;arr[i];j++) <span class=\"comment\">// æ³¨æ„è¿™å±‚å¾ªç¯çš„éå†æ¬¡æ•°ç”±iæ¥å†³å®š,æ‰€ä»¥è¿™ä¸¤å±‚å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦éƒ½å–å†³äºi</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-å †æ’åº\">4. å †æ’åº</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$</p>\n</blockquote>\n<ul>\n<li>å †ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ï¼šæœ‰å¤§æ ¹å †å’Œå°æ ¹å †ä¹‹åˆ†ã€‚</li>\n</ul>\n<ol>\n<li>æ±‚å †æœ€å°å€¼ï¼š$q[1]$</li>\n<li>åˆ é™¤æœ€å°å€¼ï¼š$q[1]&#x3D;q[size]$ï¼Œ$down(1)$</li>\n<li>è¾“å‡ºå †é¡¶ï¼Œåˆ é™¤å †é¡¶ï¼Œé•¿åº¦å‡ä¸€ï¼Œ$down(1)$</li>\n</ol>\n<ul>\n<li>æ³¨ï¼š$down$ æ˜¯è°ƒæ•´å †çš„æ“ä½œï¼Œå³ä¸è‡ªå·±çš„å­©å­æ¯”è¾ƒï¼Œå°†è‡ªå·±çš„å€¼ä¸å…¶ä¸­æœ€å°ä¸”æ¯”è‡ªèº«æ›´å°çš„å€¼äº¤æ¢ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å †æ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// sz:å½“å‰å †å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">// t:å½“å‰å †</span></span><br><span class=\"line\"><span class=\"type\">int</span> sz; </span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">down</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=u; </span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœå·¦å­©å­åœ¨èŒƒå›´å†…ä¸”å€¼æ›´å°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*u&lt;=sz &amp;&amp; arr4[t]&gt;arr4[<span class=\"number\">2</span>*u])</span><br><span class=\"line\">\t\tt=<span class=\"number\">2</span>*u;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*u<span class=\"number\">+1</span>&lt;=sz &amp;&amp; arr4[t]&gt;arr4[<span class=\"number\">2</span>*u<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\tt=<span class=\"number\">2</span>*u<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t!=u) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">swap</span>(arr4[t],arr4[u]);</span><br><span class=\"line\">\t\t<span class=\"built_in\">down</span>(t); <span class=\"comment\">// é€’å½’è°ƒæ•´</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸»å‡½æ•°éƒ¨åˆ†ï¼š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æµ‹è¯•å †æ’åº</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    cin&gt;&gt;arr4[i];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">sz=n; <span class=\"comment\">// åˆå§‹å †å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">// å»ºç«‹å°æ ¹å †</span></span><br><span class=\"line\"><span class=\"comment\">// n/2æ˜¯æœ€åä¸€ä¸ªæœ‰å­©å­çš„èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n/<span class=\"number\">2</span>;i;i--)</span><br><span class=\"line\">    <span class=\"built_in\">down</span>(i);</span><br><span class=\"line\"><span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">    cout&lt;&lt;arr4[<span class=\"number\">1</span>]&lt;&lt;<span class=\"string\">&quot; &quot;</span>; <span class=\"comment\">// è¾“å‡ºå †é¡¶</span></span><br><span class=\"line\">    arr4[<span class=\"number\">1</span>]=arr4[sz--]; <span class=\"comment\">// è°ƒæ•´å †é¡¶</span></span><br><span class=\"line\">    <span class=\"built_in\">down</span>(<span class=\"number\">1</span>); <span class=\"comment\">// è°ƒæ•´å †</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"æ’åº\"><a href=\"#æ’åº\" class=\"headerlink\" title=\"æ’åº\"></a>æ’åº</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F\">1. å¿«é€Ÿæ’åº</a></li>\n<li><a href=\"#2-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F\">2. å½’å¹¶æ’åº</a></li>\n<li><a href=\"#3-%E6%A1%B6%E6%8E%92%E5%BA%8F\">3. æ¡¶æ’åº</a></li>\n<li><a href=\"#4-%E5%A0%86%E6%8E%92%E5%BA%8F\">4. å †æ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-å¿«é€Ÿæ’åº\"><a href=\"#1-å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"1. å¿«é€Ÿæ’åº\"></a>1. å¿«é€Ÿæ’åº</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$ï¼Œæœ€å $O(n^2)$ ï¼Œä¸ç¨³å®š</p>\n</blockquote>\n<ul>\n<li>åŸºäºåˆ†æ²»æ³•å®ç°ï¼š</li>\n</ul>\n<ol>\n<li>ç¡®å®šåˆ†ç•Œç‚¹</li>\n<li>è°ƒæ•´åŒºé—´</li>\n<li>é€’å½’å¤„ç†å·¦å³ä¸¤æ®µ</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¿«é€Ÿæ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// l:å·¦ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// r:å³ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">quick_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æ— ç¬¦å·å³ç§»ä¸€ä½ç­‰äºé™¤2</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> x=arr[l+r&gt;&gt;<span class=\"number\">1</span>]; <span class=\"comment\">// æ‰¾ä¸­é—´å€¼</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†å› å­</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> i=l<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> j=r<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;j) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æŠŠä¸‹é¢ä¸¤ä¸ªwhileä¸­çš„&quot;&lt;&quot;å’Œ&quot;&gt;&quot;æ¢ä¸€ä¸‹å°±æ˜¯ä»å¤§åˆ°å°æ’åº</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(arr[++i]&lt;x);</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(arr[--j]&gt;x);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;j)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">swap</span>(arr[i],arr[j]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ†æ²»æ³•</span></span><br><span class=\"line\">\t<span class=\"built_in\">quick_sort</span>(arr,l,j); <span class=\"comment\">// æ’åºå·¦ä¾§</span></span><br><span class=\"line\">\t<span class=\"built_in\">quick_sort</span>(arr,j<span class=\"number\">+1</span>,r); <span class=\"comment\">// æ’åºå³ä¾§</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-å½’å¹¶æ’åº\"><a href=\"#2-å½’å¹¶æ’åº\" class=\"headerlink\" title=\"2. å½’å¹¶æ’åº\"></a>2. å½’å¹¶æ’åº</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦å¦¥å¦¥çš„ï¼š$O(nlog^2)$ï¼Œç¨³å®š</p>\n</blockquote>\n<ul>\n<li>åŸºäºåˆ†æ²»æ³•å®ç°ï¼š</li>\n</ul>\n<ol>\n<li>ç¡®å®šåˆ†ç•Œç‚¹</li>\n<li>é€’å½’æŠŠæ•°æ®åˆ†æˆä¸¤æ®µ</li>\n<li>åˆäºŒä¸ºä¸€</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å½’å¹¶æ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// arr[]:å¾…æ’åºæ•°ç»„</span></span><br><span class=\"line\"><span class=\"comment\">// l:æ’åºå·¦åŒºé—´</span></span><br><span class=\"line\"><span class=\"comment\">// r:æ’åºå³åŒºé—´</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>; <span class=\"comment\">// ä¼ å…¥æ•°æ®æœ‰è¯¯</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// é€’å½’å°†æ•°æ®åˆ†æˆä¸¤æ®µ,å›æ¥æ—¶æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,l,mid);</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,mid<span class=\"number\">+1</span>,r);</span><br><span class=\"line\">\t<span class=\"comment\">// å›æ¥æ—¶çš„æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"comment\">// k:tempæ•°ç»„çš„éå†å› å­/</span></span><br><span class=\"line\">\t<span class=\"comment\">// i:ç¬¬ä¸€æ®µçš„æœ€å·¦ç«¯</span></span><br><span class=\"line\">\t<span class=\"comment\">// j:ç¬¬äºŒæ®µçš„æœ€å·¦ç«¯</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=l,j=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid &amp;&amp; j&lt;=r) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(arr[i]&lt;=arr[j])</span><br><span class=\"line\">\t\t\ttemp[k++]=arr[i++]; </span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æŠŠæœªæ’å¥½çš„ç›´æ¥æ·»åŠ åˆ°tempæœ«å°¾,ä¸‹é¢ä¸¤ç§æƒ…å†µäºŒé€‰ä¸€</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid)</span><br><span class=\"line\">\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=r)</span><br><span class=\"line\">\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// æ­¤æ—¶lå’Œræ˜¯å½¢å‚ä¼ é€’è¿‡æ¥çš„lå’Œr</span></span><br><span class=\"line\">\t<span class=\"comment\">// j:tempçš„éå†å› å­,ç›®çš„æ˜¯èµ‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l,j=<span class=\"number\">0</span>;i&lt;=r;i++,j++) &#123;</span><br><span class=\"line\">\t\tarr[i]=temp[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"https://www.luogu.com.cn/problem/P1908\">P1908 é€†åºå¯¹ - æ´›è°·</a></p>\n</blockquote>\n<ul>\n<li>è¯¥é¢˜ä¸ºåˆ©ç”¨å½’å¹¶æ’åºæ±‚è§£é€†åºå¯¹çš„é—®é¢˜ï¼Œæºå¸¦äº†å¦‚ä½•è¾“å‡ºé€†åºå¯¹ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³ä»¥å­—å…¸é¡ºåºè¾“å‡ºé€†åºå¯¹çš„é—®é¢˜ï¼Œå¯èƒ½è¦ç”¨å…¶ä»–ç®—æ³•ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">5e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> arr[maxn];</span><br><span class=\"line\"><span class=\"type\">int</span> temp[maxn]; <span class=\"comment\">// è¾…åŠ©æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">long</span> <span class=\"type\">long</span> res; <span class=\"comment\">// n=5e5,æœ€å¤§å¯¹æ•°å¯èƒ½è¶…è¿‡1e10*2</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">merge_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[],<span class=\"type\">int</span> l,<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(l&gt;=r)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆåˆ†</span></span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,l,mid);</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,mid<span class=\"number\">+1</span>,r);</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå¹¶</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>,i=l,j=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid &amp;&amp; j&lt;=r)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(arr[i]&lt;=arr[j])</span><br><span class=\"line\">\t\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¾“å‡ºé€†åºå¯¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tfor(int m=i;m&lt;=mid;m++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tcout&lt;&lt;&quot;&lt;&quot;&lt;&lt;arr[m]&lt;&lt;&quot;,&quot;&lt;&lt;arr[j]&lt;&lt;&quot;&gt;&quot;&lt;&lt;&#x27;\\n&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t&#125;</span></span><br><span class=\"line\">\t\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœarr[i]æ¯”arr[j]å¤§äº†,é‚£ä¹ˆarr[i]å³è¾¹çš„ä¹Ÿæ¯”å®ƒå¤§</span></span><br><span class=\"line\">\t\t\tres+=(mid-i<span class=\"number\">+1</span>); <span class=\"comment\">// ä¸€å…±mid-i+1ä¸ª</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(i&lt;=mid)</span><br><span class=\"line\">\t\ttemp[k++]=arr[i++];</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=r)</span><br><span class=\"line\">\t\ttemp[k++]=arr[j++];</span><br><span class=\"line\">\t<span class=\"comment\">// èµ‹å€¼</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=l,j=<span class=\"number\">0</span>;i&lt;=r;i++,j++) &#123;</span><br><span class=\"line\">\t\tarr[i]=temp[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"comment\">// test</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;arr[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">merge_sort</span>(arr,<span class=\"number\">1</span>,n);</span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=1;i&lt;=n;i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;arr[i]&lt;&lt;&#x27; &#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\tcout&lt;&lt;&#x27;\\n&#x27;;</span></span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-æ¡¶æ’åº\"><a href=\"#3-æ¡¶æ’åº\" class=\"headerlink\" title=\"3. æ¡¶æ’åº\"></a>3. æ¡¶æ’åº</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n+k)$ï¼Œ$n$ æ˜¯è¾“å…¥æ•°æ®é‡ï¼Œ$k$ æ˜¯æ¡¶çš„ä¸ªæ•°ï¼›ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œé¢å¤–åˆ†é…çš„å†…å­˜å°±æ˜¯ $k$ ä¸ªæ¡¶çš„ç©ºé—´</p>\n</blockquote>\n<ol>\n<li>è£…æ¡¶</li>\n<li>å€’æ¡¶</li>\n</ol>\n<ul>\n<li>æ³¨æ„ï¼šæ¡¶æ’åºå®¹æ˜“è¶…å‡ºæœ€å¤§å€¼ï¼ˆå­—å…¸æ€æƒ³ï¼‰ï¼Œé€šå¸¸æ¯ä¸ªå€¼éƒ½ç‰¹åˆ«é™å®šçš„èŒƒå›´æ—¶ç”¨æ¡¶æ’åºï¼Œå¦‚æ¯ä¸ªå€¼éƒ½é™å®šåœ¨ $[0,50]$ ä¹‹é—´ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> MAX_NUM=<span class=\"number\">1e8</span>; <span class=\"comment\">// æœ€å¤§å€¼ä¸èƒ½è¶…è¿‡1e8</span></span><br><span class=\"line\"><span class=\"type\">int</span> sum[MAX_NUM]; <span class=\"comment\">// å€¼åŸŸ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bucket_sort</span><span class=\"params\">(<span class=\"type\">int</span> arr[])</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—å…¸è£…æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t\tsum[arr[i]]++; <span class=\"comment\">// æŠŠæ•°ç»„çš„å€¼è£…è¿›æ¡¶</span></span><br><span class=\"line\">\t<span class=\"comment\">// å€’å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">1</span>;j&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“sum[i]&gt;=1æ—¶æ‰è¿›å…¥while</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(sum[i]--)</span><br><span class=\"line\">\t\t\tarr[j++]=i; <span class=\"comment\">// ä¸‹æ ‡å³æ˜¯å€¼,å¯¹arré‡æ–°èµ‹å€¼æ’åºåçš„ç»“æœ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<ul>\n<li>æ¡¶æ’åºå®Œæ•´æ¡ˆä¾‹ï¼š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e4</span><span class=\"number\">+4</span>; <span class=\"comment\">// æ•°å­—æœ€å¤§1e4ä¸ª</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxv=<span class=\"number\">1e4</span><span class=\"number\">+4</span>; <span class=\"comment\">// æ¯ä¸ªæ•°å­—çš„å€¼æœ€å¤§1e4</span></span><br><span class=\"line\"><span class=\"type\">int</span> arr[maxv]; <span class=\"comment\">// æ¡¶</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t<span class=\"comment\">// å­—å…¸è£…æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\tarr[temp]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»å¤§åˆ°å°å€’æ¡¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=maxv;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯¥å­—ç¬¦æ‰“å°arr[i]æ¬¡,å¦‚æœj=0åˆ™ä¸è¿›å…¥</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;arr[i];j++) <span class=\"comment\">// æ³¨æ„è¿™å±‚å¾ªç¯çš„éå†æ¬¡æ•°ç”±iæ¥å†³å®š,æ‰€ä»¥è¿™ä¸¤å±‚å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦éƒ½å–å†³äºi</span></span><br><span class=\"line\">\t\t\tcout&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-å †æ’åº\"><a href=\"#4-å †æ’åº\" class=\"headerlink\" title=\"4. å †æ’åº\"></a>4. å †æ’åº</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(nlog^n)$</p>\n</blockquote>\n<ul>\n<li>å †ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ï¼šæœ‰å¤§æ ¹å †å’Œå°æ ¹å †ä¹‹åˆ†ã€‚</li>\n</ul>\n<ol>\n<li>æ±‚å †æœ€å°å€¼ï¼š$q[1]$</li>\n<li>åˆ é™¤æœ€å°å€¼ï¼š$q[1]&#x3D;q[size]$ï¼Œ$down(1)$</li>\n<li>è¾“å‡ºå †é¡¶ï¼Œåˆ é™¤å †é¡¶ï¼Œé•¿åº¦å‡ä¸€ï¼Œ$down(1)$</li>\n</ol>\n<ul>\n<li>æ³¨ï¼š$down$ æ˜¯è°ƒæ•´å †çš„æ“ä½œï¼Œå³ä¸è‡ªå·±çš„å­©å­æ¯”è¾ƒï¼Œå°†è‡ªå·±çš„å€¼ä¸å…¶ä¸­æœ€å°ä¸”æ¯”è‡ªèº«æ›´å°çš„å€¼äº¤æ¢ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å †æ’åºæ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"comment\">// sz:å½“å‰å †å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">// t:å½“å‰å †</span></span><br><span class=\"line\"><span class=\"type\">int</span> sz; </span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">down</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=u; </span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœå·¦å­©å­åœ¨èŒƒå›´å†…ä¸”å€¼æ›´å°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*u&lt;=sz &amp;&amp; arr4[t]&gt;arr4[<span class=\"number\">2</span>*u])</span><br><span class=\"line\">\t\tt=<span class=\"number\">2</span>*u;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"number\">2</span>*u<span class=\"number\">+1</span>&lt;=sz &amp;&amp; arr4[t]&gt;arr4[<span class=\"number\">2</span>*u<span class=\"number\">+1</span>])</span><br><span class=\"line\">\t\tt=<span class=\"number\">2</span>*u<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t!=u) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">swap</span>(arr4[t],arr4[u]);</span><br><span class=\"line\">\t\t<span class=\"built_in\">down</span>(t); <span class=\"comment\">// é€’å½’è°ƒæ•´</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸»å‡½æ•°éƒ¨åˆ†ï¼š</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æµ‹è¯•å †æ’åº</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">    cin&gt;&gt;arr4[i];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">sz=n; <span class=\"comment\">// åˆå§‹å †å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">// å»ºç«‹å°æ ¹å †</span></span><br><span class=\"line\"><span class=\"comment\">// n/2æ˜¯æœ€åä¸€ä¸ªæœ‰å­©å­çš„èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n/<span class=\"number\">2</span>;i;i--)</span><br><span class=\"line\">    <span class=\"built_in\">down</span>(i);</span><br><span class=\"line\"><span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">    cout&lt;&lt;arr4[<span class=\"number\">1</span>]&lt;&lt;<span class=\"string\">&quot; &quot;</span>; <span class=\"comment\">// è¾“å‡ºå †é¡¶</span></span><br><span class=\"line\">    arr4[<span class=\"number\">1</span>]=arr4[sz--]; <span class=\"comment\">// è°ƒæ•´å †é¡¶</span></span><br><span class=\"line\">    <span class=\"built_in\">down</span>(<span class=\"number\">1</span>); <span class=\"comment\">// è°ƒæ•´å †</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æœç´¢å¼€å…³é—®é¢˜","date":"2024-10-05T08:28:05.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœç´¢å¼€å…³é—®é¢˜\n\n<!-- toc -->\n\n\n\n> å¼€å…³é—®é¢˜æ˜¯RoysterCDDè‡ªå·±å–çš„åå­—ï¼Œè¡¨ç¤ºä¸€ç±»ç”¨ä½è¿ç®—è§£å†³çš„æœç´¢å˜ç§é—®é¢˜\n\n## [ä¾‹1]. ç¿»ç¡¬å¸\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211111035470.png\" alt=\"image-20240211111035470\" style=\"zoom:80%;\" />\n\n* æœ¬é¢˜çš„æ€è·¯æ˜¯ç›´æ¥ç”¨ä¸¤ä¸ªå­—ç¬¦æ•°ç»„$start$å’Œ$finish$æ¥å­˜å‚¨åˆå§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ï¼Œå› ä¸ºé¢˜ç›®è¯´ä¸€å®šæœ‰è§£ï¼Œæ‰€ä»¥å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„ï¼Œå‡ºç°çŠ¶æ€ä¸åŒï¼Œåˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸å³å¯ï¼Œå‡è®¾æ¯ä¸¤ä¸ªç¡¬å¸é—´å­˜åœ¨ä¸€ä¸ªå¼€å…³ï¼ŒæŒ‰ä¸‹è¯¥å¼€å…³å³å¯ç¿»è½¬ç›¸é‚»ä¸¤æšç¡¬å¸çš„çŠ¶æ€\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: ç»™ä½ ä¸€ä¸ªåˆå§‹çŠ¶æ€,ä¸€ä¸ªç›®æ ‡çŠ¶æ€,è¿˜æœ‰æŸç§æ“ä½œ,æœ€å¸¸ç”¨åšæ³•:BFS,åŒæ ·çš„é¢˜ç›®è¿˜æœ‰å…«æ•°ç \n// ä½†æ˜¯BFSæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜,å±€é¢å¾ˆå¤šçš„è¯åº”è€ƒè™‘å…¶ä»–åšæ³•,å¯ä»¥è€ƒè™‘å’Œè´¹è§£çš„å¼€å…³ç›¸åŒçš„åšæ³•\n// å‡è®¾æ¯ä¸¤ä¸ªç¯æ³¡ä¹‹é—´ä¸­é—´æœ‰ä¸€ä¸ªå¼€å…³,è¿™ä¸ªå¼€å…³æŒ‰ä¸‹åå¯ä»¥ç¿»è½¬å…¶ä¸¤ä¾§ç¯æ³¡çš„äº®ç­çŠ¶æ€\n// è¿™æ ·çš„è¯æƒ³ä»åˆå§‹çŠ¶æ€åˆ°æœ€ç»ˆçŠ¶æ€(å‡è®¾æ¯ä¸ªå¼€å…³åªæ‘ä¸€æ¬¡)åªæœ‰å”¯ä¸€çš„ä¸€ç»„è§£\n\nconst int N=100+10;\nint n;\nchar start[N],finish[N];\n\nvoid turn(int i) {\n\tif(start[i]=='*') start[i]='o';\n\telse start[i]='*';\n}\n\nint main() {\n\tcin>>start>>finish;\n\tn=strlen(start); // åˆå§‹çŠ¶æ€çš„é•¿åº¦,å³ç¡¬å¸çš„æ€»ä¸ªæ•°\n\tint res=0;\n\tfor(int i=0;i<n-1;i++) {\n        // å¦‚æœçŠ¶æ€ä¸ç›¸åŒ,åˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸çš„çŠ¶æ€\n\t\tif(start[i]!=finish[i]) {\n\t\t\tturn(i),turn(i+1);\n\t\t\tres++;\n\t\t}\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## [ä¾‹2]. è´¹è§£çš„å¼€å…³\n\n![image-20240211100922703](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211100922703.png)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211104635922.png\" alt=\"image-20240211104635922\" style=\"zoom:67%;\" />\n\n* é¢˜ç›®çš„æ€è·¯ï¼šè¾“å…¥å›¾çš„çŠ¶æ€åï¼Œæˆ‘ä»¬å¯¹ç¬¬ä¸€è¡Œç¯çš„æ“ä½œï¼Œå®é™…ä¸Šå°±èƒ½å¤Ÿç¡®å®šå‰©ä¸‹å››è¡Œæˆ‘ä»¬åº”è¯¥å¯¹ç¯è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œæ‰€ä»¥æšä¸¾ç¬¬ä¸€è¡Œçš„æ¯ç§æ“ä½œï¼Œä»$00000$åˆ°$11111$ï¼Œ$1$è¡¨ç¤ºç¿»è½¬ï¼Œ$0$è¡¨ç¤ºä¸ç¿»è½¬ï¼Œ$[0,31]$å…±$32$ç§æƒ…å†µï¼Œæ‰€ä»¥æšä¸¾$op=[0,31]$ï¼Œç”¨ä½è¿ç®—çš„æ–¹å¼åˆ¤æ–­æ¯ä¸€ä½æ˜¯å¦ä¸º$1$\n* å½“ç¬¬ä¸€è¡Œçš„æ“ä½œç¡®å®šåï¼Œæ¯”å¦‚$g[0,2]==0$ï¼Œé‚£æˆ‘ä»¬å°±è¦å»ç‚¹äº®ç¬¬äºŒè¡Œçš„$g[1,2]$ï¼Œç”¨ä¸Šä¸‹å·¦å³çš„ä¸Šæ–¹å‘å»ç‚¹äº®ç¬¬ä¸€è¡Œæœªè¢«ç‚¹äº®çš„ç¯ï¼Œå¯¹äºå‰©ä½™è¡Œçš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéå†å®Œåå¦‚æœæˆ‘ä»¬å‘ç°æœ€åä¸€è¡Œæœ‰æœªè¢«ç‚¹äº®çš„ç¯æˆ–è€…æ“ä½œæ•°å¤šäº6æ¬¡ï¼Œé‚£ä¹ˆå°±æ— æ³•è¾¾åˆ°ï¼Œè¾“å‡º$-1$å³å¯\n* å¯¹äºæ¯ç§ç¬¬ä¸€è¡Œçš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨$res=min(res,step)$æ¥æ›´æ–°æœ€å°çš„ç­”æ¡ˆï¼Œæœ¬é¢˜çš„æŠ€å·§è¿˜æœ‰ä½è¿ç®—çš„æŠ€å·§ã€äºŒè¿›åˆ¶çŠ¶æ€è¡¨ç¤ºã€å‡†å¤‡ä¸€ä¸ªå¤‡ä»½æ•°ç»„$backup[N][N]$ç”¨äºçŠ¶æ€å¤åŸç­‰\n\n```c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\nusing namespace std;\n\nconst int N=6;\nchar g[N][N],backup[N][N]; // å›¾å’Œå¤‡ä»½\nint dx[5]={-1,0,1,0,0},dy[5]={0,1,0,-1,0}; // äº”ä¸ªæ–¹ä½(0,0è¡¨ç¤ºæœ¬èº«è¿™ä¸ªç‚¹)\n\nvoid turn(int x,int y) {\n\tfor(int i=0;i<5;i++) {\n\t\tint a=x+dx[i], b=y+dy[i];\n\t\tif(a<0 || a>=5 || b<0 || b>=5) continue; // è¶Šç•Œå¤„ç†\n\t\t// å› ä¸º0å’Œ1çš„ASCIIç è¡¨ç¤ºåˆ†åˆ«ä¸º48(110000å’Œ49(110001)\n\t\t// æ‰€ä»¥åªéœ€è¦äº¦æˆ–ä¸€ä¸ª1,äº¦æˆ–0ä¸å˜,äº¦æˆ–1åè½¬,äº¦æˆ–ä¸€ä¸ª1åè½¬æœ€åä¸€ä½\n\t\tg[a][b]^=1; // å³å¯è®©48->49,49->48\n\t}\n}\n\nint main() {\n\t// æ¯ä¸€è¡Œå¼€å…³çš„æ“ä½œå®Œå…¨è¢«å‰ä¸€è¡Œç¯çš„äº®ç­çŠ¶æ€æ‰€ç¡®å®š\n\tint T;\n\tcin>>T;\n\twhile(T--) {\n\t\tfor(int i=0;i<5;i++) cin>>g[i]; // è¾“å…¥å›¾\n\t\tint res=10;\n\t\t\n\t\t// æˆ‘ä»¬æšä¸¾ç¬¬ä¸€è¡Œçš„æ“ä½œ\n\t\t// 0~31è¡¨ç¤ºçš„æ˜¯00000åˆ°11111(éå†æ¯ä¸€ç§æ“ä½œ,1è¡¨ç¤ºæˆ‘ä»¬ç¿»è½¬,0è¡¨ç¤ºä¸ç¿»è½¬)\n\t\tfor(int op=0;op<32;op++) {\n\t\t\tmemcpy(backup,g,sizeof g); // å¤åˆ¶gç»™backup,æ“ä½œg\n\t\t\tint step=0;\n\t\t\t// åˆ¤æ–­ç¬¬ä¸€è¡Œä¸­opå…±5ä½ä¸­å“ªä¸€ä½æ˜¯1\n\t\t\tfor(int i=0;i<5;i++) {\n\t\t\t\t// op>>i&1:å…ˆå³ç§»iä½,ç°åœ¨ç¬¬iä½å˜æˆæœ€ä½ä½,å†çœ‹æ˜¯å¦ä¸º1\n\t\t\t\tif(op>>i&1) {\n\t\t\t\t\tstep++; // ç»è¿‡ä¸€æ¬¡æ“ä½œ\n\t\t\t\t\tturn(0,i); // ç¿»è½¬ä¸º1çš„è¿™ä¸€ä½çš„çŠ¶æ€\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// æ‰€ä»¥ç¬¬ä¸€è¡Œçš„çŠ¶æ€å½±å“äº†æ¥ä¸‹æ¥æ‰€æœ‰è¡Œçš„çŠ¶æ€\n\t\t\t// éå†ç¬¬ä¸€è¡Œåˆ°å€’æ•°ç¬¬äºŒè¡Œ,å¦‚æœä¸º0çš„è¯å°±ç¿»è½¬\n\t\t\tfor(int i=0;i<4;i++) {\n\t\t\t\tfor(int j=0;j<5;j++) {\n\t\t\t\t\tif(g[i][j]=='0') {\n\t\t\t\t\t\tstep++; // å¦‚æœä¸º0é‚£ä¹ˆéœ€è¦ç¿»è½¬ä¸€æ¬¡\n\t\t\t\t\t\tturn(i+1,j); // ä¸‹ä¸€è¡Œçš„ç¬¬jä¸ªå…ƒç´ éœ€è¦ç¿»è½¬\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbool dark=false;\n\t\t\tfor(int i=0;i<5;i++) {\n\t\t\t\t// å¦‚æœæœ€åä¸€è¡Œæœ‰æ²¡äº®çš„,é‚£å°±åˆ«æ— ä»–æ³•äº†\n\t\t\t\tif(g[4][i]=='0') {\n\t\t\t\t\tdark=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!dark) res=min(res,step);\n\t\t\tmemcpy(g,backup,sizeof g); // æ¢å¤çŠ¶æ€\n\t\t}\n\t\tif(res>6) res=-1; // é¢˜ç›®è¦æ±‚ä¸èƒ½è¶…è¿‡6æ­¥\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## [ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105824073.png\" alt=\"image-20240211105824073\" style=\"zoom:80%;\" />\n\n![image-20240211105917746](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105917746.png)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105930997.png\" alt=\"image-20240211105930997\" style=\"zoom:80%;\" />\n\n* æœ¬é¢˜çš„æ€è·¯ç±»ä¼¼ï¼Œä¸€å…±$16$ä¸ªå¼€å…³ï¼Œæ‰€ä»¥æ–¹æ¡ˆæ€»æ•°æ˜¯$2^{16}=65535$ç§ï¼Œæ•…æšä¸¾$[0,2<<16]$æ¥è¡¨ç¤ºå¯¹äºè¿™$16$çš„å¼€å…³çš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ª$int$å‹çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æŸä¸€ä½çš„å€¼æ˜¯$1$è¡¨ç¤ºæˆ‘ä»¬è¦æ”¹å˜è¿™ä¸ªå¼€å…³çš„çŠ¶æ€ï¼Œ$0$åˆ™è¡¨ç¤ºä¸æ”¹å˜ï¼Œæšä¸¾æ¯ç§æ“ä½œï¼Œæœ€åçœ‹æ˜¯å¦èƒ½å¤Ÿä½¿æ‰€æœ‰æŠŠæ‰‹éƒ½æ‰“å¼€ï¼Œå¦‚æœå¯ä»¥çš„è¯æŠŠæ–¹æ¡ˆåŠ å…¥åˆ°$vector$æ•°ç»„ä¸­ï¼Œæœ€åæ‰“å°å³å¯\n* æŠ€å·§ï¼š$get(x,y)$å‡½æ•°è¿”å›çš„å€¼ä»£è¡¨äºŒç»´æ•°ç»„ä¸­å¯¹åº”ä½ç½®åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬å‡ ä¸ªå¼€å…³ï¼ˆä¸‹æ ‡ï¼‰\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºæ¯ä¸ªç¯æ³¡å¯ä»¥è¢«å¾ˆå¤šå¼€å…³æ‰€æ§åˆ¶\n// ç”¨æš´åŠ›æ³•æ¥åš,åªæœ‰4*4=16ä¸ªå¼€å…³,æ‰€ä»¥æ¯ä¸ªå¼€å…³å—¯çš„æ–¹æ¡ˆæ•°æ˜¯2^16=65536\n// æšä¸¾æ‰€æœ‰æ–¹æ¡ˆâ†’0~2^16-1,ç”¨äºŒè¿›åˆ¶è¡¨ç¤º,æŸä½ä¸º1æ˜¯æ‘ä¸‹,ä¸º0è¡¨ç¤ºä¸æ‘\n// æŒ‰ç…§è¯¥æ–¹æ¡ˆå¯¹æ‰€æœ‰ç¯æ³¡è¿›è¡Œæ“ä½œ,åˆ¤æ–­ç¯æ³¡æ˜¯ä¸æ˜¯å…¨äº®,æ˜¯çš„è¯åˆ™è®°å½•æ–¹æ¡ˆ\n// ç°åœ¨è¦æ±‚:æ­¥æ•°æœ€å°/å­—å…¸åºæœ€å°(ä»å°åˆ°å¤§æ’åºå°±å¯ä»¥äº†)\n\nconst int N=5;\nchar g[N][N],backup[N][N];\n\n// è¿”å›çš„æ˜¯(x,y)ä¸Šçš„æ•°æ˜¯ç¬¬å‡ ä¸ªå¼€å…³,ä»ä¸Šå¾€ä¸‹ä»å·¦å¾€å³ç¼–å·\nint get(int x,int y) {\n\treturn x*4+y; // ä»0~15\n}\n\n// \"+\"å’Œ\"-\"ç¿»è½¬\nvoid turn_one(int x,int y) {\n\tif(g[x][y]=='+') g[x][y]='-';\n\telse g[x][y]='+';\n}\n\nvoid turn_all(int x,int y) {\n\tfor(int i=0;i<4;i++) {\n\t\tturn_one(x,i); // è¿™ä¸€è¡Œä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€\n\t\tturn_one(i,y); // è¿™ä¸€åˆ—ä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€\n\t}\n\tturn_one(x,y); // å› ä¸º(x,y)åœ¨è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—äº¤æ±‡å¤„,æ‰€ä»¥ç¿»è½¬ä¸¤æ¬¡ç›¸å½“äºæ²¡æœ‰ç¿»è½¬,å†å•ç‹¬ç¿»è½¬ä¸€æ¬¡\n}\n\nint main() {\n\tfor(int i=0;i<4;i++) {\n\t\tcin>>g[i];\n\t}\n\tvector<PII> res; // å­˜å‚¨æ‰€æœ‰çš„æ–¹æ¡ˆ\n\t// æšä¸¾æ¯ç§æ“ä½œæƒ…å†µ,æ¯ä¸ªå¼€å…³å¯¹åº”å¼€å’Œä¸å¼€ä¸¤ç§çŠ¶æ€,æ–¹æ¡ˆæ•°æ˜¯2^16\n\tfor(int op=0;op<1<<16;op++) {\n\t\tvector<PII> temp; // æ¯æ¬¡æ–°å¼€ä¸€ä¸ª,ç›¸å½“äºæ¸…ç©ºäº†\n\t\tmemcpy(backup,g,sizeof g); // å¤‡ä»½å›¾\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tfor(int j=0;j<4;j++) {\n\t\t\t\t// å¦‚æœopåœ¨è¿™ä¸€ä½ä¸Šçš„å€¼ä¸º1\n\t\t\t\tif(op>>get(i,j)&1) {\n\t\t\t\t\t// å‘tempä¸­è®°å½•ä¸€ä¸‹æ“ä½œæ•°\n\t\t\t\t\ttemp.push_back({i,j});\n\t\t\t\t\tturn_all(i,j); // è¿›è¡Œä¸€æ¬¡åè½¬æ“ä½œ\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\t\t// åˆ¤æ–­æ‰€æœ‰ç¯æ³¡æ˜¯å¦å…¨äº®\n\t\tbool has_closed=false;\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tfor(int j=0;j<4;j++) {\n\t\t\t\tif(g[i][j]=='+')\n\t\t\t\t\thas_closed=true;\n\t\t\t}\n\t\t}\n\t\tif(has_closed==false) {\n\t\t\tif(res.empty()||res.size()>temp.size()) res=temp;\n\t\t}\n\t\tmemcpy(g,backup,sizeof g); // è¿˜åŸ\n\t}\n\t\n\tcout<<res.size()<<endl; // æ–¹æ¡ˆæ€»æ•°\n\t// æ‰“å°æ¯ä¸€ç§æ–¹æ¡ˆ\n\tfor(auto op:res) cout<<op.x+1<<' '<<op.y+1<<endl; // åæ ‡+1\n\t\n\treturn 0;\n}\n```\n","source":"_posts/æœç´¢å¼€å…³é—®é¢˜.md","raw":"---\ntitle: æœç´¢å¼€å…³é—®é¢˜\ndate: 2024-10-05 16:28:05\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æœç´¢\n    - ä½è¿ç®—\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœç´¢å¼€å…³é—®é¢˜\n\n<!-- toc -->\n\n\n\n> å¼€å…³é—®é¢˜æ˜¯RoysterCDDè‡ªå·±å–çš„åå­—ï¼Œè¡¨ç¤ºä¸€ç±»ç”¨ä½è¿ç®—è§£å†³çš„æœç´¢å˜ç§é—®é¢˜\n\n## [ä¾‹1]. ç¿»ç¡¬å¸\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211111035470.png\" alt=\"image-20240211111035470\" style=\"zoom:80%;\" />\n\n* æœ¬é¢˜çš„æ€è·¯æ˜¯ç›´æ¥ç”¨ä¸¤ä¸ªå­—ç¬¦æ•°ç»„$start$å’Œ$finish$æ¥å­˜å‚¨åˆå§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ï¼Œå› ä¸ºé¢˜ç›®è¯´ä¸€å®šæœ‰è§£ï¼Œæ‰€ä»¥å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„ï¼Œå‡ºç°çŠ¶æ€ä¸åŒï¼Œåˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸å³å¯ï¼Œå‡è®¾æ¯ä¸¤ä¸ªç¡¬å¸é—´å­˜åœ¨ä¸€ä¸ªå¼€å…³ï¼ŒæŒ‰ä¸‹è¯¥å¼€å…³å³å¯ç¿»è½¬ç›¸é‚»ä¸¤æšç¡¬å¸çš„çŠ¶æ€\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: ç»™ä½ ä¸€ä¸ªåˆå§‹çŠ¶æ€,ä¸€ä¸ªç›®æ ‡çŠ¶æ€,è¿˜æœ‰æŸç§æ“ä½œ,æœ€å¸¸ç”¨åšæ³•:BFS,åŒæ ·çš„é¢˜ç›®è¿˜æœ‰å…«æ•°ç \n// ä½†æ˜¯BFSæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜,å±€é¢å¾ˆå¤šçš„è¯åº”è€ƒè™‘å…¶ä»–åšæ³•,å¯ä»¥è€ƒè™‘å’Œè´¹è§£çš„å¼€å…³ç›¸åŒçš„åšæ³•\n// å‡è®¾æ¯ä¸¤ä¸ªç¯æ³¡ä¹‹é—´ä¸­é—´æœ‰ä¸€ä¸ªå¼€å…³,è¿™ä¸ªå¼€å…³æŒ‰ä¸‹åå¯ä»¥ç¿»è½¬å…¶ä¸¤ä¾§ç¯æ³¡çš„äº®ç­çŠ¶æ€\n// è¿™æ ·çš„è¯æƒ³ä»åˆå§‹çŠ¶æ€åˆ°æœ€ç»ˆçŠ¶æ€(å‡è®¾æ¯ä¸ªå¼€å…³åªæ‘ä¸€æ¬¡)åªæœ‰å”¯ä¸€çš„ä¸€ç»„è§£\n\nconst int N=100+10;\nint n;\nchar start[N],finish[N];\n\nvoid turn(int i) {\n\tif(start[i]=='*') start[i]='o';\n\telse start[i]='*';\n}\n\nint main() {\n\tcin>>start>>finish;\n\tn=strlen(start); // åˆå§‹çŠ¶æ€çš„é•¿åº¦,å³ç¡¬å¸çš„æ€»ä¸ªæ•°\n\tint res=0;\n\tfor(int i=0;i<n-1;i++) {\n        // å¦‚æœçŠ¶æ€ä¸ç›¸åŒ,åˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸çš„çŠ¶æ€\n\t\tif(start[i]!=finish[i]) {\n\t\t\tturn(i),turn(i+1);\n\t\t\tres++;\n\t\t}\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## [ä¾‹2]. è´¹è§£çš„å¼€å…³\n\n![image-20240211100922703](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211100922703.png)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211104635922.png\" alt=\"image-20240211104635922\" style=\"zoom:67%;\" />\n\n* é¢˜ç›®çš„æ€è·¯ï¼šè¾“å…¥å›¾çš„çŠ¶æ€åï¼Œæˆ‘ä»¬å¯¹ç¬¬ä¸€è¡Œç¯çš„æ“ä½œï¼Œå®é™…ä¸Šå°±èƒ½å¤Ÿç¡®å®šå‰©ä¸‹å››è¡Œæˆ‘ä»¬åº”è¯¥å¯¹ç¯è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œæ‰€ä»¥æšä¸¾ç¬¬ä¸€è¡Œçš„æ¯ç§æ“ä½œï¼Œä»$00000$åˆ°$11111$ï¼Œ$1$è¡¨ç¤ºç¿»è½¬ï¼Œ$0$è¡¨ç¤ºä¸ç¿»è½¬ï¼Œ$[0,31]$å…±$32$ç§æƒ…å†µï¼Œæ‰€ä»¥æšä¸¾$op=[0,31]$ï¼Œç”¨ä½è¿ç®—çš„æ–¹å¼åˆ¤æ–­æ¯ä¸€ä½æ˜¯å¦ä¸º$1$\n* å½“ç¬¬ä¸€è¡Œçš„æ“ä½œç¡®å®šåï¼Œæ¯”å¦‚$g[0,2]==0$ï¼Œé‚£æˆ‘ä»¬å°±è¦å»ç‚¹äº®ç¬¬äºŒè¡Œçš„$g[1,2]$ï¼Œç”¨ä¸Šä¸‹å·¦å³çš„ä¸Šæ–¹å‘å»ç‚¹äº®ç¬¬ä¸€è¡Œæœªè¢«ç‚¹äº®çš„ç¯ï¼Œå¯¹äºå‰©ä½™è¡Œçš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéå†å®Œåå¦‚æœæˆ‘ä»¬å‘ç°æœ€åä¸€è¡Œæœ‰æœªè¢«ç‚¹äº®çš„ç¯æˆ–è€…æ“ä½œæ•°å¤šäº6æ¬¡ï¼Œé‚£ä¹ˆå°±æ— æ³•è¾¾åˆ°ï¼Œè¾“å‡º$-1$å³å¯\n* å¯¹äºæ¯ç§ç¬¬ä¸€è¡Œçš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨$res=min(res,step)$æ¥æ›´æ–°æœ€å°çš„ç­”æ¡ˆï¼Œæœ¬é¢˜çš„æŠ€å·§è¿˜æœ‰ä½è¿ç®—çš„æŠ€å·§ã€äºŒè¿›åˆ¶çŠ¶æ€è¡¨ç¤ºã€å‡†å¤‡ä¸€ä¸ªå¤‡ä»½æ•°ç»„$backup[N][N]$ç”¨äºçŠ¶æ€å¤åŸç­‰\n\n```c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\nusing namespace std;\n\nconst int N=6;\nchar g[N][N],backup[N][N]; // å›¾å’Œå¤‡ä»½\nint dx[5]={-1,0,1,0,0},dy[5]={0,1,0,-1,0}; // äº”ä¸ªæ–¹ä½(0,0è¡¨ç¤ºæœ¬èº«è¿™ä¸ªç‚¹)\n\nvoid turn(int x,int y) {\n\tfor(int i=0;i<5;i++) {\n\t\tint a=x+dx[i], b=y+dy[i];\n\t\tif(a<0 || a>=5 || b<0 || b>=5) continue; // è¶Šç•Œå¤„ç†\n\t\t// å› ä¸º0å’Œ1çš„ASCIIç è¡¨ç¤ºåˆ†åˆ«ä¸º48(110000å’Œ49(110001)\n\t\t// æ‰€ä»¥åªéœ€è¦äº¦æˆ–ä¸€ä¸ª1,äº¦æˆ–0ä¸å˜,äº¦æˆ–1åè½¬,äº¦æˆ–ä¸€ä¸ª1åè½¬æœ€åä¸€ä½\n\t\tg[a][b]^=1; // å³å¯è®©48->49,49->48\n\t}\n}\n\nint main() {\n\t// æ¯ä¸€è¡Œå¼€å…³çš„æ“ä½œå®Œå…¨è¢«å‰ä¸€è¡Œç¯çš„äº®ç­çŠ¶æ€æ‰€ç¡®å®š\n\tint T;\n\tcin>>T;\n\twhile(T--) {\n\t\tfor(int i=0;i<5;i++) cin>>g[i]; // è¾“å…¥å›¾\n\t\tint res=10;\n\t\t\n\t\t// æˆ‘ä»¬æšä¸¾ç¬¬ä¸€è¡Œçš„æ“ä½œ\n\t\t// 0~31è¡¨ç¤ºçš„æ˜¯00000åˆ°11111(éå†æ¯ä¸€ç§æ“ä½œ,1è¡¨ç¤ºæˆ‘ä»¬ç¿»è½¬,0è¡¨ç¤ºä¸ç¿»è½¬)\n\t\tfor(int op=0;op<32;op++) {\n\t\t\tmemcpy(backup,g,sizeof g); // å¤åˆ¶gç»™backup,æ“ä½œg\n\t\t\tint step=0;\n\t\t\t// åˆ¤æ–­ç¬¬ä¸€è¡Œä¸­opå…±5ä½ä¸­å“ªä¸€ä½æ˜¯1\n\t\t\tfor(int i=0;i<5;i++) {\n\t\t\t\t// op>>i&1:å…ˆå³ç§»iä½,ç°åœ¨ç¬¬iä½å˜æˆæœ€ä½ä½,å†çœ‹æ˜¯å¦ä¸º1\n\t\t\t\tif(op>>i&1) {\n\t\t\t\t\tstep++; // ç»è¿‡ä¸€æ¬¡æ“ä½œ\n\t\t\t\t\tturn(0,i); // ç¿»è½¬ä¸º1çš„è¿™ä¸€ä½çš„çŠ¶æ€\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// æ‰€ä»¥ç¬¬ä¸€è¡Œçš„çŠ¶æ€å½±å“äº†æ¥ä¸‹æ¥æ‰€æœ‰è¡Œçš„çŠ¶æ€\n\t\t\t// éå†ç¬¬ä¸€è¡Œåˆ°å€’æ•°ç¬¬äºŒè¡Œ,å¦‚æœä¸º0çš„è¯å°±ç¿»è½¬\n\t\t\tfor(int i=0;i<4;i++) {\n\t\t\t\tfor(int j=0;j<5;j++) {\n\t\t\t\t\tif(g[i][j]=='0') {\n\t\t\t\t\t\tstep++; // å¦‚æœä¸º0é‚£ä¹ˆéœ€è¦ç¿»è½¬ä¸€æ¬¡\n\t\t\t\t\t\tturn(i+1,j); // ä¸‹ä¸€è¡Œçš„ç¬¬jä¸ªå…ƒç´ éœ€è¦ç¿»è½¬\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbool dark=false;\n\t\t\tfor(int i=0;i<5;i++) {\n\t\t\t\t// å¦‚æœæœ€åä¸€è¡Œæœ‰æ²¡äº®çš„,é‚£å°±åˆ«æ— ä»–æ³•äº†\n\t\t\t\tif(g[4][i]=='0') {\n\t\t\t\t\tdark=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!dark) res=min(res,step);\n\t\t\tmemcpy(g,backup,sizeof g); // æ¢å¤çŠ¶æ€\n\t\t}\n\t\tif(res>6) res=-1; // é¢˜ç›®è¦æ±‚ä¸èƒ½è¶…è¿‡6æ­¥\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## [ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105824073.png\" alt=\"image-20240211105824073\" style=\"zoom:80%;\" />\n\n![image-20240211105917746](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105917746.png)\n\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105930997.png\" alt=\"image-20240211105930997\" style=\"zoom:80%;\" />\n\n* æœ¬é¢˜çš„æ€è·¯ç±»ä¼¼ï¼Œä¸€å…±$16$ä¸ªå¼€å…³ï¼Œæ‰€ä»¥æ–¹æ¡ˆæ€»æ•°æ˜¯$2^{16}=65535$ç§ï¼Œæ•…æšä¸¾$[0,2<<16]$æ¥è¡¨ç¤ºå¯¹äºè¿™$16$çš„å¼€å…³çš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ª$int$å‹çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æŸä¸€ä½çš„å€¼æ˜¯$1$è¡¨ç¤ºæˆ‘ä»¬è¦æ”¹å˜è¿™ä¸ªå¼€å…³çš„çŠ¶æ€ï¼Œ$0$åˆ™è¡¨ç¤ºä¸æ”¹å˜ï¼Œæšä¸¾æ¯ç§æ“ä½œï¼Œæœ€åçœ‹æ˜¯å¦èƒ½å¤Ÿä½¿æ‰€æœ‰æŠŠæ‰‹éƒ½æ‰“å¼€ï¼Œå¦‚æœå¯ä»¥çš„è¯æŠŠæ–¹æ¡ˆåŠ å…¥åˆ°$vector$æ•°ç»„ä¸­ï¼Œæœ€åæ‰“å°å³å¯\n* æŠ€å·§ï¼š$get(x,y)$å‡½æ•°è¿”å›çš„å€¼ä»£è¡¨äºŒç»´æ•°ç»„ä¸­å¯¹åº”ä½ç½®åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬å‡ ä¸ªå¼€å…³ï¼ˆä¸‹æ ‡ï¼‰\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºæ¯ä¸ªç¯æ³¡å¯ä»¥è¢«å¾ˆå¤šå¼€å…³æ‰€æ§åˆ¶\n// ç”¨æš´åŠ›æ³•æ¥åš,åªæœ‰4*4=16ä¸ªå¼€å…³,æ‰€ä»¥æ¯ä¸ªå¼€å…³å—¯çš„æ–¹æ¡ˆæ•°æ˜¯2^16=65536\n// æšä¸¾æ‰€æœ‰æ–¹æ¡ˆâ†’0~2^16-1,ç”¨äºŒè¿›åˆ¶è¡¨ç¤º,æŸä½ä¸º1æ˜¯æ‘ä¸‹,ä¸º0è¡¨ç¤ºä¸æ‘\n// æŒ‰ç…§è¯¥æ–¹æ¡ˆå¯¹æ‰€æœ‰ç¯æ³¡è¿›è¡Œæ“ä½œ,åˆ¤æ–­ç¯æ³¡æ˜¯ä¸æ˜¯å…¨äº®,æ˜¯çš„è¯åˆ™è®°å½•æ–¹æ¡ˆ\n// ç°åœ¨è¦æ±‚:æ­¥æ•°æœ€å°/å­—å…¸åºæœ€å°(ä»å°åˆ°å¤§æ’åºå°±å¯ä»¥äº†)\n\nconst int N=5;\nchar g[N][N],backup[N][N];\n\n// è¿”å›çš„æ˜¯(x,y)ä¸Šçš„æ•°æ˜¯ç¬¬å‡ ä¸ªå¼€å…³,ä»ä¸Šå¾€ä¸‹ä»å·¦å¾€å³ç¼–å·\nint get(int x,int y) {\n\treturn x*4+y; // ä»0~15\n}\n\n// \"+\"å’Œ\"-\"ç¿»è½¬\nvoid turn_one(int x,int y) {\n\tif(g[x][y]=='+') g[x][y]='-';\n\telse g[x][y]='+';\n}\n\nvoid turn_all(int x,int y) {\n\tfor(int i=0;i<4;i++) {\n\t\tturn_one(x,i); // è¿™ä¸€è¡Œä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€\n\t\tturn_one(i,y); // è¿™ä¸€åˆ—ä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€\n\t}\n\tturn_one(x,y); // å› ä¸º(x,y)åœ¨è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—äº¤æ±‡å¤„,æ‰€ä»¥ç¿»è½¬ä¸¤æ¬¡ç›¸å½“äºæ²¡æœ‰ç¿»è½¬,å†å•ç‹¬ç¿»è½¬ä¸€æ¬¡\n}\n\nint main() {\n\tfor(int i=0;i<4;i++) {\n\t\tcin>>g[i];\n\t}\n\tvector<PII> res; // å­˜å‚¨æ‰€æœ‰çš„æ–¹æ¡ˆ\n\t// æšä¸¾æ¯ç§æ“ä½œæƒ…å†µ,æ¯ä¸ªå¼€å…³å¯¹åº”å¼€å’Œä¸å¼€ä¸¤ç§çŠ¶æ€,æ–¹æ¡ˆæ•°æ˜¯2^16\n\tfor(int op=0;op<1<<16;op++) {\n\t\tvector<PII> temp; // æ¯æ¬¡æ–°å¼€ä¸€ä¸ª,ç›¸å½“äºæ¸…ç©ºäº†\n\t\tmemcpy(backup,g,sizeof g); // å¤‡ä»½å›¾\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tfor(int j=0;j<4;j++) {\n\t\t\t\t// å¦‚æœopåœ¨è¿™ä¸€ä½ä¸Šçš„å€¼ä¸º1\n\t\t\t\tif(op>>get(i,j)&1) {\n\t\t\t\t\t// å‘tempä¸­è®°å½•ä¸€ä¸‹æ“ä½œæ•°\n\t\t\t\t\ttemp.push_back({i,j});\n\t\t\t\t\tturn_all(i,j); // è¿›è¡Œä¸€æ¬¡åè½¬æ“ä½œ\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\t\t// åˆ¤æ–­æ‰€æœ‰ç¯æ³¡æ˜¯å¦å…¨äº®\n\t\tbool has_closed=false;\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tfor(int j=0;j<4;j++) {\n\t\t\t\tif(g[i][j]=='+')\n\t\t\t\t\thas_closed=true;\n\t\t\t}\n\t\t}\n\t\tif(has_closed==false) {\n\t\t\tif(res.empty()||res.size()>temp.size()) res=temp;\n\t\t}\n\t\tmemcpy(g,backup,sizeof g); // è¿˜åŸ\n\t}\n\t\n\tcout<<res.size()<<endl; // æ–¹æ¡ˆæ€»æ•°\n\t// æ‰“å°æ¯ä¸€ç§æ–¹æ¡ˆ\n\tfor(auto op:res) cout<<op.x+1<<' '<<op.y+1<<endl; // åæ ‡+1\n\t\n\treturn 0;\n}\n```\n","slug":"æœç´¢å¼€å…³é—®é¢˜","published":1,"updated":"2024-10-05T08:39:39.354Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptc003hc0nf7ym54h8s","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"æœç´¢å¼€å…³é—®é¢˜\">æœç´¢å¼€å…³é—®é¢˜</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#%E4%BE%8B1-%E7%BF%BB%E7%A1%AC%E5%B8%81\">[ä¾‹1]. ç¿»ç¡¬å¸</a></li>\n<li><a href=\"#%E4%BE%8B2-%E8%B4%B9%E8%A7%A3%E7%9A%84%E5%BC%80%E5%85%B3\">[ä¾‹2]. è´¹è§£çš„å¼€å…³</a></li>\n<li><a href=\"#%E4%BE%8B3-%E9%A3%9E%E8%A1%8C%E5%91%98%E5%85%84%E5%BC%9F\">[ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>å¼€å…³é—®é¢˜æ˜¯RoysterCDDè‡ªå·±å–çš„åå­—ï¼Œè¡¨ç¤ºä¸€ç±»ç”¨ä½è¿ç®—è§£å†³çš„æœç´¢å˜ç§é—®é¢˜</p>\n</blockquote>\n<h2><span id=\"ä¾‹1-ç¿»ç¡¬å¸\">[ä¾‹1]. ç¿»ç¡¬å¸</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211111035470.png\" alt=\"image-20240211111035470\" style=\"zoom:80%;\">\n\n<ul>\n<li>æœ¬é¢˜çš„æ€è·¯æ˜¯ç›´æ¥ç”¨ä¸¤ä¸ªå­—ç¬¦æ•°ç»„$start$å’Œ$finish$æ¥å­˜å‚¨åˆå§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ï¼Œå› ä¸ºé¢˜ç›®è¯´ä¸€å®šæœ‰è§£ï¼Œæ‰€ä»¥å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„ï¼Œå‡ºç°çŠ¶æ€ä¸åŒï¼Œåˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸å³å¯ï¼Œå‡è®¾æ¯ä¸¤ä¸ªç¡¬å¸é—´å­˜åœ¨ä¸€ä¸ªå¼€å…³ï¼ŒæŒ‰ä¸‹è¯¥å¼€å…³å³å¯ç¿»è½¬ç›¸é‚»ä¸¤æšç¡¬å¸çš„çŠ¶æ€</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: ç»™ä½ ä¸€ä¸ªåˆå§‹çŠ¶æ€,ä¸€ä¸ªç›®æ ‡çŠ¶æ€,è¿˜æœ‰æŸç§æ“ä½œ,æœ€å¸¸ç”¨åšæ³•:BFS,åŒæ ·çš„é¢˜ç›®è¿˜æœ‰å…«æ•°ç </span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯BFSæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜,å±€é¢å¾ˆå¤šçš„è¯åº”è€ƒè™‘å…¶ä»–åšæ³•,å¯ä»¥è€ƒè™‘å’Œè´¹è§£çš„å¼€å…³ç›¸åŒçš„åšæ³•</span></span><br><span class=\"line\"><span class=\"comment\">// å‡è®¾æ¯ä¸¤ä¸ªç¯æ³¡ä¹‹é—´ä¸­é—´æœ‰ä¸€ä¸ªå¼€å…³,è¿™ä¸ªå¼€å…³æŒ‰ä¸‹åå¯ä»¥ç¿»è½¬å…¶ä¸¤ä¾§ç¯æ³¡çš„äº®ç­çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·çš„è¯æƒ³ä»åˆå§‹çŠ¶æ€åˆ°æœ€ç»ˆçŠ¶æ€(å‡è®¾æ¯ä¸ªå¼€å…³åªæ‘ä¸€æ¬¡)åªæœ‰å”¯ä¸€çš„ä¸€ç»„è§£</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">100</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">char</span> start[N],finish[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn</span><span class=\"params\">(<span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(start[i]==<span class=\"string\">&#x27;*&#x27;</span>) start[i]=<span class=\"string\">&#x27;o&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> start[i]=<span class=\"string\">&#x27;*&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;start&gt;&gt;finish;</span><br><span class=\"line\">\tn=<span class=\"built_in\">strlen</span>(start); <span class=\"comment\">// åˆå§‹çŠ¶æ€çš„é•¿åº¦,å³ç¡¬å¸çš„æ€»ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœçŠ¶æ€ä¸ç›¸åŒ,åˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸çš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(start[i]!=finish[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">turn</span>(i),<span class=\"built_in\">turn</span>(i<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"ä¾‹2-è´¹è§£çš„å¼€å…³\">[ä¾‹2]. è´¹è§£çš„å¼€å…³</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211100922703.png\" alt=\"image-20240211100922703\"></p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211104635922.png\" alt=\"image-20240211104635922\" style=\"zoom:67%;\">\n\n<ul>\n<li>é¢˜ç›®çš„æ€è·¯ï¼šè¾“å…¥å›¾çš„çŠ¶æ€åï¼Œæˆ‘ä»¬å¯¹ç¬¬ä¸€è¡Œç¯çš„æ“ä½œï¼Œå®é™…ä¸Šå°±èƒ½å¤Ÿç¡®å®šå‰©ä¸‹å››è¡Œæˆ‘ä»¬åº”è¯¥å¯¹ç¯è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œæ‰€ä»¥æšä¸¾ç¬¬ä¸€è¡Œçš„æ¯ç§æ“ä½œï¼Œä»$00000$åˆ°$11111$ï¼Œ$1$è¡¨ç¤ºç¿»è½¬ï¼Œ$0$è¡¨ç¤ºä¸ç¿»è½¬ï¼Œ$[0,31]$å…±$32$ç§æƒ…å†µï¼Œæ‰€ä»¥æšä¸¾$op&#x3D;[0,31]$ï¼Œç”¨ä½è¿ç®—çš„æ–¹å¼åˆ¤æ–­æ¯ä¸€ä½æ˜¯å¦ä¸º$1$</li>\n<li>å½“ç¬¬ä¸€è¡Œçš„æ“ä½œç¡®å®šåï¼Œæ¯”å¦‚$g[0,2]&#x3D;&#x3D;0$ï¼Œé‚£æˆ‘ä»¬å°±è¦å»ç‚¹äº®ç¬¬äºŒè¡Œçš„$g[1,2]$ï¼Œç”¨ä¸Šä¸‹å·¦å³çš„ä¸Šæ–¹å‘å»ç‚¹äº®ç¬¬ä¸€è¡Œæœªè¢«ç‚¹äº®çš„ç¯ï¼Œå¯¹äºå‰©ä½™è¡Œçš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéå†å®Œåå¦‚æœæˆ‘ä»¬å‘ç°æœ€åä¸€è¡Œæœ‰æœªè¢«ç‚¹äº®çš„ç¯æˆ–è€…æ“ä½œæ•°å¤šäº6æ¬¡ï¼Œé‚£ä¹ˆå°±æ— æ³•è¾¾åˆ°ï¼Œè¾“å‡º$-1$å³å¯</li>\n<li>å¯¹äºæ¯ç§ç¬¬ä¸€è¡Œçš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨$res&#x3D;min(res,step)$æ¥æ›´æ–°æœ€å°çš„ç­”æ¡ˆï¼Œæœ¬é¢˜çš„æŠ€å·§è¿˜æœ‰ä½è¿ç®—çš„æŠ€å·§ã€äºŒè¿›åˆ¶çŠ¶æ€è¡¨ç¤ºã€å‡†å¤‡ä¸€ä¸ªå¤‡ä»½æ•°ç»„$backup[N][N]$ç”¨äºçŠ¶æ€å¤åŸç­‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N],backup[N][N]; <span class=\"comment\">// å›¾å’Œå¤‡ä»½</span></span><br><span class=\"line\"><span class=\"type\">int</span> dx[<span class=\"number\">5</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;,dy[<span class=\"number\">5</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>&#125;; <span class=\"comment\">// äº”ä¸ªæ–¹ä½(0,0è¡¨ç¤ºæœ¬èº«è¿™ä¸ªç‚¹)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=x+dx[i], b=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a&lt;<span class=\"number\">0</span> || a&gt;=<span class=\"number\">5</span> || b&lt;<span class=\"number\">0</span> || b&gt;=<span class=\"number\">5</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å› ä¸º0å’Œ1çš„ASCIIç è¡¨ç¤ºåˆ†åˆ«ä¸º48(110000å’Œ49(110001)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰€ä»¥åªéœ€è¦äº¦æˆ–ä¸€ä¸ª1,äº¦æˆ–0ä¸å˜,äº¦æˆ–1åè½¬,äº¦æˆ–ä¸€ä¸ª1åè½¬æœ€åä¸€ä½</span></span><br><span class=\"line\">\t\tg[a][b]^=<span class=\"number\">1</span>; <span class=\"comment\">// å³å¯è®©48-&gt;49,49-&gt;48</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯ä¸€è¡Œå¼€å…³çš„æ“ä½œå®Œå…¨è¢«å‰ä¸€è¡Œç¯çš„äº®ç­çŠ¶æ€æ‰€ç¡®å®š</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> T;</span><br><span class=\"line\">\tcin&gt;&gt;T;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(T--) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) cin&gt;&gt;g[i]; <span class=\"comment\">// è¾“å…¥å›¾</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> res=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// æˆ‘ä»¬æšä¸¾ç¬¬ä¸€è¡Œçš„æ“ä½œ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 0~31è¡¨ç¤ºçš„æ˜¯00000åˆ°11111(éå†æ¯ä¸€ç§æ“ä½œ,1è¡¨ç¤ºæˆ‘ä»¬ç¿»è½¬,0è¡¨ç¤ºä¸ç¿»è½¬)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> op=<span class=\"number\">0</span>;op&lt;<span class=\"number\">32</span>;op++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">memcpy</span>(backup,g,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// å¤åˆ¶gç»™backup,æ“ä½œg</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> step=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆ¤æ–­ç¬¬ä¸€è¡Œä¸­opå…±5ä½ä¸­å“ªä¸€ä½æ˜¯1</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// op&gt;&gt;i&amp;1:å…ˆå³ç§»iä½,ç°åœ¨ç¬¬iä½å˜æˆæœ€ä½ä½,å†çœ‹æ˜¯å¦ä¸º1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(op&gt;&gt;i&amp;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tstep++; <span class=\"comment\">// ç»è¿‡ä¸€æ¬¡æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">turn</span>(<span class=\"number\">0</span>,i); <span class=\"comment\">// ç¿»è½¬ä¸º1çš„è¿™ä¸€ä½çš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰€ä»¥ç¬¬ä¸€è¡Œçš„çŠ¶æ€å½±å“äº†æ¥ä¸‹æ¥æ‰€æœ‰è¡Œçš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†ç¬¬ä¸€è¡Œåˆ°å€’æ•°ç¬¬äºŒè¡Œ,å¦‚æœä¸º0çš„è¯å°±ç¿»è½¬</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">5</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tstep++; <span class=\"comment\">// å¦‚æœä¸º0é‚£ä¹ˆéœ€è¦ç¿»è½¬ä¸€æ¬¡</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">turn</span>(i<span class=\"number\">+1</span>,j); <span class=\"comment\">// ä¸‹ä¸€è¡Œçš„ç¬¬jä¸ªå…ƒç´ éœ€è¦ç¿»è½¬</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"type\">bool</span> dark=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœæœ€åä¸€è¡Œæœ‰æ²¡äº®çš„,é‚£å°±åˆ«æ— ä»–æ³•äº†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(g[<span class=\"number\">4</span>][i]==<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tdark=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dark) res=<span class=\"built_in\">min</span>(res,step);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">memcpy</span>(g,backup,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// æ¢å¤çŠ¶æ€</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(res&gt;<span class=\"number\">6</span>) res=<span class=\"number\">-1</span>; <span class=\"comment\">// é¢˜ç›®è¦æ±‚ä¸èƒ½è¶…è¿‡6æ­¥</span></span><br><span class=\"line\">\t\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"ä¾‹3-é£è¡Œå‘˜å…„å¼Ÿ\">[ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ</span></h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105824073.png\" alt=\"image-20240211105824073\" style=\"zoom:80%;\">\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105917746.png\" alt=\"image-20240211105917746\"></p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105930997.png\" alt=\"image-20240211105930997\" style=\"zoom:80%;\">\n\n<ul>\n<li>æœ¬é¢˜çš„æ€è·¯ç±»ä¼¼ï¼Œä¸€å…±$16$ä¸ªå¼€å…³ï¼Œæ‰€ä»¥æ–¹æ¡ˆæ€»æ•°æ˜¯$2^{16}&#x3D;65535$ç§ï¼Œæ•…æšä¸¾$[0,2&lt;&lt;16]$æ¥è¡¨ç¤ºå¯¹äºè¿™$16$çš„å¼€å…³çš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ª$int$å‹çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æŸä¸€ä½çš„å€¼æ˜¯$1$è¡¨ç¤ºæˆ‘ä»¬è¦æ”¹å˜è¿™ä¸ªå¼€å…³çš„çŠ¶æ€ï¼Œ$0$åˆ™è¡¨ç¤ºä¸æ”¹å˜ï¼Œæšä¸¾æ¯ç§æ“ä½œï¼Œæœ€åçœ‹æ˜¯å¦èƒ½å¤Ÿä½¿æ‰€æœ‰æŠŠæ‰‹éƒ½æ‰“å¼€ï¼Œå¦‚æœå¯ä»¥çš„è¯æŠŠæ–¹æ¡ˆåŠ å…¥åˆ°$vector$æ•°ç»„ä¸­ï¼Œæœ€åæ‰“å°å³å¯</li>\n<li>æŠ€å·§ï¼š$get(x,y)$å‡½æ•°è¿”å›çš„å€¼ä»£è¡¨äºŒç»´æ•°ç»„ä¸­å¯¹åº”ä½ç½®åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬å‡ ä¸ªå¼€å…³ï¼ˆä¸‹æ ‡ï¼‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºæ¯ä¸ªç¯æ³¡å¯ä»¥è¢«å¾ˆå¤šå¼€å…³æ‰€æ§åˆ¶</span></span><br><span class=\"line\"><span class=\"comment\">// ç”¨æš´åŠ›æ³•æ¥åš,åªæœ‰4*4=16ä¸ªå¼€å…³,æ‰€ä»¥æ¯ä¸ªå¼€å…³å—¯çš„æ–¹æ¡ˆæ•°æ˜¯2^16=65536</span></span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾æ‰€æœ‰æ–¹æ¡ˆâ†’0~2^16-1,ç”¨äºŒè¿›åˆ¶è¡¨ç¤º,æŸä½ä¸º1æ˜¯æ‘ä¸‹,ä¸º0è¡¨ç¤ºä¸æ‘</span></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰ç…§è¯¥æ–¹æ¡ˆå¯¹æ‰€æœ‰ç¯æ³¡è¿›è¡Œæ“ä½œ,åˆ¤æ–­ç¯æ³¡æ˜¯ä¸æ˜¯å…¨äº®,æ˜¯çš„è¯åˆ™è®°å½•æ–¹æ¡ˆ</span></span><br><span class=\"line\"><span class=\"comment\">// ç°åœ¨è¦æ±‚:æ­¥æ•°æœ€å°/å­—å…¸åºæœ€å°(ä»å°åˆ°å¤§æ’åºå°±å¯ä»¥äº†)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N],backup[N][N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿”å›çš„æ˜¯(x,y)ä¸Šçš„æ•°æ˜¯ç¬¬å‡ ä¸ªå¼€å…³,ä»ä¸Šå¾€ä¸‹ä»å·¦å¾€å³ç¼–å·</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> x*<span class=\"number\">4</span>+y; <span class=\"comment\">// ä»0~15</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &quot;+&quot;å’Œ&quot;-&quot;ç¿»è½¬</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn_one</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(g[x][y]==<span class=\"string\">&#x27;+&#x27;</span>) g[x][y]=<span class=\"string\">&#x27;-&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> g[x][y]=<span class=\"string\">&#x27;+&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn_all</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">turn_one</span>(x,i); <span class=\"comment\">// è¿™ä¸€è¡Œä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">turn_one</span>(i,y); <span class=\"comment\">// è¿™ä¸€åˆ—ä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">turn_one</span>(x,y); <span class=\"comment\">// å› ä¸º(x,y)åœ¨è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—äº¤æ±‡å¤„,æ‰€ä»¥ç¿»è½¬ä¸¤æ¬¡ç›¸å½“äºæ²¡æœ‰ç¿»è½¬,å†å•ç‹¬ç¿»è½¬ä¸€æ¬¡</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;g[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tvector&lt;PII&gt; res; <span class=\"comment\">// å­˜å‚¨æ‰€æœ‰çš„æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾æ¯ç§æ“ä½œæƒ…å†µ,æ¯ä¸ªå¼€å…³å¯¹åº”å¼€å’Œä¸å¼€ä¸¤ç§çŠ¶æ€,æ–¹æ¡ˆæ•°æ˜¯2^16</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> op=<span class=\"number\">0</span>;op&lt;<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">16</span>;op++) &#123;</span><br><span class=\"line\">\t\tvector&lt;PII&gt; temp; <span class=\"comment\">// æ¯æ¬¡æ–°å¼€ä¸€ä¸ª,ç›¸å½“äºæ¸…ç©ºäº†</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(backup,g,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// å¤‡ä»½å›¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœopåœ¨è¿™ä¸€ä½ä¸Šçš„å€¼ä¸º1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(op&gt;&gt;<span class=\"built_in\">get</span>(i,j)&amp;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// å‘tempä¸­è®°å½•ä¸€ä¸‹æ“ä½œæ•°</span></span><br><span class=\"line\">\t\t\t\t\ttemp.<span class=\"built_in\">push_back</span>(&#123;i,j&#125;);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">turn_all</span>(i,j); <span class=\"comment\">// è¿›è¡Œä¸€æ¬¡åè½¬æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ‰€æœ‰ç¯æ³¡æ˜¯å¦å…¨äº®</span></span><br><span class=\"line\">\t\t<span class=\"type\">bool</span> has_closed=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;+&#x27;</span>)</span><br><span class=\"line\">\t\t\t\t\thas_closed=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(has_closed==<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(res.<span class=\"built_in\">empty</span>()||res.<span class=\"built_in\">size</span>()&gt;temp.<span class=\"built_in\">size</span>()) res=temp;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(g,backup,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// è¿˜åŸ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcout&lt;&lt;res.<span class=\"built_in\">size</span>()&lt;&lt;endl; <span class=\"comment\">// æ–¹æ¡ˆæ€»æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°æ¯ä¸€ç§æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> op:res) cout&lt;&lt;op.x<span class=\"number\">+1</span>&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;op.y<span class=\"number\">+1</span>&lt;&lt;endl; <span class=\"comment\">// åæ ‡+1</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"æœç´¢å¼€å…³é—®é¢˜\"><a href=\"#æœç´¢å¼€å…³é—®é¢˜\" class=\"headerlink\" title=\"æœç´¢å¼€å…³é—®é¢˜\"></a>æœç´¢å¼€å…³é—®é¢˜</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#%E4%BE%8B1-%E7%BF%BB%E7%A1%AC%E5%B8%81\">[ä¾‹1]. ç¿»ç¡¬å¸</a></li>\n<li><a href=\"#%E4%BE%8B2-%E8%B4%B9%E8%A7%A3%E7%9A%84%E5%BC%80%E5%85%B3\">[ä¾‹2]. è´¹è§£çš„å¼€å…³</a></li>\n<li><a href=\"#%E4%BE%8B3-%E9%A3%9E%E8%A1%8C%E5%91%98%E5%85%84%E5%BC%9F\">[ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>å¼€å…³é—®é¢˜æ˜¯RoysterCDDè‡ªå·±å–çš„åå­—ï¼Œè¡¨ç¤ºä¸€ç±»ç”¨ä½è¿ç®—è§£å†³çš„æœç´¢å˜ç§é—®é¢˜</p>\n</blockquote>\n<h2 id=\"ä¾‹1-ç¿»ç¡¬å¸\"><a href=\"#ä¾‹1-ç¿»ç¡¬å¸\" class=\"headerlink\" title=\"[ä¾‹1]. ç¿»ç¡¬å¸\"></a>[ä¾‹1]. ç¿»ç¡¬å¸</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211111035470.png\" alt=\"image-20240211111035470\" style=\"zoom:80%;\" />\n\n<ul>\n<li>æœ¬é¢˜çš„æ€è·¯æ˜¯ç›´æ¥ç”¨ä¸¤ä¸ªå­—ç¬¦æ•°ç»„$start$å’Œ$finish$æ¥å­˜å‚¨åˆå§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€ï¼Œå› ä¸ºé¢˜ç›®è¯´ä¸€å®šæœ‰è§£ï¼Œæ‰€ä»¥å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„ï¼Œå‡ºç°çŠ¶æ€ä¸åŒï¼Œåˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸å³å¯ï¼Œå‡è®¾æ¯ä¸¤ä¸ªç¡¬å¸é—´å­˜åœ¨ä¸€ä¸ªå¼€å…³ï¼ŒæŒ‰ä¸‹è¯¥å¼€å…³å³å¯ç¿»è½¬ç›¸é‚»ä¸¤æšç¡¬å¸çš„çŠ¶æ€</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: ç»™ä½ ä¸€ä¸ªåˆå§‹çŠ¶æ€,ä¸€ä¸ªç›®æ ‡çŠ¶æ€,è¿˜æœ‰æŸç§æ“ä½œ,æœ€å¸¸ç”¨åšæ³•:BFS,åŒæ ·çš„é¢˜ç›®è¿˜æœ‰å…«æ•°ç </span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯BFSæ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜,å±€é¢å¾ˆå¤šçš„è¯åº”è€ƒè™‘å…¶ä»–åšæ³•,å¯ä»¥è€ƒè™‘å’Œè´¹è§£çš„å¼€å…³ç›¸åŒçš„åšæ³•</span></span><br><span class=\"line\"><span class=\"comment\">// å‡è®¾æ¯ä¸¤ä¸ªç¯æ³¡ä¹‹é—´ä¸­é—´æœ‰ä¸€ä¸ªå¼€å…³,è¿™ä¸ªå¼€å…³æŒ‰ä¸‹åå¯ä»¥ç¿»è½¬å…¶ä¸¤ä¾§ç¯æ³¡çš„äº®ç­çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"comment\">// è¿™æ ·çš„è¯æƒ³ä»åˆå§‹çŠ¶æ€åˆ°æœ€ç»ˆçŠ¶æ€(å‡è®¾æ¯ä¸ªå¼€å…³åªæ‘ä¸€æ¬¡)åªæœ‰å”¯ä¸€çš„ä¸€ç»„è§£</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">100</span><span class=\"number\">+10</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">char</span> start[N],finish[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn</span><span class=\"params\">(<span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(start[i]==<span class=\"string\">&#x27;*&#x27;</span>) start[i]=<span class=\"string\">&#x27;o&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> start[i]=<span class=\"string\">&#x27;*&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;start&gt;&gt;finish;</span><br><span class=\"line\">\tn=<span class=\"built_in\">strlen</span>(start); <span class=\"comment\">// åˆå§‹çŠ¶æ€çš„é•¿åº¦,å³ç¡¬å¸çš„æ€»ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœçŠ¶æ€ä¸ç›¸åŒ,åˆ™ç¿»è½¬è¯¥ç¡¬å¸å’Œç›¸é‚»ç¡¬å¸çš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(start[i]!=finish[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">turn</span>(i),<span class=\"built_in\">turn</span>(i<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"ä¾‹2-è´¹è§£çš„å¼€å…³\"><a href=\"#ä¾‹2-è´¹è§£çš„å¼€å…³\" class=\"headerlink\" title=\"[ä¾‹2]. è´¹è§£çš„å¼€å…³\"></a>[ä¾‹2]. è´¹è§£çš„å¼€å…³</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211100922703.png\" alt=\"image-20240211100922703\"></p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211104635922.png\" alt=\"image-20240211104635922\" style=\"zoom:67%;\" />\n\n<ul>\n<li>é¢˜ç›®çš„æ€è·¯ï¼šè¾“å…¥å›¾çš„çŠ¶æ€åï¼Œæˆ‘ä»¬å¯¹ç¬¬ä¸€è¡Œç¯çš„æ“ä½œï¼Œå®é™…ä¸Šå°±èƒ½å¤Ÿç¡®å®šå‰©ä¸‹å››è¡Œæˆ‘ä»¬åº”è¯¥å¯¹ç¯è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œæ‰€ä»¥æšä¸¾ç¬¬ä¸€è¡Œçš„æ¯ç§æ“ä½œï¼Œä»$00000$åˆ°$11111$ï¼Œ$1$è¡¨ç¤ºç¿»è½¬ï¼Œ$0$è¡¨ç¤ºä¸ç¿»è½¬ï¼Œ$[0,31]$å…±$32$ç§æƒ…å†µï¼Œæ‰€ä»¥æšä¸¾$op&#x3D;[0,31]$ï¼Œç”¨ä½è¿ç®—çš„æ–¹å¼åˆ¤æ–­æ¯ä¸€ä½æ˜¯å¦ä¸º$1$</li>\n<li>å½“ç¬¬ä¸€è¡Œçš„æ“ä½œç¡®å®šåï¼Œæ¯”å¦‚$g[0,2]&#x3D;&#x3D;0$ï¼Œé‚£æˆ‘ä»¬å°±è¦å»ç‚¹äº®ç¬¬äºŒè¡Œçš„$g[1,2]$ï¼Œç”¨ä¸Šä¸‹å·¦å³çš„ä¸Šæ–¹å‘å»ç‚¹äº®ç¬¬ä¸€è¡Œæœªè¢«ç‚¹äº®çš„ç¯ï¼Œå¯¹äºå‰©ä½™è¡Œçš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéå†å®Œåå¦‚æœæˆ‘ä»¬å‘ç°æœ€åä¸€è¡Œæœ‰æœªè¢«ç‚¹äº®çš„ç¯æˆ–è€…æ“ä½œæ•°å¤šäº6æ¬¡ï¼Œé‚£ä¹ˆå°±æ— æ³•è¾¾åˆ°ï¼Œè¾“å‡º$-1$å³å¯</li>\n<li>å¯¹äºæ¯ç§ç¬¬ä¸€è¡Œçš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨$res&#x3D;min(res,step)$æ¥æ›´æ–°æœ€å°çš„ç­”æ¡ˆï¼Œæœ¬é¢˜çš„æŠ€å·§è¿˜æœ‰ä½è¿ç®—çš„æŠ€å·§ã€äºŒè¿›åˆ¶çŠ¶æ€è¡¨ç¤ºã€å‡†å¤‡ä¸€ä¸ªå¤‡ä»½æ•°ç»„$backup[N][N]$ç”¨äºçŠ¶æ€å¤åŸç­‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N],backup[N][N]; <span class=\"comment\">// å›¾å’Œå¤‡ä»½</span></span><br><span class=\"line\"><span class=\"type\">int</span> dx[<span class=\"number\">5</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;,dy[<span class=\"number\">5</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>&#125;; <span class=\"comment\">// äº”ä¸ªæ–¹ä½(0,0è¡¨ç¤ºæœ¬èº«è¿™ä¸ªç‚¹)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=x+dx[i], b=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a&lt;<span class=\"number\">0</span> || a&gt;=<span class=\"number\">5</span> || b&lt;<span class=\"number\">0</span> || b&gt;=<span class=\"number\">5</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å› ä¸º0å’Œ1çš„ASCIIç è¡¨ç¤ºåˆ†åˆ«ä¸º48(110000å’Œ49(110001)</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰€ä»¥åªéœ€è¦äº¦æˆ–ä¸€ä¸ª1,äº¦æˆ–0ä¸å˜,äº¦æˆ–1åè½¬,äº¦æˆ–ä¸€ä¸ª1åè½¬æœ€åä¸€ä½</span></span><br><span class=\"line\">\t\tg[a][b]^=<span class=\"number\">1</span>; <span class=\"comment\">// å³å¯è®©48-&gt;49,49-&gt;48</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯ä¸€è¡Œå¼€å…³çš„æ“ä½œå®Œå…¨è¢«å‰ä¸€è¡Œç¯çš„äº®ç­çŠ¶æ€æ‰€ç¡®å®š</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> T;</span><br><span class=\"line\">\tcin&gt;&gt;T;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(T--) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) cin&gt;&gt;g[i]; <span class=\"comment\">// è¾“å…¥å›¾</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> res=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// æˆ‘ä»¬æšä¸¾ç¬¬ä¸€è¡Œçš„æ“ä½œ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 0~31è¡¨ç¤ºçš„æ˜¯00000åˆ°11111(éå†æ¯ä¸€ç§æ“ä½œ,1è¡¨ç¤ºæˆ‘ä»¬ç¿»è½¬,0è¡¨ç¤ºä¸ç¿»è½¬)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> op=<span class=\"number\">0</span>;op&lt;<span class=\"number\">32</span>;op++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">memcpy</span>(backup,g,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// å¤åˆ¶gç»™backup,æ“ä½œg</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> step=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆ¤æ–­ç¬¬ä¸€è¡Œä¸­opå…±5ä½ä¸­å“ªä¸€ä½æ˜¯1</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// op&gt;&gt;i&amp;1:å…ˆå³ç§»iä½,ç°åœ¨ç¬¬iä½å˜æˆæœ€ä½ä½,å†çœ‹æ˜¯å¦ä¸º1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(op&gt;&gt;i&amp;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tstep++; <span class=\"comment\">// ç»è¿‡ä¸€æ¬¡æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">turn</span>(<span class=\"number\">0</span>,i); <span class=\"comment\">// ç¿»è½¬ä¸º1çš„è¿™ä¸€ä½çš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰€ä»¥ç¬¬ä¸€è¡Œçš„çŠ¶æ€å½±å“äº†æ¥ä¸‹æ¥æ‰€æœ‰è¡Œçš„çŠ¶æ€</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†ç¬¬ä¸€è¡Œåˆ°å€’æ•°ç¬¬äºŒè¡Œ,å¦‚æœä¸º0çš„è¯å°±ç¿»è½¬</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">5</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tstep++; <span class=\"comment\">// å¦‚æœä¸º0é‚£ä¹ˆéœ€è¦ç¿»è½¬ä¸€æ¬¡</span></span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">turn</span>(i<span class=\"number\">+1</span>,j); <span class=\"comment\">// ä¸‹ä¸€è¡Œçš„ç¬¬jä¸ªå…ƒç´ éœ€è¦ç¿»è½¬</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"type\">bool</span> dark=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœæœ€åä¸€è¡Œæœ‰æ²¡äº®çš„,é‚£å°±åˆ«æ— ä»–æ³•äº†</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(g[<span class=\"number\">4</span>][i]==<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\tdark=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!dark) res=<span class=\"built_in\">min</span>(res,step);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">memcpy</span>(g,backup,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// æ¢å¤çŠ¶æ€</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(res&gt;<span class=\"number\">6</span>) res=<span class=\"number\">-1</span>; <span class=\"comment\">// é¢˜ç›®è¦æ±‚ä¸èƒ½è¶…è¿‡6æ­¥</span></span><br><span class=\"line\">\t\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"ä¾‹3-é£è¡Œå‘˜å…„å¼Ÿ\"><a href=\"#ä¾‹3-é£è¡Œå‘˜å…„å¼Ÿ\" class=\"headerlink\" title=\"[ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ\"></a>[ä¾‹3]. é£è¡Œå‘˜å…„å¼Ÿ</h2><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105824073.png\" alt=\"image-20240211105824073\" style=\"zoom:80%;\" />\n\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105917746.png\" alt=\"image-20240211105917746\"></p>\n<img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240211105930997.png\" alt=\"image-20240211105930997\" style=\"zoom:80%;\" />\n\n<ul>\n<li>æœ¬é¢˜çš„æ€è·¯ç±»ä¼¼ï¼Œä¸€å…±$16$ä¸ªå¼€å…³ï¼Œæ‰€ä»¥æ–¹æ¡ˆæ€»æ•°æ˜¯$2^{16}&#x3D;65535$ç§ï¼Œæ•…æšä¸¾$[0,2&lt;&lt;16]$æ¥è¡¨ç¤ºå¯¹äºè¿™$16$çš„å¼€å…³çš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ª$int$å‹çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æŸä¸€ä½çš„å€¼æ˜¯$1$è¡¨ç¤ºæˆ‘ä»¬è¦æ”¹å˜è¿™ä¸ªå¼€å…³çš„çŠ¶æ€ï¼Œ$0$åˆ™è¡¨ç¤ºä¸æ”¹å˜ï¼Œæšä¸¾æ¯ç§æ“ä½œï¼Œæœ€åçœ‹æ˜¯å¦èƒ½å¤Ÿä½¿æ‰€æœ‰æŠŠæ‰‹éƒ½æ‰“å¼€ï¼Œå¦‚æœå¯ä»¥çš„è¯æŠŠæ–¹æ¡ˆåŠ å…¥åˆ°$vector$æ•°ç»„ä¸­ï¼Œæœ€åæ‰“å°å³å¯</li>\n<li>æŠ€å·§ï¼š$get(x,y)$å‡½æ•°è¿”å›çš„å€¼ä»£è¡¨äºŒç»´æ•°ç»„ä¸­å¯¹åº”ä½ç½®åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬å‡ ä¸ªå¼€å…³ï¼ˆä¸‹æ ‡ï¼‰</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: æœ¬é¢˜çš„éš¾ç‚¹åœ¨äºæ¯ä¸ªç¯æ³¡å¯ä»¥è¢«å¾ˆå¤šå¼€å…³æ‰€æ§åˆ¶</span></span><br><span class=\"line\"><span class=\"comment\">// ç”¨æš´åŠ›æ³•æ¥åš,åªæœ‰4*4=16ä¸ªå¼€å…³,æ‰€ä»¥æ¯ä¸ªå¼€å…³å—¯çš„æ–¹æ¡ˆæ•°æ˜¯2^16=65536</span></span><br><span class=\"line\"><span class=\"comment\">// æšä¸¾æ‰€æœ‰æ–¹æ¡ˆâ†’0~2^16-1,ç”¨äºŒè¿›åˆ¶è¡¨ç¤º,æŸä½ä¸º1æ˜¯æ‘ä¸‹,ä¸º0è¡¨ç¤ºä¸æ‘</span></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰ç…§è¯¥æ–¹æ¡ˆå¯¹æ‰€æœ‰ç¯æ³¡è¿›è¡Œæ“ä½œ,åˆ¤æ–­ç¯æ³¡æ˜¯ä¸æ˜¯å…¨äº®,æ˜¯çš„è¯åˆ™è®°å½•æ–¹æ¡ˆ</span></span><br><span class=\"line\"><span class=\"comment\">// ç°åœ¨è¦æ±‚:æ­¥æ•°æœ€å°/å­—å…¸åºæœ€å°(ä»å°åˆ°å¤§æ’åºå°±å¯ä»¥äº†)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">char</span> g[N][N],backup[N][N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿”å›çš„æ˜¯(x,y)ä¸Šçš„æ•°æ˜¯ç¬¬å‡ ä¸ªå¼€å…³,ä»ä¸Šå¾€ä¸‹ä»å·¦å¾€å³ç¼–å·</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> x*<span class=\"number\">4</span>+y; <span class=\"comment\">// ä»0~15</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &quot;+&quot;å’Œ&quot;-&quot;ç¿»è½¬</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn_one</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(g[x][y]==<span class=\"string\">&#x27;+&#x27;</span>) g[x][y]=<span class=\"string\">&#x27;-&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> g[x][y]=<span class=\"string\">&#x27;+&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">turn_all</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">turn_one</span>(x,i); <span class=\"comment\">// è¿™ä¸€è¡Œä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">turn_one</span>(i,y); <span class=\"comment\">// è¿™ä¸€åˆ—ä¸Šçš„æ•°ç¿»è½¬çŠ¶æ€</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">turn_one</span>(x,y); <span class=\"comment\">// å› ä¸º(x,y)åœ¨è¿™ä¸€è¡Œå’Œè¿™ä¸€åˆ—äº¤æ±‡å¤„,æ‰€ä»¥ç¿»è½¬ä¸¤æ¬¡ç›¸å½“äºæ²¡æœ‰ç¿»è½¬,å†å•ç‹¬ç¿»è½¬ä¸€æ¬¡</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;g[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tvector&lt;PII&gt; res; <span class=\"comment\">// å­˜å‚¨æ‰€æœ‰çš„æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾æ¯ç§æ“ä½œæƒ…å†µ,æ¯ä¸ªå¼€å…³å¯¹åº”å¼€å’Œä¸å¼€ä¸¤ç§çŠ¶æ€,æ–¹æ¡ˆæ•°æ˜¯2^16</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> op=<span class=\"number\">0</span>;op&lt;<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">16</span>;op++) &#123;</span><br><span class=\"line\">\t\tvector&lt;PII&gt; temp; <span class=\"comment\">// æ¯æ¬¡æ–°å¼€ä¸€ä¸ª,ç›¸å½“äºæ¸…ç©ºäº†</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(backup,g,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// å¤‡ä»½å›¾</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å¦‚æœopåœ¨è¿™ä¸€ä½ä¸Šçš„å€¼ä¸º1</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(op&gt;&gt;<span class=\"built_in\">get</span>(i,j)&amp;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// å‘tempä¸­è®°å½•ä¸€ä¸‹æ“ä½œæ•°</span></span><br><span class=\"line\">\t\t\t\t\ttemp.<span class=\"built_in\">push_back</span>(&#123;i,j&#125;);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">turn_all</span>(i,j); <span class=\"comment\">// è¿›è¡Œä¸€æ¬¡åè½¬æ“ä½œ</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­æ‰€æœ‰ç¯æ³¡æ˜¯å¦å…¨äº®</span></span><br><span class=\"line\">\t\t<span class=\"type\">bool</span> has_closed=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(g[i][j]==<span class=\"string\">&#x27;+&#x27;</span>)</span><br><span class=\"line\">\t\t\t\t\thas_closed=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(has_closed==<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(res.<span class=\"built_in\">empty</span>()||res.<span class=\"built_in\">size</span>()&gt;temp.<span class=\"built_in\">size</span>()) res=temp;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">memcpy</span>(g,backup,<span class=\"keyword\">sizeof</span> g); <span class=\"comment\">// è¿˜åŸ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcout&lt;&lt;res.<span class=\"built_in\">size</span>()&lt;&lt;endl; <span class=\"comment\">// æ–¹æ¡ˆæ€»æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°æ¯ä¸€ç§æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> op:res) cout&lt;&lt;op.x<span class=\"number\">+1</span>&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;op.y<span class=\"number\">+1</span>&lt;&lt;endl; <span class=\"comment\">// åæ ‡+1</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æœç´¢æ€»ç»“","date":"2024-10-05T08:21:50.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœç´¢æ€»ç»“\n\n<!-- toc -->\n\n\n\n## 1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS\n\n> æ•°æ®ç»“æ„ stackï¼Œç©ºé—´å¤æ‚åº¦O(n)ï¼Œä¸å…·æœ‰æœ€çŸ­æ€§ï¼Œæ·±æœé—®é¢˜æ²¡æœ‰æ¨¡æ¿\n\n* å…³é”®åœ¨äºï¼šå‰ªæå’Œå›æº¯\n\n### 1.1. å…¨æ’åˆ—é—®é¢˜\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int maxn=10;\n\nint n;\nint path[maxn]; // æ¯ä¸€æ­¥å¡«çš„æ•°å­—\nbool st[maxn]; // éå†çŠ¶æ€\n\n// æ·±åº¦ä¼˜å…ˆ\nvoid dfs(int u) {\n\t// è·³å‡ºæ¡ä»¶\n\tif(u==n) {\n\t\tfor(int i=0;i<n;i++) \n\t\t\tcout<<path[i]<<' ';\n\t\tcout<<endl;\n\t\treturn;\n\t}\n\t// å¦‚æœè¿˜æ²¡æœ‰å¡«æ»¡,ä»æ•°å­—1å¼€å§‹\n\tfor(int i=1;i<=n;i++) {\n\t\tif(!st[i]) {\n\t\t\tpath[u]=i;\n\t\t\tst[i]=true;\n\t\t\t// è¿›å…¥ä¸‹ä¸€å±‚\n\t\t\tdfs(u+1);\n\t\t\t// å›æº¯\n\t\t\tst[i]=false;\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(0);\n\treturn 0;\n}\n```\n\n\n\n### 1.2. nçš‡åé—®é¢˜\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nint n; // çš‡åä¸ªæ•°\nconst int maxn=9; // æœ€å¤§çš‡åä¸ªæ•°\nint x[maxn+1]; // å­˜æ”¾çš‡åä½ç½®,x[i]è¡¨ç¤ºç¬¬iä¸ªçš‡åçš„åœ¨ç¬¬å‡ åˆ—\nint res; // nçš‡åçš„å¯è¡Œè§£ä¸ªæ•°\n\n// åˆ¤æ–­ç¬¬iä¸ªçš‡åæ”¾ç½®åœ¨x[i]åˆ—æ˜¯å¦ä¼šå‘ç”Ÿå†²çª\nbool place(int j) {\n\t// j=1~i-1æ˜¯å·²ç»æ”¾ç½®äº†çš‡åçš„è¡Œ\n\tfor(int i=1;i<j;i++) {\n\t\t// xæ•°ç»„çš„ç‰©ç†æ€§è´¨å†³å®šä¸¤ä¸ªçš‡åä¸ä¼šå‘ç”Ÿè¡Œå†²çª\n\t\t// x[j]==x[i]:å‘ç”Ÿåˆ—å†²çª\n\t\t// abs(i-j)==abs(x[i]-x[j]):å‘ç”Ÿå¯¹è§’çº¿å†²çª,å¯ç”»å›¾æ¨å¯¼\n\t\tif(x[j]==x[i] || abs(i-j)==abs(x[i]-x[j]))\n\t\t\treturn false; // å†²çªå°±è¿”å›false\n\t}\n\treturn true;\n}\n\n// æ‰“å°æ£‹ç›˜\nvoid print() {\n\tres++; // ç­”æ¡ˆ+1\n\t// éå†æ¯ä¸ªçš‡å\n\tfor(int i=1;i<=n;i++) {\n\t\t// éå†æ¯ä¸€åˆ—\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\t// å¦‚æœçš‡åæ‰€åœ¨åˆ—å°±æ˜¯j,æ‰“å°'Q'\n\t\t\tif(x[i]==j)\n\t\t\t\tcout<<'Q';\n\t\t\telse\n\t\t\t\tcout<<'.';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n}\n\n// æ”¾ç½®æ¯ä¸ªçš‡åçš„æ·±åº¦ä¼˜å…ˆæœç´¢å‡½æ•°\nvoid dfs(int u) {\n\t// éå†ç¬¬1åˆ—åˆ°nåˆ—\n\tfor(int j=1;j<=n;j++) {\n\t\t// å…ˆæŠŠçš‡åæ”¾åˆ°ç¬¬jåˆ—\n\t\tx[u]=j;\n\t\t// å¦‚æœç¬¬uä¸ªçš‡åæ”¾åœ¨è¿™åˆ—ä¸å†²çª\n\t\tif(place(u)) {\n\t\t\t// æ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œè§£,ç›´æ¥æ‰“å°\n\t\t\tif(u==n)\n\t\t\t\tprint();\n\t\t\t// å‘ä¸‹é€’å½’\n\t\t\telse\n\t\t\t\tdfs(u+1);\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(1); // ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹\n\tcout<<\"å¯è¡Œè§£ä¸€å…±æœ‰ \"<<res<<\" ä¸ª\"<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS\n\n> æ•°æ®ç»“æ„ queueï¼Œç©ºé—´å¤æ‚åº¦O(2^n)ï¼Œæœ€çŸ­è·¯ï¼Œå®½æœé—®é¢˜æœ‰æ¨¡æ¿\n\n### 2.1. èµ°è¿·å®«\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e2+2;\nint n,m; // åœ°å›¾èŒƒå›´\nint g[N][N]; // å­˜å›¾çš„æƒ…å†µ\nint d[N][N]; // æ¯ä¸ªç‚¹åˆ°åˆå§‹ç‚¹çš„è·ç¦»\nPII q[N*N]; // BFSçš„é˜Ÿåˆ—\nPII Prev[N][N]; // è®°å½•éå†çš„é¡ºåº\n\nint bfs() {\n\t// hh:é˜Ÿå¤´,å½“å‰è¦å¤„ç†å…ƒç´ çš„ä¸‹æ ‡\n\t// tt:é˜Ÿå°¾,æœ€åä¸€ä¸ªå…¥é˜Ÿå…ƒç´ çš„ä¸‹æ ‡\n\tint hh=0,tt=0;\n\tq[0]={0,0}; \n\t\n\t// åˆå§‹åŒ–,è¡¨ç¤ºå®³æ²¡æœ‰ä»»ä½•ç‚¹ç»è¿‡\n\tmemset(d,-1,sizeof d);\n\td[0][0]=0;\n\t\n\t// å‘é‡è¡¨ç¤ºå››ä¸ªæ–¹å‘\n\tint dx[4]={-1,0,1,0};\n\tint dy[4]={0,1,0,-1};\n\t\n\twhile(hh<=tt) {\n\t\tauto t=q[hh++]; // å–å‡ºé˜Ÿå¤´\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tint x=t.first+dx[i],y=t.second+dy[i];\n\t\t\t// å¦‚æœæ²¡æœ‰è¶…å‡ºåœ°å›¾èŒƒå›´ä¸”g[x][y]=0ä¸”æ²¡æœ‰åˆ°è¿‡\n\t\t\tif(x>=0 && x<n && y>=0 && y<m && g[x][y]==0 && d[x][y]==-1) {\n\t\t\t\td[x][y]=d[t.first][t.second]+1; // è·ç¦»åŠ 1\n\t\t\t\tPrev[x][y]=t; // è®°å½•ä¸Šä¸€æ­¥\n\t\t\t\tq[++tt]={x,y}; // æŠŠx,yæ”¾è¿›é˜Ÿå¤´\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// è¾“å‡ºè·¯å¾„\n//\tint x=n-1,y=m-1;\n//\t// [0,1] [1,0]éƒ½å¯ä»¥è¾“å‡º\n//\twhile(x||y) {\n//\t\tcout<<x<<' '<<y<<endl;\n//\t\tauto t=Prev[x][y];\n//\t\tx=t.first,y=t.second;\n//\t}\n\t\n\t// è¿”å›è·ç¦»\n\treturn d[n-1][m-1];\n}\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥å›¾\n\tfor(int i=0;i<n;i++) {\n\t\tfor(int j=0;j<m;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\n\t}\n\t\n\tcout<<bfs()<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 2.2. å…«æ•°ç \n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ULL;\ntypedef pair<int,int> PII;\n\n// å…«é‡ç :ç±»ä¼¼äºä¸€ä¸ªæ•°å­—åå®¹é“å˜›,æ±‚ç§»åŠ¨çš„æœ€å°‘æ­¥æ•°(BFS)\n// éš¾ç‚¹åœ¨äºçŠ¶æ€è¡¨ç¤ºæ¯”è¾ƒå¤æ‚,æ¯ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ª3*3çš„å°çŸ©é˜µ\n// é—®é¢˜ä¸€:é˜Ÿåˆ—,å¦‚æœæŠŠæ¯ä¸ªçŠ¶æ€æ”¾è¿›é˜Ÿåˆ—ä¸­ \"12345678x\"\n// é—®é¢˜äºŒ:å¦‚ä½•è®¡ç®—æ¯ä¸ªçŠ¶æ€çš„è·ç¦» \"queue<string>,unordered_map<string,int>\"\n\nqueue<string> q; // å®šä¹‰é˜Ÿåˆ—\n// è®©å­—ç¬¦ä¸²æ˜ å°„åˆ°intç±»å‹çš„å€¼\nunordered_map<string,int> d; // é€šè¿‡å“ˆå¸Œè¡¨æ¥è®©å­—ç¬¦ä¸²å˜åŒ–æ—¶å’Œç§»åŠ¨çš„è·ç¦»æ•°å€¼å…³è”\n\nint bfs(string st)\n{\n\tq.push(st); // å°†å­—ç¬¦ä¸²å…¥é˜Ÿ\n\td[st]=0; // å°†åˆå§‹çŠ¶æ€çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼è®¾å®šä¸º0\n\t\n\tint dx[4]={-1,0,1,0},dy[4]={0,1,0,-1}; // å®šä¹‰å››ä¸ªæ–¹å‘å‘é‡\n\t\n\t// 5åœ¨ä¸€ç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡æ˜¯4\n\tstring end=\"12345678x\"; // å®šä¹‰å®½åº¦ä¼˜å…ˆæœç´ çš„ç»ˆæ­¢çŠ¶æ€\n\twhile(q.size()) // å¾ªç¯ç»ˆæ­¢çŠ¶æ€\n\t{\n\t\tauto t=q.front(); // å°†é˜Ÿåˆ—ä¸­å­˜ç€çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™t\n\t\tq.pop(); // é˜Ÿå¤´å…ƒç´ å¼¹å‡º\n\t\t\n\t\tif(t==end) \n\t\t\treturn d[t]; // å¦‚æœå½“å‰å­—ç¬¦ä¸²ç­‰äºç»ˆæ­¢çŠ¶æ€æœç´¢ç»“æŸè¿”å›è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼\n\t\t//æ­¤å¤„çš„å“ˆå¸Œå‡½æ•°å€¼å¯¹åº”äºå­—ç¬¦ä¸²ç§»åŠ¨çš„æ¬¡æ•°    \n\t\tint distance = d[t]; // å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡distanceå­˜å‚¨å½¢æˆtå­—ç¬¦ä¸²å½“å‰çš„ç§»åŠ¨æ¬¡æ•°\n\t\tint k = t.find('x'); // kè¡¨ç¤º'x'å­—ç¬¦åœ¨å­—ç¬¦ä¸²å½“å‰çš„ä¸‹æ ‡\n\t\t// æŠŠ'x'æ‰€åœ¨çš„ä¸‹æ ‡è½¬æ¢æˆäºŒç»´æ•°ç»„çš„å½¢å¼,æ¯”å¦‚\"12345678x\",xå°±æ˜¯8,8/3=2,8%3=2,æ‰€ä»¥æ˜¯ç¬¬ä¸‰è¡Œç¬¬ä¸‰åˆ—\n\t\tint x = k/3,y = k%3; // ç”±äºå­—ç¬¦ä¸²å½“å‰æ˜¯ä¸€ç»´çš„å°†ä¸€ç»´ä¸‹æ ‡è½¬åŒ–ä¸ºäºŒç»´åæ ‡\n\t\tfor(int i=0;i<4;i++) // åˆ†åˆ«éå†å››ä¸ªæ–¹å‘\n\t\t{ \n\t\t\t// éå†'x'å¯ä»¥èµ°çš„å››ä¸ªæ–¹å‘\n\t\t\tint a=x+dx[i],b=y+dy[i]; //å°†ä¸‹ä¸€ä¸ªæœç´¢ä½ç½®çš„x,yåæ ‡è¡¨ç¤º\n\t\t\t// è¶Šç•Œå¤„ç†\n\t\t\tif(a>=0&&a<3&&b>=0&&b<3) //å½“äºŒç»´åæ ‡æ»¡è¶³ä½äº3X3çŸ©é˜µä¸­æ—¶\n\t\t\t{\n\t\t\t\t// å°†æœç´¢ä½ç½®å’Œ'x'ç›¸äº¤æ¢,a*3+bå˜å›ä¸€ç»´æ•°ç»„ç´¢å¼•\n\t\t\t\tswap(t[a*3+b],t[k]); //å°†å­—ç¬¦ä¸²ä¸­çš„æœç´¢ä½ç½®ä¸å­—ç¬¦'x'äº¤æ¢\n\t\t\t\t// d.count(t)æ˜¯ç»Ÿè®¡dè¿™ä¸ªå“ˆå¸Œè¡¨å®¹å™¨ä¸­tå‡ºç°çš„æ¬¡æ•°,å¦‚æœä¸€æ¬¡éƒ½æ²¡å‡ºç°è¿‡,å°±æ”¾è¿›é˜Ÿåˆ—,åŒæ—¶åœ¨dist[t]ä¸ŠåšåŠ å‡\n\t\t\t\tif(!d.count(t)) // å¦‚æœå½“å‰çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ä¸º0\n\t\t\t\t{\n\t\t\t\t\td[t]=distance+1; // å°†è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åœ¨åŸå­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åŸºç¡€ä¸ŠåŠ 1\n\t\t\t\t\tq.push(t); // å°†è¯¥å­—ç¬¦ä¸²å…¥é˜Ÿ\n\t\t\t\t}\n\t\t\t\tswap(t[a*3+b],t[k]); // æ¢å¤ç°åœº,è¿”å›ä½ç½®åˆ¤æ–­å…¶ä»–æ–¹å‘\n\t\t\t}\n\t\t}\n\t}\t\n\treturn -1; // å¦‚æœæ— æ³•ç§»åŠ¨åˆ°ç»ˆæ­¢ä½ç½®è¿”å›-1\n}\n\nint main()\n{\n\tstring s;\n\tstring st;\n\t// è¾“å…¥ä¸€ä¸ªåˆå§‹çŠ¶æ€\n\tfor(int i=0;i<9;i++)\n\t{\n\t\tcin>>s;\n\t\tst+=s; //é€ä¸ªè¾“å…¥å­—ç¬¦ä¸²\n\t}\n\tcout<<bfs(st)<<endl; //è¾“å‡ºå®½åº¦ä¼˜å…ˆæœç´¢çš„æ•°å€¼\t\n\treturn 0;\n}\n```\n\n\n\n## 3. æ ‘å’Œå›¾çš„å­˜å‚¨\n\n> æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå› æ­¤åªè®¨è®ºå›¾\n\n### 3.1. æœ‰å‘å›¾\n\n#### 3.1.1. é‚»æ¥çŸ©é˜µ\n\n* é‚»æ¥çŸ©é˜µä¸èƒ½å­˜å‚¨é‡è¾¹ï¼Œç©ºé—´å¤æ‚åº¦O(nÂ²)ï¼Œé€‚åˆç¨ å¯†å›¾\n\n#### 3.1.2. é‚»æ¥è¡¨\n\n* æ¯ä¸ªç»“ç‚¹å¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œé‚»æ¥è¡¨å†…éƒ¨çš„é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼Œé‚»æ¥è¡¨æ’å…¥æ–°è¾¹åå¼•å…¥æ–°çš„ç»“ç‚¹ä¸€èˆ¬ç”¨å¤´æ’æ³•\n\n\n\n## 4. æ ‘å’Œå›¾çš„éå†\n\n### 4.1. æ·±åº¦ä¼˜å…ˆéå†\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°\n\n* ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæ¯ä¸€æ£µå­æ ‘çš„å¤§å°ã€‚\n\n\n\n### 4.2. å¹¿åº¦ä¼˜å…ˆéå†\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°\n\n* ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæœ€çŸ­è·¯å¾„ï¼Œä½†å‰ææ˜¯æ¯æ¡è·¯çš„æƒé‡ç›¸åŒ\n\n\n\n### 4.3. æ¨¡æ¿\n\n> æ³¨æ„DFSæ˜¯æ²¡æœ‰æ¨¡æ¿çš„ï¼Œä½†åŸºæœ¬å¯ä»¥åˆ†ä¸ºç»ˆæ­¢æ¡ä»¶ã€é€’å½’é€»è¾‘ã€å‰ªæã€æ¢å¤ç°åœºå‡ ä¸ªæ­¥éª¤ï¼Œåœ¨å¦ä¸€ç¯‡åšå®¢é‡Œç»™å‡ºäº†æˆ‘è‡ªå·±å¯¹äºDFSçš„æ¨¡æ¿ï¼ŒBFSæœ‰æ¨¡æ¿\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è¾“å…¥è¾“å‡ºè§„æ¨¡åœ¨100wçš„æ—¶å€™å¿…é¡»ç”¨scanf\n// æ ‘å’Œå›¾çš„å­˜å‚¨\nconst int N=1e5+5,M=N*2;\n// h[i]:ç¬¬iä¸ªç»“ç‚¹çš„é‚»æ¥è¡¨,å¤´æ’,å­˜å‚¨è¾¹\n// e[j]:ç¬¬jæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹\n// ne[j]:ç¬¬jæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹\n// idx:è¾¹çš„ç¼–å·\nint n,m;\nint h[N],e[M],ne[M],idx;\nbool st[N]; // æ¯ä¸ªç‚¹çš„æœç´¢çŠ¶æ€\n\nint q[N],d[N]; // bfsé˜Ÿåˆ—å’Œè·ç¦»æ•°ç»„\nint Prev[N]; // è®°å½•é¡ºåº\n\nvoid add(int a,int b) {\n\t// ç¬¬idxæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹æ˜¯b\n\t// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„å•é“¾è¡¨(å¤´ç»“ç‚¹)\n\t// ç»“ç‚¹açš„é‚»æ¥è¡¨çš„ç¬¬ä¸€æ¡è¾¹å˜ä¸ºidx,idx++\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\n// bfsæ‰¾æœ€çŸ­è·¯å¾„ä¸ºä¾‹:æ³¨æ„æ¯æ¡è·¯çš„æƒé‡å¿…é¡»éƒ½ç›¸åŒ,å¦‚è¿™é‡Œçš„1\nint bfs() {\n\tint hh=0,tt=0; // é˜Ÿå¤´å’Œé˜Ÿå°¾\n\tq[0]=1; // å¤´ç»“ç‚¹æ˜¯1\n\tmemset(d,-1,sizeof d); // è·ç¦»åˆå§‹åŒ–ä¸º-1\n\td[1]=0; // ç¬¬1ä¸ªç»“ç‚¹åˆ°ç¬¬1ä¸ªç»“ç‚¹çš„è·ç¦»æ˜¯0\n\twhile(hh<=tt) {\n\t\tint t=q[hh++]; // å–å‡ºå¤´ç»“ç‚¹,hh++\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœjè¿˜æœªè®¿é—®è¿‡\n\t\t\tif(d[j]==-1) {\n\t\t\t\td[j]=d[j]+1;\n\t\t\t\tq[++tt]=j; // åœ¨é˜Ÿå°¾å¢åŠ ä¸€ä¸ªç©ºä½,å†æŠŠjçš„å€¼èµ‹ç»™q[tt]\n\t\t\t}\n\t\t}\n\t}\t\n}\n\nvoid dfs(int u) {\n\tst[u]=true;\n\t// ä»uçš„ç¬¬ä¸€æ¡è¾¹å¼€å§‹å¾€ä¸‹éå†æ¯ä¸€æ¡è¾¹\n\tfor(int i=h[u];i!=-1;i=ne[i]) {\n\t\tint j=e[i];\n\t\t// å¦‚æœè¿˜æœªè¢«è®¿é—®è¿‡,å°±ç»§ç»­dfs[j]\n\t\tif(!st[j])\n\t\t\tdfs[j];\n\t}\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–ä¸º-1\n\treturn 0;\n}\n```\n","source":"_posts/æœç´¢æ€»ç»“.md","raw":"---\ntitle: æœç´¢æ€»ç»“\ndate: 2024-10-05 16:21:50\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æœç´¢\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœç´¢æ€»ç»“\n\n<!-- toc -->\n\n\n\n## 1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS\n\n> æ•°æ®ç»“æ„ stackï¼Œç©ºé—´å¤æ‚åº¦O(n)ï¼Œä¸å…·æœ‰æœ€çŸ­æ€§ï¼Œæ·±æœé—®é¢˜æ²¡æœ‰æ¨¡æ¿\n\n* å…³é”®åœ¨äºï¼šå‰ªæå’Œå›æº¯\n\n### 1.1. å…¨æ’åˆ—é—®é¢˜\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int maxn=10;\n\nint n;\nint path[maxn]; // æ¯ä¸€æ­¥å¡«çš„æ•°å­—\nbool st[maxn]; // éå†çŠ¶æ€\n\n// æ·±åº¦ä¼˜å…ˆ\nvoid dfs(int u) {\n\t// è·³å‡ºæ¡ä»¶\n\tif(u==n) {\n\t\tfor(int i=0;i<n;i++) \n\t\t\tcout<<path[i]<<' ';\n\t\tcout<<endl;\n\t\treturn;\n\t}\n\t// å¦‚æœè¿˜æ²¡æœ‰å¡«æ»¡,ä»æ•°å­—1å¼€å§‹\n\tfor(int i=1;i<=n;i++) {\n\t\tif(!st[i]) {\n\t\t\tpath[u]=i;\n\t\t\tst[i]=true;\n\t\t\t// è¿›å…¥ä¸‹ä¸€å±‚\n\t\t\tdfs(u+1);\n\t\t\t// å›æº¯\n\t\t\tst[i]=false;\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(0);\n\treturn 0;\n}\n```\n\n\n\n### 1.2. nçš‡åé—®é¢˜\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nint n; // çš‡åä¸ªæ•°\nconst int maxn=9; // æœ€å¤§çš‡åä¸ªæ•°\nint x[maxn+1]; // å­˜æ”¾çš‡åä½ç½®,x[i]è¡¨ç¤ºç¬¬iä¸ªçš‡åçš„åœ¨ç¬¬å‡ åˆ—\nint res; // nçš‡åçš„å¯è¡Œè§£ä¸ªæ•°\n\n// åˆ¤æ–­ç¬¬iä¸ªçš‡åæ”¾ç½®åœ¨x[i]åˆ—æ˜¯å¦ä¼šå‘ç”Ÿå†²çª\nbool place(int j) {\n\t// j=1~i-1æ˜¯å·²ç»æ”¾ç½®äº†çš‡åçš„è¡Œ\n\tfor(int i=1;i<j;i++) {\n\t\t// xæ•°ç»„çš„ç‰©ç†æ€§è´¨å†³å®šä¸¤ä¸ªçš‡åä¸ä¼šå‘ç”Ÿè¡Œå†²çª\n\t\t// x[j]==x[i]:å‘ç”Ÿåˆ—å†²çª\n\t\t// abs(i-j)==abs(x[i]-x[j]):å‘ç”Ÿå¯¹è§’çº¿å†²çª,å¯ç”»å›¾æ¨å¯¼\n\t\tif(x[j]==x[i] || abs(i-j)==abs(x[i]-x[j]))\n\t\t\treturn false; // å†²çªå°±è¿”å›false\n\t}\n\treturn true;\n}\n\n// æ‰“å°æ£‹ç›˜\nvoid print() {\n\tres++; // ç­”æ¡ˆ+1\n\t// éå†æ¯ä¸ªçš‡å\n\tfor(int i=1;i<=n;i++) {\n\t\t// éå†æ¯ä¸€åˆ—\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\t// å¦‚æœçš‡åæ‰€åœ¨åˆ—å°±æ˜¯j,æ‰“å°'Q'\n\t\t\tif(x[i]==j)\n\t\t\t\tcout<<'Q';\n\t\t\telse\n\t\t\t\tcout<<'.';\n\t\t}\n\t\tcout<<endl;\n\t}\n\tcout<<endl;\n}\n\n// æ”¾ç½®æ¯ä¸ªçš‡åçš„æ·±åº¦ä¼˜å…ˆæœç´¢å‡½æ•°\nvoid dfs(int u) {\n\t// éå†ç¬¬1åˆ—åˆ°nåˆ—\n\tfor(int j=1;j<=n;j++) {\n\t\t// å…ˆæŠŠçš‡åæ”¾åˆ°ç¬¬jåˆ—\n\t\tx[u]=j;\n\t\t// å¦‚æœç¬¬uä¸ªçš‡åæ”¾åœ¨è¿™åˆ—ä¸å†²çª\n\t\tif(place(u)) {\n\t\t\t// æ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œè§£,ç›´æ¥æ‰“å°\n\t\t\tif(u==n)\n\t\t\t\tprint();\n\t\t\t// å‘ä¸‹é€’å½’\n\t\t\telse\n\t\t\t\tdfs(u+1);\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(1); // ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹\n\tcout<<\"å¯è¡Œè§£ä¸€å…±æœ‰ \"<<res<<\" ä¸ª\"<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS\n\n> æ•°æ®ç»“æ„ queueï¼Œç©ºé—´å¤æ‚åº¦O(2^n)ï¼Œæœ€çŸ­è·¯ï¼Œå®½æœé—®é¢˜æœ‰æ¨¡æ¿\n\n### 2.1. èµ°è¿·å®«\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\nconst int N=1e2+2;\nint n,m; // åœ°å›¾èŒƒå›´\nint g[N][N]; // å­˜å›¾çš„æƒ…å†µ\nint d[N][N]; // æ¯ä¸ªç‚¹åˆ°åˆå§‹ç‚¹çš„è·ç¦»\nPII q[N*N]; // BFSçš„é˜Ÿåˆ—\nPII Prev[N][N]; // è®°å½•éå†çš„é¡ºåº\n\nint bfs() {\n\t// hh:é˜Ÿå¤´,å½“å‰è¦å¤„ç†å…ƒç´ çš„ä¸‹æ ‡\n\t// tt:é˜Ÿå°¾,æœ€åä¸€ä¸ªå…¥é˜Ÿå…ƒç´ çš„ä¸‹æ ‡\n\tint hh=0,tt=0;\n\tq[0]={0,0}; \n\t\n\t// åˆå§‹åŒ–,è¡¨ç¤ºå®³æ²¡æœ‰ä»»ä½•ç‚¹ç»è¿‡\n\tmemset(d,-1,sizeof d);\n\td[0][0]=0;\n\t\n\t// å‘é‡è¡¨ç¤ºå››ä¸ªæ–¹å‘\n\tint dx[4]={-1,0,1,0};\n\tint dy[4]={0,1,0,-1};\n\t\n\twhile(hh<=tt) {\n\t\tauto t=q[hh++]; // å–å‡ºé˜Ÿå¤´\n\t\t// éå†å››ä¸ªæ–¹å‘\n\t\tfor(int i=0;i<4;i++) {\n\t\t\tint x=t.first+dx[i],y=t.second+dy[i];\n\t\t\t// å¦‚æœæ²¡æœ‰è¶…å‡ºåœ°å›¾èŒƒå›´ä¸”g[x][y]=0ä¸”æ²¡æœ‰åˆ°è¿‡\n\t\t\tif(x>=0 && x<n && y>=0 && y<m && g[x][y]==0 && d[x][y]==-1) {\n\t\t\t\td[x][y]=d[t.first][t.second]+1; // è·ç¦»åŠ 1\n\t\t\t\tPrev[x][y]=t; // è®°å½•ä¸Šä¸€æ­¥\n\t\t\t\tq[++tt]={x,y}; // æŠŠx,yæ”¾è¿›é˜Ÿå¤´\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// è¾“å‡ºè·¯å¾„\n//\tint x=n-1,y=m-1;\n//\t// [0,1] [1,0]éƒ½å¯ä»¥è¾“å‡º\n//\twhile(x||y) {\n//\t\tcout<<x<<' '<<y<<endl;\n//\t\tauto t=Prev[x][y];\n//\t\tx=t.first,y=t.second;\n//\t}\n\t\n\t// è¿”å›è·ç¦»\n\treturn d[n-1][m-1];\n}\n\nint main() {\n\tcin>>n>>m;\n\t// è¾“å…¥å›¾\n\tfor(int i=0;i<n;i++) {\n\t\tfor(int j=0;j<m;j++) {\n\t\t\tcin>>g[i][j];\n\t\t}\n\t}\n\t\n\tcout<<bfs()<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 2.2. å…«æ•°ç \n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ULL;\ntypedef pair<int,int> PII;\n\n// å…«é‡ç :ç±»ä¼¼äºä¸€ä¸ªæ•°å­—åå®¹é“å˜›,æ±‚ç§»åŠ¨çš„æœ€å°‘æ­¥æ•°(BFS)\n// éš¾ç‚¹åœ¨äºçŠ¶æ€è¡¨ç¤ºæ¯”è¾ƒå¤æ‚,æ¯ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ª3*3çš„å°çŸ©é˜µ\n// é—®é¢˜ä¸€:é˜Ÿåˆ—,å¦‚æœæŠŠæ¯ä¸ªçŠ¶æ€æ”¾è¿›é˜Ÿåˆ—ä¸­ \"12345678x\"\n// é—®é¢˜äºŒ:å¦‚ä½•è®¡ç®—æ¯ä¸ªçŠ¶æ€çš„è·ç¦» \"queue<string>,unordered_map<string,int>\"\n\nqueue<string> q; // å®šä¹‰é˜Ÿåˆ—\n// è®©å­—ç¬¦ä¸²æ˜ å°„åˆ°intç±»å‹çš„å€¼\nunordered_map<string,int> d; // é€šè¿‡å“ˆå¸Œè¡¨æ¥è®©å­—ç¬¦ä¸²å˜åŒ–æ—¶å’Œç§»åŠ¨çš„è·ç¦»æ•°å€¼å…³è”\n\nint bfs(string st)\n{\n\tq.push(st); // å°†å­—ç¬¦ä¸²å…¥é˜Ÿ\n\td[st]=0; // å°†åˆå§‹çŠ¶æ€çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼è®¾å®šä¸º0\n\t\n\tint dx[4]={-1,0,1,0},dy[4]={0,1,0,-1}; // å®šä¹‰å››ä¸ªæ–¹å‘å‘é‡\n\t\n\t// 5åœ¨ä¸€ç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡æ˜¯4\n\tstring end=\"12345678x\"; // å®šä¹‰å®½åº¦ä¼˜å…ˆæœç´ çš„ç»ˆæ­¢çŠ¶æ€\n\twhile(q.size()) // å¾ªç¯ç»ˆæ­¢çŠ¶æ€\n\t{\n\t\tauto t=q.front(); // å°†é˜Ÿåˆ—ä¸­å­˜ç€çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™t\n\t\tq.pop(); // é˜Ÿå¤´å…ƒç´ å¼¹å‡º\n\t\t\n\t\tif(t==end) \n\t\t\treturn d[t]; // å¦‚æœå½“å‰å­—ç¬¦ä¸²ç­‰äºç»ˆæ­¢çŠ¶æ€æœç´¢ç»“æŸè¿”å›è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼\n\t\t//æ­¤å¤„çš„å“ˆå¸Œå‡½æ•°å€¼å¯¹åº”äºå­—ç¬¦ä¸²ç§»åŠ¨çš„æ¬¡æ•°    \n\t\tint distance = d[t]; // å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡distanceå­˜å‚¨å½¢æˆtå­—ç¬¦ä¸²å½“å‰çš„ç§»åŠ¨æ¬¡æ•°\n\t\tint k = t.find('x'); // kè¡¨ç¤º'x'å­—ç¬¦åœ¨å­—ç¬¦ä¸²å½“å‰çš„ä¸‹æ ‡\n\t\t// æŠŠ'x'æ‰€åœ¨çš„ä¸‹æ ‡è½¬æ¢æˆäºŒç»´æ•°ç»„çš„å½¢å¼,æ¯”å¦‚\"12345678x\",xå°±æ˜¯8,8/3=2,8%3=2,æ‰€ä»¥æ˜¯ç¬¬ä¸‰è¡Œç¬¬ä¸‰åˆ—\n\t\tint x = k/3,y = k%3; // ç”±äºå­—ç¬¦ä¸²å½“å‰æ˜¯ä¸€ç»´çš„å°†ä¸€ç»´ä¸‹æ ‡è½¬åŒ–ä¸ºäºŒç»´åæ ‡\n\t\tfor(int i=0;i<4;i++) // åˆ†åˆ«éå†å››ä¸ªæ–¹å‘\n\t\t{ \n\t\t\t// éå†'x'å¯ä»¥èµ°çš„å››ä¸ªæ–¹å‘\n\t\t\tint a=x+dx[i],b=y+dy[i]; //å°†ä¸‹ä¸€ä¸ªæœç´¢ä½ç½®çš„x,yåæ ‡è¡¨ç¤º\n\t\t\t// è¶Šç•Œå¤„ç†\n\t\t\tif(a>=0&&a<3&&b>=0&&b<3) //å½“äºŒç»´åæ ‡æ»¡è¶³ä½äº3X3çŸ©é˜µä¸­æ—¶\n\t\t\t{\n\t\t\t\t// å°†æœç´¢ä½ç½®å’Œ'x'ç›¸äº¤æ¢,a*3+bå˜å›ä¸€ç»´æ•°ç»„ç´¢å¼•\n\t\t\t\tswap(t[a*3+b],t[k]); //å°†å­—ç¬¦ä¸²ä¸­çš„æœç´¢ä½ç½®ä¸å­—ç¬¦'x'äº¤æ¢\n\t\t\t\t// d.count(t)æ˜¯ç»Ÿè®¡dè¿™ä¸ªå“ˆå¸Œè¡¨å®¹å™¨ä¸­tå‡ºç°çš„æ¬¡æ•°,å¦‚æœä¸€æ¬¡éƒ½æ²¡å‡ºç°è¿‡,å°±æ”¾è¿›é˜Ÿåˆ—,åŒæ—¶åœ¨dist[t]ä¸ŠåšåŠ å‡\n\t\t\t\tif(!d.count(t)) // å¦‚æœå½“å‰çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ä¸º0\n\t\t\t\t{\n\t\t\t\t\td[t]=distance+1; // å°†è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åœ¨åŸå­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åŸºç¡€ä¸ŠåŠ 1\n\t\t\t\t\tq.push(t); // å°†è¯¥å­—ç¬¦ä¸²å…¥é˜Ÿ\n\t\t\t\t}\n\t\t\t\tswap(t[a*3+b],t[k]); // æ¢å¤ç°åœº,è¿”å›ä½ç½®åˆ¤æ–­å…¶ä»–æ–¹å‘\n\t\t\t}\n\t\t}\n\t}\t\n\treturn -1; // å¦‚æœæ— æ³•ç§»åŠ¨åˆ°ç»ˆæ­¢ä½ç½®è¿”å›-1\n}\n\nint main()\n{\n\tstring s;\n\tstring st;\n\t// è¾“å…¥ä¸€ä¸ªåˆå§‹çŠ¶æ€\n\tfor(int i=0;i<9;i++)\n\t{\n\t\tcin>>s;\n\t\tst+=s; //é€ä¸ªè¾“å…¥å­—ç¬¦ä¸²\n\t}\n\tcout<<bfs(st)<<endl; //è¾“å‡ºå®½åº¦ä¼˜å…ˆæœç´¢çš„æ•°å€¼\t\n\treturn 0;\n}\n```\n\n\n\n## 3. æ ‘å’Œå›¾çš„å­˜å‚¨\n\n> æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå› æ­¤åªè®¨è®ºå›¾\n\n### 3.1. æœ‰å‘å›¾\n\n#### 3.1.1. é‚»æ¥çŸ©é˜µ\n\n* é‚»æ¥çŸ©é˜µä¸èƒ½å­˜å‚¨é‡è¾¹ï¼Œç©ºé—´å¤æ‚åº¦O(nÂ²)ï¼Œé€‚åˆç¨ å¯†å›¾\n\n#### 3.1.2. é‚»æ¥è¡¨\n\n* æ¯ä¸ªç»“ç‚¹å¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œé‚»æ¥è¡¨å†…éƒ¨çš„é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼Œé‚»æ¥è¡¨æ’å…¥æ–°è¾¹åå¼•å…¥æ–°çš„ç»“ç‚¹ä¸€èˆ¬ç”¨å¤´æ’æ³•\n\n\n\n## 4. æ ‘å’Œå›¾çš„éå†\n\n### 4.1. æ·±åº¦ä¼˜å…ˆéå†\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°\n\n* ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæ¯ä¸€æ£µå­æ ‘çš„å¤§å°ã€‚\n\n\n\n### 4.2. å¹¿åº¦ä¼˜å…ˆéå†\n\n> æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°\n\n* ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæœ€çŸ­è·¯å¾„ï¼Œä½†å‰ææ˜¯æ¯æ¡è·¯çš„æƒé‡ç›¸åŒ\n\n\n\n### 4.3. æ¨¡æ¿\n\n> æ³¨æ„DFSæ˜¯æ²¡æœ‰æ¨¡æ¿çš„ï¼Œä½†åŸºæœ¬å¯ä»¥åˆ†ä¸ºç»ˆæ­¢æ¡ä»¶ã€é€’å½’é€»è¾‘ã€å‰ªæã€æ¢å¤ç°åœºå‡ ä¸ªæ­¥éª¤ï¼Œåœ¨å¦ä¸€ç¯‡åšå®¢é‡Œç»™å‡ºäº†æˆ‘è‡ªå·±å¯¹äºDFSçš„æ¨¡æ¿ï¼ŒBFSæœ‰æ¨¡æ¿\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è¾“å…¥è¾“å‡ºè§„æ¨¡åœ¨100wçš„æ—¶å€™å¿…é¡»ç”¨scanf\n// æ ‘å’Œå›¾çš„å­˜å‚¨\nconst int N=1e5+5,M=N*2;\n// h[i]:ç¬¬iä¸ªç»“ç‚¹çš„é‚»æ¥è¡¨,å¤´æ’,å­˜å‚¨è¾¹\n// e[j]:ç¬¬jæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹\n// ne[j]:ç¬¬jæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹\n// idx:è¾¹çš„ç¼–å·\nint n,m;\nint h[N],e[M],ne[M],idx;\nbool st[N]; // æ¯ä¸ªç‚¹çš„æœç´¢çŠ¶æ€\n\nint q[N],d[N]; // bfsé˜Ÿåˆ—å’Œè·ç¦»æ•°ç»„\nint Prev[N]; // è®°å½•é¡ºåº\n\nvoid add(int a,int b) {\n\t// ç¬¬idxæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹æ˜¯b\n\t// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„å•é“¾è¡¨(å¤´ç»“ç‚¹)\n\t// ç»“ç‚¹açš„é‚»æ¥è¡¨çš„ç¬¬ä¸€æ¡è¾¹å˜ä¸ºidx,idx++\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\n// bfsæ‰¾æœ€çŸ­è·¯å¾„ä¸ºä¾‹:æ³¨æ„æ¯æ¡è·¯çš„æƒé‡å¿…é¡»éƒ½ç›¸åŒ,å¦‚è¿™é‡Œçš„1\nint bfs() {\n\tint hh=0,tt=0; // é˜Ÿå¤´å’Œé˜Ÿå°¾\n\tq[0]=1; // å¤´ç»“ç‚¹æ˜¯1\n\tmemset(d,-1,sizeof d); // è·ç¦»åˆå§‹åŒ–ä¸º-1\n\td[1]=0; // ç¬¬1ä¸ªç»“ç‚¹åˆ°ç¬¬1ä¸ªç»“ç‚¹çš„è·ç¦»æ˜¯0\n\twhile(hh<=tt) {\n\t\tint t=q[hh++]; // å–å‡ºå¤´ç»“ç‚¹,hh++\n\t\tfor(int i=h[t];i!=-1;i=ne[i]) {\n\t\t\tint j=e[i];\n\t\t\t// å¦‚æœjè¿˜æœªè®¿é—®è¿‡\n\t\t\tif(d[j]==-1) {\n\t\t\t\td[j]=d[j]+1;\n\t\t\t\tq[++tt]=j; // åœ¨é˜Ÿå°¾å¢åŠ ä¸€ä¸ªç©ºä½,å†æŠŠjçš„å€¼èµ‹ç»™q[tt]\n\t\t\t}\n\t\t}\n\t}\t\n}\n\nvoid dfs(int u) {\n\tst[u]=true;\n\t// ä»uçš„ç¬¬ä¸€æ¡è¾¹å¼€å§‹å¾€ä¸‹éå†æ¯ä¸€æ¡è¾¹\n\tfor(int i=h[u];i!=-1;i=ne[i]) {\n\t\tint j=e[i];\n\t\t// å¦‚æœè¿˜æœªè¢«è®¿é—®è¿‡,å°±ç»§ç»­dfs[j]\n\t\tif(!st[j])\n\t\t\tdfs[j];\n\t}\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–ä¸º-1\n\treturn 0;\n}\n```\n","slug":"æœç´¢æ€»ç»“","published":1,"updated":"2024-10-05T08:24:22.951Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptd003ic0nfh4sg0yvi","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"æœç´¢æ€»ç»“\">æœç´¢æ€»ç»“</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2dfs\">1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS</a><ul>\n<li><a href=\"#11-%E5%85%A8%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98\">1.1. å…¨æ’åˆ—é—®é¢˜</a></li>\n<li><a href=\"#12-n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98\">1.2. nçš‡åé—®é¢˜</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2bfs\">2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS</a><ul>\n<li><a href=\"#21-%E8%B5%B0%E8%BF%B7%E5%AE%AB\">2.1. èµ°è¿·å®«</a></li>\n<li><a href=\"#22-%E5%85%AB%E6%95%B0%E7%A0%81\">2.2. å…«æ•°ç </a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%A0%91%E5%92%8C%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8\">3. æ ‘å’Œå›¾çš„å­˜å‚¨</a><ul>\n<li><a href=\"#31-%E6%9C%89%E5%90%91%E5%9B%BE\">3.1. æœ‰å‘å›¾</a><ul>\n<li><a href=\"#311-%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5\">3.1.1. é‚»æ¥çŸ©é˜µ</a></li>\n<li><a href=\"#312-%E9%82%BB%E6%8E%A5%E8%A1%A8\">3.1.2. é‚»æ¥è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#4-%E6%A0%91%E5%92%8C%E5%9B%BE%E7%9A%84%E9%81%8D%E5%8E%86\">4. æ ‘å’Œå›¾çš„éå†</a><ul>\n<li><a href=\"#41-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86\">4.1. æ·±åº¦ä¼˜å…ˆéå†</a></li>\n<li><a href=\"#42-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86\">4.2. å¹¿åº¦ä¼˜å…ˆéå†</a></li>\n<li><a href=\"#43-%E6%A8%A1%E6%9D%BF\">4.3. æ¨¡æ¿</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-æ·±åº¦ä¼˜å…ˆæœç´¢dfs\">1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS</span></h2><blockquote>\n<p>æ•°æ®ç»“æ„ stackï¼Œç©ºé—´å¤æ‚åº¦O(n)ï¼Œä¸å…·æœ‰æœ€çŸ­æ€§ï¼Œæ·±æœé—®é¢˜æ²¡æœ‰æ¨¡æ¿</p>\n</blockquote>\n<ul>\n<li>å…³é”®åœ¨äºï¼šå‰ªæå’Œå›æº¯</li>\n</ul>\n<h3><span id=\"11-å…¨æ’åˆ—é—®é¢˜\">1.1. å…¨æ’åˆ—é—®é¢˜</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> path[maxn]; <span class=\"comment\">// æ¯ä¸€æ­¥å¡«çš„æ•°å­—</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[maxn]; <span class=\"comment\">// éå†çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ·±åº¦ä¼˜å…ˆ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è·³å‡ºæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(u==n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) </span><br><span class=\"line\">\t\t\tcout&lt;&lt;path[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœè¿˜æ²¡æœ‰å¡«æ»¡,ä»æ•°å­—1å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tpath[u]=i;</span><br><span class=\"line\">\t\t\tst[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¿›å…¥ä¸‹ä¸€å±‚</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">dfs</span>(u<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å›æº¯</span></span><br><span class=\"line\">\t\t\tst[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"12-nçš‡åé—®é¢˜\">1.2. nçš‡åé—®é¢˜</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// çš‡åä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">9</span>; <span class=\"comment\">// æœ€å¤§çš‡åä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> x[maxn<span class=\"number\">+1</span>]; <span class=\"comment\">// å­˜æ”¾çš‡åä½ç½®,x[i]è¡¨ç¤ºç¬¬iä¸ªçš‡åçš„åœ¨ç¬¬å‡ åˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> res; <span class=\"comment\">// nçš‡åçš„å¯è¡Œè§£ä¸ªæ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­ç¬¬iä¸ªçš‡åæ”¾ç½®åœ¨x[i]åˆ—æ˜¯å¦ä¼šå‘ç”Ÿå†²çª</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">place</span><span class=\"params\">(<span class=\"type\">int</span> j)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// j=1~i-1æ˜¯å·²ç»æ”¾ç½®äº†çš‡åçš„è¡Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;j;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// xæ•°ç»„çš„ç‰©ç†æ€§è´¨å†³å®šä¸¤ä¸ªçš‡åä¸ä¼šå‘ç”Ÿè¡Œå†²çª</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// x[j]==x[i]:å‘ç”Ÿåˆ—å†²çª</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// abs(i-j)==abs(x[i]-x[j]):å‘ç”Ÿå¯¹è§’çº¿å†²çª,å¯ç”»å›¾æ¨å¯¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x[j]==x[i] || <span class=\"built_in\">abs</span>(i-j)==<span class=\"built_in\">abs</span>(x[i]-x[j]))</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// å†²çªå°±è¿”å›false</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‰“å°æ£‹ç›˜</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tres++; <span class=\"comment\">// ç­”æ¡ˆ+1</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ¯ä¸ªçš‡å</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ¯ä¸€åˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœçš‡åæ‰€åœ¨åˆ—å°±æ˜¯j,æ‰“å°&#x27;Q&#x27;</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(x[i]==j)</span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&#x27;Q&#x27;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ”¾ç½®æ¯ä¸ªçš‡åçš„æ·±åº¦ä¼˜å…ˆæœç´¢å‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†ç¬¬1åˆ—åˆ°nåˆ—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…ˆæŠŠçš‡åæ”¾åˆ°ç¬¬jåˆ—</span></span><br><span class=\"line\">\t\tx[u]=j;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœç¬¬uä¸ªçš‡åæ”¾åœ¨è¿™åˆ—ä¸å†²çª</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">place</span>(u)) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œè§£,ç›´æ¥æ‰“å°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(u==n)</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">print</span>();</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‘ä¸‹é€’å½’</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">dfs</span>(u<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">dfs</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;å¯è¡Œè§£ä¸€å…±æœ‰ &quot;</span>&lt;&lt;res&lt;&lt;<span class=\"string\">&quot; ä¸ª&quot;</span>&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-å¹¿åº¦ä¼˜å…ˆæœç´¢bfs\">2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS</span></h2><blockquote>\n<p>æ•°æ®ç»“æ„ queueï¼Œç©ºé—´å¤æ‚åº¦O(2^n)ï¼Œæœ€çŸ­è·¯ï¼Œå®½æœé—®é¢˜æœ‰æ¨¡æ¿</p>\n</blockquote>\n<h3><span id=\"21-èµ°è¿·å®«\">2.1. èµ°è¿·å®«</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// åœ°å›¾èŒƒå›´</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å›¾çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N][N]; <span class=\"comment\">// æ¯ä¸ªç‚¹åˆ°åˆå§‹ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">PII q[N*N]; <span class=\"comment\">// BFSçš„é˜Ÿåˆ—</span></span><br><span class=\"line\">PII Prev[N][N]; <span class=\"comment\">// è®°å½•éå†çš„é¡ºåº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// hh:é˜Ÿå¤´,å½“å‰è¦å¤„ç†å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// tt:é˜Ÿå°¾,æœ€åä¸€ä¸ªå…¥é˜Ÿå…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> hh=<span class=\"number\">0</span>,tt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;; </span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–,è¡¨ç¤ºå®³æ²¡æœ‰ä»»ä½•ç‚¹ç»è¿‡</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(d,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> d);</span><br><span class=\"line\">\td[<span class=\"number\">0</span>][<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å‘é‡è¡¨ç¤ºå››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> dx[<span class=\"number\">4</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"type\">int</span> dy[<span class=\"number\">4</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(hh&lt;=tt) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q[hh++]; <span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> x=t.first+dx[i],y=t.second+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰è¶…å‡ºåœ°å›¾èŒƒå›´ä¸”g[x][y]=0ä¸”æ²¡æœ‰åˆ°è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(x&gt;=<span class=\"number\">0</span> &amp;&amp; x&lt;n &amp;&amp; y&gt;=<span class=\"number\">0</span> &amp;&amp; y&lt;m &amp;&amp; g[x][y]==<span class=\"number\">0</span> &amp;&amp; d[x][y]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\t\td[x][y]=d[t.first][t.second]<span class=\"number\">+1</span>; <span class=\"comment\">// è·ç¦»åŠ 1</span></span><br><span class=\"line\">\t\t\t\tPrev[x][y]=t; <span class=\"comment\">// è®°å½•ä¸Šä¸€æ­¥</span></span><br><span class=\"line\">\t\t\t\tq[++tt]=&#123;x,y&#125;; <span class=\"comment\">// æŠŠx,yæ”¾è¿›é˜Ÿå¤´</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\"><span class=\"comment\">//\tint x=n-1,y=m-1;</span></span><br><span class=\"line\"><span class=\"comment\">//\t// [0,1] [1,0]éƒ½å¯ä»¥è¾“å‡º</span></span><br><span class=\"line\"><span class=\"comment\">//\twhile(x||y) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;endl;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tauto t=Prev[x][y];</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tx=t.first,y=t.second;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// è¿”å›è·ç¦»</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> d[n<span class=\"number\">-1</span>][m<span class=\"number\">-1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;m;j++) &#123;</span><br><span class=\"line\">\t\t\tcin&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">bfs</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"22-å…«æ•°ç \">2.2. å…«æ•°ç </span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ULL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å…«é‡ç :ç±»ä¼¼äºä¸€ä¸ªæ•°å­—åå®¹é“å˜›,æ±‚ç§»åŠ¨çš„æœ€å°‘æ­¥æ•°(BFS)</span></span><br><span class=\"line\"><span class=\"comment\">// éš¾ç‚¹åœ¨äºçŠ¶æ€è¡¨ç¤ºæ¯”è¾ƒå¤æ‚,æ¯ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ª3*3çš„å°çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"comment\">// é—®é¢˜ä¸€:é˜Ÿåˆ—,å¦‚æœæŠŠæ¯ä¸ªçŠ¶æ€æ”¾è¿›é˜Ÿåˆ—ä¸­ &quot;12345678x&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// é—®é¢˜äºŒ:å¦‚ä½•è®¡ç®—æ¯ä¸ªçŠ¶æ€çš„è·ç¦» &quot;queue&lt;string&gt;,unordered_map&lt;string,int&gt;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">queue&lt;string&gt; q; <span class=\"comment\">// å®šä¹‰é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">// è®©å­—ç¬¦ä¸²æ˜ å°„åˆ°intç±»å‹çš„å€¼</span></span><br><span class=\"line\">unordered_map&lt;string,<span class=\"type\">int</span>&gt; d; <span class=\"comment\">// é€šè¿‡å“ˆå¸Œè¡¨æ¥è®©å­—ç¬¦ä¸²å˜åŒ–æ—¶å’Œç§»åŠ¨çš„è·ç¦»æ•°å€¼å…³è”</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">(string st)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(st); <span class=\"comment\">// å°†å­—ç¬¦ä¸²å…¥é˜Ÿ</span></span><br><span class=\"line\">\td[st]=<span class=\"number\">0</span>; <span class=\"comment\">// å°†åˆå§‹çŠ¶æ€çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼è®¾å®šä¸º0</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> dx[<span class=\"number\">4</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,dy[<span class=\"number\">4</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>&#125;; <span class=\"comment\">// å®šä¹‰å››ä¸ªæ–¹å‘å‘é‡</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// 5åœ¨ä¸€ç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡æ˜¯4</span></span><br><span class=\"line\">\tstring end=<span class=\"string\">&quot;12345678x&quot;</span>; <span class=\"comment\">// å®šä¹‰å®½åº¦ä¼˜å…ˆæœç´ çš„ç»ˆæ­¢çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) <span class=\"comment\">// å¾ªç¯ç»ˆæ­¢çŠ¶æ€</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q.<span class=\"built_in\">front</span>(); <span class=\"comment\">// å°†é˜Ÿåˆ—ä¸­å­˜ç€çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™t</span></span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>(); <span class=\"comment\">// é˜Ÿå¤´å…ƒç´ å¼¹å‡º</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t==end) </span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> d[t]; <span class=\"comment\">// å¦‚æœå½“å‰å­—ç¬¦ä¸²ç­‰äºç»ˆæ­¢çŠ¶æ€æœç´¢ç»“æŸè¿”å›è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//æ­¤å¤„çš„å“ˆå¸Œå‡½æ•°å€¼å¯¹åº”äºå­—ç¬¦ä¸²ç§»åŠ¨çš„æ¬¡æ•°    </span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> distance = d[t]; <span class=\"comment\">// å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡distanceå­˜å‚¨å½¢æˆtå­—ç¬¦ä¸²å½“å‰çš„ç§»åŠ¨æ¬¡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k = t.<span class=\"built_in\">find</span>(<span class=\"string\">&#x27;x&#x27;</span>); <span class=\"comment\">// kè¡¨ç¤º&#x27;x&#x27;å­—ç¬¦åœ¨å­—ç¬¦ä¸²å½“å‰çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æŠŠ&#x27;x&#x27;æ‰€åœ¨çš„ä¸‹æ ‡è½¬æ¢æˆäºŒç»´æ•°ç»„çš„å½¢å¼,æ¯”å¦‚&quot;12345678x&quot;,xå°±æ˜¯8,8/3=2,8%3=2,æ‰€ä»¥æ˜¯ç¬¬ä¸‰è¡Œç¬¬ä¸‰åˆ—</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x = k/<span class=\"number\">3</span>,y = k%<span class=\"number\">3</span>; <span class=\"comment\">// ç”±äºå­—ç¬¦ä¸²å½“å‰æ˜¯ä¸€ç»´çš„å°†ä¸€ç»´ä¸‹æ ‡è½¬åŒ–ä¸ºäºŒç»´åæ ‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) <span class=\"comment\">// åˆ†åˆ«éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t&#123; </span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†&#x27;x&#x27;å¯ä»¥èµ°çš„å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> a=x+dx[i],b=y+dy[i]; <span class=\"comment\">//å°†ä¸‹ä¸€ä¸ªæœç´¢ä½ç½®çš„x,yåæ ‡è¡¨ç¤º</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a&gt;=<span class=\"number\">0</span>&amp;&amp;a&lt;<span class=\"number\">3</span>&amp;&amp;b&gt;=<span class=\"number\">0</span>&amp;&amp;b&lt;<span class=\"number\">3</span>) <span class=\"comment\">//å½“äºŒç»´åæ ‡æ»¡è¶³ä½äº3X3çŸ©é˜µä¸­æ—¶</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å°†æœç´¢ä½ç½®å’Œ&#x27;x&#x27;ç›¸äº¤æ¢,a*3+bå˜å›ä¸€ç»´æ•°ç»„ç´¢å¼•</span></span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">swap</span>(t[a*<span class=\"number\">3</span>+b],t[k]); <span class=\"comment\">//å°†å­—ç¬¦ä¸²ä¸­çš„æœç´¢ä½ç½®ä¸å­—ç¬¦&#x27;x&#x27;äº¤æ¢</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// d.count(t)æ˜¯ç»Ÿè®¡dè¿™ä¸ªå“ˆå¸Œè¡¨å®¹å™¨ä¸­tå‡ºç°çš„æ¬¡æ•°,å¦‚æœä¸€æ¬¡éƒ½æ²¡å‡ºç°è¿‡,å°±æ”¾è¿›é˜Ÿåˆ—,åŒæ—¶åœ¨dist[t]ä¸ŠåšåŠ å‡</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!d.<span class=\"built_in\">count</span>(t)) <span class=\"comment\">// å¦‚æœå½“å‰çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\td[t]=distance<span class=\"number\">+1</span>; <span class=\"comment\">// å°†è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åœ¨åŸå­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åŸºç¡€ä¸ŠåŠ 1</span></span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(t); <span class=\"comment\">// å°†è¯¥å­—ç¬¦ä¸²å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">swap</span>(t[a*<span class=\"number\">3</span>+b],t[k]); <span class=\"comment\">// æ¢å¤ç°åœº,è¿”å›ä½ç½®åˆ¤æ–­å…¶ä»–æ–¹å‘</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæ— æ³•ç§»åŠ¨åˆ°ç»ˆæ­¢ä½ç½®è¿”å›-1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\tstring st;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥ä¸€ä¸ªåˆå§‹çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">9</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;s;</span><br><span class=\"line\">\t\tst+=s; <span class=\"comment\">//é€ä¸ªè¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">bfs</span>(st)&lt;&lt;endl; <span class=\"comment\">//è¾“å‡ºå®½åº¦ä¼˜å…ˆæœç´¢çš„æ•°å€¼\t</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-æ ‘å’Œå›¾çš„å­˜å‚¨\">3. æ ‘å’Œå›¾çš„å­˜å‚¨</span></h2><blockquote>\n<p>æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå› æ­¤åªè®¨è®ºå›¾</p>\n</blockquote>\n<h3><span id=\"31-æœ‰å‘å›¾\">3.1. æœ‰å‘å›¾</span></h3><h4><span id=\"311-é‚»æ¥çŸ©é˜µ\">3.1.1. é‚»æ¥çŸ©é˜µ</span></h4><ul>\n<li>é‚»æ¥çŸ©é˜µä¸èƒ½å­˜å‚¨é‡è¾¹ï¼Œç©ºé—´å¤æ‚åº¦O(nÂ²)ï¼Œé€‚åˆç¨ å¯†å›¾</li>\n</ul>\n<h4><span id=\"312-é‚»æ¥è¡¨\">3.1.2. é‚»æ¥è¡¨</span></h4><ul>\n<li>æ¯ä¸ªç»“ç‚¹å¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œé‚»æ¥è¡¨å†…éƒ¨çš„é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼Œé‚»æ¥è¡¨æ’å…¥æ–°è¾¹åå¼•å…¥æ–°çš„ç»“ç‚¹ä¸€èˆ¬ç”¨å¤´æ’æ³•</li>\n</ul>\n<h2><span id=\"4-æ ‘å’Œå›¾çš„éå†\">4. æ ‘å’Œå›¾çš„éå†</span></h2><h3><span id=\"41-æ·±åº¦ä¼˜å…ˆéå†\">4.1. æ·±åº¦ä¼˜å…ˆéå†</span></h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæ¯ä¸€æ£µå­æ ‘çš„å¤§å°ã€‚</li>\n</ul>\n<h3><span id=\"42-å¹¿åº¦ä¼˜å…ˆéå†\">4.2. å¹¿åº¦ä¼˜å…ˆéå†</span></h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæœ€çŸ­è·¯å¾„ï¼Œä½†å‰ææ˜¯æ¯æ¡è·¯çš„æƒé‡ç›¸åŒ</li>\n</ul>\n<h3><span id=\"43-æ¨¡æ¿\">4.3. æ¨¡æ¿</span></h3><blockquote>\n<p>æ³¨æ„DFSæ˜¯æ²¡æœ‰æ¨¡æ¿çš„ï¼Œä½†åŸºæœ¬å¯ä»¥åˆ†ä¸ºç»ˆæ­¢æ¡ä»¶ã€é€’å½’é€»è¾‘ã€å‰ªæã€æ¢å¤ç°åœºå‡ ä¸ªæ­¥éª¤ï¼Œåœ¨å¦ä¸€ç¯‡åšå®¢é‡Œç»™å‡ºäº†æˆ‘è‡ªå·±å¯¹äºDFSçš„æ¨¡æ¿ï¼ŒBFSæœ‰æ¨¡æ¿</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¾“å…¥è¾“å‡ºè§„æ¨¡åœ¨100wçš„æ—¶å€™å¿…é¡»ç”¨scanf</span></span><br><span class=\"line\"><span class=\"comment\">// æ ‘å’Œå›¾çš„å­˜å‚¨</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>,M=N*<span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// h[i]:ç¬¬iä¸ªç»“ç‚¹çš„é‚»æ¥è¡¨,å¤´æ’,å­˜å‚¨è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// e[j]:ç¬¬jæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ne[j]:ç¬¬jæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// idx:è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹çš„æœç´¢çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> q[N],d[N]; <span class=\"comment\">// bfsé˜Ÿåˆ—å’Œè·ç¦»æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">int</span> Prev[N]; <span class=\"comment\">// è®°å½•é¡ºåº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹æ˜¯b</span></span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„å•é“¾è¡¨(å¤´ç»“ç‚¹)</span></span><br><span class=\"line\">\t<span class=\"comment\">// ç»“ç‚¹açš„é‚»æ¥è¡¨çš„ç¬¬ä¸€æ¡è¾¹å˜ä¸ºidx,idx++</span></span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bfsæ‰¾æœ€çŸ­è·¯å¾„ä¸ºä¾‹:æ³¨æ„æ¯æ¡è·¯çš„æƒé‡å¿…é¡»éƒ½ç›¸åŒ,å¦‚è¿™é‡Œçš„1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> hh=<span class=\"number\">0</span>,tt=<span class=\"number\">0</span>; <span class=\"comment\">// é˜Ÿå¤´å’Œé˜Ÿå°¾</span></span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// å¤´ç»“ç‚¹æ˜¯1</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(d,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> d); <span class=\"comment\">// è·ç¦»åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\td[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç¬¬1ä¸ªç»“ç‚¹åˆ°ç¬¬1ä¸ªç»“ç‚¹çš„è·ç¦»æ˜¯0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(hh&lt;=tt) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q[hh++]; <span class=\"comment\">// å–å‡ºå¤´ç»“ç‚¹,hh++</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœjè¿˜æœªè®¿é—®è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(d[j]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\t\td[j]=d[j]<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t\t\t\tq[++tt]=j; <span class=\"comment\">// åœ¨é˜Ÿå°¾å¢åŠ ä¸€ä¸ªç©ºä½,å†æŠŠjçš„å€¼èµ‹ç»™q[tt]</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\tst[u]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»uçš„ç¬¬ä¸€æ¡è¾¹å¼€å§‹å¾€ä¸‹éå†æ¯ä¸€æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[u];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿˜æœªè¢«è®¿é—®è¿‡,å°±ç»§ç»­dfs[j]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[j])</span><br><span class=\"line\">\t\t\tdfs[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"æœç´¢æ€»ç»“\"><a href=\"#æœç´¢æ€»ç»“\" class=\"headerlink\" title=\"æœç´¢æ€»ç»“\"></a>æœç´¢æ€»ç»“</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2dfs\">1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS</a><ul>\n<li><a href=\"#11-%E5%85%A8%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98\">1.1. å…¨æ’åˆ—é—®é¢˜</a></li>\n<li><a href=\"#12-n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98\">1.2. nçš‡åé—®é¢˜</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2bfs\">2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS</a><ul>\n<li><a href=\"#21-%E8%B5%B0%E8%BF%B7%E5%AE%AB\">2.1. èµ°è¿·å®«</a></li>\n<li><a href=\"#22-%E5%85%AB%E6%95%B0%E7%A0%81\">2.2. å…«æ•°ç </a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%A0%91%E5%92%8C%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8\">3. æ ‘å’Œå›¾çš„å­˜å‚¨</a><ul>\n<li><a href=\"#31-%E6%9C%89%E5%90%91%E5%9B%BE\">3.1. æœ‰å‘å›¾</a><ul>\n<li><a href=\"#311-%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5\">3.1.1. é‚»æ¥çŸ©é˜µ</a></li>\n<li><a href=\"#312-%E9%82%BB%E6%8E%A5%E8%A1%A8\">3.1.2. é‚»æ¥è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#4-%E6%A0%91%E5%92%8C%E5%9B%BE%E7%9A%84%E9%81%8D%E5%8E%86\">4. æ ‘å’Œå›¾çš„éå†</a><ul>\n<li><a href=\"#41-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86\">4.1. æ·±åº¦ä¼˜å…ˆéå†</a></li>\n<li><a href=\"#42-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86\">4.2. å¹¿åº¦ä¼˜å…ˆéå†</a></li>\n<li><a href=\"#43-%E6%A8%A1%E6%9D%BF\">4.3. æ¨¡æ¿</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-æ·±åº¦ä¼˜å…ˆæœç´¢DFS\"><a href=\"#1-æ·±åº¦ä¼˜å…ˆæœç´¢DFS\" class=\"headerlink\" title=\"1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS\"></a>1. æ·±åº¦ä¼˜å…ˆæœç´¢DFS</h2><blockquote>\n<p>æ•°æ®ç»“æ„ stackï¼Œç©ºé—´å¤æ‚åº¦O(n)ï¼Œä¸å…·æœ‰æœ€çŸ­æ€§ï¼Œæ·±æœé—®é¢˜æ²¡æœ‰æ¨¡æ¿</p>\n</blockquote>\n<ul>\n<li>å…³é”®åœ¨äºï¼šå‰ªæå’Œå›æº¯</li>\n</ul>\n<h3 id=\"1-1-å…¨æ’åˆ—é—®é¢˜\"><a href=\"#1-1-å…¨æ’åˆ—é—®é¢˜\" class=\"headerlink\" title=\"1.1. å…¨æ’åˆ—é—®é¢˜\"></a>1.1. å…¨æ’åˆ—é—®é¢˜</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"><span class=\"type\">int</span> path[maxn]; <span class=\"comment\">// æ¯ä¸€æ­¥å¡«çš„æ•°å­—</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[maxn]; <span class=\"comment\">// éå†çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ·±åº¦ä¼˜å…ˆ</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// è·³å‡ºæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(u==n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) </span><br><span class=\"line\">\t\t\tcout&lt;&lt;path[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœè¿˜æ²¡æœ‰å¡«æ»¡,ä»æ•°å­—1å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tpath[u]=i;</span><br><span class=\"line\">\t\t\tst[i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¿›å…¥ä¸‹ä¸€å±‚</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">dfs</span>(u<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å›æº¯</span></span><br><span class=\"line\">\t\t\tst[i]=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-2-nçš‡åé—®é¢˜\"><a href=\"#1-2-nçš‡åé—®é¢˜\" class=\"headerlink\" title=\"1.2. nçš‡åé—®é¢˜\"></a>1.2. nçš‡åé—®é¢˜</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// çš‡åä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">9</span>; <span class=\"comment\">// æœ€å¤§çš‡åä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> x[maxn<span class=\"number\">+1</span>]; <span class=\"comment\">// å­˜æ”¾çš‡åä½ç½®,x[i]è¡¨ç¤ºç¬¬iä¸ªçš‡åçš„åœ¨ç¬¬å‡ åˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> res; <span class=\"comment\">// nçš‡åçš„å¯è¡Œè§£ä¸ªæ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­ç¬¬iä¸ªçš‡åæ”¾ç½®åœ¨x[i]åˆ—æ˜¯å¦ä¼šå‘ç”Ÿå†²çª</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">place</span><span class=\"params\">(<span class=\"type\">int</span> j)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// j=1~i-1æ˜¯å·²ç»æ”¾ç½®äº†çš‡åçš„è¡Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;j;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// xæ•°ç»„çš„ç‰©ç†æ€§è´¨å†³å®šä¸¤ä¸ªçš‡åä¸ä¼šå‘ç”Ÿè¡Œå†²çª</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// x[j]==x[i]:å‘ç”Ÿåˆ—å†²çª</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// abs(i-j)==abs(x[i]-x[j]):å‘ç”Ÿå¯¹è§’çº¿å†²çª,å¯ç”»å›¾æ¨å¯¼</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x[j]==x[i] || <span class=\"built_in\">abs</span>(i-j)==<span class=\"built_in\">abs</span>(x[i]-x[j]))</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// å†²çªå°±è¿”å›false</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‰“å°æ£‹ç›˜</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">print</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tres++; <span class=\"comment\">// ç­”æ¡ˆ+1</span></span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ¯ä¸ªçš‡å</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†æ¯ä¸€åˆ—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœçš‡åæ‰€åœ¨åˆ—å°±æ˜¯j,æ‰“å°&#x27;Q&#x27;</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(x[i]==j)</span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&#x27;Q&#x27;</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;<span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ”¾ç½®æ¯ä¸ªçš‡åçš„æ·±åº¦ä¼˜å…ˆæœç´¢å‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†ç¬¬1åˆ—åˆ°nåˆ—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…ˆæŠŠçš‡åæ”¾åˆ°ç¬¬jåˆ—</span></span><br><span class=\"line\">\t\tx[u]=j;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœç¬¬uä¸ªçš‡åæ”¾åœ¨è¿™åˆ—ä¸å†²çª</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">place</span>(u)) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// æ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œè§£,ç›´æ¥æ‰“å°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(u==n)</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">print</span>();</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‘ä¸‹é€’å½’</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">dfs</span>(u<span class=\"number\">+1</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">dfs</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;å¯è¡Œè§£ä¸€å…±æœ‰ &quot;</span>&lt;&lt;res&lt;&lt;<span class=\"string\">&quot; ä¸ª&quot;</span>&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-å¹¿åº¦ä¼˜å…ˆæœç´¢BFS\"><a href=\"#2-å¹¿åº¦ä¼˜å…ˆæœç´¢BFS\" class=\"headerlink\" title=\"2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS\"></a>2. å¹¿åº¦ä¼˜å…ˆæœç´¢BFS</h2><blockquote>\n<p>æ•°æ®ç»“æ„ queueï¼Œç©ºé—´å¤æ‚åº¦O(2^n)ï¼Œæœ€çŸ­è·¯ï¼Œå®½æœé—®é¢˜æœ‰æ¨¡æ¿</p>\n</blockquote>\n<h3 id=\"2-1-èµ°è¿·å®«\"><a href=\"#2-1-èµ°è¿·å®«\" class=\"headerlink\" title=\"2.1. èµ°è¿·å®«\"></a>2.1. èµ°è¿·å®«</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// åœ°å›¾èŒƒå›´</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å›¾çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N][N]; <span class=\"comment\">// æ¯ä¸ªç‚¹åˆ°åˆå§‹ç‚¹çš„è·ç¦»</span></span><br><span class=\"line\">PII q[N*N]; <span class=\"comment\">// BFSçš„é˜Ÿåˆ—</span></span><br><span class=\"line\">PII Prev[N][N]; <span class=\"comment\">// è®°å½•éå†çš„é¡ºåº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// hh:é˜Ÿå¤´,å½“å‰è¦å¤„ç†å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// tt:é˜Ÿå°¾,æœ€åä¸€ä¸ªå…¥é˜Ÿå…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> hh=<span class=\"number\">0</span>,tt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;; </span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–,è¡¨ç¤ºå®³æ²¡æœ‰ä»»ä½•ç‚¹ç»è¿‡</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(d,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> d);</span><br><span class=\"line\">\td[<span class=\"number\">0</span>][<span class=\"number\">0</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å‘é‡è¡¨ç¤ºå››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> dx[<span class=\"number\">4</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"type\">int</span> dy[<span class=\"number\">4</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(hh&lt;=tt) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q[hh++]; <span class=\"comment\">// å–å‡ºé˜Ÿå¤´</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> x=t.first+dx[i],y=t.second+dy[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ²¡æœ‰è¶…å‡ºåœ°å›¾èŒƒå›´ä¸”g[x][y]=0ä¸”æ²¡æœ‰åˆ°è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(x&gt;=<span class=\"number\">0</span> &amp;&amp; x&lt;n &amp;&amp; y&gt;=<span class=\"number\">0</span> &amp;&amp; y&lt;m &amp;&amp; g[x][y]==<span class=\"number\">0</span> &amp;&amp; d[x][y]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\t\td[x][y]=d[t.first][t.second]<span class=\"number\">+1</span>; <span class=\"comment\">// è·ç¦»åŠ 1</span></span><br><span class=\"line\">\t\t\t\tPrev[x][y]=t; <span class=\"comment\">// è®°å½•ä¸Šä¸€æ­¥</span></span><br><span class=\"line\">\t\t\t\tq[++tt]=&#123;x,y&#125;; <span class=\"comment\">// æŠŠx,yæ”¾è¿›é˜Ÿå¤´</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\"><span class=\"comment\">//\tint x=n-1,y=m-1;</span></span><br><span class=\"line\"><span class=\"comment\">//\t// [0,1] [1,0]éƒ½å¯ä»¥è¾“å‡º</span></span><br><span class=\"line\"><span class=\"comment\">//\twhile(x||y) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;endl;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tauto t=Prev[x][y];</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tx=t.first,y=t.second;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// è¿”å›è·ç¦»</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> d[n<span class=\"number\">-1</span>][m<span class=\"number\">-1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å›¾</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;m;j++) &#123;</span><br><span class=\"line\">\t\t\tcin&gt;&gt;g[i][j];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">bfs</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-2-å…«æ•°ç \"><a href=\"#2-2-å…«æ•°ç \" class=\"headerlink\" title=\"2.2. å…«æ•°ç \"></a>2.2. å…«æ•°ç </h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ULL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å…«é‡ç :ç±»ä¼¼äºä¸€ä¸ªæ•°å­—åå®¹é“å˜›,æ±‚ç§»åŠ¨çš„æœ€å°‘æ­¥æ•°(BFS)</span></span><br><span class=\"line\"><span class=\"comment\">// éš¾ç‚¹åœ¨äºçŠ¶æ€è¡¨ç¤ºæ¯”è¾ƒå¤æ‚,æ¯ä¸ªçŠ¶æ€æ˜¯ä¸€ä¸ª3*3çš„å°çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"comment\">// é—®é¢˜ä¸€:é˜Ÿåˆ—,å¦‚æœæŠŠæ¯ä¸ªçŠ¶æ€æ”¾è¿›é˜Ÿåˆ—ä¸­ &quot;12345678x&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// é—®é¢˜äºŒ:å¦‚ä½•è®¡ç®—æ¯ä¸ªçŠ¶æ€çš„è·ç¦» &quot;queue&lt;string&gt;,unordered_map&lt;string,int&gt;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">queue&lt;string&gt; q; <span class=\"comment\">// å®šä¹‰é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">// è®©å­—ç¬¦ä¸²æ˜ å°„åˆ°intç±»å‹çš„å€¼</span></span><br><span class=\"line\">unordered_map&lt;string,<span class=\"type\">int</span>&gt; d; <span class=\"comment\">// é€šè¿‡å“ˆå¸Œè¡¨æ¥è®©å­—ç¬¦ä¸²å˜åŒ–æ—¶å’Œç§»åŠ¨çš„è·ç¦»æ•°å€¼å…³è”</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">(string st)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(st); <span class=\"comment\">// å°†å­—ç¬¦ä¸²å…¥é˜Ÿ</span></span><br><span class=\"line\">\td[st]=<span class=\"number\">0</span>; <span class=\"comment\">// å°†åˆå§‹çŠ¶æ€çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼è®¾å®šä¸º0</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> dx[<span class=\"number\">4</span>]=&#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;,dy[<span class=\"number\">4</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">-1</span>&#125;; <span class=\"comment\">// å®šä¹‰å››ä¸ªæ–¹å‘å‘é‡</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// 5åœ¨ä¸€ç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡æ˜¯4</span></span><br><span class=\"line\">\tstring end=<span class=\"string\">&quot;12345678x&quot;</span>; <span class=\"comment\">// å®šä¹‰å®½åº¦ä¼˜å…ˆæœç´ çš„ç»ˆæ­¢çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) <span class=\"comment\">// å¾ªç¯ç»ˆæ­¢çŠ¶æ€</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> t=q.<span class=\"built_in\">front</span>(); <span class=\"comment\">// å°†é˜Ÿåˆ—ä¸­å­˜ç€çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™t</span></span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>(); <span class=\"comment\">// é˜Ÿå¤´å…ƒç´ å¼¹å‡º</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t==end) </span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> d[t]; <span class=\"comment\">// å¦‚æœå½“å‰å­—ç¬¦ä¸²ç­‰äºç»ˆæ­¢çŠ¶æ€æœç´¢ç»“æŸè¿”å›è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼</span></span><br><span class=\"line\">\t\t<span class=\"comment\">//æ­¤å¤„çš„å“ˆå¸Œå‡½æ•°å€¼å¯¹åº”äºå­—ç¬¦ä¸²ç§»åŠ¨çš„æ¬¡æ•°    </span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> distance = d[t]; <span class=\"comment\">// å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡distanceå­˜å‚¨å½¢æˆtå­—ç¬¦ä¸²å½“å‰çš„ç§»åŠ¨æ¬¡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k = t.<span class=\"built_in\">find</span>(<span class=\"string\">&#x27;x&#x27;</span>); <span class=\"comment\">// kè¡¨ç¤º&#x27;x&#x27;å­—ç¬¦åœ¨å­—ç¬¦ä¸²å½“å‰çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æŠŠ&#x27;x&#x27;æ‰€åœ¨çš„ä¸‹æ ‡è½¬æ¢æˆäºŒç»´æ•°ç»„çš„å½¢å¼,æ¯”å¦‚&quot;12345678x&quot;,xå°±æ˜¯8,8/3=2,8%3=2,æ‰€ä»¥æ˜¯ç¬¬ä¸‰è¡Œç¬¬ä¸‰åˆ—</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x = k/<span class=\"number\">3</span>,y = k%<span class=\"number\">3</span>; <span class=\"comment\">// ç”±äºå­—ç¬¦ä¸²å½“å‰æ˜¯ä¸€ç»´çš„å°†ä¸€ç»´ä¸‹æ ‡è½¬åŒ–ä¸ºäºŒç»´åæ ‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++) <span class=\"comment\">// åˆ†åˆ«éå†å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t&#123; </span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†&#x27;x&#x27;å¯ä»¥èµ°çš„å››ä¸ªæ–¹å‘</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> a=x+dx[i],b=y+dy[i]; <span class=\"comment\">//å°†ä¸‹ä¸€ä¸ªæœç´¢ä½ç½®çš„x,yåæ ‡è¡¨ç¤º</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a&gt;=<span class=\"number\">0</span>&amp;&amp;a&lt;<span class=\"number\">3</span>&amp;&amp;b&gt;=<span class=\"number\">0</span>&amp;&amp;b&lt;<span class=\"number\">3</span>) <span class=\"comment\">//å½“äºŒç»´åæ ‡æ»¡è¶³ä½äº3X3çŸ©é˜µä¸­æ—¶</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// å°†æœç´¢ä½ç½®å’Œ&#x27;x&#x27;ç›¸äº¤æ¢,a*3+bå˜å›ä¸€ç»´æ•°ç»„ç´¢å¼•</span></span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">swap</span>(t[a*<span class=\"number\">3</span>+b],t[k]); <span class=\"comment\">//å°†å­—ç¬¦ä¸²ä¸­çš„æœç´¢ä½ç½®ä¸å­—ç¬¦&#x27;x&#x27;äº¤æ¢</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// d.count(t)æ˜¯ç»Ÿè®¡dè¿™ä¸ªå“ˆå¸Œè¡¨å®¹å™¨ä¸­tå‡ºç°çš„æ¬¡æ•°,å¦‚æœä¸€æ¬¡éƒ½æ²¡å‡ºç°è¿‡,å°±æ”¾è¿›é˜Ÿåˆ—,åŒæ—¶åœ¨dist[t]ä¸ŠåšåŠ å‡</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(!d.<span class=\"built_in\">count</span>(t)) <span class=\"comment\">// å¦‚æœå½“å‰çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ä¸º0</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\td[t]=distance<span class=\"number\">+1</span>; <span class=\"comment\">// å°†è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åœ¨åŸå­—ç¬¦ä¸²å¯¹åº”çš„å“ˆå¸Œå€¼åŸºç¡€ä¸ŠåŠ 1</span></span><br><span class=\"line\">\t\t\t\t\tq.<span class=\"built_in\">push</span>(t); <span class=\"comment\">// å°†è¯¥å­—ç¬¦ä¸²å…¥é˜Ÿ</span></span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">swap</span>(t[a*<span class=\"number\">3</span>+b],t[k]); <span class=\"comment\">// æ¢å¤ç°åœº,è¿”å›ä½ç½®åˆ¤æ–­å…¶ä»–æ–¹å‘</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// å¦‚æœæ— æ³•ç§»åŠ¨åˆ°ç»ˆæ­¢ä½ç½®è¿”å›-1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\tstring st;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥ä¸€ä¸ªåˆå§‹çŠ¶æ€</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">9</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcin&gt;&gt;s;</span><br><span class=\"line\">\t\tst+=s; <span class=\"comment\">//é€ä¸ªè¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">bfs</span>(st)&lt;&lt;endl; <span class=\"comment\">//è¾“å‡ºå®½åº¦ä¼˜å…ˆæœç´¢çš„æ•°å€¼\t</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-æ ‘å’Œå›¾çš„å­˜å‚¨\"><a href=\"#3-æ ‘å’Œå›¾çš„å­˜å‚¨\" class=\"headerlink\" title=\"3. æ ‘å’Œå›¾çš„å­˜å‚¨\"></a>3. æ ‘å’Œå›¾çš„å­˜å‚¨</h2><blockquote>\n<p>æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå› æ­¤åªè®¨è®ºå›¾</p>\n</blockquote>\n<h3 id=\"3-1-æœ‰å‘å›¾\"><a href=\"#3-1-æœ‰å‘å›¾\" class=\"headerlink\" title=\"3.1. æœ‰å‘å›¾\"></a>3.1. æœ‰å‘å›¾</h3><h4 id=\"3-1-1-é‚»æ¥çŸ©é˜µ\"><a href=\"#3-1-1-é‚»æ¥çŸ©é˜µ\" class=\"headerlink\" title=\"3.1.1. é‚»æ¥çŸ©é˜µ\"></a>3.1.1. é‚»æ¥çŸ©é˜µ</h4><ul>\n<li>é‚»æ¥çŸ©é˜µä¸èƒ½å­˜å‚¨é‡è¾¹ï¼Œç©ºé—´å¤æ‚åº¦O(nÂ²)ï¼Œé€‚åˆç¨ å¯†å›¾</li>\n</ul>\n<h4 id=\"3-1-2-é‚»æ¥è¡¨\"><a href=\"#3-1-2-é‚»æ¥è¡¨\" class=\"headerlink\" title=\"3.1.2. é‚»æ¥è¡¨\"></a>3.1.2. é‚»æ¥è¡¨</h4><ul>\n<li>æ¯ä¸ªç»“ç‚¹å¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œé‚»æ¥è¡¨å†…éƒ¨çš„é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼Œé‚»æ¥è¡¨æ’å…¥æ–°è¾¹åå¼•å…¥æ–°çš„ç»“ç‚¹ä¸€èˆ¬ç”¨å¤´æ’æ³•</li>\n</ul>\n<h2 id=\"4-æ ‘å’Œå›¾çš„éå†\"><a href=\"#4-æ ‘å’Œå›¾çš„éå†\" class=\"headerlink\" title=\"4. æ ‘å’Œå›¾çš„éå†\"></a>4. æ ‘å’Œå›¾çš„éå†</h2><h3 id=\"4-1-æ·±åº¦ä¼˜å…ˆéå†\"><a href=\"#4-1-æ·±åº¦ä¼˜å…ˆéå†\" class=\"headerlink\" title=\"4.1. æ·±åº¦ä¼˜å…ˆéå†\"></a>4.1. æ·±åº¦ä¼˜å…ˆéå†</h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæ¯ä¸€æ£µå­æ ‘çš„å¤§å°ã€‚</li>\n</ul>\n<h3 id=\"4-2-å¹¿åº¦ä¼˜å…ˆéå†\"><a href=\"#4-2-å¹¿åº¦ä¼˜å…ˆéå†\" class=\"headerlink\" title=\"4.2. å¹¿åº¦ä¼˜å…ˆéå†\"></a>4.2. å¹¿åº¦ä¼˜å…ˆéå†</h3><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦O(n+m)ï¼Œç‚¹æ•°+è¾¹æ•°</p>\n</blockquote>\n<ul>\n<li>ä¼˜ç‚¹åœ¨äºå¯ä»¥æ±‚å‡ºæœ€çŸ­è·¯å¾„ï¼Œä½†å‰ææ˜¯æ¯æ¡è·¯çš„æƒé‡ç›¸åŒ</li>\n</ul>\n<h3 id=\"4-3-æ¨¡æ¿\"><a href=\"#4-3-æ¨¡æ¿\" class=\"headerlink\" title=\"4.3. æ¨¡æ¿\"></a>4.3. æ¨¡æ¿</h3><blockquote>\n<p>æ³¨æ„DFSæ˜¯æ²¡æœ‰æ¨¡æ¿çš„ï¼Œä½†åŸºæœ¬å¯ä»¥åˆ†ä¸ºç»ˆæ­¢æ¡ä»¶ã€é€’å½’é€»è¾‘ã€å‰ªæã€æ¢å¤ç°åœºå‡ ä¸ªæ­¥éª¤ï¼Œåœ¨å¦ä¸€ç¯‡åšå®¢é‡Œç»™å‡ºäº†æˆ‘è‡ªå·±å¯¹äºDFSçš„æ¨¡æ¿ï¼ŒBFSæœ‰æ¨¡æ¿</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¾“å…¥è¾“å‡ºè§„æ¨¡åœ¨100wçš„æ—¶å€™å¿…é¡»ç”¨scanf</span></span><br><span class=\"line\"><span class=\"comment\">// æ ‘å’Œå›¾çš„å­˜å‚¨</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>,M=N*<span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// h[i]:ç¬¬iä¸ªç»“ç‚¹çš„é‚»æ¥è¡¨,å¤´æ’,å­˜å‚¨è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// e[j]:ç¬¬jæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ne[j]:ç¬¬jæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">// idx:è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> h[N],e[M],ne[M],idx;</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// æ¯ä¸ªç‚¹çš„æœç´¢çŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> q[N],d[N]; <span class=\"comment\">// bfsé˜Ÿåˆ—å’Œè·ç¦»æ•°ç»„</span></span><br><span class=\"line\"><span class=\"type\">int</span> Prev[N]; <span class=\"comment\">// è®°å½•é¡ºåº</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘çš„ç»“ç‚¹æ˜¯b</span></span><br><span class=\"line\">\t<span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯açš„å•é“¾è¡¨(å¤´ç»“ç‚¹)</span></span><br><span class=\"line\">\t<span class=\"comment\">// ç»“ç‚¹açš„é‚»æ¥è¡¨çš„ç¬¬ä¸€æ¡è¾¹å˜ä¸ºidx,idx++</span></span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bfsæ‰¾æœ€çŸ­è·¯å¾„ä¸ºä¾‹:æ³¨æ„æ¯æ¡è·¯çš„æƒé‡å¿…é¡»éƒ½ç›¸åŒ,å¦‚è¿™é‡Œçš„1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bfs</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> hh=<span class=\"number\">0</span>,tt=<span class=\"number\">0</span>; <span class=\"comment\">// é˜Ÿå¤´å’Œé˜Ÿå°¾</span></span><br><span class=\"line\">\tq[<span class=\"number\">0</span>]=<span class=\"number\">1</span>; <span class=\"comment\">// å¤´ç»“ç‚¹æ˜¯1</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(d,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> d); <span class=\"comment\">// è·ç¦»åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\td[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ç¬¬1ä¸ªç»“ç‚¹åˆ°ç¬¬1ä¸ªç»“ç‚¹çš„è·ç¦»æ˜¯0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(hh&lt;=tt) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=q[hh++]; <span class=\"comment\">// å–å‡ºå¤´ç»“ç‚¹,hh++</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[t];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœjè¿˜æœªè®¿é—®è¿‡</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(d[j]==<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">\t\t\t\td[j]=d[j]<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t\t\t\tq[++tt]=j; <span class=\"comment\">// åœ¨é˜Ÿå°¾å¢åŠ ä¸€ä¸ªç©ºä½,å†æŠŠjçš„å€¼èµ‹ç»™q[tt]</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> </span>&#123;</span><br><span class=\"line\">\tst[u]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä»uçš„ç¬¬ä¸€æ¡è¾¹å¼€å§‹å¾€ä¸‹éå†æ¯ä¸€æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=h[u];i!=<span class=\"number\">-1</span>;i=ne[i]) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=e[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¿˜æœªè¢«è®¿é—®è¿‡,å°±ç»§ç»­dfs[j]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[j])</span><br><span class=\"line\">\t\t\tdfs[j];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æ—¥æœŸé—®é¢˜","date":"2024-10-02T14:37:36.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æ¨¡æ‹Ÿæ—¥æœŸ\n\n<!-- toc -->\n\n\n\n## 1. å›æ–‡æ—¥æœŸ\n\n* ä»è¿™é“é¢˜ä¸­ä¸»è¦å­¦ä¹ çš„æ€è·¯æ˜¯ï¼šç›´æ¥ç”¨intå‹æ•°æ®æ¨¡æ‹Ÿæ—¥æœŸï¼Œä»è€Œè¿›è¡Œæšä¸¾ï¼Œå†åˆ¤æ–­è¿™ä¸ªæ—¥æœŸæ˜¯å¦åˆæ³•ï¼Œæ˜¯å¦æ»¡è¶³é¢˜ç›®çš„è¦æ±‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: æ—¥æœŸé—®é¢˜,è·Ÿshitä¸€æ ·,ä½†æ˜¯åšä¸€éæ‰¾åˆ°è§„å¾‹å°±æ²¡é—®é¢˜äº†\n// è¾“å…¥ä¸€ä¸ªèµ·å§‹æ—¥æœŸå’Œä¸€ä¸ªç»ˆæ­¢æ—¥æœŸ,æœ€åè¿”å›è¿™ä¸ªæ—¥æœŸä¸­æœ‰å¤šå°‘ä¸ªæ—¥æœŸæ˜¯å›æ–‡çš„\n// æ¢ä¸ªæ€è·¯,æˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„å›æ–‡æ•°,å› ä¸ºå‰å››ä½ç¡®å®šäº†åå››ä½å°±ä¸€å®šç¡®å®šäº†\n// å‰å››ä½>=1000,åˆå› ä¸ºæ˜¯å››ä½æ•°,æ‰€ä»¥æœ€å¤§9999,èŒƒå›´åˆ™[1000,9999]\n// æŠŠå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥è¿‡åå†å»åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•\n// å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹é—´?å­—å…¸åºå˜›,ä¸ç”¨æƒ³å¤æ‚äº†\n// æœ€åå¦‚ä½•åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•å‘¢?ç”¨ä¸€ä¸ªæ•°ç»„monthå­˜å‚¨æ¯ä¸€ä¸ªæœˆçš„çŠ¶æ€\n// å¯¹äº2æœˆ,è¿˜è¦è€ƒè™‘å¹³å¹´å’Œé—°å¹´çš„æƒ…å†µ\n\nint months[13]={0,31,28,31,30,31,30,31,31,30,31,30,31}; // 1~12æœˆçš„å¤©æ•°,å¹³å¹´\n\n// åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•,å®Œå…¨å¯ä»¥å½“æ¨¡æ¿\nbool check(int date) {\n\tint year=date/10000; // å–å‰å››ä½\n\tint month=date%10000/100; // åå››ä½çš„å‰ä¸¤ä½\n\tint day=date%100;\n\t\n\t// å¦‚æœæœˆä»½ä¸åˆæ³•å’Œå¤©æ•°=0\n\tif(!month || month>=13 || !day) return false;\n\t// å¹³å¹´ä¸‹å¤©æ•°ä¸åˆæ³•\n\tif(month!=2 && day>months[month]) return false;\n\t// æœˆä»½ä¸º2,å•ç‹¬åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ä»¥åŠåˆæ³•ä¸å¦\n\tif(month==2) {\n\t\t// å››å¹´ä¸€é—°,ç™¾å¹´ä¸é—°,å››ç™¾å¹´åˆé—°\n\t\tbool leap= year%4==0 && year%100 || year%400==0;\n\t\tif(day>months[month]+leap) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nint main() {\n\tint date1,date2;\n\tcin>>date1>>date2; // å¼€å§‹å’Œç»“æŸæ—¥æœŸ\n\tint res=0;\n\t// åªæšä¸¾å¹´ä»½\n\tfor(int i=1000;i<10000;i++) {\n\t\tint date=i,x=i;\n\t\t// æ‹¼æ¥æˆå›æ–‡æ•°\n\t\tfor(int j=0;j<4;j++) {\n\t\t\tdate=date*10+x%10; // å–åå››ä½çš„æœ€åä¸€ä½æ‹¼ä¸Šæ¥\n\t\t\tx/=10;\n\t\t}\n\t\tif(date1<=date && date<=date2 && check(date)) res++;\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## 2. é¡ºå­æ—¥æœŸ\n\n* æœ¬é¢˜è¦å­¦çš„æ€è·¯æ˜¯ç”¨sprintfå‡½æ•°å°†æŒ‡å®šæ ¼å¼çš„intå‹çš„year, month, dayçš„å€¼è¾“å…¥åˆ°å­—ç¬¦æ•°ç»„ä¸­åˆ¶é€ å­—ç¬¦ä¸²\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: YYYYMMddè¿™ä¸ªæ—¥æœŸæ ¼å¼ä¸­è‹¥å‡ºç°ä¸‰ä¸ªå‡åºè¿ç»­çš„æ•°å­—,è®°ä¸ºé¡ºå­å¹´\n\nconst int N=1e5+5;\n\n// é¢˜ç›®åªè¦æ±‚æ‰¾2022å¹´,è¿™æ˜¯ä¸€ä¸ªå¹³å¹´\nconst int months[]={\n\t0,31,28,31,30,31,\n\t30,31,31,30,31,30,\n\t31\n};\n\n// å­—ç¬¦ä¸²è¡¨ç¤ºæ—¥æœŸ,åˆ¤æ–­æ˜¯å¦ä¸ºé¡ºå­å¹´\nbool check(string str) {\n\tfor(int i=0;i+2<str.length();i++) {\n\t\tif(str[i+1]==str[i]+1 && str[i+2]==str[i+1]+1 && str[i]!='0') {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tint year=2022,month=1,day=1;\n\tint res=0;\n\t// ä¸€å¹´ä¸­\n\tfor(int i=0;i<365;i++) {\n\t\tchar str[10];\n\t\t// ç”¨sprintfå‡½æ•°æŒ‰ç…§æŒ‡å®šæ ¼å¼åˆ¶é€ å­—ç¬¦ä¸²\n\t\tsprintf(str,\"%04d%02d%02d\",year,month,day); // %04dä¸è¶³4ä½è‡ªåŠ¨è¡¥0\n\t\tif(check(str)) {\n\t\t\tres++;\n\t\t\tcout<<str<<endl;\n\t\t}\n\t\t// è¿›æœˆ\n\t\tif(++day>months[month]) {\n\t\t\tday=1;\n\t\t\tmonth++;\n\t\t}\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n```\n\n","source":"_posts/æ—¥æœŸé—®é¢˜.md","raw":"---\ntitle: æ—¥æœŸé—®é¢˜\ndate: 2024-10-02 22:37:36\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ¨¡æ‹Ÿ\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æ¨¡æ‹Ÿæ—¥æœŸ\n\n<!-- toc -->\n\n\n\n## 1. å›æ–‡æ—¥æœŸ\n\n* ä»è¿™é“é¢˜ä¸­ä¸»è¦å­¦ä¹ çš„æ€è·¯æ˜¯ï¼šç›´æ¥ç”¨intå‹æ•°æ®æ¨¡æ‹Ÿæ—¥æœŸï¼Œä»è€Œè¿›è¡Œæšä¸¾ï¼Œå†åˆ¤æ–­è¿™ä¸ªæ—¥æœŸæ˜¯å¦åˆæ³•ï¼Œæ˜¯å¦æ»¡è¶³é¢˜ç›®çš„è¦æ±‚\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: æ—¥æœŸé—®é¢˜,è·Ÿshitä¸€æ ·,ä½†æ˜¯åšä¸€éæ‰¾åˆ°è§„å¾‹å°±æ²¡é—®é¢˜äº†\n// è¾“å…¥ä¸€ä¸ªèµ·å§‹æ—¥æœŸå’Œä¸€ä¸ªç»ˆæ­¢æ—¥æœŸ,æœ€åè¿”å›è¿™ä¸ªæ—¥æœŸä¸­æœ‰å¤šå°‘ä¸ªæ—¥æœŸæ˜¯å›æ–‡çš„\n// æ¢ä¸ªæ€è·¯,æˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„å›æ–‡æ•°,å› ä¸ºå‰å››ä½ç¡®å®šäº†åå››ä½å°±ä¸€å®šç¡®å®šäº†\n// å‰å››ä½>=1000,åˆå› ä¸ºæ˜¯å››ä½æ•°,æ‰€ä»¥æœ€å¤§9999,èŒƒå›´åˆ™[1000,9999]\n// æŠŠå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥è¿‡åå†å»åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•\n// å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹é—´?å­—å…¸åºå˜›,ä¸ç”¨æƒ³å¤æ‚äº†\n// æœ€åå¦‚ä½•åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•å‘¢?ç”¨ä¸€ä¸ªæ•°ç»„monthå­˜å‚¨æ¯ä¸€ä¸ªæœˆçš„çŠ¶æ€\n// å¯¹äº2æœˆ,è¿˜è¦è€ƒè™‘å¹³å¹´å’Œé—°å¹´çš„æƒ…å†µ\n\nint months[13]={0,31,28,31,30,31,30,31,31,30,31,30,31}; // 1~12æœˆçš„å¤©æ•°,å¹³å¹´\n\n// åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•,å®Œå…¨å¯ä»¥å½“æ¨¡æ¿\nbool check(int date) {\n\tint year=date/10000; // å–å‰å››ä½\n\tint month=date%10000/100; // åå››ä½çš„å‰ä¸¤ä½\n\tint day=date%100;\n\t\n\t// å¦‚æœæœˆä»½ä¸åˆæ³•å’Œå¤©æ•°=0\n\tif(!month || month>=13 || !day) return false;\n\t// å¹³å¹´ä¸‹å¤©æ•°ä¸åˆæ³•\n\tif(month!=2 && day>months[month]) return false;\n\t// æœˆä»½ä¸º2,å•ç‹¬åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ä»¥åŠåˆæ³•ä¸å¦\n\tif(month==2) {\n\t\t// å››å¹´ä¸€é—°,ç™¾å¹´ä¸é—°,å››ç™¾å¹´åˆé—°\n\t\tbool leap= year%4==0 && year%100 || year%400==0;\n\t\tif(day>months[month]+leap) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nint main() {\n\tint date1,date2;\n\tcin>>date1>>date2; // å¼€å§‹å’Œç»“æŸæ—¥æœŸ\n\tint res=0;\n\t// åªæšä¸¾å¹´ä»½\n\tfor(int i=1000;i<10000;i++) {\n\t\tint date=i,x=i;\n\t\t// æ‹¼æ¥æˆå›æ–‡æ•°\n\t\tfor(int j=0;j<4;j++) {\n\t\t\tdate=date*10+x%10; // å–åå››ä½çš„æœ€åä¸€ä½æ‹¼ä¸Šæ¥\n\t\t\tx/=10;\n\t\t}\n\t\tif(date1<=date && date<=date2 && check(date)) res++;\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n\n\n## 2. é¡ºå­æ—¥æœŸ\n\n* æœ¬é¢˜è¦å­¦çš„æ€è·¯æ˜¯ç”¨sprintfå‡½æ•°å°†æŒ‡å®šæ ¼å¼çš„intå‹çš„year, month, dayçš„å€¼è¾“å…¥åˆ°å­—ç¬¦æ•°ç»„ä¸­åˆ¶é€ å­—ç¬¦ä¸²\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// é¢˜ç›®æè¿°: YYYYMMddè¿™ä¸ªæ—¥æœŸæ ¼å¼ä¸­è‹¥å‡ºç°ä¸‰ä¸ªå‡åºè¿ç»­çš„æ•°å­—,è®°ä¸ºé¡ºå­å¹´\n\nconst int N=1e5+5;\n\n// é¢˜ç›®åªè¦æ±‚æ‰¾2022å¹´,è¿™æ˜¯ä¸€ä¸ªå¹³å¹´\nconst int months[]={\n\t0,31,28,31,30,31,\n\t30,31,31,30,31,30,\n\t31\n};\n\n// å­—ç¬¦ä¸²è¡¨ç¤ºæ—¥æœŸ,åˆ¤æ–­æ˜¯å¦ä¸ºé¡ºå­å¹´\nbool check(string str) {\n\tfor(int i=0;i+2<str.length();i++) {\n\t\tif(str[i+1]==str[i]+1 && str[i+2]==str[i+1]+1 && str[i]!='0') {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tint year=2022,month=1,day=1;\n\tint res=0;\n\t// ä¸€å¹´ä¸­\n\tfor(int i=0;i<365;i++) {\n\t\tchar str[10];\n\t\t// ç”¨sprintfå‡½æ•°æŒ‰ç…§æŒ‡å®šæ ¼å¼åˆ¶é€ å­—ç¬¦ä¸²\n\t\tsprintf(str,\"%04d%02d%02d\",year,month,day); // %04dä¸è¶³4ä½è‡ªåŠ¨è¡¥0\n\t\tif(check(str)) {\n\t\t\tres++;\n\t\t\tcout<<str<<endl;\n\t\t}\n\t\t// è¿›æœˆ\n\t\tif(++day>months[month]) {\n\t\t\tday=1;\n\t\t\tmonth++;\n\t\t}\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n```\n\n","slug":"æ—¥æœŸé—®é¢˜","published":1,"updated":"2024-10-05T08:04:11.454Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptd003kc0nf4v97ap5u","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"æ¨¡æ‹Ÿæ—¥æœŸ\">æ¨¡æ‹Ÿæ—¥æœŸ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F\">1. å›æ–‡æ—¥æœŸ</a></li>\n<li><a href=\"#2-%E9%A1%BA%E5%AD%90%E6%97%A5%E6%9C%9F\">2. é¡ºå­æ—¥æœŸ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-å›æ–‡æ—¥æœŸ\">1. å›æ–‡æ—¥æœŸ</span></h2><ul>\n<li>ä»è¿™é“é¢˜ä¸­ä¸»è¦å­¦ä¹ çš„æ€è·¯æ˜¯ï¼šç›´æ¥ç”¨intå‹æ•°æ®æ¨¡æ‹Ÿæ—¥æœŸï¼Œä»è€Œè¿›è¡Œæšä¸¾ï¼Œå†åˆ¤æ–­è¿™ä¸ªæ—¥æœŸæ˜¯å¦åˆæ³•ï¼Œæ˜¯å¦æ»¡è¶³é¢˜ç›®çš„è¦æ±‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: æ—¥æœŸé—®é¢˜,è·Ÿshitä¸€æ ·,ä½†æ˜¯åšä¸€éæ‰¾åˆ°è§„å¾‹å°±æ²¡é—®é¢˜äº†</span></span><br><span class=\"line\"><span class=\"comment\">// è¾“å…¥ä¸€ä¸ªèµ·å§‹æ—¥æœŸå’Œä¸€ä¸ªç»ˆæ­¢æ—¥æœŸ,æœ€åè¿”å›è¿™ä¸ªæ—¥æœŸä¸­æœ‰å¤šå°‘ä¸ªæ—¥æœŸæ˜¯å›æ–‡çš„</span></span><br><span class=\"line\"><span class=\"comment\">// æ¢ä¸ªæ€è·¯,æˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„å›æ–‡æ•°,å› ä¸ºå‰å››ä½ç¡®å®šäº†åå››ä½å°±ä¸€å®šç¡®å®šäº†</span></span><br><span class=\"line\"><span class=\"comment\">// å‰å››ä½&gt;=1000,åˆå› ä¸ºæ˜¯å››ä½æ•°,æ‰€ä»¥æœ€å¤§9999,èŒƒå›´åˆ™[1000,9999]</span></span><br><span class=\"line\"><span class=\"comment\">// æŠŠå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥è¿‡åå†å»åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹é—´?å­—å…¸åºå˜›,ä¸ç”¨æƒ³å¤æ‚äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€åå¦‚ä½•åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•å‘¢?ç”¨ä¸€ä¸ªæ•°ç»„monthå­˜å‚¨æ¯ä¸€ä¸ªæœˆçš„çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äº2æœˆ,è¿˜è¦è€ƒè™‘å¹³å¹´å’Œé—°å¹´çš„æƒ…å†µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> months[<span class=\"number\">13</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">31</span>,<span class=\"number\">28</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>&#125;; <span class=\"comment\">// 1~12æœˆçš„å¤©æ•°,å¹³å¹´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•,å®Œå…¨å¯ä»¥å½“æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">check</span><span class=\"params\">(<span class=\"type\">int</span> date)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> year=date/<span class=\"number\">10000</span>; <span class=\"comment\">// å–å‰å››ä½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> month=date%<span class=\"number\">10000</span>/<span class=\"number\">100</span>; <span class=\"comment\">// åå››ä½çš„å‰ä¸¤ä½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> day=date%<span class=\"number\">100</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœˆä»½ä¸åˆæ³•å’Œå¤©æ•°=0</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!month || month&gt;=<span class=\"number\">13</span> || !day) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¹³å¹´ä¸‹å¤©æ•°ä¸åˆæ³•</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(month!=<span class=\"number\">2</span> &amp;&amp; day&gt;months[month]) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æœˆä»½ä¸º2,å•ç‹¬åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ä»¥åŠåˆæ³•ä¸å¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(month==<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å››å¹´ä¸€é—°,ç™¾å¹´ä¸é—°,å››ç™¾å¹´åˆé—°</span></span><br><span class=\"line\">\t\t<span class=\"type\">bool</span> leap= year%<span class=\"number\">4</span>==<span class=\"number\">0</span> &amp;&amp; year%<span class=\"number\">100</span> || year%<span class=\"number\">400</span>==<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(day&gt;months[month]+leap) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> date1,date2;</span><br><span class=\"line\">\tcin&gt;&gt;date1&gt;&gt;date2; <span class=\"comment\">// å¼€å§‹å’Œç»“æŸæ—¥æœŸ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// åªæšä¸¾å¹´ä»½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1000</span>;i&lt;<span class=\"number\">10000</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> date=i,x=i;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‹¼æ¥æˆå›æ–‡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\tdate=date*<span class=\"number\">10</span>+x%<span class=\"number\">10</span>; <span class=\"comment\">// å–åå››ä½çš„æœ€åä¸€ä½æ‹¼ä¸Šæ¥</span></span><br><span class=\"line\">\t\t\tx/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(date1&lt;=date &amp;&amp; date&lt;=date2 &amp;&amp; <span class=\"built_in\">check</span>(date)) res++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-é¡ºå­æ—¥æœŸ\">2. é¡ºå­æ—¥æœŸ</span></h2><ul>\n<li>æœ¬é¢˜è¦å­¦çš„æ€è·¯æ˜¯ç”¨sprintfå‡½æ•°å°†æŒ‡å®šæ ¼å¼çš„intå‹çš„year, month, dayçš„å€¼è¾“å…¥åˆ°å­—ç¬¦æ•°ç»„ä¸­åˆ¶é€ å­—ç¬¦ä¸²</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: YYYYMMddè¿™ä¸ªæ—¥æœŸæ ¼å¼ä¸­è‹¥å‡ºç°ä¸‰ä¸ªå‡åºè¿ç»­çš„æ•°å­—,è®°ä¸ºé¡ºå­å¹´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®åªè¦æ±‚æ‰¾2022å¹´,è¿™æ˜¯ä¸€ä¸ªå¹³å¹´</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> months[]=&#123;</span><br><span class=\"line\">\t<span class=\"number\">0</span>,<span class=\"number\">31</span>,<span class=\"number\">28</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,</span><br><span class=\"line\">\t<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,</span><br><span class=\"line\">\t<span class=\"number\">31</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å­—ç¬¦ä¸²è¡¨ç¤ºæ—¥æœŸ,åˆ¤æ–­æ˜¯å¦ä¸ºé¡ºå­å¹´</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">check</span><span class=\"params\">(string str)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i<span class=\"number\">+2</span>&lt;str.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(str[i<span class=\"number\">+1</span>]==str[i]<span class=\"number\">+1</span> &amp;&amp; str[i<span class=\"number\">+2</span>]==str[i<span class=\"number\">+1</span>]<span class=\"number\">+1</span> &amp;&amp; str[i]!=<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> year=<span class=\"number\">2022</span>,month=<span class=\"number\">1</span>,day=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸€å¹´ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">365</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> str[<span class=\"number\">10</span>];</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç”¨sprintfå‡½æ•°æŒ‰ç…§æŒ‡å®šæ ¼å¼åˆ¶é€ å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">sprintf</span>(str,<span class=\"string\">&quot;%04d%02d%02d&quot;</span>,year,month,day); <span class=\"comment\">// %04dä¸è¶³4ä½è‡ªåŠ¨è¡¥0</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">check</span>(str)) &#123;</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;str&lt;&lt;endl;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿›æœˆ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(++day&gt;months[month]) &#123;</span><br><span class=\"line\">\t\t\tday=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tmonth++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"æ¨¡æ‹Ÿæ—¥æœŸ\"><a href=\"#æ¨¡æ‹Ÿæ—¥æœŸ\" class=\"headerlink\" title=\"æ¨¡æ‹Ÿæ—¥æœŸ\"></a>æ¨¡æ‹Ÿæ—¥æœŸ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F\">1. å›æ–‡æ—¥æœŸ</a></li>\n<li><a href=\"#2-%E9%A1%BA%E5%AD%90%E6%97%A5%E6%9C%9F\">2. é¡ºå­æ—¥æœŸ</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-å›æ–‡æ—¥æœŸ\"><a href=\"#1-å›æ–‡æ—¥æœŸ\" class=\"headerlink\" title=\"1. å›æ–‡æ—¥æœŸ\"></a>1. å›æ–‡æ—¥æœŸ</h2><ul>\n<li>ä»è¿™é“é¢˜ä¸­ä¸»è¦å­¦ä¹ çš„æ€è·¯æ˜¯ï¼šç›´æ¥ç”¨intå‹æ•°æ®æ¨¡æ‹Ÿæ—¥æœŸï¼Œä»è€Œè¿›è¡Œæšä¸¾ï¼Œå†åˆ¤æ–­è¿™ä¸ªæ—¥æœŸæ˜¯å¦åˆæ³•ï¼Œæ˜¯å¦æ»¡è¶³é¢˜ç›®çš„è¦æ±‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: æ—¥æœŸé—®é¢˜,è·Ÿshitä¸€æ ·,ä½†æ˜¯åšä¸€éæ‰¾åˆ°è§„å¾‹å°±æ²¡é—®é¢˜äº†</span></span><br><span class=\"line\"><span class=\"comment\">// è¾“å…¥ä¸€ä¸ªèµ·å§‹æ—¥æœŸå’Œä¸€ä¸ªç»ˆæ­¢æ—¥æœŸ,æœ€åè¿”å›è¿™ä¸ªæ—¥æœŸä¸­æœ‰å¤šå°‘ä¸ªæ—¥æœŸæ˜¯å›æ–‡çš„</span></span><br><span class=\"line\"><span class=\"comment\">// æ¢ä¸ªæ€è·¯,æˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„å›æ–‡æ•°,å› ä¸ºå‰å››ä½ç¡®å®šäº†åå››ä½å°±ä¸€å®šç¡®å®šäº†</span></span><br><span class=\"line\"><span class=\"comment\">// å‰å››ä½&gt;=1000,åˆå› ä¸ºæ˜¯å››ä½æ•°,æ‰€ä»¥æœ€å¤§9999,èŒƒå›´åˆ™[1000,9999]</span></span><br><span class=\"line\"><span class=\"comment\">// æŠŠå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥è¿‡åå†å»åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹é—´?å­—å…¸åºå˜›,ä¸ç”¨æƒ³å¤æ‚äº†</span></span><br><span class=\"line\"><span class=\"comment\">// æœ€åå¦‚ä½•åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•å‘¢?ç”¨ä¸€ä¸ªæ•°ç»„monthå­˜å‚¨æ¯ä¸€ä¸ªæœˆçš„çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äº2æœˆ,è¿˜è¦è€ƒè™‘å¹³å¹´å’Œé—°å¹´çš„æƒ…å†µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> months[<span class=\"number\">13</span>]=&#123;<span class=\"number\">0</span>,<span class=\"number\">31</span>,<span class=\"number\">28</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>&#125;; <span class=\"comment\">// 1~12æœˆçš„å¤©æ•°,å¹³å¹´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ—¥æœŸæ˜¯å¦åˆæ³•,å®Œå…¨å¯ä»¥å½“æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">check</span><span class=\"params\">(<span class=\"type\">int</span> date)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> year=date/<span class=\"number\">10000</span>; <span class=\"comment\">// å–å‰å››ä½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> month=date%<span class=\"number\">10000</span>/<span class=\"number\">100</span>; <span class=\"comment\">// åå››ä½çš„å‰ä¸¤ä½</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> day=date%<span class=\"number\">100</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœˆä»½ä¸åˆæ³•å’Œå¤©æ•°=0</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!month || month&gt;=<span class=\"number\">13</span> || !day) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¹³å¹´ä¸‹å¤©æ•°ä¸åˆæ³•</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(month!=<span class=\"number\">2</span> &amp;&amp; day&gt;months[month]) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// æœˆä»½ä¸º2,å•ç‹¬åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ä»¥åŠåˆæ³•ä¸å¦</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(month==<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å››å¹´ä¸€é—°,ç™¾å¹´ä¸é—°,å››ç™¾å¹´åˆé—°</span></span><br><span class=\"line\">\t\t<span class=\"type\">bool</span> leap= year%<span class=\"number\">4</span>==<span class=\"number\">0</span> &amp;&amp; year%<span class=\"number\">100</span> || year%<span class=\"number\">400</span>==<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(day&gt;months[month]+leap) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> date1,date2;</span><br><span class=\"line\">\tcin&gt;&gt;date1&gt;&gt;date2; <span class=\"comment\">// å¼€å§‹å’Œç»“æŸæ—¥æœŸ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// åªæšä¸¾å¹´ä»½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1000</span>;i&lt;<span class=\"number\">10000</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> date=i,x=i;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‹¼æ¥æˆå›æ–‡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;<span class=\"number\">4</span>;j++) &#123;</span><br><span class=\"line\">\t\t\tdate=date*<span class=\"number\">10</span>+x%<span class=\"number\">10</span>; <span class=\"comment\">// å–åå››ä½çš„æœ€åä¸€ä½æ‹¼ä¸Šæ¥</span></span><br><span class=\"line\">\t\t\tx/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(date1&lt;=date &amp;&amp; date&lt;=date2 &amp;&amp; <span class=\"built_in\">check</span>(date)) res++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-é¡ºå­æ—¥æœŸ\"><a href=\"#2-é¡ºå­æ—¥æœŸ\" class=\"headerlink\" title=\"2. é¡ºå­æ—¥æœŸ\"></a>2. é¡ºå­æ—¥æœŸ</h2><ul>\n<li>æœ¬é¢˜è¦å­¦çš„æ€è·¯æ˜¯ç”¨sprintfå‡½æ•°å°†æŒ‡å®šæ ¼å¼çš„intå‹çš„year, month, dayçš„å€¼è¾“å…¥åˆ°å­—ç¬¦æ•°ç»„ä¸­åˆ¶é€ å­—ç¬¦ä¸²</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®æè¿°: YYYYMMddè¿™ä¸ªæ—¥æœŸæ ¼å¼ä¸­è‹¥å‡ºç°ä¸‰ä¸ªå‡åºè¿ç»­çš„æ•°å­—,è®°ä¸ºé¡ºå­å¹´</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢˜ç›®åªè¦æ±‚æ‰¾2022å¹´,è¿™æ˜¯ä¸€ä¸ªå¹³å¹´</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> months[]=&#123;</span><br><span class=\"line\">\t<span class=\"number\">0</span>,<span class=\"number\">31</span>,<span class=\"number\">28</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,</span><br><span class=\"line\">\t<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,<span class=\"number\">31</span>,<span class=\"number\">30</span>,</span><br><span class=\"line\">\t<span class=\"number\">31</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å­—ç¬¦ä¸²è¡¨ç¤ºæ—¥æœŸ,åˆ¤æ–­æ˜¯å¦ä¸ºé¡ºå­å¹´</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">check</span><span class=\"params\">(string str)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i<span class=\"number\">+2</span>&lt;str.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(str[i<span class=\"number\">+1</span>]==str[i]<span class=\"number\">+1</span> &amp;&amp; str[i<span class=\"number\">+2</span>]==str[i<span class=\"number\">+1</span>]<span class=\"number\">+1</span> &amp;&amp; str[i]!=<span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> year=<span class=\"number\">2022</span>,month=<span class=\"number\">1</span>,day=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸€å¹´ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">365</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">char</span> str[<span class=\"number\">10</span>];</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç”¨sprintfå‡½æ•°æŒ‰ç…§æŒ‡å®šæ ¼å¼åˆ¶é€ å­—ç¬¦ä¸²</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">sprintf</span>(str,<span class=\"string\">&quot;%04d%02d%02d&quot;</span>,year,month,day); <span class=\"comment\">// %04dä¸è¶³4ä½è‡ªåŠ¨è¡¥0</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">check</span>(str)) &#123;</span><br><span class=\"line\">\t\t\tres++;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;str&lt;&lt;endl;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿›æœˆ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(++day&gt;months[month]) &#123;</span><br><span class=\"line\">\t\t\tday=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tmonth++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"æ ‘","date":"2024-10-04T12:35:15.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ ‘\n\n<!-- toc -->\n\n\n\n## 1. æ ‘çš„éå†\n\n* ç»•è¡Œè¸©ç‚¹ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºéå†æ•´æ£µæ ‘ï¼Œç»è¿‡æ ‘çš„å·¦ä¾§æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯å…ˆåºéå†åºåˆ—ï¼Œç»è¿‡æ ‘çš„ä¸‹æ–¹æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ä¸­åºéå†åºåˆ—ï¼Œç»è¿‡æ•°çš„å³ä¾§\"ğŸ”º\"æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ååºéå†åºåˆ—ã€‚\n\n![image-20240304151152074](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151152074.png)\n\n\n\n![image-20240304151653655](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151653655.png)\n\n* è‹¥è¾“å…¥ $(0,0)$ è¡¨ç¤ºå¶å­èŠ‚ç‚¹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: ç”¨å·¦å³å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ³•\n\nconst int N=1e6+5;\n\nstruct Node {\n\tint l;\n\tint r;\n}node[N];\n\nvoid pre_Order(int root) {\n\tcout<<root<<' ';\n\tif(node[root].l!=0) pre_Order(node[root].l);\n\tif(node[root].r!=0) pre_Order(node[root].r);\n}\n\nvoid in_Order(int root) {\n\tif(node[root].l!=0) in_Order(node[root].l);\n\tcout<<root<<' ';\n\tif(node[root].r!=0) in_Order(node[root].r);\n}\n\nvoid post_Order(int root) {\n\tif(node[root].l!=0) post_Order(node[root].l);\n\tif(node[root].r!=0) post_Order(node[root].r);\n\tcout<<root<<' ';\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n    // è¾“å…¥ç¼–å·1~nçš„å·¦å³å­©å­çš„ç¼–å·\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tnode[i]={l,r}; // ç¼–å·å³ä¸ºå€¼\n\t}\n\tpre_Order(1); // å‰åºéå†ç»“æœ\n\tcout<<endl;\n\tin_Order(1); // ä¸­åºéå†ç»“æœ\n\tcout<<endl;\n\tpost_Order(1); // ååºéå†ç»“æœ\n\tcout<<endl;\n\treturn 0;\n}\n```\n\n\n\n\n\n## 2. æ¨æ–­äºŒå‰æ ‘\n\n* å·²çŸ¥ä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ç¡®å®šå®ƒçš„å››ç§éå†åºåˆ—ï¼ˆå‰åºã€ä¸­åºã€ååºã€æŒ‰å±‚éå†ï¼‰ï¼Œåè¿‡æ¥ï¼Œå·²çŸ¥ä¸¤ç§éå†åºåˆ—ï¼Œä¹Ÿèƒ½ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚\n\n* æ ¹æ®å…ˆåºåºåˆ—ç¬¬ä¸€ä¸ªç»“ç‚¹ç¡®å®šæ ¹ç»“ç‚¹\n* æ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å­æ ‘å’Œå³å­æ ‘\n* å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ç»§ç»­åˆ†è§£\n\n### 2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: è¾“å…¥å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—æ¨æ–­å‡ºååºåºåˆ—\n\nconst int N=1e3+5;\n\nstruct Node {\n\tchar val; \n\tint l,r; // å·¦å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·,å³å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·\n}node[N];\nint idx; // å»ºæ ‘å› å­\nstring s_pre,s_in; // å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—\n\n// æ ¹æ®å…ˆåºå’Œä¸­åºå»ºäºŒå‰æ ‘,è¿”å›æ ‘æ ¹\nint create(string sp,string si) {\n\tint k; // åˆ†å‰²ç‚¹\n\tint root=++idx;\n\tnode[root].val=sp[0]; // å…ˆåºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ‘æ ¹\n\t// æ‰¾åˆ°æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®\n\tfor(int i=0;i<si.length();i++) {\n\t\tif(sp[0]==si[i]) {\n\t\t\tk=i;\n\t\t\tbreak; \n\t\t} \n\t}\n\t// ç¡®å®šå·¦å³å­æ ‘åºåˆ—çš„é•¿åº¦\n\tint len_l=k,len_r=si.length()-1-k;\n\t// åºåˆ—é•¿åº¦>0,å»ºç«‹æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘,å¹¶é€’å½’å¯¹å·¦å­æ ‘æŒ‰ç…§å…ˆåºå’Œä¸­åºé€’å½’æ±‚è§£\n\t// æ³¨æ„å¯¹spå’Œsiéƒ½å–ç›¸åŒçš„å­—ç¬¦ä¸²é•¿åº¦\n\t// å…ˆåºéå†ä¸­,æ ¹èŠ‚ç‚¹æ€»æ˜¯åœ¨æœ€å‰é¢,æ‰€ä»¥å¯¹spè·³è¿‡æ ¹èŠ‚ç‚¹\n\t// ä¸­åºéå†ä¸­,å·¦å­æ ‘æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¹‹å‰,æ‰€ä»¥ä¸éœ€è¦è·³è¿‡ä»»ä½•èŠ‚ç‚¹\n\tif(len_l>0) {\n\t\tnode[root].l=create(sp.substr(1,len_l),si.substr(0,len_l));\n\t} \n\tif(len_r>0) {\n\t\tnode[root].r=create(sp.substr(k+1,len_r),si.substr(k+1,len_r));\n\t}\n\treturn root; // è¿”å›å¤´ç»“ç‚¹ç¼–å·\n}\n\n// ååºéå†\nvoid postOrder(int root) {\n\tif(root!=0) {\n\t\tpostOrder(node[root].l);\n\t\tpostOrder(node[root].r);\n\t\tcout<<node[root].val;\n\t}\n}\n\n// å¦‚æœæƒ³æŒ‰å±‚éå†,åˆ™ç”¨BFS\nvoid bfs(int root) {\n\tif(root==0) return;\n\tqueue<int> q;\n\tq.push(root);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n//\t\tcout<<x<<' '; // è‹¥è¾“å‡ºç¼–å·\n\t\tcout<<node[x].val<<' ';\n\t\tif(node[x].l!=0) q.push(node[x].l);\n\t\tif(node[x].r!=0) q.push(node[x].r);\n\t}\n}\n\nint main() {\n\tcin>>s_pre>>s_in;\n\tint root=create(s_pre,s_in);\n\tpostOrder(root); // è¾“å‡ºåç»­éå†ç»“æœ\n\tcout<<endl;\n\tbfs(root); // è¾“å‡ºæŒ‰å±‚éå†çš„ç»“æœ\n\treturn 0;\n}\n/*\næ ·ä¾‹è¾“å…¥:\nabdec\ndbeac\n*/\n```\n\n\n\n### 2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\n\n* æŒ‰å±‚éå†æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ˜¯æŒ‰å±‚ï¼Œä¸€èˆ¬ç”¨å¹¿æœå®ç°ï¼Œä¸‹é¢è¿™æ®µä»£ç çš„æŠ€å·§åœ¨äºï¼Œæ–°å¼€ä¸€ç§æ•°æ®ç±»å‹**ç”¨äºå­˜å‚¨å°†ä¸­åºéå†æŒ‰ç…§æŒ‰å±‚éå†ä¸­æ‰¾åˆ°çš„æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯**ï¼Œå­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬è¿™ä¸ªå¾…åˆ†è§£çš„ä¸­åºéå†åºåˆ—ä»¥åŠå…¶æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚\n\n``` c++\n// è§£é¢˜æ€è·¯: å°†æŒ‰å±‚éå†çš„åºåˆ—æŒ‰ç…§ä¸­åºéå†åºåˆ—åˆ†è§£é‚£ä¹ˆæ’åœ¨å‰é¢çš„ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹\n// ä½†æ˜¯æŒ‰ç…§å¸¸è§„ç®—æ³•æ¥åšæ—¶é—´å¤æ‚åº¦ä¼šå˜æˆO(nÂ²),ä»‹ç»ä¸‹é¢è¿™ç§åšæ³•\n\nconst int N=1e2+5;\n\n// é¢å¤–å¼€ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨æŒ‰å±‚éå†ç»“æœå°†ä¸­åºéå†åˆ†æˆçš„æ¯æ®µä¸­åºéå†åºåˆ—çš„ä¿¡æ¯\nstruct QNode {\n\tstring s_in; // ä¸­åºéå†åºåˆ—\n\tint idx; // è¯¥ä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·\n\tQNode(){}\n\tQNode(string a,int b):s_in(a),idx(b){} // æ„é€ æ–¹æ³•\n};\nstruct Node {\n\tchar val;\n\tint l,r;\n}node[N];\n\nstring s_in,s_lev; // ä¸­åºéå†åºåˆ—å’Œå±‚æ¬¡éå†åºåˆ—\nint cnt; // å»ºæ ‘å› å­\nint lev_i; // s_levçš„ä¸‹æ ‡\n\nvoid createTree() {\n\tqueue<QNode> q;\n\tint k; // åˆ†å‰²ç‚¹\n\tq.push(QNode(s_in,++cnt)); // æ ¹èŠ‚ç‚¹åœ°å€ä¸º1\n\twhile(q.size()) {\n\t\tQNode u=q.front();\n\t\tq.pop();\n\t\t// å¯»æ‰¾ä¸­åºéå†åºåˆ—ä¸­æ ¹èŠ‚ç‚¹(æ ¹æ®å±‚éå†)å…ƒç´ çš„ä¸‹æ ‡\n\t\tfor(int i=0;i<u.s_in.length();i++) {\n\t\t\t// lev_iä»0å¼€å§‹\n\t\t\tif(u.s_in[i]==s_lev[lev_i]) {\n\t\t\t\tk=i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\n\t\t// è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹,æ›´æ¸…æ™°\n\t\tnode[u.idx].val=s_lev[lev_i++]; // ä¸‹ä¸€æ¬¡åœ¨å±‚æ¬¡éå†ä¸­çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦\n\t\tstring sl=u.s_in.substr(0,k),sr=u.s_in.substr(k+1); // å·¦å­æ ‘çš„ä¸­åºéå†åºåˆ—,å³å­æ ‘çš„ä¸­åºéå†åºåˆ—\n\t\t// å­˜åœ¨å·¦å­æ ‘,å»ºæ ‘\n\t\tif(sl.length()>0) {\n\t\t\tint lroot=++cnt; // æ ¹èŠ‚ç‚¹åˆ†é…ç¼–å·\n\t\t\tnode[u.idx].l=lroot;\n\t\t\tq.push(QNode(sl,lroot)); // slæ˜¯ä¸­åºéå†åºåˆ—,lrootæ˜¯è¯¥ä¸­åºéå†åºåˆ—çš„æ ¹èŠ‚ç‚¹\n\t\t}\n\t\tif(sr.length()>0) {\n\t\t\tint rroot=++cnt;\n\t\t\tnode[u.idx].r=rroot;\n\t\t\tq.push(QNode(sr,rroot));\n\t\t}\n\t}\n}\n\n// å‰åºéå†\nvoid preOrder(int root) {\n\tif(root==0) return;\n\tcout<<node[root].val;\n\tpreOrder(node[root].l);\n\tpreOrder(node[root].r);\n}\n\nint main() {\n\tcin>>s_in>>s_lev;\n\tcreateTree();\n\tpreOrder(1); // è¾“å‡ºå‰åº\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\nDBEAC\nABCDE\nè¾“å‡ºæ ·ä¾‹:\nABDEC\n*/\n```\n\n\n\n\n\n### 2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„\n\n* çŸ¥é“ä¸‰ç§éå†ä¸­çš„å…¶ä¸­ä¸¤ç§å¯ä»¥æ¨æ–­å‡ºæ ‘çš„ç»“æ„ï¼Œä½†æ˜¯ç”¨æ‰©å±•äºŒå‰æ ‘æ ‡è®°æ³•çš„æ—¶å€™åªéœ€è¦çŸ¥é“å‰åºæˆ–è€…ååºä¸­çš„ä¸€ç§ä¹Ÿèƒ½å¤Ÿæ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„\n* å•ç‹¬çŸ¥é“ä¸­åºéå†æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„\n* ä¸‹é¢ä»£ç çš„æ ·ä¾‹è¾“å…¥ï¼š$ABD..EF..G..C..$ å…¶ä¸­\".\"è¡¨ç¤ºçš„æ˜¯è¡¥å……çš„å­©å­èŠ‚ç‚¹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: çŸ¥é“æ‰©å±•äºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœå³å¯åè§£å‡ºä¸­åºéå†å’Œååºéå†\n// ä¸­åºéå†å’Œååºéå†çš„ä»£ç ç®€å•,å…³é”®åœ¨äºå¦‚ä½•å»ºæ ‘\n\nconst int N=1e3+5;\n\nstruct Node {\n\tchar val;\n\tint l,r;\n}node[N];\n\nint idx; // å»ºæ ‘å› å­\n\nvoid inOrder(int r) {\n\tif(r==0) return;\n\tinOrder(node[r].l);\n\tcout<<node[r].val;\n\tinOrder(node[r].r);\t\n}\n\nvoid postOrder(int r) {\n\tif(r==0) return;\n\tpostOrder(node[r].l);\n\tpostOrder(node[r].r);\n\tcout<<node[r].val;\n}\n\n// ä¼ å…¥ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹å€¼,è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„ç¼–å·\nint createTree(char val) {\n\tif(val=='.') return 0; // è¯´æ˜åˆ°æ ¹èŠ‚ç‚¹äº†,å·¦å­æ ‘/å³å­æ ‘å»ºæ ‘ç»“æŸ\n\telse {\n\t\tint root=++idx;\n\t\tnode[root].val=val;\n\t\tnode[root].l=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å·¦å­æ ‘\n\t\tnode[root].r=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å³å­æ ‘\n\t\treturn root;\n\t}\n}\n\nint main() {\n\tint root=createTree(cin.get()); // ä¸æ–­è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦\n\tinOrder(root);\n\tcout<<endl;\n\tpostOrder(root);\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\nABD..EF..G..C..\nè¾“å‡ºæ ·ä¾‹:\nDBFEGAC\nDFGEBCA\n*/\n```\n","source":"_posts/æ ‘.md","raw":"---\ntitle: æ ‘\ndate: 2024-10-04 20:35:15\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n    - æ ‘\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ ‘\n\n<!-- toc -->\n\n\n\n## 1. æ ‘çš„éå†\n\n* ç»•è¡Œè¸©ç‚¹ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºéå†æ•´æ£µæ ‘ï¼Œç»è¿‡æ ‘çš„å·¦ä¾§æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯å…ˆåºéå†åºåˆ—ï¼Œç»è¿‡æ ‘çš„ä¸‹æ–¹æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ä¸­åºéå†åºåˆ—ï¼Œç»è¿‡æ•°çš„å³ä¾§\"ğŸ”º\"æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ååºéå†åºåˆ—ã€‚\n\n![image-20240304151152074](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151152074.png)\n\n\n\n![image-20240304151653655](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151653655.png)\n\n* è‹¥è¾“å…¥ $(0,0)$ è¡¨ç¤ºå¶å­èŠ‚ç‚¹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: ç”¨å·¦å³å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ³•\n\nconst int N=1e6+5;\n\nstruct Node {\n\tint l;\n\tint r;\n}node[N];\n\nvoid pre_Order(int root) {\n\tcout<<root<<' ';\n\tif(node[root].l!=0) pre_Order(node[root].l);\n\tif(node[root].r!=0) pre_Order(node[root].r);\n}\n\nvoid in_Order(int root) {\n\tif(node[root].l!=0) in_Order(node[root].l);\n\tcout<<root<<' ';\n\tif(node[root].r!=0) in_Order(node[root].r);\n}\n\nvoid post_Order(int root) {\n\tif(node[root].l!=0) post_Order(node[root].l);\n\tif(node[root].r!=0) post_Order(node[root].r);\n\tcout<<root<<' ';\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n    // è¾“å…¥ç¼–å·1~nçš„å·¦å³å­©å­çš„ç¼–å·\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tnode[i]={l,r}; // ç¼–å·å³ä¸ºå€¼\n\t}\n\tpre_Order(1); // å‰åºéå†ç»“æœ\n\tcout<<endl;\n\tin_Order(1); // ä¸­åºéå†ç»“æœ\n\tcout<<endl;\n\tpost_Order(1); // ååºéå†ç»“æœ\n\tcout<<endl;\n\treturn 0;\n}\n```\n\n\n\n\n\n## 2. æ¨æ–­äºŒå‰æ ‘\n\n* å·²çŸ¥ä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ç¡®å®šå®ƒçš„å››ç§éå†åºåˆ—ï¼ˆå‰åºã€ä¸­åºã€ååºã€æŒ‰å±‚éå†ï¼‰ï¼Œåè¿‡æ¥ï¼Œå·²çŸ¥ä¸¤ç§éå†åºåˆ—ï¼Œä¹Ÿèƒ½ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚\n\n* æ ¹æ®å…ˆåºåºåˆ—ç¬¬ä¸€ä¸ªç»“ç‚¹ç¡®å®šæ ¹ç»“ç‚¹\n* æ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å­æ ‘å’Œå³å­æ ‘\n* å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ç»§ç»­åˆ†è§£\n\n### 2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: è¾“å…¥å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—æ¨æ–­å‡ºååºåºåˆ—\n\nconst int N=1e3+5;\n\nstruct Node {\n\tchar val; \n\tint l,r; // å·¦å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·,å³å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·\n}node[N];\nint idx; // å»ºæ ‘å› å­\nstring s_pre,s_in; // å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—\n\n// æ ¹æ®å…ˆåºå’Œä¸­åºå»ºäºŒå‰æ ‘,è¿”å›æ ‘æ ¹\nint create(string sp,string si) {\n\tint k; // åˆ†å‰²ç‚¹\n\tint root=++idx;\n\tnode[root].val=sp[0]; // å…ˆåºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ‘æ ¹\n\t// æ‰¾åˆ°æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®\n\tfor(int i=0;i<si.length();i++) {\n\t\tif(sp[0]==si[i]) {\n\t\t\tk=i;\n\t\t\tbreak; \n\t\t} \n\t}\n\t// ç¡®å®šå·¦å³å­æ ‘åºåˆ—çš„é•¿åº¦\n\tint len_l=k,len_r=si.length()-1-k;\n\t// åºåˆ—é•¿åº¦>0,å»ºç«‹æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘,å¹¶é€’å½’å¯¹å·¦å­æ ‘æŒ‰ç…§å…ˆåºå’Œä¸­åºé€’å½’æ±‚è§£\n\t// æ³¨æ„å¯¹spå’Œsiéƒ½å–ç›¸åŒçš„å­—ç¬¦ä¸²é•¿åº¦\n\t// å…ˆåºéå†ä¸­,æ ¹èŠ‚ç‚¹æ€»æ˜¯åœ¨æœ€å‰é¢,æ‰€ä»¥å¯¹spè·³è¿‡æ ¹èŠ‚ç‚¹\n\t// ä¸­åºéå†ä¸­,å·¦å­æ ‘æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¹‹å‰,æ‰€ä»¥ä¸éœ€è¦è·³è¿‡ä»»ä½•èŠ‚ç‚¹\n\tif(len_l>0) {\n\t\tnode[root].l=create(sp.substr(1,len_l),si.substr(0,len_l));\n\t} \n\tif(len_r>0) {\n\t\tnode[root].r=create(sp.substr(k+1,len_r),si.substr(k+1,len_r));\n\t}\n\treturn root; // è¿”å›å¤´ç»“ç‚¹ç¼–å·\n}\n\n// ååºéå†\nvoid postOrder(int root) {\n\tif(root!=0) {\n\t\tpostOrder(node[root].l);\n\t\tpostOrder(node[root].r);\n\t\tcout<<node[root].val;\n\t}\n}\n\n// å¦‚æœæƒ³æŒ‰å±‚éå†,åˆ™ç”¨BFS\nvoid bfs(int root) {\n\tif(root==0) return;\n\tqueue<int> q;\n\tq.push(root);\n\twhile(q.size()) {\n\t\tint x=q.front();\n\t\tq.pop();\n//\t\tcout<<x<<' '; // è‹¥è¾“å‡ºç¼–å·\n\t\tcout<<node[x].val<<' ';\n\t\tif(node[x].l!=0) q.push(node[x].l);\n\t\tif(node[x].r!=0) q.push(node[x].r);\n\t}\n}\n\nint main() {\n\tcin>>s_pre>>s_in;\n\tint root=create(s_pre,s_in);\n\tpostOrder(root); // è¾“å‡ºåç»­éå†ç»“æœ\n\tcout<<endl;\n\tbfs(root); // è¾“å‡ºæŒ‰å±‚éå†çš„ç»“æœ\n\treturn 0;\n}\n/*\næ ·ä¾‹è¾“å…¥:\nabdec\ndbeac\n*/\n```\n\n\n\n### 2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\n\n* æŒ‰å±‚éå†æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ˜¯æŒ‰å±‚ï¼Œä¸€èˆ¬ç”¨å¹¿æœå®ç°ï¼Œä¸‹é¢è¿™æ®µä»£ç çš„æŠ€å·§åœ¨äºï¼Œæ–°å¼€ä¸€ç§æ•°æ®ç±»å‹**ç”¨äºå­˜å‚¨å°†ä¸­åºéå†æŒ‰ç…§æŒ‰å±‚éå†ä¸­æ‰¾åˆ°çš„æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯**ï¼Œå­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬è¿™ä¸ªå¾…åˆ†è§£çš„ä¸­åºéå†åºåˆ—ä»¥åŠå…¶æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚\n\n``` c++\n// è§£é¢˜æ€è·¯: å°†æŒ‰å±‚éå†çš„åºåˆ—æŒ‰ç…§ä¸­åºéå†åºåˆ—åˆ†è§£é‚£ä¹ˆæ’åœ¨å‰é¢çš„ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹\n// ä½†æ˜¯æŒ‰ç…§å¸¸è§„ç®—æ³•æ¥åšæ—¶é—´å¤æ‚åº¦ä¼šå˜æˆO(nÂ²),ä»‹ç»ä¸‹é¢è¿™ç§åšæ³•\n\nconst int N=1e2+5;\n\n// é¢å¤–å¼€ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨æŒ‰å±‚éå†ç»“æœå°†ä¸­åºéå†åˆ†æˆçš„æ¯æ®µä¸­åºéå†åºåˆ—çš„ä¿¡æ¯\nstruct QNode {\n\tstring s_in; // ä¸­åºéå†åºåˆ—\n\tint idx; // è¯¥ä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·\n\tQNode(){}\n\tQNode(string a,int b):s_in(a),idx(b){} // æ„é€ æ–¹æ³•\n};\nstruct Node {\n\tchar val;\n\tint l,r;\n}node[N];\n\nstring s_in,s_lev; // ä¸­åºéå†åºåˆ—å’Œå±‚æ¬¡éå†åºåˆ—\nint cnt; // å»ºæ ‘å› å­\nint lev_i; // s_levçš„ä¸‹æ ‡\n\nvoid createTree() {\n\tqueue<QNode> q;\n\tint k; // åˆ†å‰²ç‚¹\n\tq.push(QNode(s_in,++cnt)); // æ ¹èŠ‚ç‚¹åœ°å€ä¸º1\n\twhile(q.size()) {\n\t\tQNode u=q.front();\n\t\tq.pop();\n\t\t// å¯»æ‰¾ä¸­åºéå†åºåˆ—ä¸­æ ¹èŠ‚ç‚¹(æ ¹æ®å±‚éå†)å…ƒç´ çš„ä¸‹æ ‡\n\t\tfor(int i=0;i<u.s_in.length();i++) {\n\t\t\t// lev_iä»0å¼€å§‹\n\t\t\tif(u.s_in[i]==s_lev[lev_i]) {\n\t\t\t\tk=i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\n\t\t// è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹,æ›´æ¸…æ™°\n\t\tnode[u.idx].val=s_lev[lev_i++]; // ä¸‹ä¸€æ¬¡åœ¨å±‚æ¬¡éå†ä¸­çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦\n\t\tstring sl=u.s_in.substr(0,k),sr=u.s_in.substr(k+1); // å·¦å­æ ‘çš„ä¸­åºéå†åºåˆ—,å³å­æ ‘çš„ä¸­åºéå†åºåˆ—\n\t\t// å­˜åœ¨å·¦å­æ ‘,å»ºæ ‘\n\t\tif(sl.length()>0) {\n\t\t\tint lroot=++cnt; // æ ¹èŠ‚ç‚¹åˆ†é…ç¼–å·\n\t\t\tnode[u.idx].l=lroot;\n\t\t\tq.push(QNode(sl,lroot)); // slæ˜¯ä¸­åºéå†åºåˆ—,lrootæ˜¯è¯¥ä¸­åºéå†åºåˆ—çš„æ ¹èŠ‚ç‚¹\n\t\t}\n\t\tif(sr.length()>0) {\n\t\t\tint rroot=++cnt;\n\t\t\tnode[u.idx].r=rroot;\n\t\t\tq.push(QNode(sr,rroot));\n\t\t}\n\t}\n}\n\n// å‰åºéå†\nvoid preOrder(int root) {\n\tif(root==0) return;\n\tcout<<node[root].val;\n\tpreOrder(node[root].l);\n\tpreOrder(node[root].r);\n}\n\nint main() {\n\tcin>>s_in>>s_lev;\n\tcreateTree();\n\tpreOrder(1); // è¾“å‡ºå‰åº\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\nDBEAC\nABCDE\nè¾“å‡ºæ ·ä¾‹:\nABDEC\n*/\n```\n\n\n\n\n\n### 2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„\n\n* çŸ¥é“ä¸‰ç§éå†ä¸­çš„å…¶ä¸­ä¸¤ç§å¯ä»¥æ¨æ–­å‡ºæ ‘çš„ç»“æ„ï¼Œä½†æ˜¯ç”¨æ‰©å±•äºŒå‰æ ‘æ ‡è®°æ³•çš„æ—¶å€™åªéœ€è¦çŸ¥é“å‰åºæˆ–è€…ååºä¸­çš„ä¸€ç§ä¹Ÿèƒ½å¤Ÿæ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„\n* å•ç‹¬çŸ¥é“ä¸­åºéå†æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„\n* ä¸‹é¢ä»£ç çš„æ ·ä¾‹è¾“å…¥ï¼š$ABD..EF..G..C..$ å…¶ä¸­\".\"è¡¨ç¤ºçš„æ˜¯è¡¥å……çš„å­©å­èŠ‚ç‚¹\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: çŸ¥é“æ‰©å±•äºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœå³å¯åè§£å‡ºä¸­åºéå†å’Œååºéå†\n// ä¸­åºéå†å’Œååºéå†çš„ä»£ç ç®€å•,å…³é”®åœ¨äºå¦‚ä½•å»ºæ ‘\n\nconst int N=1e3+5;\n\nstruct Node {\n\tchar val;\n\tint l,r;\n}node[N];\n\nint idx; // å»ºæ ‘å› å­\n\nvoid inOrder(int r) {\n\tif(r==0) return;\n\tinOrder(node[r].l);\n\tcout<<node[r].val;\n\tinOrder(node[r].r);\t\n}\n\nvoid postOrder(int r) {\n\tif(r==0) return;\n\tpostOrder(node[r].l);\n\tpostOrder(node[r].r);\n\tcout<<node[r].val;\n}\n\n// ä¼ å…¥ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹å€¼,è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„ç¼–å·\nint createTree(char val) {\n\tif(val=='.') return 0; // è¯´æ˜åˆ°æ ¹èŠ‚ç‚¹äº†,å·¦å­æ ‘/å³å­æ ‘å»ºæ ‘ç»“æŸ\n\telse {\n\t\tint root=++idx;\n\t\tnode[root].val=val;\n\t\tnode[root].l=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å·¦å­æ ‘\n\t\tnode[root].r=createTree(cin.get()); // è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å³å­æ ‘\n\t\treturn root;\n\t}\n}\n\nint main() {\n\tint root=createTree(cin.get()); // ä¸æ–­è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦\n\tinOrder(root);\n\tcout<<endl;\n\tpostOrder(root);\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\nABD..EF..G..C..\nè¾“å‡ºæ ·ä¾‹:\nDBFEGAC\nDFGEBCA\n*/\n```\n","slug":"æ ‘","published":1,"updated":"2024-10-05T08:04:45.475Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpte003mc0nf428xhjbp","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ ‘\">æ ‘</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86\">1. æ ‘çš„éå†</a></li>\n<li><a href=\"#2-%E6%8E%A8%E6%96%AD%E4%BA%8C%E5%8F%89%E6%A0%91\">2. æ¨æ–­äºŒå‰æ ‘</a><ul>\n<li><a href=\"#21-%E5%89%8D%E5%BA%8F%E5%90%8E%E5%BA%8F%E4%B8%AD%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</a></li>\n<li><a href=\"#22-%E6%8C%89%E5%B1%82%E9%81%8D%E5%8E%86%E4%B8%AD%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</a></li>\n<li><a href=\"#23-%E6%89%A9%E5%B1%95%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E5%90%8E%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-æ ‘çš„éå†\">1. æ ‘çš„éå†</span></h2><ul>\n<li>ç»•è¡Œè¸©ç‚¹ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºéå†æ•´æ£µæ ‘ï¼Œç»è¿‡æ ‘çš„å·¦ä¾§æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯å…ˆåºéå†åºåˆ—ï¼Œç»è¿‡æ ‘çš„ä¸‹æ–¹æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ä¸­åºéå†åºåˆ—ï¼Œç»è¿‡æ•°çš„å³ä¾§â€ğŸ”ºâ€æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ååºéå†åºåˆ—ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151152074.png\" alt=\"image-20240304151152074\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151653655.png\" alt=\"image-20240304151653655\"></p>\n<ul>\n<li>è‹¥è¾“å…¥ $(0,0)$ è¡¨ç¤ºå¶å­èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: ç”¨å·¦å³å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">pre_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">pre_Order</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">pre_Order</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">in_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">in_Order</span>(node[root].l);</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">in_Order</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">post_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">post_Order</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">post_Order</span>(node[root].r);</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å…¥ç¼–å·1~nçš„å·¦å³å­©å­çš„ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\tnode[i]=&#123;l,r&#125;; <span class=\"comment\">// ç¼–å·å³ä¸ºå€¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">pre_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// å‰åºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">in_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ä¸­åºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">post_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ååºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2><span id=\"2-æ¨æ–­äºŒå‰æ ‘\">2. æ¨æ–­äºŒå‰æ ‘</span></h2><ul>\n<li><p>å·²çŸ¥ä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ç¡®å®šå®ƒçš„å››ç§éå†åºåˆ—ï¼ˆå‰åºã€ä¸­åºã€ååºã€æŒ‰å±‚éå†ï¼‰ï¼Œåè¿‡æ¥ï¼Œå·²çŸ¥ä¸¤ç§éå†åºåˆ—ï¼Œä¹Ÿèƒ½ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚</p>\n</li>\n<li><p>æ ¹æ®å…ˆåºåºåˆ—ç¬¬ä¸€ä¸ªç»“ç‚¹ç¡®å®šæ ¹ç»“ç‚¹</p>\n</li>\n<li><p>æ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å­æ ‘å’Œå³å­æ ‘</p>\n</li>\n<li><p>å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ç»§ç»­åˆ†è§£</p>\n</li>\n</ul>\n<h3><span id=\"21-å‰åºååºä¸­åºäºŒå‰æ ‘ç»“æ„\">2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: è¾“å…¥å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—æ¨æ–­å‡ºååºåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val; </span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r; <span class=\"comment\">// å·¦å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·,å³å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\">string s_pre,s_in; <span class=\"comment\">// å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ ¹æ®å…ˆåºå’Œä¸­åºå»ºäºŒå‰æ ‘,è¿”å›æ ‘æ ¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">create</span><span class=\"params\">(string sp,string si)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> k; <span class=\"comment\">// åˆ†å‰²ç‚¹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> root=++idx;</span><br><span class=\"line\">\tnode[root].val=sp[<span class=\"number\">0</span>]; <span class=\"comment\">// å…ˆåºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ‘æ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾åˆ°æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;si.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sp[<span class=\"number\">0</span>]==si[i]) &#123;</span><br><span class=\"line\">\t\t\tk=i;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>; </span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¡®å®šå·¦å³å­æ ‘åºåˆ—çš„é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> len_l=k,len_r=si.<span class=\"built_in\">length</span>()<span class=\"number\">-1</span>-k;</span><br><span class=\"line\">\t<span class=\"comment\">// åºåˆ—é•¿åº¦&gt;0,å»ºç«‹æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘,å¹¶é€’å½’å¯¹å·¦å­æ ‘æŒ‰ç…§å…ˆåºå’Œä¸­åºé€’å½’æ±‚è§£</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„å¯¹spå’Œsiéƒ½å–ç›¸åŒçš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆåºéå†ä¸­,æ ¹èŠ‚ç‚¹æ€»æ˜¯åœ¨æœ€å‰é¢,æ‰€ä»¥å¯¹spè·³è¿‡æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸­åºéå†ä¸­,å·¦å­æ ‘æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¹‹å‰,æ‰€ä»¥ä¸éœ€è¦è·³è¿‡ä»»ä½•èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len_l&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tnode[root].l=<span class=\"built_in\">create</span>(sp.<span class=\"built_in\">substr</span>(<span class=\"number\">1</span>,len_l),si.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>,len_l));</span><br><span class=\"line\">\t&#125; </span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len_r&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tnode[root].r=<span class=\"built_in\">create</span>(sp.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>,len_r),si.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>,len_r));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> root; <span class=\"comment\">// è¿”å›å¤´ç»“ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ååºéå†</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">postOrder</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">postOrder</span>(node[root].l);</span><br><span class=\"line\">\t\t<span class=\"built_in\">postOrder</span>(node[root].r);</span><br><span class=\"line\">\t\tcout&lt;&lt;node[root].val;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæƒ³æŒ‰å±‚éå†,åˆ™ç”¨BFS</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;x&lt;&lt;&#x27; &#x27;; // è‹¥è¾“å‡ºç¼–å·</span></span><br><span class=\"line\">\t\tcout&lt;&lt;node[x].val&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(node[x].l!=<span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(node[x].l);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(node[x].r!=<span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(node[x].r);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s_pre&gt;&gt;s_in;</span><br><span class=\"line\">\t<span class=\"type\">int</span> root=<span class=\"built_in\">create</span>(s_pre,s_in);</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(root); <span class=\"comment\">// è¾“å‡ºåç»­éå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">bfs</span>(root); <span class=\"comment\">// è¾“å‡ºæŒ‰å±‚éå†çš„ç»“æœ</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">æ ·ä¾‹è¾“å…¥:</span></span><br><span class=\"line\"><span class=\"comment\">abdec</span></span><br><span class=\"line\"><span class=\"comment\">dbeac</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"22-æŒ‰å±‚éå†ä¸­åºäºŒå‰æ ‘ç»“æ„\">2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</span></h3><ul>\n<li>æŒ‰å±‚éå†æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ˜¯æŒ‰å±‚ï¼Œä¸€èˆ¬ç”¨å¹¿æœå®ç°ï¼Œä¸‹é¢è¿™æ®µä»£ç çš„æŠ€å·§åœ¨äºï¼Œæ–°å¼€ä¸€ç§æ•°æ®ç±»å‹<strong>ç”¨äºå­˜å‚¨å°†ä¸­åºéå†æŒ‰ç…§æŒ‰å±‚éå†ä¸­æ‰¾åˆ°çš„æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯</strong>ï¼Œå­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬è¿™ä¸ªå¾…åˆ†è§£çš„ä¸­åºéå†åºåˆ—ä»¥åŠå…¶æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å°†æŒ‰å±‚éå†çš„åºåˆ—æŒ‰ç…§ä¸­åºéå†åºåˆ—åˆ†è§£é‚£ä¹ˆæ’åœ¨å‰é¢çš„ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯æŒ‰ç…§å¸¸è§„ç®—æ³•æ¥åšæ—¶é—´å¤æ‚åº¦ä¼šå˜æˆO(nÂ²),ä»‹ç»ä¸‹é¢è¿™ç§åšæ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢å¤–å¼€ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨æŒ‰å±‚éå†ç»“æœå°†ä¸­åºéå†åˆ†æˆçš„æ¯æ®µä¸­åºéå†åºåˆ—çš„ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">QNode</span> &#123;</span><br><span class=\"line\">\tstring s_in; <span class=\"comment\">// ä¸­åºéå†åºåˆ—</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> idx; <span class=\"comment\">// è¯¥ä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"built_in\">QNode</span>()&#123;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">QNode</span>(string a,<span class=\"type\">int</span> b):<span class=\"built_in\">s_in</span>(a),<span class=\"built_in\">idx</span>(b)&#123;&#125; <span class=\"comment\">// æ„é€ æ–¹æ³•</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\">string s_in,s_lev; <span class=\"comment\">// ä¸­åºéå†åºåˆ—å’Œå±‚æ¬¡éå†åºåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"><span class=\"type\">int</span> lev_i; <span class=\"comment\">// s_levçš„ä¸‹æ ‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">createTree</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;QNode&gt; q;</span><br><span class=\"line\">\t<span class=\"type\">int</span> k; <span class=\"comment\">// åˆ†å‰²ç‚¹</span></span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(s_in,++cnt)); <span class=\"comment\">// æ ¹èŠ‚ç‚¹åœ°å€ä¸º1</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\tQNode u=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯»æ‰¾ä¸­åºéå†åºåˆ—ä¸­æ ¹èŠ‚ç‚¹(æ ¹æ®å±‚éå†)å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;u.s_in.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// lev_iä»0å¼€å§‹</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(u.s_in[i]==s_lev[lev_i]) &#123;</span><br><span class=\"line\">\t\t\t\tk=i;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹,æ›´æ¸…æ™°</span></span><br><span class=\"line\">\t\tnode[u.idx].val=s_lev[lev_i++]; <span class=\"comment\">// ä¸‹ä¸€æ¬¡åœ¨å±‚æ¬¡éå†ä¸­çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t\tstring sl=u.s_in.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>,k),sr=u.s_in.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>); <span class=\"comment\">// å·¦å­æ ‘çš„ä¸­åºéå†åºåˆ—,å³å­æ ‘çš„ä¸­åºéå†åºåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å­˜åœ¨å·¦å­æ ‘,å»ºæ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sl.<span class=\"built_in\">length</span>()&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> lroot=++cnt; <span class=\"comment\">// æ ¹èŠ‚ç‚¹åˆ†é…ç¼–å·</span></span><br><span class=\"line\">\t\t\tnode[u.idx].l=lroot;</span><br><span class=\"line\">\t\t\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(sl,lroot)); <span class=\"comment\">// slæ˜¯ä¸­åºéå†åºåˆ—,lrootæ˜¯è¯¥ä¸­åºéå†åºåˆ—çš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sr.<span class=\"built_in\">length</span>()&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> rroot=++cnt;</span><br><span class=\"line\">\t\t\tnode[u.idx].r=rroot;</span><br><span class=\"line\">\t\t\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(sr,rroot));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å‰åºéå†</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">preOrder</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tcout&lt;&lt;node[root].val;</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s_in&gt;&gt;s_lev;</span><br><span class=\"line\">\t<span class=\"built_in\">createTree</span>();</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(<span class=\"number\">1</span>); <span class=\"comment\">// è¾“å‡ºå‰åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">DBEAC</span></span><br><span class=\"line\"><span class=\"comment\">ABCDE</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">ABDEC</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h3><span id=\"23-æ‰©å±•äºŒå‰æ ‘å‰åºååºäºŒå‰æ ‘ç»“æ„\">2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„</span></h3><ul>\n<li>çŸ¥é“ä¸‰ç§éå†ä¸­çš„å…¶ä¸­ä¸¤ç§å¯ä»¥æ¨æ–­å‡ºæ ‘çš„ç»“æ„ï¼Œä½†æ˜¯ç”¨æ‰©å±•äºŒå‰æ ‘æ ‡è®°æ³•çš„æ—¶å€™åªéœ€è¦çŸ¥é“å‰åºæˆ–è€…ååºä¸­çš„ä¸€ç§ä¹Ÿèƒ½å¤Ÿæ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„</li>\n<li>å•ç‹¬çŸ¥é“ä¸­åºéå†æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„</li>\n<li>ä¸‹é¢ä»£ç çš„æ ·ä¾‹è¾“å…¥ï¼š$ABD..EF..G..C..$ å…¶ä¸­â€.â€è¡¨ç¤ºçš„æ˜¯è¡¥å……çš„å­©å­èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: çŸ¥é“æ‰©å±•äºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœå³å¯åè§£å‡ºä¸­åºéå†å’Œååºéå†</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸­åºéå†å’Œååºéå†çš„ä»£ç ç®€å•,å…³é”®åœ¨äºå¦‚ä½•å»ºæ ‘</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">inOrder</span><span class=\"params\">(<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(node[r].l);</span><br><span class=\"line\">\tcout&lt;&lt;node[r].val;</span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(node[r].r);\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">postOrder</span><span class=\"params\">(<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(node[r].l);</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(node[r].r);</span><br><span class=\"line\">\tcout&lt;&lt;node[r].val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¼ å…¥ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹å€¼,è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">createTree</span><span class=\"params\">(<span class=\"type\">char</span> val)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(val==<span class=\"string\">&#x27;.&#x27;</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// è¯´æ˜åˆ°æ ¹èŠ‚ç‚¹äº†,å·¦å­æ ‘/å³å­æ ‘å»ºæ ‘ç»“æŸ</span></span><br><span class=\"line\">\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> root=++idx;</span><br><span class=\"line\">\t\tnode[root].val=val;</span><br><span class=\"line\">\t\tnode[root].l=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å·¦å­æ ‘</span></span><br><span class=\"line\">\t\tnode[root].r=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å³å­æ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> root;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> root=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// ä¸æ–­è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(root);</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(root);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">ABD..EF..G..C..</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">DBFEGAC</span></span><br><span class=\"line\"><span class=\"comment\">DFGEBCA</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"æ ‘\"><a href=\"#æ ‘\" class=\"headerlink\" title=\"æ ‘\"></a>æ ‘</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86\">1. æ ‘çš„éå†</a></li>\n<li><a href=\"#2-%E6%8E%A8%E6%96%AD%E4%BA%8C%E5%8F%89%E6%A0%91\">2. æ¨æ–­äºŒå‰æ ‘</a><ul>\n<li><a href=\"#21-%E5%89%8D%E5%BA%8F%E5%90%8E%E5%BA%8F%E4%B8%AD%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</a></li>\n<li><a href=\"#22-%E6%8C%89%E5%B1%82%E9%81%8D%E5%8E%86%E4%B8%AD%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</a></li>\n<li><a href=\"#23-%E6%89%A9%E5%B1%95%E4%BA%8C%E5%8F%89%E6%A0%91%E5%89%8D%E5%BA%8F%E5%90%8E%E5%BA%8F%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BB%93%E6%9E%84\">2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-æ ‘çš„éå†\"><a href=\"#1-æ ‘çš„éå†\" class=\"headerlink\" title=\"1. æ ‘çš„éå†\"></a>1. æ ‘çš„éå†</h2><ul>\n<li>ç»•è¡Œè¸©ç‚¹ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºéå†æ•´æ£µæ ‘ï¼Œç»è¿‡æ ‘çš„å·¦ä¾§æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯å…ˆåºéå†åºåˆ—ï¼Œç»è¿‡æ ‘çš„ä¸‹æ–¹æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ä¸­åºéå†åºåˆ—ï¼Œç»è¿‡æ•°çš„å³ä¾§â€ğŸ”ºâ€æ—¶è®°å½•ï¼Œå¾—åˆ°çš„æ˜¯ååºéå†åºåˆ—ã€‚</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151152074.png\" alt=\"image-20240304151152074\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240304151653655.png\" alt=\"image-20240304151653655\"></p>\n<ul>\n<li>è‹¥è¾“å…¥ $(0,0)$ è¡¨ç¤ºå¶å­èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: ç”¨å·¦å³å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">pre_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">pre_Order</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">pre_Order</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">in_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">in_Order</span>(node[root].l);</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">in_Order</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">post_Order</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].l!=<span class=\"number\">0</span>) <span class=\"built_in\">post_Order</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(node[root].r!=<span class=\"number\">0</span>) <span class=\"built_in\">post_Order</span>(node[root].r);</span><br><span class=\"line\">\tcout&lt;&lt;root&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å…¥ç¼–å·1~nçš„å·¦å³å­©å­çš„ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\tnode[i]=&#123;l,r&#125;; <span class=\"comment\">// ç¼–å·å³ä¸ºå€¼</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">pre_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// å‰åºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">in_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ä¸­åºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">post_Order</span>(<span class=\"number\">1</span>); <span class=\"comment\">// ååºéå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"2-æ¨æ–­äºŒå‰æ ‘\"><a href=\"#2-æ¨æ–­äºŒå‰æ ‘\" class=\"headerlink\" title=\"2. æ¨æ–­äºŒå‰æ ‘\"></a>2. æ¨æ–­äºŒå‰æ ‘</h2><ul>\n<li><p>å·²çŸ¥ä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ç¡®å®šå®ƒçš„å››ç§éå†åºåˆ—ï¼ˆå‰åºã€ä¸­åºã€ååºã€æŒ‰å±‚éå†ï¼‰ï¼Œåè¿‡æ¥ï¼Œå·²çŸ¥ä¸¤ç§éå†åºåˆ—ï¼Œä¹Ÿèƒ½ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚</p>\n</li>\n<li><p>æ ¹æ®å…ˆåºåºåˆ—ç¬¬ä¸€ä¸ªç»“ç‚¹ç¡®å®šæ ¹ç»“ç‚¹</p>\n</li>\n<li><p>æ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å­æ ‘å’Œå³å­æ ‘</p>\n</li>\n<li><p>å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ç»§ç»­åˆ†è§£</p>\n</li>\n</ul>\n<h3 id=\"2-1-å‰åº-ååº-ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\"><a href=\"#2-1-å‰åº-ååº-ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\" class=\"headerlink\" title=\"2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\"></a>2.1. å‰åº(ååº)+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: è¾“å…¥å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—æ¨æ–­å‡ºååºåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val; </span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r; <span class=\"comment\">// å·¦å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·,å³å­æ ‘æ ¹èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\">string s_pre,s_in; <span class=\"comment\">// å…ˆåºåºåˆ—å’Œä¸­åºåºåˆ—</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ ¹æ®å…ˆåºå’Œä¸­åºå»ºäºŒå‰æ ‘,è¿”å›æ ‘æ ¹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">create</span><span class=\"params\">(string sp,string si)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> k; <span class=\"comment\">// åˆ†å‰²ç‚¹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> root=++idx;</span><br><span class=\"line\">\tnode[root].val=sp[<span class=\"number\">0</span>]; <span class=\"comment\">// å…ˆåºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ‘æ ¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰¾åˆ°æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;si.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sp[<span class=\"number\">0</span>]==si[i]) &#123;</span><br><span class=\"line\">\t\t\tk=i;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>; </span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¡®å®šå·¦å³å­æ ‘åºåˆ—çš„é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> len_l=k,len_r=si.<span class=\"built_in\">length</span>()<span class=\"number\">-1</span>-k;</span><br><span class=\"line\">\t<span class=\"comment\">// åºåˆ—é•¿åº¦&gt;0,å»ºç«‹æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘,å¹¶é€’å½’å¯¹å·¦å­æ ‘æŒ‰ç…§å…ˆåºå’Œä¸­åºé€’å½’æ±‚è§£</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ³¨æ„å¯¹spå’Œsiéƒ½å–ç›¸åŒçš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class=\"line\">\t<span class=\"comment\">// å…ˆåºéå†ä¸­,æ ¹èŠ‚ç‚¹æ€»æ˜¯åœ¨æœ€å‰é¢,æ‰€ä»¥å¯¹spè·³è¿‡æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸­åºéå†ä¸­,å·¦å­æ ‘æ€»æ˜¯åœ¨æ ¹èŠ‚ç‚¹ä¹‹å‰,æ‰€ä»¥ä¸éœ€è¦è·³è¿‡ä»»ä½•èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len_l&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tnode[root].l=<span class=\"built_in\">create</span>(sp.<span class=\"built_in\">substr</span>(<span class=\"number\">1</span>,len_l),si.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>,len_l));</span><br><span class=\"line\">\t&#125; </span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(len_r&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tnode[root].r=<span class=\"built_in\">create</span>(sp.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>,len_r),si.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>,len_r));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> root; <span class=\"comment\">// è¿”å›å¤´ç»“ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ååºéå†</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">postOrder</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">postOrder</span>(node[root].l);</span><br><span class=\"line\">\t\t<span class=\"built_in\">postOrder</span>(node[root].r);</span><br><span class=\"line\">\t\tcout&lt;&lt;node[root].val;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœæƒ³æŒ‰å±‚éå†,åˆ™ç”¨BFS</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">bfs</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tqueue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;x&lt;&lt;&#x27; &#x27;; // è‹¥è¾“å‡ºç¼–å·</span></span><br><span class=\"line\">\t\tcout&lt;&lt;node[x].val&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(node[x].l!=<span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(node[x].l);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(node[x].r!=<span class=\"number\">0</span>) q.<span class=\"built_in\">push</span>(node[x].r);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s_pre&gt;&gt;s_in;</span><br><span class=\"line\">\t<span class=\"type\">int</span> root=<span class=\"built_in\">create</span>(s_pre,s_in);</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(root); <span class=\"comment\">// è¾“å‡ºåç»­éå†ç»“æœ</span></span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">bfs</span>(root); <span class=\"comment\">// è¾“å‡ºæŒ‰å±‚éå†çš„ç»“æœ</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">æ ·ä¾‹è¾“å…¥:</span></span><br><span class=\"line\"><span class=\"comment\">abdec</span></span><br><span class=\"line\"><span class=\"comment\">dbeac</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-2-æŒ‰å±‚éå†-ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\"><a href=\"#2-2-æŒ‰å±‚éå†-ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\" class=\"headerlink\" title=\"2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„\"></a>2.2. æŒ‰å±‚éå†+ä¸­åºâ†’äºŒå‰æ ‘ç»“æ„</h3><ul>\n<li>æŒ‰å±‚éå†æ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ˜¯æŒ‰å±‚ï¼Œä¸€èˆ¬ç”¨å¹¿æœå®ç°ï¼Œä¸‹é¢è¿™æ®µä»£ç çš„æŠ€å·§åœ¨äºï¼Œæ–°å¼€ä¸€ç§æ•°æ®ç±»å‹<strong>ç”¨äºå­˜å‚¨å°†ä¸­åºéå†æŒ‰ç…§æŒ‰å±‚éå†ä¸­æ‰¾åˆ°çš„æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯</strong>ï¼Œå­˜å‚¨çš„ä¿¡æ¯åŒ…æ‹¬è¿™ä¸ªå¾…åˆ†è§£çš„ä¸­åºéå†åºåˆ—ä»¥åŠå…¶æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å°†æŒ‰å±‚éå†çš„åºåˆ—æŒ‰ç…§ä¸­åºéå†åºåˆ—åˆ†è§£é‚£ä¹ˆæ’åœ¨å‰é¢çš„ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯æŒ‰ç…§å¸¸è§„ç®—æ³•æ¥åšæ—¶é—´å¤æ‚åº¦ä¼šå˜æˆO(nÂ²),ä»‹ç»ä¸‹é¢è¿™ç§åšæ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¢å¤–å¼€ä¸€ä¸ªæ•°æ®ç»“æ„æ¥å­˜å‚¨æŒ‰å±‚éå†ç»“æœå°†ä¸­åºéå†åˆ†æˆçš„æ¯æ®µä¸­åºéå†åºåˆ—çš„ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">QNode</span> &#123;</span><br><span class=\"line\">\tstring s_in; <span class=\"comment\">// ä¸­åºéå†åºåˆ—</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> idx; <span class=\"comment\">// è¯¥ä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"built_in\">QNode</span>()&#123;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">QNode</span>(string a,<span class=\"type\">int</span> b):<span class=\"built_in\">s_in</span>(a),<span class=\"built_in\">idx</span>(b)&#123;&#125; <span class=\"comment\">// æ„é€ æ–¹æ³•</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\">string s_in,s_lev; <span class=\"comment\">// ä¸­åºéå†åºåˆ—å’Œå±‚æ¬¡éå†åºåˆ—</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"><span class=\"type\">int</span> lev_i; <span class=\"comment\">// s_levçš„ä¸‹æ ‡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">createTree</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tqueue&lt;QNode&gt; q;</span><br><span class=\"line\">\t<span class=\"type\">int</span> k; <span class=\"comment\">// åˆ†å‰²ç‚¹</span></span><br><span class=\"line\">\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(s_in,++cnt)); <span class=\"comment\">// æ ¹èŠ‚ç‚¹åœ°å€ä¸º1</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(q.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\tQNode u=q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">\t\tq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯»æ‰¾ä¸­åºéå†åºåˆ—ä¸­æ ¹èŠ‚ç‚¹(æ ¹æ®å±‚éå†)å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;u.s_in.<span class=\"built_in\">length</span>();i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// lev_iä»0å¼€å§‹</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(u.s_in[i]==s_lev[lev_i]) &#123;</span><br><span class=\"line\">\t\t\t\tk=i;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹,æ›´æ¸…æ™°</span></span><br><span class=\"line\">\t\tnode[u.idx].val=s_lev[lev_i++]; <span class=\"comment\">// ä¸‹ä¸€æ¬¡åœ¨å±‚æ¬¡éå†ä¸­çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t\tstring sl=u.s_in.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>,k),sr=u.s_in.<span class=\"built_in\">substr</span>(k<span class=\"number\">+1</span>); <span class=\"comment\">// å·¦å­æ ‘çš„ä¸­åºéå†åºåˆ—,å³å­æ ‘çš„ä¸­åºéå†åºåˆ—</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å­˜åœ¨å·¦å­æ ‘,å»ºæ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sl.<span class=\"built_in\">length</span>()&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> lroot=++cnt; <span class=\"comment\">// æ ¹èŠ‚ç‚¹åˆ†é…ç¼–å·</span></span><br><span class=\"line\">\t\t\tnode[u.idx].l=lroot;</span><br><span class=\"line\">\t\t\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(sl,lroot)); <span class=\"comment\">// slæ˜¯ä¸­åºéå†åºåˆ—,lrootæ˜¯è¯¥ä¸­åºéå†åºåˆ—çš„æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(sr.<span class=\"built_in\">length</span>()&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> rroot=++cnt;</span><br><span class=\"line\">\t\t\tnode[u.idx].r=rroot;</span><br><span class=\"line\">\t\t\tq.<span class=\"built_in\">push</span>(<span class=\"built_in\">QNode</span>(sr,rroot));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å‰åºéå†</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">preOrder</span><span class=\"params\">(<span class=\"type\">int</span> root)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(root==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\tcout&lt;&lt;node[root].val;</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(node[root].l);</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(node[root].r);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;s_in&gt;&gt;s_lev;</span><br><span class=\"line\">\t<span class=\"built_in\">createTree</span>();</span><br><span class=\"line\">\t<span class=\"built_in\">preOrder</span>(<span class=\"number\">1</span>); <span class=\"comment\">// è¾“å‡ºå‰åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">DBEAC</span></span><br><span class=\"line\"><span class=\"comment\">ABCDE</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">ABDEC</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h3 id=\"2-3-æ‰©å±•äºŒå‰æ ‘-å‰åº-ååº-â†’äºŒå‰æ ‘ç»“æ„\"><a href=\"#2-3-æ‰©å±•äºŒå‰æ ‘-å‰åº-ååº-â†’äºŒå‰æ ‘ç»“æ„\" class=\"headerlink\" title=\"2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„\"></a>2.3. æ‰©å±•äºŒå‰æ ‘+å‰åº(ååº)â†’äºŒå‰æ ‘ç»“æ„</h3><ul>\n<li>çŸ¥é“ä¸‰ç§éå†ä¸­çš„å…¶ä¸­ä¸¤ç§å¯ä»¥æ¨æ–­å‡ºæ ‘çš„ç»“æ„ï¼Œä½†æ˜¯ç”¨æ‰©å±•äºŒå‰æ ‘æ ‡è®°æ³•çš„æ—¶å€™åªéœ€è¦çŸ¥é“å‰åºæˆ–è€…ååºä¸­çš„ä¸€ç§ä¹Ÿèƒ½å¤Ÿæ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„</li>\n<li>å•ç‹¬çŸ¥é“ä¸­åºéå†æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ¨æ–­å‡ºäºŒå‰æ ‘çš„ç»“æ„</li>\n<li>ä¸‹é¢ä»£ç çš„æ ·ä¾‹è¾“å…¥ï¼š$ABD..EF..G..C..$ å…¶ä¸­â€.â€è¡¨ç¤ºçš„æ˜¯è¡¥å……çš„å­©å­èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: çŸ¥é“æ‰©å±•äºŒå‰æ ‘çš„å…ˆåºéå†ç»“æœå³å¯åè§£å‡ºä¸­åºéå†å’Œååºéå†</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸­åºéå†å’Œååºéå†çš„ä»£ç ç®€å•,å…³é”®åœ¨äºå¦‚ä½•å»ºæ ‘</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Node</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">char</span> val;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">&#125;node[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">inOrder</span><span class=\"params\">(<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(node[r].l);</span><br><span class=\"line\">\tcout&lt;&lt;node[r].val;</span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(node[r].r);\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">postOrder</span><span class=\"params\">(<span class=\"type\">int</span> r)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(node[r].l);</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(node[r].r);</span><br><span class=\"line\">\tcout&lt;&lt;node[r].val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¼ å…¥ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹å€¼,è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">createTree</span><span class=\"params\">(<span class=\"type\">char</span> val)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(val==<span class=\"string\">&#x27;.&#x27;</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// è¯´æ˜åˆ°æ ¹èŠ‚ç‚¹äº†,å·¦å­æ ‘/å³å­æ ‘å»ºæ ‘ç»“æŸ</span></span><br><span class=\"line\">\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> root=++idx;</span><br><span class=\"line\">\t\tnode[root].val=val;</span><br><span class=\"line\">\t\tnode[root].l=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å·¦å­æ ‘</span></span><br><span class=\"line\">\t\tnode[root].r=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å³å­æ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> root;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> root=<span class=\"built_in\">createTree</span>(cin.<span class=\"built_in\">get</span>()); <span class=\"comment\">// ä¸æ–­è¯»å–æ¯ä¸€ä¸ªå­—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"built_in\">inOrder</span>(root);</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">postOrder</span>(root);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">ABD..EF..G..C..</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">DBFEGAC</span></span><br><span class=\"line\"><span class=\"comment\">DFGEBCA</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n"},{"title":"æœ€å°ç”Ÿæˆæ ‘","date":"2024-10-05T08:25:18.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœ€å°ç”Ÿæˆæ ‘\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* ä»¥ä¸‹æ¨¡æ¿èƒ½ä½¿ç”¨çš„å‰ææ˜¯ï¼šä¸å­˜åœ¨è´Ÿæƒç¯\n\n\n\n## 1. æœ´ç´ Primç®—æ³• \n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œè¾¹æ•°æ¥è¿‘ç‚¹æ•°çš„å¹³æ–¹\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æœ´ç´ Prim,å’Œdijkstraéå¸¸ç›¸ä¼¼\n// 1.distæ•°ç»„åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n// 2.éå†æ¯ä¸ªç‚¹,æ‰¾åˆ°é›†åˆå¤–è·ç¦»æœ€è¿‘çš„ç‚¹\n// 3.ç”¨tæ›´æ–°å…¶ä»–ç‚¹åˆ°é›†åˆçš„è·ç¦»\n\nconst int N=5e2+10;\nconst int INF=1e9; // æ— ç©·å¤§\n\nint n,m;\nint g[N][N]; // å­˜å‚¨å›¾\nint dist[N]; // å­˜å‚¨å„ç»“ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»\nbool st[N]; // è®¿é—®çŠ¶æ€\nint pre[N]; // èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹\n\nint prim() {\n\t// åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// æœ€ç»ˆç»“æœ\n\tint res=0;\n\tdist[1]=0; // ä»1å·ç‚¹å¼€å§‹ç”Ÿæˆ\n\t// å¯¹äºæ¯ä¸ªç‚¹éƒ½éå†ä¸€é\n\tfor(int i=0;i<n;i++) {\n\t\t// tæ˜¯è·ç¦»ç‚¹é›†æœ€è¿‘çš„ç‚¹\n\t\tint t=-1;\n\t\t// ä»ç‚¹1~nä¸­å»æ‰¾t\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\t// å¦‚æœjæœªè¢«è®¿é—®å¹¶ä¸”tæ˜¯ç¬¬ä¸€æ¬¡æ›´æ–°,å¹¶ä¸”ä»tåˆ°æºç‚¹è·ç¦»æ¯”ä»jåˆ°æºç‚¹è·ç¦»æ›´è¿‘\n\t\t\tif(!st[j]&&(t==-1||dist[t]>dist[j]))\n\t\t\t\tt=j;\n\t\t}\n\t\t// å¦‚æœæ˜¯å­¤ç«‹ç‚¹,ç›´æ¥é€€å‡º,æ— æ³•æ„æˆæœ€å°ç”Ÿæˆæ ‘\n\t\tif(i && dist[t]==0x3f3f3f3f) {\n\t\t\treturn INF;\n\t\t}\n        // å…ˆæ›´æ–°,å†ç´¯åŠ ,é˜²æ­¢æŠŠè‡ªç¯åŠ è¿›æ¥\n\t\t// çŠ¶æ€æ›´æ–°\n\t\tst[t]=true;\n\t\t// æ±‚å’Œè·ç¦»\n\t\tres+=dist[t];\n\t\t// æ›´æ–°dist[j]\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tdist[j]=min(dist[j],g[t][j]);\n\t\t\n\t\t// å¦‚æœè¦è¾“å‡ºè¾¹\n//\t\tfor(int j=1;j<=n;j++) {\n//\t\t\tif(dist[j]>g[t][j]&&!st[j]) {\n//\t\t\t\tdist[j]=g[t][j];\n//\t\t\t\tpre[j]=t; // è·ç¦»å˜çŸ­,å‰é©±å˜ä¸ºt\n//\t\t\t}\n//\t\t}\n\t\t\n\t}\n\treturn res;\n}\n\nvoid getPath() {\n\tfor(int i=n;i>1;i--) {\n\t\tcout<<i<<' '<<pre[i]<<' '<<endl;\n\t}\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(g,0x3f,sizeof g);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tg[a][b]=g[b][a]=min(g[a][b],c); // å»é‡è¾¹\n\t}\n\tint t=prim();\n\tif(t==INF)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n//\tgetPath();\n\treturn 0;\n}\n```\n\n\n\n## 2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(mlog^n)$ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹\n> é¢˜ç›®é“¾æ¥ï¼š[P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘ - æ´›è°·](https://www.luogu.com.cn/problem/P3366)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=5e3+10; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=2*(2e5+5); // æ— å‘å›¾\n\n// èµ·ç‚¹/ç»ˆç‚¹/æƒå€¼\nstruct Edge {\n\tint a;\n\tint b;\n\tint val;\n}edges[M];\n\nbool cmp(Edge a,Edge b) {\n\treturn a.val<b.val;\n}\n\nint n,m;\nint p[N]; // p[i]:é¡¶ç‚¹içš„è¿é€šåˆ†é‡\nint ans;\n\n// å¹¶æŸ¥é›†æŸ¥è¯¢è¿é€šåˆ†é‡,å¸¦è·¯å¾„å‹ç¼©\nint find(int x) {\n\tif(p[x]==x) return x;\n\telse return p[x]=find(p[x]);\n}\n\nbool kruskal() {\n\tint cnt=0; // åŠ å…¥å›¾çš„è¾¹æ•°\n\tfor(int i=1;i<=m;i++) {\n\t\t// å–å‡ºæ¯æ¡è¾¹ä¸­çš„ä¿¡æ¯\n\t\tint a=edges[i].a, b=edges[i].b, w=edges[i].val;\n\t\t\n\t\t// å¦‚æœaå’Œbå·²ç»ç›¸è¿åˆ™è·³è¿‡\n\t\t// 1.å¦‚æœæ˜¯è‡ªç¯->(3,3)=5\n\t\t// 2.å¦‚æœæ˜¯é‡è¾¹->(1,2)=3,(2,1)=5,æ­¤æ—¶å–å°è¾¹(å› ä¸ºæ’è¿‡åºäº†)\n\t\tif(find(a)==find(b)) continue;\n\t\t\n\t\t// è¾“å‡ºè¿™æ¡è¾¹\n//\t\tcout<<a<<\"--\"<<b<<endl;\n\t\t\n\t\t// é€‰æ‹©è¿™æ¡è¾¹åçš„ä¿¡æ¯ç»´æŠ¤ \n\t\tp[find(a)]=find(b); // è¿é€šä¸¤ä¸ªå¹¶æŸ¥é›†\n\t\tans+=w; // ç­”æ¡ˆç´¯åŠ è¿™æ¡è¾¹çš„æƒå€¼\n\t\tcnt++; // è¾¹æ•°+1\n\t}\n\tif(cnt==n-1) return true; // è”é€š\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\t// å¹¶æŸ¥é›†åˆå§‹åŒ–:è¿é€šåˆ†é‡ä¸ºè‡ªèº«\n\tfor(int i=1;i<=n;i++) {\n\t\tp[i]=i; \t\n\t}\n\t// è¾“å…¥æ¯æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n//\t\tscanf(\"%d%d%d\",&edges[i].a,&edges[i].b,&edges[i].val);\n\t\tint a,b,c;\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tedges[i]={a,b,c};\n\t}\n\tsort(edges+1,edges+1+m,cmp);\n\tif(kruskal()) cout<<ans;\n\telse cout<<\"orz\";\n\treturn 0;\n}\n```\n\n\n\n## 3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº\n\n> å°†æ•°ç»„æ”¹æˆ $vector$ï¼Œä¸ºç»“æ„ä½“æä¾›æ— å‚æ„é€ å™¨å’Œå…¨å‚æ„é€ å™¨ $m$ï¼Œä¾‹é¢˜ï¼šä¿¡å¥¥ä¸€æœ¬é€š $p1348$ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ã€‚\n> é¢˜ç›®é“¾æ¥ï¼š[  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰](http://ybt.ssoier.cn:8088/problem_show.php?pid=1348)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=2e5+5; // æœ€å¤§è¾¹æ•°\n\n// èµ·ç‚¹/ç»ˆç‚¹/è¾¹æƒ\nstruct Edge {\n\tint a;\n\tint b;\n\tll val;\n\t// æ„é€ å™¨\n\tEdge(){}\n\tEdge(int aa,int bb,int cc) {\n\t\ta=aa;\n\t\tb=bb;\n\t\tval=cc;\n\t}\n};\n\nint n,m;\nint fa[N]; // è®°å½•çˆ¶èŠ‚ç‚¹\nll ans;\n\nvector<Edge> edges,tree; // å­˜å‚¨æ‰€æœ‰è¾¹å’Œç”Ÿæˆæ ‘çš„è¾¹\n\n// è¾¹æƒè¶Šå°è¶Šé å‰\nbool cmp_edges(Edge a,Edge b) {\n\treturn a.val<b.val;\n}\n\n// å¯¹ç”Ÿæˆæ ‘çš„è¾¹äºŒæ¬¡æ’åº,ç¼–å·å°çš„é å‰\n// èµ·å§‹ç‚¹ç›¸åŒ,ç»ˆç‚¹å°çš„é å‰;å¦åˆ™èµ·å§‹ç‚¹å°çš„é å‰\nbool cmp_trees(Edge x,Edge y) {\n\tif(x.a==y.a) return x.b<y.b;\n\telse return x.a<y.a;\n}\n\n// æŸ¥è¯¢æ ¹èŠ‚ç‚¹å¸¦è·¯å¾„å‹ç¼©\nint find(int x) {\n\tif(x==fa[x]) return x;\n\treturn fa[x]=find(fa[x]);\n}\n\nbool kruskal() {\n\tint cnt=0; // å·²åŠ å…¥å›¾çš„è¾¹\n\tfor(Edge e:edges) {\n\t\t// æå–è¾¹çš„ä¿¡æ¯\n\t\tint a=e.a, b=e.b, w=e.val;\n\t\tint v1=find(a);\n\t\tint v2=find(b);\n\t\t// è‹¥a,bå·²ç›¸è¿\n\t\tif(v1==v2) continue;\n\t\t// é€‰ä¸­è¿™æ¡è¾¹\n\t\tcout<<a<<' '<<b<<endl;\n\t\tans+=w;\n\t\tfa[v1]=v2; // è”é€šå¹¶æŸ¥é›†\n\t\tcnt++;\n\t\ttree.push_back(e); // æ·»åŠ åˆ°ç”Ÿæˆæ ‘è¾¹é›†ä¸­\n\t}\n\tif(cnt==n-1) return true;\n\treturn false;\n}\n\nint main() {\n\t// ä¼˜åŒ–è¾“å…¥è¾“å‡º\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m;\n\t// åˆå§‹åŒ–å¹¶æŸ¥é›†\n\tfor(int i=1;i<=n;i++) {\n\t\tfa[i]=i;\t\n\t}\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\t// å¼ºè¡Œè®©å°çš„ç¼–å·åœ¨å‰,å¤§çš„ç¼–å·åœ¨å\n\t\tif(a>b) swap(a,b);\n\t\tedges.push_back(Edge(a,b,c));\n\t}\n\tsort(edges.begin(),edges.end(),cmp_edges);\n\tif(kruskal()) cout<<ans<<endl;\n\t// å¯¹ç”Ÿæˆæ ‘ä¸­çš„è¾¹å†æ’åº\n\tsort(tree.begin(),tree.end(),cmp_trees);\n\tfor(auto e:tree) {\n\t\tcout<<e.a<<' '<<e.b<<' '<<e.val<<endl;\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/æœ€å°ç”Ÿæˆæ ‘.md","raw":"---\ntitle: æœ€å°ç”Ÿæˆæ ‘\ndate: 2024-10-05 16:25:18\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - å›¾è®º\n    - æœ€çŸ­è·¯\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æœ€å°ç”Ÿæˆæ ‘\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* ä»¥ä¸‹æ¨¡æ¿èƒ½ä½¿ç”¨çš„å‰ææ˜¯ï¼šä¸å­˜åœ¨è´Ÿæƒç¯\n\n\n\n## 1. æœ´ç´ Primç®—æ³• \n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œè¾¹æ•°æ¥è¿‘ç‚¹æ•°çš„å¹³æ–¹\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// æœ´ç´ Prim,å’Œdijkstraéå¸¸ç›¸ä¼¼\n// 1.distæ•°ç»„åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n// 2.éå†æ¯ä¸ªç‚¹,æ‰¾åˆ°é›†åˆå¤–è·ç¦»æœ€è¿‘çš„ç‚¹\n// 3.ç”¨tæ›´æ–°å…¶ä»–ç‚¹åˆ°é›†åˆçš„è·ç¦»\n\nconst int N=5e2+10;\nconst int INF=1e9; // æ— ç©·å¤§\n\nint n,m;\nint g[N][N]; // å­˜å‚¨å›¾\nint dist[N]; // å­˜å‚¨å„ç»“ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»\nbool st[N]; // è®¿é—®çŠ¶æ€\nint pre[N]; // èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹\n\nint prim() {\n\t// åˆå§‹åŒ–ä¸ºä¸å¯è¾¾\n\tmemset(dist,0x3f,sizeof dist);\n\t// æœ€ç»ˆç»“æœ\n\tint res=0;\n\tdist[1]=0; // ä»1å·ç‚¹å¼€å§‹ç”Ÿæˆ\n\t// å¯¹äºæ¯ä¸ªç‚¹éƒ½éå†ä¸€é\n\tfor(int i=0;i<n;i++) {\n\t\t// tæ˜¯è·ç¦»ç‚¹é›†æœ€è¿‘çš„ç‚¹\n\t\tint t=-1;\n\t\t// ä»ç‚¹1~nä¸­å»æ‰¾t\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\t// å¦‚æœjæœªè¢«è®¿é—®å¹¶ä¸”tæ˜¯ç¬¬ä¸€æ¬¡æ›´æ–°,å¹¶ä¸”ä»tåˆ°æºç‚¹è·ç¦»æ¯”ä»jåˆ°æºç‚¹è·ç¦»æ›´è¿‘\n\t\t\tif(!st[j]&&(t==-1||dist[t]>dist[j]))\n\t\t\t\tt=j;\n\t\t}\n\t\t// å¦‚æœæ˜¯å­¤ç«‹ç‚¹,ç›´æ¥é€€å‡º,æ— æ³•æ„æˆæœ€å°ç”Ÿæˆæ ‘\n\t\tif(i && dist[t]==0x3f3f3f3f) {\n\t\t\treturn INF;\n\t\t}\n        // å…ˆæ›´æ–°,å†ç´¯åŠ ,é˜²æ­¢æŠŠè‡ªç¯åŠ è¿›æ¥\n\t\t// çŠ¶æ€æ›´æ–°\n\t\tst[t]=true;\n\t\t// æ±‚å’Œè·ç¦»\n\t\tres+=dist[t];\n\t\t// æ›´æ–°dist[j]\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tdist[j]=min(dist[j],g[t][j]);\n\t\t\n\t\t// å¦‚æœè¦è¾“å‡ºè¾¹\n//\t\tfor(int j=1;j<=n;j++) {\n//\t\t\tif(dist[j]>g[t][j]&&!st[j]) {\n//\t\t\t\tdist[j]=g[t][j];\n//\t\t\t\tpre[j]=t; // è·ç¦»å˜çŸ­,å‰é©±å˜ä¸ºt\n//\t\t\t}\n//\t\t}\n\t\t\n\t}\n\treturn res;\n}\n\nvoid getPath() {\n\tfor(int i=n;i>1;i--) {\n\t\tcout<<i<<' '<<pre[i]<<' '<<endl;\n\t}\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(g,0x3f,sizeof g);\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tg[a][b]=g[b][a]=min(g[a][b],c); // å»é‡è¾¹\n\t}\n\tint t=prim();\n\tif(t==INF)\n\t\tcout<<\"impossible\";\n\telse\n\t\tcout<<t<<endl;\n//\tgetPath();\n\treturn 0;\n}\n```\n\n\n\n## 2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–\n\n> æ—¶é—´å¤æ‚åº¦ï¼š$O(mlog^n)$ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹\n> é¢˜ç›®é“¾æ¥ï¼š[P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘ - æ´›è°·](https://www.luogu.com.cn/problem/P3366)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=5e3+10; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=2*(2e5+5); // æ— å‘å›¾\n\n// èµ·ç‚¹/ç»ˆç‚¹/æƒå€¼\nstruct Edge {\n\tint a;\n\tint b;\n\tint val;\n}edges[M];\n\nbool cmp(Edge a,Edge b) {\n\treturn a.val<b.val;\n}\n\nint n,m;\nint p[N]; // p[i]:é¡¶ç‚¹içš„è¿é€šåˆ†é‡\nint ans;\n\n// å¹¶æŸ¥é›†æŸ¥è¯¢è¿é€šåˆ†é‡,å¸¦è·¯å¾„å‹ç¼©\nint find(int x) {\n\tif(p[x]==x) return x;\n\telse return p[x]=find(p[x]);\n}\n\nbool kruskal() {\n\tint cnt=0; // åŠ å…¥å›¾çš„è¾¹æ•°\n\tfor(int i=1;i<=m;i++) {\n\t\t// å–å‡ºæ¯æ¡è¾¹ä¸­çš„ä¿¡æ¯\n\t\tint a=edges[i].a, b=edges[i].b, w=edges[i].val;\n\t\t\n\t\t// å¦‚æœaå’Œbå·²ç»ç›¸è¿åˆ™è·³è¿‡\n\t\t// 1.å¦‚æœæ˜¯è‡ªç¯->(3,3)=5\n\t\t// 2.å¦‚æœæ˜¯é‡è¾¹->(1,2)=3,(2,1)=5,æ­¤æ—¶å–å°è¾¹(å› ä¸ºæ’è¿‡åºäº†)\n\t\tif(find(a)==find(b)) continue;\n\t\t\n\t\t// è¾“å‡ºè¿™æ¡è¾¹\n//\t\tcout<<a<<\"--\"<<b<<endl;\n\t\t\n\t\t// é€‰æ‹©è¿™æ¡è¾¹åçš„ä¿¡æ¯ç»´æŠ¤ \n\t\tp[find(a)]=find(b); // è¿é€šä¸¤ä¸ªå¹¶æŸ¥é›†\n\t\tans+=w; // ç­”æ¡ˆç´¯åŠ è¿™æ¡è¾¹çš„æƒå€¼\n\t\tcnt++; // è¾¹æ•°+1\n\t}\n\tif(cnt==n-1) return true; // è”é€š\n\treturn false;\n}\n\nint main() {\n\tcin>>n>>m;\n\t// å¹¶æŸ¥é›†åˆå§‹åŒ–:è¿é€šåˆ†é‡ä¸ºè‡ªèº«\n\tfor(int i=1;i<=n;i++) {\n\t\tp[i]=i; \t\n\t}\n\t// è¾“å…¥æ¯æ¡è¾¹\n\tfor(int i=1;i<=m;i++) {\n//\t\tscanf(\"%d%d%d\",&edges[i].a,&edges[i].b,&edges[i].val);\n\t\tint a,b,c;\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tedges[i]={a,b,c};\n\t}\n\tsort(edges+1,edges+1+m,cmp);\n\tif(kruskal()) cout<<ans;\n\telse cout<<\"orz\";\n\treturn 0;\n}\n```\n\n\n\n## 3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº\n\n> å°†æ•°ç»„æ”¹æˆ $vector$ï¼Œä¸ºç»“æ„ä½“æä¾›æ— å‚æ„é€ å™¨å’Œå…¨å‚æ„é€ å™¨ $m$ï¼Œä¾‹é¢˜ï¼šä¿¡å¥¥ä¸€æœ¬é€š $p1348$ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ã€‚\n> é¢˜ç›®é“¾æ¥ï¼š[  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰](http://ybt.ssoier.cn:8088/problem_show.php?pid=1348)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=2e5+5; // æœ€å¤§è¾¹æ•°\n\n// èµ·ç‚¹/ç»ˆç‚¹/è¾¹æƒ\nstruct Edge {\n\tint a;\n\tint b;\n\tll val;\n\t// æ„é€ å™¨\n\tEdge(){}\n\tEdge(int aa,int bb,int cc) {\n\t\ta=aa;\n\t\tb=bb;\n\t\tval=cc;\n\t}\n};\n\nint n,m;\nint fa[N]; // è®°å½•çˆ¶èŠ‚ç‚¹\nll ans;\n\nvector<Edge> edges,tree; // å­˜å‚¨æ‰€æœ‰è¾¹å’Œç”Ÿæˆæ ‘çš„è¾¹\n\n// è¾¹æƒè¶Šå°è¶Šé å‰\nbool cmp_edges(Edge a,Edge b) {\n\treturn a.val<b.val;\n}\n\n// å¯¹ç”Ÿæˆæ ‘çš„è¾¹äºŒæ¬¡æ’åº,ç¼–å·å°çš„é å‰\n// èµ·å§‹ç‚¹ç›¸åŒ,ç»ˆç‚¹å°çš„é å‰;å¦åˆ™èµ·å§‹ç‚¹å°çš„é å‰\nbool cmp_trees(Edge x,Edge y) {\n\tif(x.a==y.a) return x.b<y.b;\n\telse return x.a<y.a;\n}\n\n// æŸ¥è¯¢æ ¹èŠ‚ç‚¹å¸¦è·¯å¾„å‹ç¼©\nint find(int x) {\n\tif(x==fa[x]) return x;\n\treturn fa[x]=find(fa[x]);\n}\n\nbool kruskal() {\n\tint cnt=0; // å·²åŠ å…¥å›¾çš„è¾¹\n\tfor(Edge e:edges) {\n\t\t// æå–è¾¹çš„ä¿¡æ¯\n\t\tint a=e.a, b=e.b, w=e.val;\n\t\tint v1=find(a);\n\t\tint v2=find(b);\n\t\t// è‹¥a,bå·²ç›¸è¿\n\t\tif(v1==v2) continue;\n\t\t// é€‰ä¸­è¿™æ¡è¾¹\n\t\tcout<<a<<' '<<b<<endl;\n\t\tans+=w;\n\t\tfa[v1]=v2; // è”é€šå¹¶æŸ¥é›†\n\t\tcnt++;\n\t\ttree.push_back(e); // æ·»åŠ åˆ°ç”Ÿæˆæ ‘è¾¹é›†ä¸­\n\t}\n\tif(cnt==n-1) return true;\n\treturn false;\n}\n\nint main() {\n\t// ä¼˜åŒ–è¾“å…¥è¾“å‡º\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m;\n\t// åˆå§‹åŒ–å¹¶æŸ¥é›†\n\tfor(int i=1;i<=n;i++) {\n\t\tfa[i]=i;\t\n\t}\n\twhile(m--) {\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\t// å¼ºè¡Œè®©å°çš„ç¼–å·åœ¨å‰,å¤§çš„ç¼–å·åœ¨å\n\t\tif(a>b) swap(a,b);\n\t\tedges.push_back(Edge(a,b,c));\n\t}\n\tsort(edges.begin(),edges.end(),cmp_edges);\n\tif(kruskal()) cout<<ans<<endl;\n\t// å¯¹ç”Ÿæˆæ ‘ä¸­çš„è¾¹å†æ’åº\n\tsort(tree.begin(),tree.end(),cmp_trees);\n\tfor(auto e:tree) {\n\t\tcout<<e.a<<' '<<e.b<<' '<<e.val<<endl;\n\t}\n\treturn 0;\n}\n```\n","slug":"æœ€å°ç”Ÿæˆæ ‘","published":1,"updated":"2024-10-05T08:26:51.579Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptf003pc0nfazur13i7","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"æœ€å°ç”Ÿæˆæ ‘\">æœ€å°ç”Ÿæˆæ ‘</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9C%B4%E7%B4%A0prim%E7%AE%97%E6%B3%95\">1. æœ´ç´ Primç®—æ³•</a></li>\n<li><a href=\"#2-kruskal%E7%AE%97%E6%B3%95%E5%B9%B6%E6%9F%A5%E9%9B%86%E4%BC%98%E5%8C%96\">2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–</a></li>\n<li><a href=\"#3-kruskal%E5%BB%B6%E7%94%B3%E5%AF%B9%E8%BE%93%E5%87%BA%E6%8E%92%E5%BA%8F\">3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li>ä»¥ä¸‹æ¨¡æ¿èƒ½ä½¿ç”¨çš„å‰ææ˜¯ï¼šä¸å­˜åœ¨è´Ÿæƒç¯</li>\n</ul>\n<h2><span id=\"1-æœ´ç´ primç®—æ³•\">1. æœ´ç´ Primç®—æ³•</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œè¾¹æ•°æ¥è¿‘ç‚¹æ•°çš„å¹³æ–¹</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æœ´ç´ Prim,å’Œdijkstraéå¸¸ç›¸ä¼¼</span></span><br><span class=\"line\"><span class=\"comment\">// 1.distæ•°ç»„åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\"><span class=\"comment\">// 2.éå†æ¯ä¸ªç‚¹,æ‰¾åˆ°é›†åˆå¤–è·ç¦»æœ€è¿‘çš„ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// 3.ç”¨tæ›´æ–°å…¶ä»–ç‚¹åˆ°é›†åˆçš„è·ç¦»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span>+<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> INF=<span class=\"number\">1e9</span>; <span class=\"comment\">// æ— ç©·å¤§</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å‚¨å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// å­˜å‚¨å„ç»“ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> pre[N]; <span class=\"comment\">// èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">prim</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// æœ€ç»ˆç»“æœ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ä»1å·ç‚¹å¼€å§‹ç”Ÿæˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºæ¯ä¸ªç‚¹éƒ½éå†ä¸€é</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// tæ˜¯è·ç¦»ç‚¹é›†æœ€è¿‘çš„ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»ç‚¹1~nä¸­å»æ‰¾t</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœjæœªè¢«è®¿é—®å¹¶ä¸”tæ˜¯ç¬¬ä¸€æ¬¡æ›´æ–°,å¹¶ä¸”ä»tåˆ°æºç‚¹è·ç¦»æ¯”ä»jåˆ°æºç‚¹è·ç¦»æ›´è¿‘</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!st[j]&amp;&amp;(t==<span class=\"number\">-1</span>||dist[t]&gt;dist[j]))</span><br><span class=\"line\">\t\t\t\tt=j;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ˜¯å­¤ç«‹ç‚¹,ç›´æ¥é€€å‡º,æ— æ³•æ„æˆæœ€å°ç”Ÿæˆæ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i &amp;&amp; dist[t]==<span class=\"number\">0x3f3f3f3f</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> INF;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        <span class=\"comment\">// å…ˆæ›´æ–°,å†ç´¯åŠ ,é˜²æ­¢æŠŠè‡ªç¯åŠ è¿›æ¥</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// çŠ¶æ€æ›´æ–°</span></span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ±‚å’Œè·ç¦»</span></span><br><span class=\"line\">\t\tres+=dist[t];</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ›´æ–°dist[j]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\tdist[j]=min(dist[j],g[t][j]);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¦è¾“å‡ºè¾¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tfor(int j=1;j&lt;=n;j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tif(dist[j]&gt;g[t][j]&amp;&amp;!st[j]) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tdist[j]=g[t][j];</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tpre[j]=t; // è·ç¦»å˜çŸ­,å‰é©±å˜ä¸ºt</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t&#125;</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">getPath</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n;i&gt;<span class=\"number\">1</span>;i--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;pre[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(g,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> g);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\tg[a][b]=g[b][a]=min(g[a][b],c); <span class=\"comment\">// å»é‡è¾¹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=prim();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==INF)</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;t&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"><span class=\"comment\">//\tgetPath();</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-kruskalç®—æ³•å¹¶æŸ¥é›†ä¼˜åŒ–\">2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–</span></h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(mlog^n)$ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹<br>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3366\">P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e3</span>+<span class=\"number\">10</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">2</span>*(<span class=\"number\">2e5</span>+<span class=\"number\">5</span>); <span class=\"comment\">// æ— å‘å›¾</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// èµ·ç‚¹/ç»ˆç‚¹/æƒå€¼</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Edge</span> &#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\t<span class=\"type\">int</span> val;</span><br><span class=\"line\">&#125;edges[M];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Edge a,Edge b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.val&lt;b.val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// p[i]:é¡¶ç‚¹içš„è¿é€šåˆ†é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¹¶æŸ¥é›†æŸ¥è¯¢è¿é€šåˆ†é‡,å¸¦è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(p[x]==x) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> p[x]=find(p[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">kruskal</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åŠ å…¥å›¾çš„è¾¹æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºæ¯æ¡è¾¹ä¸­çš„ä¿¡æ¯</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=edges[i].a, b=edges[i].b, w=edges[i].val;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœaå’Œbå·²ç»ç›¸è¿åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 1.å¦‚æœæ˜¯è‡ªç¯-&gt;(3,3)=5</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 2.å¦‚æœæ˜¯é‡è¾¹-&gt;(1,2)=3,(2,1)=5,æ­¤æ—¶å–å°è¾¹(å› ä¸ºæ’è¿‡åºäº†)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(find(a)==find(b)) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºè¿™æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;a&lt;&lt;&quot;--&quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// é€‰æ‹©è¿™æ¡è¾¹åçš„ä¿¡æ¯ç»´æŠ¤ </span></span><br><span class=\"line\">\t\tp[find(a)]=find(b); <span class=\"comment\">// è¿é€šä¸¤ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t\tans+=w; <span class=\"comment\">// ç­”æ¡ˆç´¯åŠ è¿™æ¡è¾¹çš„æƒå€¼</span></span><br><span class=\"line\">\t\tcnt++; <span class=\"comment\">// è¾¹æ•°+1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt==n<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// è”é€š</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// å¹¶æŸ¥é›†åˆå§‹åŒ–:è¿é€šåˆ†é‡ä¸ºè‡ªèº«</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tp[i]=i; \t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥æ¯æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\"><span class=\"comment\">//\t\tscanf(&quot;%d%d%d&quot;,&amp;edges[i].a,&amp;edges[i].b,&amp;edges[i].val);</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;a,&amp;b,&amp;c);</span><br><span class=\"line\">\t\tedges[i]=&#123;a,b,c&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(edges+<span class=\"number\">1</span>,edges+<span class=\"number\">1</span>+m,cmp);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(kruskal()) <span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;orz&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-kruskalå»¶ç”³å¯¹è¾“å‡ºæ’åº\">3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº</span></h2><blockquote>\n<p>å°†æ•°ç»„æ”¹æˆ $vector$ï¼Œä¸ºç»“æ„ä½“æä¾›æ— å‚æ„é€ å™¨å’Œå…¨å‚æ„é€ å™¨ $m$ï¼Œä¾‹é¢˜ï¼šä¿¡å¥¥ä¸€æœ¬é€š $p1348$ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ã€‚<br>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1348\">  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">2e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// èµ·ç‚¹/ç»ˆç‚¹/è¾¹æƒ</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Edge</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\tll val;</span><br><span class=\"line\">\t<span class=\"comment\">// æ„é€ å™¨</span></span><br><span class=\"line\">\t<span class=\"built_in\">Edge</span>()&#123;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">Edge</span>(<span class=\"type\">int</span> aa,<span class=\"type\">int</span> bb,<span class=\"type\">int</span> cc) &#123;</span><br><span class=\"line\">\t\ta=aa;</span><br><span class=\"line\">\t\tb=bb;</span><br><span class=\"line\">\t\tval=cc;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[N]; <span class=\"comment\">// è®°å½•çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">ll ans;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;Edge&gt; edges,tree; <span class=\"comment\">// å­˜å‚¨æ‰€æœ‰è¾¹å’Œç”Ÿæˆæ ‘çš„è¾¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¾¹æƒè¶Šå°è¶Šé å‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp_edges</span><span class=\"params\">(Edge a,Edge b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.val&lt;b.val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹ç”Ÿæˆæ ‘çš„è¾¹äºŒæ¬¡æ’åº,ç¼–å·å°çš„é å‰</span></span><br><span class=\"line\"><span class=\"comment\">// èµ·å§‹ç‚¹ç›¸åŒ,ç»ˆç‚¹å°çš„é å‰;å¦åˆ™èµ·å§‹ç‚¹å°çš„é å‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp_trees</span><span class=\"params\">(Edge x,Edge y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x.a==y.a) <span class=\"keyword\">return</span> x.b&lt;y.b;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> x.a&lt;y.a;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æ ¹èŠ‚ç‚¹å¸¦è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">kruskal</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// å·²åŠ å…¥å›¾çš„è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(Edge e:edges) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æå–è¾¹çš„ä¿¡æ¯</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=e.a, b=e.b, w=e.val;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v1=<span class=\"built_in\">find</span>(a);</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v2=<span class=\"built_in\">find</span>(b);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è‹¥a,bå·²ç›¸è¿</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(v1==v2) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é€‰ä¸­è¿™æ¡è¾¹</span></span><br><span class=\"line\">\t\tcout&lt;&lt;a&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class=\"line\">\t\tans+=w;</span><br><span class=\"line\">\t\tfa[v1]=v2; <span class=\"comment\">// è”é€šå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\ttree.<span class=\"built_in\">push_back</span>(e); <span class=\"comment\">// æ·»åŠ åˆ°ç”Ÿæˆæ ‘è¾¹é›†ä¸­</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt==n<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¼˜åŒ–è¾“å…¥è¾“å‡º</span></span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tfa[i]=i;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼ºè¡Œè®©å°çš„ç¼–å·åœ¨å‰,å¤§çš„ç¼–å·åœ¨å</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a&gt;b) <span class=\"built_in\">swap</span>(a,b);</span><br><span class=\"line\">\t\tedges.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">Edge</span>(a,b,c));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(edges.<span class=\"built_in\">begin</span>(),edges.<span class=\"built_in\">end</span>(),cmp_edges);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">kruskal</span>()) cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹ç”Ÿæˆæ ‘ä¸­çš„è¾¹å†æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(tree.<span class=\"built_in\">begin</span>(),tree.<span class=\"built_in\">end</span>(),cmp_trees);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> e:tree) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;e.a&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;e.b&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;e.val&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"æœ€å°ç”Ÿæˆæ ‘\"><a href=\"#æœ€å°ç”Ÿæˆæ ‘\" class=\"headerlink\" title=\"æœ€å°ç”Ÿæˆæ ‘\"></a>æœ€å°ç”Ÿæˆæ ‘</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E6%9C%B4%E7%B4%A0prim%E7%AE%97%E6%B3%95\">1. æœ´ç´ Primç®—æ³•</a></li>\n<li><a href=\"#2-kruskal%E7%AE%97%E6%B3%95%E5%B9%B6%E6%9F%A5%E9%9B%86%E4%BC%98%E5%8C%96\">2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–</a></li>\n<li><a href=\"#3-kruskal%E5%BB%B6%E7%94%B3%E5%AF%B9%E8%BE%93%E5%87%BA%E6%8E%92%E5%BA%8F\">3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li>ä»¥ä¸‹æ¨¡æ¿èƒ½ä½¿ç”¨çš„å‰ææ˜¯ï¼šä¸å­˜åœ¨è´Ÿæƒç¯</li>\n</ul>\n<h2 id=\"1-æœ´ç´ Primç®—æ³•\"><a href=\"#1-æœ´ç´ Primç®—æ³•\" class=\"headerlink\" title=\"1. æœ´ç´ Primç®—æ³•\"></a>1. æœ´ç´ Primç®—æ³•</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œé€‚åˆç¨ å¯†å›¾ï¼Œè¾¹æ•°æ¥è¿‘ç‚¹æ•°çš„å¹³æ–¹</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æœ´ç´ Prim,å’Œdijkstraéå¸¸ç›¸ä¼¼</span></span><br><span class=\"line\"><span class=\"comment\">// 1.distæ•°ç»„åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\"><span class=\"comment\">// 2.éå†æ¯ä¸ªç‚¹,æ‰¾åˆ°é›†åˆå¤–è·ç¦»æœ€è¿‘çš„ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">// 3.ç”¨tæ›´æ–°å…¶ä»–ç‚¹åˆ°é›†åˆçš„è·ç¦»</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e2</span>+<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> INF=<span class=\"number\">1e9</span>; <span class=\"comment\">// æ— ç©·å¤§</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// å­˜å‚¨å›¾</span></span><br><span class=\"line\"><span class=\"type\">int</span> dist[N]; <span class=\"comment\">// å­˜å‚¨å„ç»“ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> pre[N]; <span class=\"comment\">// èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">prim</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–ä¸ºä¸å¯è¾¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(dist,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> dist);</span><br><span class=\"line\">\t<span class=\"comment\">// æœ€ç»ˆç»“æœ</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tdist[<span class=\"number\">1</span>]=<span class=\"number\">0</span>; <span class=\"comment\">// ä»1å·ç‚¹å¼€å§‹ç”Ÿæˆ</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºæ¯ä¸ªç‚¹éƒ½éå†ä¸€é</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// tæ˜¯è·ç¦»ç‚¹é›†æœ€è¿‘çš„ç‚¹</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> t=<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»ç‚¹1~nä¸­å»æ‰¾t</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœjæœªè¢«è®¿é—®å¹¶ä¸”tæ˜¯ç¬¬ä¸€æ¬¡æ›´æ–°,å¹¶ä¸”ä»tåˆ°æºç‚¹è·ç¦»æ¯”ä»jåˆ°æºç‚¹è·ç¦»æ›´è¿‘</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!st[j]&amp;&amp;(t==<span class=\"number\">-1</span>||dist[t]&gt;dist[j]))</span><br><span class=\"line\">\t\t\t\tt=j;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ˜¯å­¤ç«‹ç‚¹,ç›´æ¥é€€å‡º,æ— æ³•æ„æˆæœ€å°ç”Ÿæˆæ ‘</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i &amp;&amp; dist[t]==<span class=\"number\">0x3f3f3f3f</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> INF;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        <span class=\"comment\">// å…ˆæ›´æ–°,å†ç´¯åŠ ,é˜²æ­¢æŠŠè‡ªç¯åŠ è¿›æ¥</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// çŠ¶æ€æ›´æ–°</span></span><br><span class=\"line\">\t\tst[t]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ±‚å’Œè·ç¦»</span></span><br><span class=\"line\">\t\tres+=dist[t];</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ›´æ–°dist[j]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++)</span><br><span class=\"line\">\t\t\tdist[j]=min(dist[j],g[t][j]);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœè¦è¾“å‡ºè¾¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tfor(int j=1;j&lt;=n;j++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\tif(dist[j]&gt;g[t][j]&amp;&amp;!st[j]) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tdist[j]=g[t][j];</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t\tpre[j]=t; // è·ç¦»å˜çŸ­,å‰é©±å˜ä¸ºt</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\t&#125;</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">getPath</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n;i&gt;<span class=\"number\">1</span>;i--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;pre[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(g,<span class=\"number\">0x3f</span>,<span class=\"keyword\">sizeof</span> g);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\tg[a][b]=g[b][a]=min(g[a][b],c); <span class=\"comment\">// å»é‡è¾¹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=prim();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t==INF)</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;impossible&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;t&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"><span class=\"comment\">//\tgetPath();</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-Kruskalç®—æ³•-å¹¶æŸ¥é›†ä¼˜åŒ–\"><a href=\"#2-Kruskalç®—æ³•-å¹¶æŸ¥é›†ä¼˜åŒ–\" class=\"headerlink\" title=\"2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–\"></a>2. Kruskalç®—æ³•+å¹¶æŸ¥é›†ä¼˜åŒ–</h2><blockquote>\n<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(mlog^n)$ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹<br>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P3366\">P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘ - æ´›è°·</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e3</span>+<span class=\"number\">10</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">2</span>*(<span class=\"number\">2e5</span>+<span class=\"number\">5</span>); <span class=\"comment\">// æ— å‘å›¾</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// èµ·ç‚¹/ç»ˆç‚¹/æƒå€¼</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Edge</span> &#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\t<span class=\"type\">int</span> val;</span><br><span class=\"line\">&#125;edges[M];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Edge a,Edge b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.val&lt;b.val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// p[i]:é¡¶ç‚¹içš„è¿é€šåˆ†é‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¹¶æŸ¥é›†æŸ¥è¯¢è¿é€šåˆ†é‡,å¸¦è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(p[x]==x) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> p[x]=find(p[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">kruskal</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åŠ å…¥å›¾çš„è¾¹æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å–å‡ºæ¯æ¡è¾¹ä¸­çš„ä¿¡æ¯</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=edges[i].a, b=edges[i].b, w=edges[i].val;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœaå’Œbå·²ç»ç›¸è¿åˆ™è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 1.å¦‚æœæ˜¯è‡ªç¯-&gt;(3,3)=5</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// 2.å¦‚æœæ˜¯é‡è¾¹-&gt;(1,2)=3,(2,1)=5,æ­¤æ—¶å–å°è¾¹(å› ä¸ºæ’è¿‡åºäº†)</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(find(a)==find(b)) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºè¿™æ¡è¾¹</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;a&lt;&lt;&quot;--&quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"comment\">// é€‰æ‹©è¿™æ¡è¾¹åçš„ä¿¡æ¯ç»´æŠ¤ </span></span><br><span class=\"line\">\t\tp[find(a)]=find(b); <span class=\"comment\">// è¿é€šä¸¤ä¸ªå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t\tans+=w; <span class=\"comment\">// ç­”æ¡ˆç´¯åŠ è¿™æ¡è¾¹çš„æƒå€¼</span></span><br><span class=\"line\">\t\tcnt++; <span class=\"comment\">// è¾¹æ•°+1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt==n<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// è”é€š</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// å¹¶æŸ¥é›†åˆå§‹åŒ–:è¿é€šåˆ†é‡ä¸ºè‡ªèº«</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tp[i]=i; \t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥æ¯æ¡è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\"><span class=\"comment\">//\t\tscanf(&quot;%d%d%d&quot;,&amp;edges[i].a,&amp;edges[i].b,&amp;edges[i].val);</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;a,&amp;b,&amp;c);</span><br><span class=\"line\">\t\tedges[i]=&#123;a,b,c&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(edges+<span class=\"number\">1</span>,edges+<span class=\"number\">1</span>+m,cmp);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(kruskal()) <span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"built_in\">cout</span>&lt;&lt;<span class=\"string\">&quot;orz&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº\"><a href=\"#3-Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº\" class=\"headerlink\" title=\"3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº\"></a>3. Kruskalå»¶ç”³ï¼šå¯¹è¾“å‡ºæ’åº</h2><blockquote>\n<p>å°†æ•°ç»„æ”¹æˆ $vector$ï¼Œä¸ºç»“æ„ä½“æä¾›æ— å‚æ„é€ å™¨å’Œå…¨å‚æ„é€ å™¨ $m$ï¼Œä¾‹é¢˜ï¼šä¿¡å¥¥ä¸€æœ¬é€š $p1348$ï¼Œä»¥ä¸‹æ¨¡æ¿èƒ½è§£å†³é‡è¾¹ã€è‡ªç¯ã€è´Ÿæƒè¾¹ã€‚<br>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1348\">  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰</a></p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=<span class=\"number\">2e5</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// èµ·ç‚¹/ç»ˆç‚¹/è¾¹æƒ</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Edge</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\tll val;</span><br><span class=\"line\">\t<span class=\"comment\">// æ„é€ å™¨</span></span><br><span class=\"line\">\t<span class=\"built_in\">Edge</span>()&#123;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">Edge</span>(<span class=\"type\">int</span> aa,<span class=\"type\">int</span> bb,<span class=\"type\">int</span> cc) &#123;</span><br><span class=\"line\">\t\ta=aa;</span><br><span class=\"line\">\t\tb=bb;</span><br><span class=\"line\">\t\tval=cc;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> fa[N]; <span class=\"comment\">// è®°å½•çˆ¶èŠ‚ç‚¹</span></span><br><span class=\"line\">ll ans;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;Edge&gt; edges,tree; <span class=\"comment\">// å­˜å‚¨æ‰€æœ‰è¾¹å’Œç”Ÿæˆæ ‘çš„è¾¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¾¹æƒè¶Šå°è¶Šé å‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp_edges</span><span class=\"params\">(Edge a,Edge b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.val&lt;b.val;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹ç”Ÿæˆæ ‘çš„è¾¹äºŒæ¬¡æ’åº,ç¼–å·å°çš„é å‰</span></span><br><span class=\"line\"><span class=\"comment\">// èµ·å§‹ç‚¹ç›¸åŒ,ç»ˆç‚¹å°çš„é å‰;å¦åˆ™èµ·å§‹ç‚¹å°çš„é å‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp_trees</span><span class=\"params\">(Edge x,Edge y)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x.a==y.a) <span class=\"keyword\">return</span> x.b&lt;y.b;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> x.a&lt;y.a;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŸ¥è¯¢æ ¹èŠ‚ç‚¹å¸¦è·¯å¾„å‹ç¼©</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fa[x]) <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> fa[x]=<span class=\"built_in\">find</span>(fa[x]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">kruskal</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// å·²åŠ å…¥å›¾çš„è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(Edge e:edges) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æå–è¾¹çš„ä¿¡æ¯</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a=e.a, b=e.b, w=e.val;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v1=<span class=\"built_in\">find</span>(a);</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> v2=<span class=\"built_in\">find</span>(b);</span><br><span class=\"line\">\t\t<span class=\"comment\">// è‹¥a,bå·²ç›¸è¿</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(v1==v2) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// é€‰ä¸­è¿™æ¡è¾¹</span></span><br><span class=\"line\">\t\tcout&lt;&lt;a&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class=\"line\">\t\tans+=w;</span><br><span class=\"line\">\t\tfa[v1]=v2; <span class=\"comment\">// è”é€šå¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\ttree.<span class=\"built_in\">push_back</span>(e); <span class=\"comment\">// æ·»åŠ åˆ°ç”Ÿæˆæ ‘è¾¹é›†ä¸­</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(cnt==n<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ä¼˜åŒ–è¾“å…¥è¾“å‡º</span></span><br><span class=\"line\">\tios::<span class=\"built_in\">sync_with_stdio</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcout.<span class=\"built_in\">tie</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tfa[i]=i;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> a,b,c;</span><br><span class=\"line\">\t\tcin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¼ºè¡Œè®©å°çš„ç¼–å·åœ¨å‰,å¤§çš„ç¼–å·åœ¨å</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a&gt;b) <span class=\"built_in\">swap</span>(a,b);</span><br><span class=\"line\">\t\tedges.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">Edge</span>(a,b,c));</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(edges.<span class=\"built_in\">begin</span>(),edges.<span class=\"built_in\">end</span>(),cmp_edges);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">kruskal</span>()) cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹ç”Ÿæˆæ ‘ä¸­çš„è¾¹å†æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(tree.<span class=\"built_in\">begin</span>(),tree.<span class=\"built_in\">end</span>(),cmp_trees);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> e:tree) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;e.a&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;e.b&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;e.val&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æ¡¶","date":"2024-10-03T04:37:30.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ¡¶\n\n<!-- toc -->\n\n\n\n## 1. æ¡¶ç»“æ„\n\n> å°†æ¡¶å•ç‹¬æ‹¿å‡ºæ¥è®²ï¼Œæ˜¯ä¸ºäº†è®²åé¢çš„ç¦»æ•£åŒ–\n\n* å½“æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´ç»™å®šæ—¶å¹¶ä¸”ä¸è¶…è¿‡ç©ºé—´é™åˆ¶æ—¶ï¼Œç”¨è¯¥æ•°ç»„çš„ä¸‹æ ‡æˆ–ä¸‹æ ‡+åç§»é‡æ˜ å°„ä¸ºè¯¥å€¼çš„å¤§å°ï¼Œæ•°ç»„çš„å€¼è¡¨ç¤ºè¯¥æ•°å­—å‡ºç°çš„æ¬¡æ•°çš„æ•°æ®ç»“æ„\n* ä¼˜ç‚¹ï¼šæœ‰æ•ˆæé«˜æ•°æ®çš„è®¿é—®æ•ˆç‡å’Œå¤„ç†é€Ÿåº¦\n* ç¼ºç‚¹ï¼šå¿…é¡»çŸ¥é“æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´å¹¶ä¸”èƒ½å¤Ÿæ˜ å°„åˆ°$[0,N]$æ‰å¯ä»¥ä½¿ç”¨\n\n> ä¾‹é¢˜ï¼š[1186ï¼šå‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰](http://ybt.ssoier.cn:8088/problem_show.php?pid=1186)\n\n* æ¡¶åšæ³•\n\n```c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e2+10; // (-50,50),(0,100),[1,99]\nint a[N]; // æ¡¶\n// ä»€ä¹ˆæ—¶å€™ç”¨æ¡¶â†’æ¯ä¸ªæ•°æ®çš„èŒƒå›´ç»™å®š\n// ä¸‹æ ‡ä»£è¡¨è¿™ä¸ªæ•°å­—,æˆ–è€…è¿™ä¸ªæ•°å­—çš„æ˜ å°„å€¼,æ•°ç»„çš„å€¼ä»£è¡¨å‡ºç°çš„æ¬¡æ•°\n\n// temp:ä¸´æ—¶å˜é‡,nm nè¡¨ç¤ºè¡Œ,mè¡¨ç¤ºåˆ—\n// ans:answer, res:result, cnt:count\n\n// æ’åº:å†’æ³¡/äº¤æ¢/é€‰æ‹© O(nÂ²), å¿«æ’/å¸Œå°”æ’åº/å½’å¹¶æ’åºO(nlogn)/sort, æ¡¶æ’åºO(n)\n\nint main() {\n\tint n;\n\tcin>>n; // 5: 2 4 2 5 9\n\tfor(int i=1;i<=n;i++) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\ta[temp+50]++; // a[2]++,a[2]=1,a[4]=1,a[2]=2\n\t}\n\t// éå†æ‰€æœ‰å¯èƒ½çš„å¤§å°,å…¶å®å°±éå†äº†æ‰€æœ‰çš„æ•°å­—\n\t// å¦‚æœæ ¹æœ¬æ²¡å‡ºç°è¿‡,a[i]=0\n\tbool flag=false;\n\tfor(int i=1;i<=99;i++) {\n\t\t// a[i]ä»£è¡¨å‡ºç°çš„æ¬¡æ•°\n\t\tif(a[i]>n/2) {\n\t\t\tflag=true;\n\t\t\tcout<<i-50;\n\t\t} \n\t}\n\tif(flag==false) cout<<\"no\";\n\treturn 0;\n}\n```\n\n* mapåšæ³•\n\n* $map$æ˜¯$C++$ STLåº“ä¸­è‡ªå¸¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸º$Python$ä¸­çš„$dict$å­—å…¸æ•°æ®ç»“æ„ï¼Œmapä¸­æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯é”®(ç´¢å¼•)ï¼Œä¸€ä¸ªæ˜¯é”®å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œå’Œæœ¬é¢˜ä¸è°‹è€Œåˆï¼Œè®©ç¬¬ä¸€ä¸ªå…³é”®å­—å­˜å‚¨è¿™ä¸ªå€¼çš„å¤§å°ï¼Œç¬¬äºŒå…³é”®å­—å­˜å‚¨å‡ºç°çš„æ¬¡æ•°å³å¯ï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘ä»$[-49,49]$æ˜ å°„åˆ°$[1,99]$\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\tmap<int,int> m;\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\tm[temp]++; // tempä½œä¸ºç´¢å¼•,é”®å€¼+1\n\t}\n\tbool flag=false;\n\t// éå†mapä¸­çš„æ‰€æœ‰å…ƒç´ ,è¿­ä»£å™¨çš„æ–¹æ³•éå†\n\tfor(auto it=m.begin();it!=m.end();it++) {\n\t\tif(it->second>n/2) {\n\t\t\tflag=true;\n\t\t\tcout<<it->first;\n\t\t}\n\t}\n\tif(flag==false) cout<<\"no\";\n\treturn 0;\n}\n```\n\n\n\n## 2. æ¡¶æ’åº\n\n* å½“æ•°æ®å…¥æ¡¶åå…¶å®å°±ç›¸å½“äºå·²ç»æ’å¥½äº†åºï¼Œæˆ‘ä»¬å¯ä»¥ä»å…ƒç´ æœ€å°å€¼éå†åˆ°æœ€å¤§å€¼ï¼Œåˆå› ä¸ºæ¡¶ä¸­çš„å…ƒç´ ä»£è¡¨ç€è¿™ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå‡ºç°äº†å¤šå°‘æ¬¡æˆ‘ä»¬å°±è¾“å‡ºå¤šå°‘æ¬¡è¿™ä¸ªå…ƒç´ ï¼Œåˆå› ä¸ºæ˜¯ä»å°åˆ°å¤§éå†çš„ï¼Œæ‰€ä»¥å€’æ¡¶çš„è¿‡ç¨‹å°±æ˜¯æ¡¶æ’åº\n* æ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼Œå…¶ä¸­næ˜¯å…ƒç´ ä¸ªæ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å‡è®¾æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´æ˜¯[1,1000],æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªå¤§å°è¶³å¤Ÿçš„æ¡¶\n \nconst int N=1e3+5; \nint a[N];\n\nint main() {\n\tint n;\n\tcin>>n;\n\twhile(n--) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\t// å…¥æ¡¶\n\t\ta[temp]++;\n\t}\n\t// å€’æ¡¶çš„è¿‡ç¨‹å³ä¸ºæ’åº,ä¸æ˜¯çœŸæ­£çš„æ’å¥½åº\n\t// ä»å°åˆ°å¤§éå†ä¸‹æ ‡,å³lessè§„åˆ™æ’åº\n\t// ä»å¤§åˆ°å°éå†ä¸‹æ ‡,å³greaterè§„åˆ™æ’åº\n\tfor(int i=1;i<=1000;i++) {\n\t\t// å¦‚æœiè¿™ä¸ªæ•°å­—å‡ºç°è¿‡\n\t\tif(a[i]) {\n\t\t\tfor(int j=a[i];j>0;j--) {\n\t\t\t\t// è¾“å‡ºa[i]æ¬¡,å› ä¸ºa[i]ä»£è¡¨iå‡ºç°çš„æ¬¡æ•°\n\t\t\t\tcout<<i<<' ';\n\t\t\t}\n\t\t}\t\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/æ¡¶.md","raw":"---\ntitle: æ¡¶\ndate: 2024-10-03 12:37:30\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ¡¶\n\n<!-- toc -->\n\n\n\n## 1. æ¡¶ç»“æ„\n\n> å°†æ¡¶å•ç‹¬æ‹¿å‡ºæ¥è®²ï¼Œæ˜¯ä¸ºäº†è®²åé¢çš„ç¦»æ•£åŒ–\n\n* å½“æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´ç»™å®šæ—¶å¹¶ä¸”ä¸è¶…è¿‡ç©ºé—´é™åˆ¶æ—¶ï¼Œç”¨è¯¥æ•°ç»„çš„ä¸‹æ ‡æˆ–ä¸‹æ ‡+åç§»é‡æ˜ å°„ä¸ºè¯¥å€¼çš„å¤§å°ï¼Œæ•°ç»„çš„å€¼è¡¨ç¤ºè¯¥æ•°å­—å‡ºç°çš„æ¬¡æ•°çš„æ•°æ®ç»“æ„\n* ä¼˜ç‚¹ï¼šæœ‰æ•ˆæé«˜æ•°æ®çš„è®¿é—®æ•ˆç‡å’Œå¤„ç†é€Ÿåº¦\n* ç¼ºç‚¹ï¼šå¿…é¡»çŸ¥é“æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´å¹¶ä¸”èƒ½å¤Ÿæ˜ å°„åˆ°$[0,N]$æ‰å¯ä»¥ä½¿ç”¨\n\n> ä¾‹é¢˜ï¼š[1186ï¼šå‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰](http://ybt.ssoier.cn:8088/problem_show.php?pid=1186)\n\n* æ¡¶åšæ³•\n\n```c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e2+10; // (-50,50),(0,100),[1,99]\nint a[N]; // æ¡¶\n// ä»€ä¹ˆæ—¶å€™ç”¨æ¡¶â†’æ¯ä¸ªæ•°æ®çš„èŒƒå›´ç»™å®š\n// ä¸‹æ ‡ä»£è¡¨è¿™ä¸ªæ•°å­—,æˆ–è€…è¿™ä¸ªæ•°å­—çš„æ˜ å°„å€¼,æ•°ç»„çš„å€¼ä»£è¡¨å‡ºç°çš„æ¬¡æ•°\n\n// temp:ä¸´æ—¶å˜é‡,nm nè¡¨ç¤ºè¡Œ,mè¡¨ç¤ºåˆ—\n// ans:answer, res:result, cnt:count\n\n// æ’åº:å†’æ³¡/äº¤æ¢/é€‰æ‹© O(nÂ²), å¿«æ’/å¸Œå°”æ’åº/å½’å¹¶æ’åºO(nlogn)/sort, æ¡¶æ’åºO(n)\n\nint main() {\n\tint n;\n\tcin>>n; // 5: 2 4 2 5 9\n\tfor(int i=1;i<=n;i++) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\ta[temp+50]++; // a[2]++,a[2]=1,a[4]=1,a[2]=2\n\t}\n\t// éå†æ‰€æœ‰å¯èƒ½çš„å¤§å°,å…¶å®å°±éå†äº†æ‰€æœ‰çš„æ•°å­—\n\t// å¦‚æœæ ¹æœ¬æ²¡å‡ºç°è¿‡,a[i]=0\n\tbool flag=false;\n\tfor(int i=1;i<=99;i++) {\n\t\t// a[i]ä»£è¡¨å‡ºç°çš„æ¬¡æ•°\n\t\tif(a[i]>n/2) {\n\t\t\tflag=true;\n\t\t\tcout<<i-50;\n\t\t} \n\t}\n\tif(flag==false) cout<<\"no\";\n\treturn 0;\n}\n```\n\n* mapåšæ³•\n\n* $map$æ˜¯$C++$ STLåº“ä¸­è‡ªå¸¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸º$Python$ä¸­çš„$dict$å­—å…¸æ•°æ®ç»“æ„ï¼Œmapä¸­æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯é”®(ç´¢å¼•)ï¼Œä¸€ä¸ªæ˜¯é”®å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œå’Œæœ¬é¢˜ä¸è°‹è€Œåˆï¼Œè®©ç¬¬ä¸€ä¸ªå…³é”®å­—å­˜å‚¨è¿™ä¸ªå€¼çš„å¤§å°ï¼Œç¬¬äºŒå…³é”®å­—å­˜å‚¨å‡ºç°çš„æ¬¡æ•°å³å¯ï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘ä»$[-49,49]$æ˜ å°„åˆ°$[1,99]$\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\nint main() {\n\tmap<int,int> m;\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\tm[temp]++; // tempä½œä¸ºç´¢å¼•,é”®å€¼+1\n\t}\n\tbool flag=false;\n\t// éå†mapä¸­çš„æ‰€æœ‰å…ƒç´ ,è¿­ä»£å™¨çš„æ–¹æ³•éå†\n\tfor(auto it=m.begin();it!=m.end();it++) {\n\t\tif(it->second>n/2) {\n\t\t\tflag=true;\n\t\t\tcout<<it->first;\n\t\t}\n\t}\n\tif(flag==false) cout<<\"no\";\n\treturn 0;\n}\n```\n\n\n\n## 2. æ¡¶æ’åº\n\n* å½“æ•°æ®å…¥æ¡¶åå…¶å®å°±ç›¸å½“äºå·²ç»æ’å¥½äº†åºï¼Œæˆ‘ä»¬å¯ä»¥ä»å…ƒç´ æœ€å°å€¼éå†åˆ°æœ€å¤§å€¼ï¼Œåˆå› ä¸ºæ¡¶ä¸­çš„å…ƒç´ ä»£è¡¨ç€è¿™ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå‡ºç°äº†å¤šå°‘æ¬¡æˆ‘ä»¬å°±è¾“å‡ºå¤šå°‘æ¬¡è¿™ä¸ªå…ƒç´ ï¼Œåˆå› ä¸ºæ˜¯ä»å°åˆ°å¤§éå†çš„ï¼Œæ‰€ä»¥å€’æ¡¶çš„è¿‡ç¨‹å°±æ˜¯æ¡¶æ’åº\n* æ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼Œå…¶ä¸­næ˜¯å…ƒç´ ä¸ªæ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å‡è®¾æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´æ˜¯[1,1000],æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªå¤§å°è¶³å¤Ÿçš„æ¡¶\n \nconst int N=1e3+5; \nint a[N];\n\nint main() {\n\tint n;\n\tcin>>n;\n\twhile(n--) {\n\t\tint temp;\n\t\tcin>>temp;\n\t\t// å…¥æ¡¶\n\t\ta[temp]++;\n\t}\n\t// å€’æ¡¶çš„è¿‡ç¨‹å³ä¸ºæ’åº,ä¸æ˜¯çœŸæ­£çš„æ’å¥½åº\n\t// ä»å°åˆ°å¤§éå†ä¸‹æ ‡,å³lessè§„åˆ™æ’åº\n\t// ä»å¤§åˆ°å°éå†ä¸‹æ ‡,å³greaterè§„åˆ™æ’åº\n\tfor(int i=1;i<=1000;i++) {\n\t\t// å¦‚æœiè¿™ä¸ªæ•°å­—å‡ºç°è¿‡\n\t\tif(a[i]) {\n\t\t\tfor(int j=a[i];j>0;j--) {\n\t\t\t\t// è¾“å‡ºa[i]æ¬¡,å› ä¸ºa[i]ä»£è¡¨iå‡ºç°çš„æ¬¡æ•°\n\t\t\t\tcout<<i<<' ';\n\t\t\t}\n\t\t}\t\n\t}\n\treturn 0;\n}\n```\n","slug":"æ¡¶","published":1,"updated":"2024-10-05T08:05:10.767Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptg003tc0nfeu8h08wv","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ¡¶\">æ¡¶</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A1%B6%E7%BB%93%E6%9E%84\">1. æ¡¶ç»“æ„</a></li>\n<li><a href=\"#2-%E6%A1%B6%E6%8E%92%E5%BA%8F\">2. æ¡¶æ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-æ¡¶ç»“æ„\">1. æ¡¶ç»“æ„</span></h2><blockquote>\n<p>å°†æ¡¶å•ç‹¬æ‹¿å‡ºæ¥è®²ï¼Œæ˜¯ä¸ºäº†è®²åé¢çš„ç¦»æ•£åŒ–</p>\n</blockquote>\n<ul>\n<li>å½“æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´ç»™å®šæ—¶å¹¶ä¸”ä¸è¶…è¿‡ç©ºé—´é™åˆ¶æ—¶ï¼Œç”¨è¯¥æ•°ç»„çš„ä¸‹æ ‡æˆ–ä¸‹æ ‡+åç§»é‡æ˜ å°„ä¸ºè¯¥å€¼çš„å¤§å°ï¼Œæ•°ç»„çš„å€¼è¡¨ç¤ºè¯¥æ•°å­—å‡ºç°çš„æ¬¡æ•°çš„æ•°æ®ç»“æ„</li>\n<li>ä¼˜ç‚¹ï¼šæœ‰æ•ˆæé«˜æ•°æ®çš„è®¿é—®æ•ˆç‡å’Œå¤„ç†é€Ÿåº¦</li>\n<li>ç¼ºç‚¹ï¼šå¿…é¡»çŸ¥é“æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´å¹¶ä¸”èƒ½å¤Ÿæ˜ å°„åˆ°$[0,N]$æ‰å¯ä»¥ä½¿ç”¨</li>\n</ul>\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1186\">1186ï¼šå‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰</a></p>\n</blockquote>\n<ul>\n<li>æ¡¶åšæ³•</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+10</span>; <span class=\"comment\">// (-50,50),(0,100),[1,99]</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// æ¡¶</span></span><br><span class=\"line\"><span class=\"comment\">// ä»€ä¹ˆæ—¶å€™ç”¨æ¡¶â†’æ¯ä¸ªæ•°æ®çš„èŒƒå›´ç»™å®š</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸‹æ ‡ä»£è¡¨è¿™ä¸ªæ•°å­—,æˆ–è€…è¿™ä¸ªæ•°å­—çš„æ˜ å°„å€¼,æ•°ç»„çš„å€¼ä»£è¡¨å‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// temp:ä¸´æ—¶å˜é‡,nm nè¡¨ç¤ºè¡Œ,mè¡¨ç¤ºåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">// ans:answer, res:result, cnt:count</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ’åº:å†’æ³¡/äº¤æ¢/é€‰æ‹© O(nÂ²), å¿«æ’/å¸Œå°”æ’åº/å½’å¹¶æ’åºO(nlogn)/sort, æ¡¶æ’åºO(n)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n; <span class=\"comment\">// 5: 2 4 2 5 9</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\ta[temp<span class=\"number\">+50</span>]++; <span class=\"comment\">// a[2]++,a[2]=1,a[4]=1,a[2]=2</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰å¯èƒ½çš„å¤§å°,å…¶å®å°±éå†äº†æ‰€æœ‰çš„æ•°å­—</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ ¹æœ¬æ²¡å‡ºç°è¿‡,a[i]=0</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">99</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// a[i]ä»£è¡¨å‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&gt;n/<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;i<span class=\"number\">-50</span>;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag==<span class=\"literal\">false</span>) cout&lt;&lt;<span class=\"string\">&quot;no&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>mapåšæ³•</p>\n</li>\n<li><p>$map$æ˜¯$C++$ STLåº“ä¸­è‡ªå¸¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸º$Python$ä¸­çš„$dict$å­—å…¸æ•°æ®ç»“æ„ï¼Œmapä¸­æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯é”®(ç´¢å¼•)ï¼Œä¸€ä¸ªæ˜¯é”®å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œå’Œæœ¬é¢˜ä¸è°‹è€Œåˆï¼Œè®©ç¬¬ä¸€ä¸ªå…³é”®å­—å­˜å‚¨è¿™ä¸ªå€¼çš„å¤§å°ï¼Œç¬¬äºŒå…³é”®å­—å­˜å‚¨å‡ºç°çš„æ¬¡æ•°å³å¯ï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘ä»$[-49,49]$æ˜ å°„åˆ°$[1,99]$</p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tmap&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\tm[temp]++; <span class=\"comment\">// tempä½œä¸ºç´¢å¼•,é”®å€¼+1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†mapä¸­çš„æ‰€æœ‰å…ƒç´ ,è¿­ä»£å™¨çš„æ–¹æ³•éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> it=m.<span class=\"built_in\">begin</span>();it!=m.<span class=\"built_in\">end</span>();it++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(it-&gt;second&gt;n/<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;it-&gt;first;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag==<span class=\"literal\">false</span>) cout&lt;&lt;<span class=\"string\">&quot;no&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-æ¡¶æ’åº\">2. æ¡¶æ’åº</span></h2><ul>\n<li>å½“æ•°æ®å…¥æ¡¶åå…¶å®å°±ç›¸å½“äºå·²ç»æ’å¥½äº†åºï¼Œæˆ‘ä»¬å¯ä»¥ä»å…ƒç´ æœ€å°å€¼éå†åˆ°æœ€å¤§å€¼ï¼Œåˆå› ä¸ºæ¡¶ä¸­çš„å…ƒç´ ä»£è¡¨ç€è¿™ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå‡ºç°äº†å¤šå°‘æ¬¡æˆ‘ä»¬å°±è¾“å‡ºå¤šå°‘æ¬¡è¿™ä¸ªå…ƒç´ ï¼Œåˆå› ä¸ºæ˜¯ä»å°åˆ°å¤§éå†çš„ï¼Œæ‰€ä»¥å€’æ¡¶çš„è¿‡ç¨‹å°±æ˜¯æ¡¶æ’åº</li>\n<li>æ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼Œå…¶ä¸­næ˜¯å…ƒç´ ä¸ªæ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å‡è®¾æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´æ˜¯[1,1000],æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªå¤§å°è¶³å¤Ÿçš„æ¡¶</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>; </span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¥æ¡¶</span></span><br><span class=\"line\">\t\ta[temp]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å€’æ¡¶çš„è¿‡ç¨‹å³ä¸ºæ’åº,ä¸æ˜¯çœŸæ­£çš„æ’å¥½åº</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»å°åˆ°å¤§éå†ä¸‹æ ‡,å³lessè§„åˆ™æ’åº</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»å¤§åˆ°å°éå†ä¸‹æ ‡,å³greaterè§„åˆ™æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">1000</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiè¿™ä¸ªæ•°å­—å‡ºç°è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=a[i];j&gt;<span class=\"number\">0</span>;j--) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¾“å‡ºa[i]æ¬¡,å› ä¸ºa[i]ä»£è¡¨iå‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"æ¡¶\"><a href=\"#æ¡¶\" class=\"headerlink\" title=\"æ¡¶\"></a>æ¡¶</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%A1%B6%E7%BB%93%E6%9E%84\">1. æ¡¶ç»“æ„</a></li>\n<li><a href=\"#2-%E6%A1%B6%E6%8E%92%E5%BA%8F\">2. æ¡¶æ’åº</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-æ¡¶ç»“æ„\"><a href=\"#1-æ¡¶ç»“æ„\" class=\"headerlink\" title=\"1. æ¡¶ç»“æ„\"></a>1. æ¡¶ç»“æ„</h2><blockquote>\n<p>å°†æ¡¶å•ç‹¬æ‹¿å‡ºæ¥è®²ï¼Œæ˜¯ä¸ºäº†è®²åé¢çš„ç¦»æ•£åŒ–</p>\n</blockquote>\n<ul>\n<li>å½“æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´ç»™å®šæ—¶å¹¶ä¸”ä¸è¶…è¿‡ç©ºé—´é™åˆ¶æ—¶ï¼Œç”¨è¯¥æ•°ç»„çš„ä¸‹æ ‡æˆ–ä¸‹æ ‡+åç§»é‡æ˜ å°„ä¸ºè¯¥å€¼çš„å¤§å°ï¼Œæ•°ç»„çš„å€¼è¡¨ç¤ºè¯¥æ•°å­—å‡ºç°çš„æ¬¡æ•°çš„æ•°æ®ç»“æ„</li>\n<li>ä¼˜ç‚¹ï¼šæœ‰æ•ˆæé«˜æ•°æ®çš„è®¿é—®æ•ˆç‡å’Œå¤„ç†é€Ÿåº¦</li>\n<li>ç¼ºç‚¹ï¼šå¿…é¡»çŸ¥é“æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´å¹¶ä¸”èƒ½å¤Ÿæ˜ å°„åˆ°$[0,N]$æ‰å¯ä»¥ä½¿ç”¨</li>\n</ul>\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1186\">1186ï¼šå‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰</a></p>\n</blockquote>\n<ul>\n<li>æ¡¶åšæ³•</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e2</span><span class=\"number\">+10</span>; <span class=\"comment\">// (-50,50),(0,100),[1,99]</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// æ¡¶</span></span><br><span class=\"line\"><span class=\"comment\">// ä»€ä¹ˆæ—¶å€™ç”¨æ¡¶â†’æ¯ä¸ªæ•°æ®çš„èŒƒå›´ç»™å®š</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸‹æ ‡ä»£è¡¨è¿™ä¸ªæ•°å­—,æˆ–è€…è¿™ä¸ªæ•°å­—çš„æ˜ å°„å€¼,æ•°ç»„çš„å€¼ä»£è¡¨å‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// temp:ä¸´æ—¶å˜é‡,nm nè¡¨ç¤ºè¡Œ,mè¡¨ç¤ºåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">// ans:answer, res:result, cnt:count</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ’åº:å†’æ³¡/äº¤æ¢/é€‰æ‹© O(nÂ²), å¿«æ’/å¸Œå°”æ’åº/å½’å¹¶æ’åºO(nlogn)/sort, æ¡¶æ’åºO(n)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n; <span class=\"comment\">// 5: 2 4 2 5 9</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\ta[temp<span class=\"number\">+50</span>]++; <span class=\"comment\">// a[2]++,a[2]=1,a[4]=1,a[2]=2</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰å¯èƒ½çš„å¤§å°,å…¶å®å°±éå†äº†æ‰€æœ‰çš„æ•°å­—</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæ ¹æœ¬æ²¡å‡ºç°è¿‡,a[i]=0</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">99</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// a[i]ä»£è¡¨å‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&gt;n/<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;i<span class=\"number\">-50</span>;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag==<span class=\"literal\">false</span>) cout&lt;&lt;<span class=\"string\">&quot;no&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>mapåšæ³•</p>\n</li>\n<li><p>$map$æ˜¯$C++$ STLåº“ä¸­è‡ªå¸¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç†è§£ä¸º$Python$ä¸­çš„$dict$å­—å…¸æ•°æ®ç»“æ„ï¼Œmapä¸­æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯é”®(ç´¢å¼•)ï¼Œä¸€ä¸ªæ˜¯é”®å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œå’Œæœ¬é¢˜ä¸è°‹è€Œåˆï¼Œè®©ç¬¬ä¸€ä¸ªå…³é”®å­—å­˜å‚¨è¿™ä¸ªå€¼çš„å¤§å°ï¼Œç¬¬äºŒå…³é”®å­—å­˜å‚¨å‡ºç°çš„æ¬¡æ•°å³å¯ï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘ä»$[-49,49]$æ˜ å°„åˆ°$[1,99]$</p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tmap&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\tm[temp]++; <span class=\"comment\">// tempä½œä¸ºç´¢å¼•,é”®å€¼+1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†mapä¸­çš„æ‰€æœ‰å…ƒç´ ,è¿­ä»£å™¨çš„æ–¹æ³•éå†</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> it=m.<span class=\"built_in\">begin</span>();it!=m.<span class=\"built_in\">end</span>();it++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(it-&gt;second&gt;n/<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;it-&gt;first;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(flag==<span class=\"literal\">false</span>) cout&lt;&lt;<span class=\"string\">&quot;no&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-æ¡¶æ’åº\"><a href=\"#2-æ¡¶æ’åº\" class=\"headerlink\" title=\"2. æ¡¶æ’åº\"></a>2. æ¡¶æ’åº</h2><ul>\n<li>å½“æ•°æ®å…¥æ¡¶åå…¶å®å°±ç›¸å½“äºå·²ç»æ’å¥½äº†åºï¼Œæˆ‘ä»¬å¯ä»¥ä»å…ƒç´ æœ€å°å€¼éå†åˆ°æœ€å¤§å€¼ï¼Œåˆå› ä¸ºæ¡¶ä¸­çš„å…ƒç´ ä»£è¡¨ç€è¿™ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå‡ºç°äº†å¤šå°‘æ¬¡æˆ‘ä»¬å°±è¾“å‡ºå¤šå°‘æ¬¡è¿™ä¸ªå…ƒç´ ï¼Œåˆå› ä¸ºæ˜¯ä»å°åˆ°å¤§éå†çš„ï¼Œæ‰€ä»¥å€’æ¡¶çš„è¿‡ç¨‹å°±æ˜¯æ¡¶æ’åº</li>\n<li>æ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼Œå…¶ä¸­næ˜¯å…ƒç´ ä¸ªæ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å‡è®¾æ¯ä¸ªå…ƒç´ çš„å¤§å°èŒƒå›´æ˜¯[1,1000],æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªå¤§å°è¶³å¤Ÿçš„æ¡¶</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>; </span><br><span class=\"line\"><span class=\"type\">int</span> a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t\tcin&gt;&gt;temp;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å…¥æ¡¶</span></span><br><span class=\"line\">\t\ta[temp]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å€’æ¡¶çš„è¿‡ç¨‹å³ä¸ºæ’åº,ä¸æ˜¯çœŸæ­£çš„æ’å¥½åº</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»å°åˆ°å¤§éå†ä¸‹æ ‡,å³lessè§„åˆ™æ’åº</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä»å¤§åˆ°å°éå†ä¸‹æ ‡,å³greaterè§„åˆ™æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">1000</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiè¿™ä¸ªæ•°å­—å‡ºç°è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=a[i];j&gt;<span class=\"number\">0</span>;j--) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">// è¾“å‡ºa[i]æ¬¡,å› ä¸ºa[i]ä»£è¡¨iå‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t\t\tcout&lt;&lt;i&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æ¬§æ‹‰ç­›","date":"2024-10-07T02:40:26.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æ¬§æ‹‰ç­›\n\n<!-- toc -->\n\n\n\n## 1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰\n\n``` c++\nbool isPrime(int num) {\n    for(int i=2;i<=sqrt(num)) {\n        if(num%i==0)\n            return false;\n    }\n    return true;\n}\n```\n\n* å¦‚æœè¦æ‰¾ä» $[1,1e6]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜\n\n\n\n## 2. æ¬§æ‹‰ç­›\n\n![image-20230720102317937](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png)\n\n* ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼ˆå› ä¸ºé™¤äº† $1$ å’Œè‡ªèº«ä»¥å¤–ï¼Œä¸€å®šèƒ½è¢« $2$ æ•´é™¤ï¼‰ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°Â·Â·Â·\n* æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„ $j=iÃ—i$ æ”¹ä¸º $j=i+i$\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e5;\nint f[N]; // ä¸‹æ ‡ä¸ºiæ—¶,è®°å½•1~iå‡ºç°çš„æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool vis[N]; // æ˜¯å¦å·²ç»è®¿é—®è¿‡\nint p[N]; // ç”¨äºå­˜æ”¾ç´ æ•°\nint idx,n; // idxæ˜¯å­˜æ”¾ç´ æ•°çš„éå†å› å­\nvoid get_primes(int n)\n{\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\t// å¦‚æœvis[i]ä¸ºfalseæ‰éœ€è¦éå†\n\t\tif(!vis[i]){\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ\n\t\t\tp[++idx]=i; // æ˜¯ç´ æ•°,å­˜èµ·æ¥\n            // å¦‚æœå‡ºç°RuntimeError,å°†j=i+i,è¿™æ ·å°±ä¸ä¼šæ•°ç»„è¶Šç•Œ\n\t\t\tfor(int j=i*i;j<=n;j+=i) // å°†ç´ æ•°içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,åˆ™æ— éœ€éå†\n\t\t\t\tvis[j]=true;\n\t\t} else \n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t}\n}\n\nint main()\n{\n\t// å¦‚:è¾“å…¥1000å³æ‰“å°0~1000ä»¥å†…çš„ç´ æ•°\n\tcin>>n;  \n\tint l,r; // å·¦å³åŒºé—´\n\tcin>>l>>r;\n\tget_primes(n);\n\tcout<<\"1~\"<<n<<\"ä¹‹é—´çš„ç´ æ•°åˆ†åˆ«æ˜¯:\";\n\tfor(int i=1;i<=idx;i++) {\n\t\tcout<<p[i];\n\t\tif(i!=idx)\n\t\t\tcout<<\",\";\n\t}\n\tcout<<endl;\n\tcout<<l<<\"~\"<<r<<\"æ‰€å‡ºç°çš„ç´ æ•°ä¸ªæ•°ä¸º:\"<<f[r]-f[l-1]<<endl;\n\treturn 0;\n}\n```\n\n* æœ€ç®€å•çš„æ¨¡æ¿\n\n``` c++\nconst int N=5e4+5; // æ³¨æ„è¿™é‡Œæ²¡æœ‰å¼€åˆ°2^9,åªè¦æ¯”sqrt(2^9)å¤§å³å¯\nint primes[N],cnt;\nbool st[N];\nint ans[N],len;\n\n// çº¿æ€§ç­›æ¨¡æ¿\nvoid get_primes(int n) {\n\tfor(int i=2;i<=n;i++) {\n\t\tif(!st[i]) primes[cnt++]=i;\n\t\tfor(int j=0;primes[j]*i<=n;j++) {\n\t\t\tst[primes[j]*i]=true;\n\t\t\tif(i%primes[j]==0) break;\n\t\t}\n\t}\n}\n\n// ä¸ºä»€ä¹ˆç‰¹åˆ¤x>=Nçš„æƒ…å†µ?å› ä¸ºä¸ºäº†èŠ‚çœå†…å­˜æˆ–è€…æ²¡å¿…è¦,æœ¬é¢˜ä¸­åªè¦ä¿è¯MAXNæ¯”sqrt(ç†è®ºæœ€å¤§å€¼)å¤§å³å¯\nbool is_prime(int x) {\n\tif(x<N) return !st[x];\n\tfor(int i=0;primes[i]<=x/primes[i];i++)\n\t\tif(x%primes[i]==0)\n\t\t\treturn false;\n\treturn true;\n}\n```\n","source":"_posts/æ¬§æ‹‰ç­›.md","raw":"---\ntitle: æ¬§æ‹‰ç­›\ndate: 2024-10-07 10:40:26\ncategories: åˆ†ç±»\ntags:\n    - ç®—æ³•ç«èµ›\n    - æ¬§æ‹‰ç­›\n    - æ•°è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# æ¬§æ‹‰ç­›\n\n<!-- toc -->\n\n\n\n## 1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰\n\n``` c++\nbool isPrime(int num) {\n    for(int i=2;i<=sqrt(num)) {\n        if(num%i==0)\n            return false;\n    }\n    return true;\n}\n```\n\n* å¦‚æœè¦æ‰¾ä» $[1,1e6]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜\n\n\n\n## 2. æ¬§æ‹‰ç­›\n\n![image-20230720102317937](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png)\n\n* ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼ˆå› ä¸ºé™¤äº† $1$ å’Œè‡ªèº«ä»¥å¤–ï¼Œä¸€å®šèƒ½è¢« $2$ æ•´é™¤ï¼‰ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°Â·Â·Â·\n* æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„ $j=iÃ—i$ æ”¹ä¸º $j=i+i$\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e5;\nint f[N]; // ä¸‹æ ‡ä¸ºiæ—¶,è®°å½•1~iå‡ºç°çš„æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool vis[N]; // æ˜¯å¦å·²ç»è®¿é—®è¿‡\nint p[N]; // ç”¨äºå­˜æ”¾ç´ æ•°\nint idx,n; // idxæ˜¯å­˜æ”¾ç´ æ•°çš„éå†å› å­\nvoid get_primes(int n)\n{\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\t// å¦‚æœvis[i]ä¸ºfalseæ‰éœ€è¦éå†\n\t\tif(!vis[i]){\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ\n\t\t\tp[++idx]=i; // æ˜¯ç´ æ•°,å­˜èµ·æ¥\n            // å¦‚æœå‡ºç°RuntimeError,å°†j=i+i,è¿™æ ·å°±ä¸ä¼šæ•°ç»„è¶Šç•Œ\n\t\t\tfor(int j=i*i;j<=n;j+=i) // å°†ç´ æ•°içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,åˆ™æ— éœ€éå†\n\t\t\t\tvis[j]=true;\n\t\t} else \n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t}\n}\n\nint main()\n{\n\t// å¦‚:è¾“å…¥1000å³æ‰“å°0~1000ä»¥å†…çš„ç´ æ•°\n\tcin>>n;  \n\tint l,r; // å·¦å³åŒºé—´\n\tcin>>l>>r;\n\tget_primes(n);\n\tcout<<\"1~\"<<n<<\"ä¹‹é—´çš„ç´ æ•°åˆ†åˆ«æ˜¯:\";\n\tfor(int i=1;i<=idx;i++) {\n\t\tcout<<p[i];\n\t\tif(i!=idx)\n\t\t\tcout<<\",\";\n\t}\n\tcout<<endl;\n\tcout<<l<<\"~\"<<r<<\"æ‰€å‡ºç°çš„ç´ æ•°ä¸ªæ•°ä¸º:\"<<f[r]-f[l-1]<<endl;\n\treturn 0;\n}\n```\n\n* æœ€ç®€å•çš„æ¨¡æ¿\n\n``` c++\nconst int N=5e4+5; // æ³¨æ„è¿™é‡Œæ²¡æœ‰å¼€åˆ°2^9,åªè¦æ¯”sqrt(2^9)å¤§å³å¯\nint primes[N],cnt;\nbool st[N];\nint ans[N],len;\n\n// çº¿æ€§ç­›æ¨¡æ¿\nvoid get_primes(int n) {\n\tfor(int i=2;i<=n;i++) {\n\t\tif(!st[i]) primes[cnt++]=i;\n\t\tfor(int j=0;primes[j]*i<=n;j++) {\n\t\t\tst[primes[j]*i]=true;\n\t\t\tif(i%primes[j]==0) break;\n\t\t}\n\t}\n}\n\n// ä¸ºä»€ä¹ˆç‰¹åˆ¤x>=Nçš„æƒ…å†µ?å› ä¸ºä¸ºäº†èŠ‚çœå†…å­˜æˆ–è€…æ²¡å¿…è¦,æœ¬é¢˜ä¸­åªè¦ä¿è¯MAXNæ¯”sqrt(ç†è®ºæœ€å¤§å€¼)å¤§å³å¯\nbool is_prime(int x) {\n\tif(x<N) return !st[x];\n\tfor(int i=0;primes[i]<=x/primes[i];i++)\n\t\tif(x%primes[i]==0)\n\t\t\treturn false;\n\treturn true;\n}\n```\n","slug":"æ¬§æ‹‰ç­›","published":1,"updated":"2024-10-07T02:43:45.951Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpth003wc0nfcmsnhwd3","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"æ¬§æ‹‰ç­›\">æ¬§æ‹‰ç­›</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E4%BC%A0%E7%BB%9F%E6%89%BE%E8%B4%A8%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95%E4%BC%98%E5%8C%96%E7%AD%9B%E9%80%89%E6%AC%A1%E6%95%B0\">1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰</a></li>\n<li><a href=\"#2-%E6%AC%A7%E6%8B%89%E7%AD%9B\">2. æ¬§æ‹‰ç­›</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ä¼˜åŒ–ç­›é€‰æ¬¡æ•°\">1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(num)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœè¦æ‰¾ä» $[1,1e6]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜</li>\n</ul>\n<h2><span id=\"2-æ¬§æ‹‰ç­›\">2. æ¬§æ‹‰ç­›</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png\" alt=\"image-20230720102317937\"></p>\n<ul>\n<li>ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼ˆå› ä¸ºé™¤äº† $1$ å’Œè‡ªèº«ä»¥å¤–ï¼Œä¸€å®šèƒ½è¢« $2$ æ•´é™¤ï¼‰ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°Â·Â·Â·</li>\n<li>æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„ $j&#x3D;iÃ—i$ æ”¹ä¸º $j&#x3D;i+i$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// ä¸‹æ ‡ä¸ºiæ—¶,è®°å½•1~iå‡ºç°çš„æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> vis[N]; <span class=\"comment\">// æ˜¯å¦å·²ç»è®¿é—®è¿‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// ç”¨äºå­˜æ”¾ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idxæ˜¯å­˜æ”¾ç´ æ•°çš„éå†å› å­</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœvis[i]ä¸ºfalseæ‰éœ€è¦éå†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!vis[i])&#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]<span class=\"number\">+1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// æ˜¯ç´ æ•°,å­˜èµ·æ¥</span></span><br><span class=\"line\">            <span class=\"comment\">// å¦‚æœå‡ºç°RuntimeError,å°†j=i+i,è¿™æ ·å°±ä¸ä¼šæ•°ç»„è¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) <span class=\"comment\">// å°†ç´ æ•°içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,åˆ™æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t\tvis[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> </span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚:è¾“å…¥1000å³æ‰“å°0~1000ä»¥å†…çš„ç´ æ•°</span></span><br><span class=\"line\">\tcin&gt;&gt;n;  </span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r; <span class=\"comment\">// å·¦å³åŒºé—´</span></span><br><span class=\"line\">\tcin&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t<span class=\"built_in\">get_primes</span>(n);</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;1~&quot;</span>&lt;&lt;n&lt;&lt;<span class=\"string\">&quot;ä¹‹é—´çš„ç´ æ•°åˆ†åˆ«æ˜¯:&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=idx;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=idx)</span><br><span class=\"line\">\t\t\tcout&lt;&lt;<span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;l&lt;&lt;<span class=\"string\">&quot;~&quot;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot;æ‰€å‡ºç°çš„ç´ æ•°ä¸ªæ•°ä¸º:&quot;</span>&lt;&lt;f[r]-f[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æœ€ç®€å•çš„æ¨¡æ¿</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e4</span><span class=\"number\">+5</span>; <span class=\"comment\">// æ³¨æ„è¿™é‡Œæ²¡æœ‰å¼€åˆ°2^9,åªè¦æ¯”sqrt(2^9)å¤§å³å¯</span></span><br><span class=\"line\"><span class=\"type\">int</span> primes[N],cnt;</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"><span class=\"type\">int</span> ans[N],len;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çº¿æ€§ç­›æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) primes[cnt++]=i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;primes[j]*i&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\tst[primes[j]*i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(i%primes[j]==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸ºä»€ä¹ˆç‰¹åˆ¤x&gt;=Nçš„æƒ…å†µ?å› ä¸ºä¸ºäº†èŠ‚çœå†…å­˜æˆ–è€…æ²¡å¿…è¦,æœ¬é¢˜ä¸­åªè¦ä¿è¯MAXNæ¯”sqrt(ç†è®ºæœ€å¤§å€¼)å¤§å³å¯</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">is_prime</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x&lt;N) <span class=\"keyword\">return</span> !st[x];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;primes[i]&lt;=x/primes[i];i++)</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x%primes[i]==<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"æ¬§æ‹‰ç­›\"><a href=\"#æ¬§æ‹‰ç­›\" class=\"headerlink\" title=\"æ¬§æ‹‰ç­›\"></a>æ¬§æ‹‰ç­›</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E4%BC%A0%E7%BB%9F%E6%89%BE%E8%B4%A8%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95%E4%BC%98%E5%8C%96%E7%AD%9B%E9%80%89%E6%AC%A1%E6%95%B0\">1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰</a></li>\n<li><a href=\"#2-%E6%AC%A7%E6%8B%89%E7%AD%9B\">2. æ¬§æ‹‰ç­›</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰\"><a href=\"#1-ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰\" class=\"headerlink\" title=\"1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰\"></a>1. ä¼ ç»Ÿæ‰¾è´¨æ•°çš„æ–¹æ³•ï¼ˆä¼˜åŒ–ç­›é€‰æ¬¡æ•°ï¼‰</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(num)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœè¦æ‰¾ä» $[1,1e6]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜</li>\n</ul>\n<h2 id=\"2-æ¬§æ‹‰ç­›\"><a href=\"#2-æ¬§æ‹‰ç­›\" class=\"headerlink\" title=\"2. æ¬§æ‹‰ç­›\"></a>2. æ¬§æ‹‰ç­›</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png\" alt=\"image-20230720102317937\"></p>\n<ul>\n<li>ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼ˆå› ä¸ºé™¤äº† $1$ å’Œè‡ªèº«ä»¥å¤–ï¼Œä¸€å®šèƒ½è¢« $2$ æ•´é™¤ï¼‰ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°Â·Â·Â·</li>\n<li>æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„ $j&#x3D;iÃ—i$ æ”¹ä¸º $j&#x3D;i+i$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// ä¸‹æ ‡ä¸ºiæ—¶,è®°å½•1~iå‡ºç°çš„æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> vis[N]; <span class=\"comment\">// æ˜¯å¦å·²ç»è®¿é—®è¿‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// ç”¨äºå­˜æ”¾ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idxæ˜¯å­˜æ”¾ç´ æ•°çš„éå†å› å­</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœvis[i]ä¸ºfalseæ‰éœ€è¦éå†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!vis[i])&#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]<span class=\"number\">+1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// æ˜¯ç´ æ•°,å­˜èµ·æ¥</span></span><br><span class=\"line\">            <span class=\"comment\">// å¦‚æœå‡ºç°RuntimeError,å°†j=i+i,è¿™æ ·å°±ä¸ä¼šæ•°ç»„è¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) <span class=\"comment\">// å°†ç´ æ•°içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,åˆ™æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t\tvis[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> </span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚:è¾“å…¥1000å³æ‰“å°0~1000ä»¥å†…çš„ç´ æ•°</span></span><br><span class=\"line\">\tcin&gt;&gt;n;  </span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r; <span class=\"comment\">// å·¦å³åŒºé—´</span></span><br><span class=\"line\">\tcin&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t<span class=\"built_in\">get_primes</span>(n);</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;1~&quot;</span>&lt;&lt;n&lt;&lt;<span class=\"string\">&quot;ä¹‹é—´çš„ç´ æ•°åˆ†åˆ«æ˜¯:&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=idx;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=idx)</span><br><span class=\"line\">\t\t\tcout&lt;&lt;<span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;l&lt;&lt;<span class=\"string\">&quot;~&quot;</span>&lt;&lt;r&lt;&lt;<span class=\"string\">&quot;æ‰€å‡ºç°çš„ç´ æ•°ä¸ªæ•°ä¸º:&quot;</span>&lt;&lt;f[r]-f[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æœ€ç®€å•çš„æ¨¡æ¿</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5e4</span><span class=\"number\">+5</span>; <span class=\"comment\">// æ³¨æ„è¿™é‡Œæ²¡æœ‰å¼€åˆ°2^9,åªè¦æ¯”sqrt(2^9)å¤§å³å¯</span></span><br><span class=\"line\"><span class=\"type\">int</span> primes[N],cnt;</span><br><span class=\"line\"><span class=\"type\">bool</span> st[N];</span><br><span class=\"line\"><span class=\"type\">int</span> ans[N],len;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çº¿æ€§ç­›æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) primes[cnt++]=i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;primes[j]*i&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\tst[primes[j]*i]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(i%primes[j]==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¸ºä»€ä¹ˆç‰¹åˆ¤x&gt;=Nçš„æƒ…å†µ?å› ä¸ºä¸ºäº†èŠ‚çœå†…å­˜æˆ–è€…æ²¡å¿…è¦,æœ¬é¢˜ä¸­åªè¦ä¿è¯MAXNæ¯”sqrt(ç†è®ºæœ€å¤§å€¼)å¤§å³å¯</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">is_prime</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x&lt;N) <span class=\"keyword\">return</span> !st[x];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;primes[i]&lt;=x/primes[i];i++)</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x%primes[i]==<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æ·±åº¦ä¼˜å…ˆæœç´¢","date":"2024-10-04T13:02:12.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ·±åº¦ä¼˜å…ˆæœç´¢\n\n<!-- toc -->\n\n\n\n> æ¨èè§†é¢‘ï¼š[B03 æ·±æœ (DFS) ç®—æ³•_bilibili](https://www.bilibili.com/video/BV1uS4y1i7j5/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 1. DFSæ¨¡æ¿\n\n* æ·±æœæ˜¯é€šè¿‡ç³»ç»Ÿæ ˆå®ç°çš„\n* é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç³»ç»Ÿè‡ªåŠ¨é€šè¿‡æ ˆå»ç»´æŠ¤å‡½æ•°çš„çŠ¶æ€ç©ºé—´\n* ç³»ç»Ÿæ ˆè®°å½•å‡½æ•°è¿”å›åœ°å€ã€å±€éƒ¨å˜é‡ã€å‚æ•°ä¼ é€’ç­‰\n* å‘ä¸‹èµ°ï¼Œæ˜¯å‹æ ˆçš„è¿‡ç¨‹ï¼›å‘ä¸Šèµ°ï¼Œæ˜¯å‡ºæ ˆçš„è¿‡ç¨‹\n\n![image-20240322200028226](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322200028226.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nvector<int> e[N]; // å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹å¯è¾¾èŠ‚ç‚¹çš„ç¼–å·\n\n// u:å½“å‰èŠ‚ç‚¹,fa:çˆ¶èŠ‚ç‚¹,å­˜å‚¨çˆ¶èŠ‚ç‚¹æ˜¯ä¸ºäº†é¿å…å¾€å›èµ°\nvoid dfs(int u,int fa) {\n\tcout<<u<<' '; // è¾“å‡ºå½“å‰ç‚¹çš„ç¼–å·,dfséå†é¡ºåº\n\t// å¯¹äºèŠ‚ç‚¹uçš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹\n\tfor(auto v:e[u]) {\n\t\tif(v==fa) continue; // é¿å…å¾€å›èµ°,å› ä¸ºæ˜¯æœ‰å‘è¾¹\n\t\tdfs(v,u); // å¾€ä¸‹èµ°\n\t}\n}\n\nint n,m; // èŠ‚ç‚¹æ•°å’Œè¾¹æ•°\nint a,b; // èµ·ç‚¹å’Œç»ˆç‚¹\n\n/*\n  8 7\n  3 6\n  8 6\n  2 5\n  5 6\n  1 5\n  5 7\n  1 4\n*/\n\nint main() {\n\tcin>>n>>m;\t\n\tfor(int i=1;i<=m;i++) {\n\t\tcin>>a>>b;\n\t\t// åŒå‘è¾¹\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tdfs(1,0); // ä»æ ¹èŠ‚ç‚¹1å¼€å§‹èµ°,é»˜è®¤0æ˜¯è‡³é«˜èŠ‚ç‚¹\n\treturn 0;\n}\n```\n\n\n\n## 2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\n\n### 2.1. å¤šå‰æ ‘\n\n* 1ï¼šå…¥ï¼Œ2ï¼šä¸‹ï¼Œ3ï¼šå›ï¼Œ4ï¼šç¦»\n* æ·±æœçš„è®¡ç®—è¿‡ç¨‹ï¼š\n  1. è‡ªé¡¶å‘ä¸‹ï¼Œç”±çˆ¶èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—å­èŠ‚ç‚¹ä¿¡æ¯ï¼Œå…¥å’Œä¸‹ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå…¥ä»£è¡¨çˆ¶èŠ‚ç‚¹1å‘å­èŠ‚ç‚¹5ä¼ é€’ï¼Œä¸‹ä»£è¡¨çˆ¶èŠ‚ç‚¹5å‘å­èŠ‚ç‚¹2ã€6ã€7ä¼ é€’\n  2. è‡ªåº•å‘ä¸Šï¼Œç”±å­èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œå›å’Œç¦»ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå›ä»£è¡¨å­èŠ‚ç‚¹2ã€6ã€7å‘çˆ¶èŠ‚ç‚¹5ä¼ é€’ï¼Œç¦»ä»£è¡¨å­èŠ‚ç‚¹5å‘çˆ¶èŠ‚ç‚¹1ä¼ é€’\n\n![image-20240322203537204](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322203537204.png)\n\n* å¦‚ä½•ç†è§£ï¼Ÿå…¥æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°è¯¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡ºç¼–å·å³å¯ï¼›ä¸‹æ˜¯åœ¨éå†å„¿å­èŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼Œç”±è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸‹è®¿é—®å…¶ä¸‹çš„å„¿å­èŠ‚ç‚¹ï¼Œéšåå¯¹å„¿å­èŠ‚ç‚¹é€’å½’åˆ°ä¸‹ä¸€å±‚dfs(v,u)ï¼ˆæ­¤æ—¶uä½œä¸ºvçš„çˆ¶èŠ‚ç‚¹å‘ä¸‹ä¼ é€’ï¼‰ï¼Œå½“å‡½æ•°è‡ªç„¶ç»“æŸæ—¶ï¼Œåº”è¯¥å›æº¯ï¼Œæ‰€ä»¥æœ‰å›ï¼Œå›æ˜¯è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸Šè®¿é—®å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¾“å‡ºç¼–å·ï¼›å¾ªç¯ç»“æŸååœ¨èŠ‚ç‚¹uä¸Šçš„å‡½æ•°åº”è¯¥è‡ªç„¶ç»“æŸäº†ï¼Œæ‰€ä»¥ç¦»å¼€èŠ‚ç‚¹uï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä¼šå›æº¯åˆ°5çš„çˆ¶èŠ‚ç‚¹\n\n```c\n// å¤šå‰æ ‘\nvoid dfs2(int u, int fa) {\n\tprintf(\"å…¥%d\\n\", u);\n\t// ä¸‹å’Œå›æœ‰å¤šæ¬¡\n\tfor (auto v : e[u]) {\n\t\tif (v == fa) continue;\n\t\tprintf(\"ä¸‹%d->%d\\n\", u, v); // ä¸‹\n\t\tdfs2(v, u);\n\t\tprintf(\"å›%d<-%d\\n\", u, v); // å›\n\t}\n\tprintf(\"ç¦»%d\\n\", u);\n}\n```\n\n\n\n### 2.2. äºŒå‰æ ‘\n\n* 1ï¼šå…ˆï¼Œ2ï¼šä¸­ï¼Œ3ï¼šå\n* åœ¨çº¿æ®µæ ‘å°±ç”¨åˆ°äº†ç±»ä¼¼çš„æ€æƒ³ï¼Œå…¶ä¸­å…ˆå°±å¯¹åº”çš„çˆ¶èŠ‚ç‚¹å°†æ‡’æ ‡è®°ä¸‹ä¼ åˆ°å„¿å­èŠ‚ç‚¹çš„pushdownå‡½æ•°ï¼Œè€Œéå†å®Œä¸¤ä¸ªå„¿å­è¿‡åçš„â€œåâ€å°±ç±»ä¼¼äºçº¿æ®µæ ‘ä¸­å„¿å­èŠ‚ç‚¹ä¸Šä¼ æ›´æ–°çˆ¶èŠ‚ç‚¹æ‡’æ ‡è®°çš„pushupå‡½æ•°\n\n![image-20240322205838629](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322205838629.png)\n\n``` c\n// äºŒå‰æ ‘\nvoid dfs3(int u) {\n\tprintf(\"å…ˆ%d\\n\",u);\n\tdfs3(2*u); // è®¿é—®å·¦å­©å­\n\tprintf(\"ä¸­%d\\n\",u);\n\tdfs3(2*u+1); // è®¿é—®å³å­©å­\n\tprintf(\"å%d\\n\",u);\n}\n```\n\n\n\n### 2.3. ä¸€æ¡é“¾\n\n* 1ï¼šå…¥ï¼Œ2ï¼šç¦»\n\n![image-20240322210326282](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210326282.png)\n\n``` c\nint ne[N]; // æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç¼–å·(ç±»ä¼¼é“¾è¡¨)\n// ä¸€æ¡é“¾\nvoid dfs4(int u) {\n\tprintf(\"å…¥%d\\n\",u);\n\tdfs4(ne[u]); // ä¸‹ä¸€ä¸ªç›¸è¿çš„èŠ‚ç‚¹ç¼–å·\n\tprintf(\"ç¦»%d\\n\",u);\n}\n```\n\n\n\n### 2.4. å›¾\n\n* å¯¹å›¾æ·±æœä¼šå½¢æˆDFSæ ‘ï¼Œå› ä¸ºå›¾å¯èƒ½å¸¦ç¯ï¼Œæ‰€ä»¥éœ€è¦å¼€çŠ¶æ€æ•°ç»„å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ï¼Œå½“è®¿é—®çŠ¶æ€ä¸ºtrueæ—¶è¿™æ¡è¾¹å°±æ²¡å¿…è¦èµ°äº†ï¼Œæ‰€ä»¥ç¯ä¸­çš„æŸäº›è¾¹åœ¨dfsçš„è¿‡ç¨‹ä¸­ä¼šè¢«å»æ‰ï¼Œæœ€ç»ˆå½¢æˆDFSæ ‘\n\n![image-20240322210753384](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210753384.png)\n\n![image-20240322210804032](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210804032.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint n,m,a,b;\nint vis[N];\nvector<int> e[N];\n\nvoid dfs(int u) {\n\t// å…¥\n\tvis[u]=true; // å½“å‰èŠ‚ç‚¹è¢«è®¿é—®è¿‡\n\tfor(auto v:e[u]) {\n\t\t// ä¸‹\n\t\tif(vis[v]) continue; // å¦‚æœéå†è¿‡äº†å°±è·³è¿‡\n\t\tprintf(\"%dâ†’%d\\n\",u,v);\n\t\tdfs(v);\n\t\t// å›\n\t}\n\t// ç¦»\n}\n\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++) {\n\t\tcin>>a>>b;\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tdfs(1);\n\treturn 0;\n}\n```\n\n\n\n## 3. ä¾‹é¢˜\n\n### 3.1. æ´›è°· P1605 è¿·å®«\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1605 è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1605)\n\n![image-20240323154212768](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240323154212768.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=5+2;\n// åç§»é‡\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\n\nint n,m,t; // åœ°å›¾è¡Œæ•°åˆ—æ•°,éšœç¢æ•°\nint sx,sy,fx,fy,x,y; // èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡ä»¥åŠéšœç¢åæ ‡\nint g[N][N]; // åœ°å›¾æœ€å¤§ä¸º5Ã—5,O(2^25)å®é™…ä¼šå°å¾ˆå¤š\nint ans;\n\n// å½“å‰æ‰€åœ¨ä½ç½®(x,y)\nvoid dfs(int x,int y) {\n\t// 1)è¾¹ç•Œæ¡ä»¶\n\tif(x==fx && y==fy) {\n\t\tans++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢\n\tfor(int i=1;i<=4;i++) {\n\t\tint xx=x+dx[i];\n\t\tint yy=y+dy[i];\n\t\t// 3)çº¦æŸæ¡ä»¶\n\t\tif(xx<1 || yy<1 || xx>n || yy>m) continue; // è¶Šç•Œå¤„ç†\n\t\tif(g[xx][yy]==1) continue; // æœ‰éšœç¢æˆ–è€…è®¿é—®è¿‡äº†\n\t\t// èƒ½èµ°,å æ®æ–¹æ¡ˆ,é€’å½’åˆ°ä¸‹ä¸€å±‚\n\t\tg[xx][yy]=1;\n\t\tdfs(xx,yy);\n\t\tg[xx][yy]=0; // 4)å›æº¯,æ‰¾æ‰€æœ‰æ–¹æ¡ˆ\n\t}\n}\n\nint main() {\n\tcin>>n>>m>>t;\n\tcin>>sx>>sy>>fx>>fy;\n\twhile(t--) {\n\t\tcin>>x>>y;\n\t\tg[x][y]=1; // å›æº¯æ—¶ä¸ä¼šå»æ‰æ ‡è®°\n\t}\n\t// èµ·ç‚¹æ‰“æ ‡è®°\n\tg[sx][sy]=1; // æå‰æ‰“ä¸Šçš„æ ‡è®°å›æº¯æ—¶ä¸ä¼šå»æ‰,åªæœ‰dfsä¸­çš„ä¼šå»æ‰\n\tdfs(sx,sy);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1644 è·³é©¬é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1644)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: é©¬èµ°æ—¥,åŸæœ¬8ä¸ªæ–¹å‘,ä½†æ˜¯åªèƒ½å¾€å³èµ°,æ‰€ä»¥dyå¿…é¡»>0\n\nconst int N=18+5;\nconst int dx[]={0,1,2,-1,-2};\nconst int dy[]={0,2,1,2,1};\nint n,m; // ç»ˆç‚¹\nbool st[N][N];\nint cnt;\n\nvoid dfs(int x,int y) {\n\t// 1)è¾¹ç•Œæ¡ä»¶,åˆ°è¾¾ç»ˆç‚¹\n\tif(x==n && y==m) {\n\t\tcnt++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢\n\tfor(int i=1;i<=4;i++) {\n\t\tint xx=x+dx[i];\n\t\tint yy=y+dy[i];\n\t\t// 3)çº¦æŸæ¡ä»¶\n\t\t// è¶Šç•Œå¤„ç†\n\t\tif(xx<0 || yy<0 || xx>n || yy>m) continue;\n\t\t// æ³¨æ„æœ¬é¢˜é™åˆ¶äº†æ–¹å‘åªèƒ½å¾€å³èµ°,æ‰€ä»¥ä¸å­˜åœ¨å¾€å›èµ°çš„æƒ…å†µ\n\t\t// ä¸éœ€è¦çŠ¶æ€æ•°ç»„\n\t\tdfs(xx,yy);\n\t}\n}\n\nint main() {\n\tcin>>n>>m; // æ³¨æ„å³ä¸Šè§’æ˜¯(m,n),å³è¡Œæ˜¯n,åˆ—æ˜¯m\n\tdfs(0,0);\n\tcout<<cnt<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 3.3. æ´›è°· P1219 å…«çš‡å\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1219 USACO1.5 å…«çš‡å Checker Challenge - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1219)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=13+5; // æ£‹ç›˜æœ€å¤§èŒƒå›´\nint n; // æ£‹ç›˜å¤§å°\nint x[N]; // x[i]:ç¬¬iä¸ªçš‡å(ç¬¬iè¡Œä¸Šçš„çš‡å)æ‰€åœ¨çš„åˆ—æ•°\n//int g[N][N]; // åœ°å›¾,ä¸éœ€è¦åœ°å›¾å—·\nint cnt;\n\n// çœ‹ç¬¬uä¸ªçš‡åæ˜¯å¦èƒ½æ”¾,ä¸å‰u-1ä¸ªçš‡åä½œæ¯”è¾ƒ\nbool place(int u) {\n\tfor(int i=1;i<=u-1;i++) {\n\t\t// å‰ªæå‡½æ•°,è‹¥ä¸åœ¨åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿\n\t\tif(x[u]==x[i] || abs(u-i)==abs(x[u]-x[i])) {\n\t\t\treturn false; // ä¸èƒ½æ”¾\n\t\t}\n\t}\n\treturn true; // èƒ½æ”¾\n}\n\nint idx;\n\n// å½“å‰åœ¨æ”¾ç¬¬uä¸ªçš‡å\nvoid dfs(int u) {\n\t// 1)è¾¹ç•Œæ¡ä»¶\n\tif(u>n) {\n\t\t// çš‡åæ”¾å®Œäº†,æ‰¾åˆ°å¯è¡Œè§£äº†,ç›´æ¥è¾“å‡º\n\t\t// åªè¾“å‡ºå‰3ä¸ª\n\t\tif(++idx<=3) {\n\t\t\tfor(int i=1;i<=n;i++) {\n\t\t\t\tcout<<x[i]<<' ';\n\t\t\t}\n\t\t\tcout<<endl;\n\t\t}\t\n\t\tcnt++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢,éå†æ‰€æœ‰å¯æ”¾çš„åˆ—\n\tfor(int i=1;i<=n;i++) {\n\t\t// 3)å¦‚æœèƒ½å’Œå‰u-1è¡Œçš„çš‡åä¸å†²çª,åˆ™å æ®,å‘ä¸‹é€’å½’\n\t\tx[u]=i;\n\t\tif(place(u)) dfs(u+1);\n\t\tx[u]=0; // 4)é‡Šæ”¾,çŠ¶æ€å¤åŸ \n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(1); // ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹æ”¾\n\tcout<<cnt<<endl;\n\treturn 0;\n}\n```\n","source":"_posts/æ·±åº¦ä¼˜å…ˆæœç´¢.md","raw":"---\ntitle: æ·±åº¦ä¼˜å…ˆæœç´¢\ndate: 2024-10-04 21:02:12\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æœç´¢\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# æ·±åº¦ä¼˜å…ˆæœç´¢\n\n<!-- toc -->\n\n\n\n> æ¨èè§†é¢‘ï¼š[B03 æ·±æœ (DFS) ç®—æ³•_bilibili](https://www.bilibili.com/video/BV1uS4y1i7j5/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1)\n\n## 1. DFSæ¨¡æ¿\n\n* æ·±æœæ˜¯é€šè¿‡ç³»ç»Ÿæ ˆå®ç°çš„\n* é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç³»ç»Ÿè‡ªåŠ¨é€šè¿‡æ ˆå»ç»´æŠ¤å‡½æ•°çš„çŠ¶æ€ç©ºé—´\n* ç³»ç»Ÿæ ˆè®°å½•å‡½æ•°è¿”å›åœ°å€ã€å±€éƒ¨å˜é‡ã€å‚æ•°ä¼ é€’ç­‰\n* å‘ä¸‹èµ°ï¼Œæ˜¯å‹æ ˆçš„è¿‡ç¨‹ï¼›å‘ä¸Šèµ°ï¼Œæ˜¯å‡ºæ ˆçš„è¿‡ç¨‹\n\n![image-20240322200028226](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322200028226.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nvector<int> e[N]; // å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹å¯è¾¾èŠ‚ç‚¹çš„ç¼–å·\n\n// u:å½“å‰èŠ‚ç‚¹,fa:çˆ¶èŠ‚ç‚¹,å­˜å‚¨çˆ¶èŠ‚ç‚¹æ˜¯ä¸ºäº†é¿å…å¾€å›èµ°\nvoid dfs(int u,int fa) {\n\tcout<<u<<' '; // è¾“å‡ºå½“å‰ç‚¹çš„ç¼–å·,dfséå†é¡ºåº\n\t// å¯¹äºèŠ‚ç‚¹uçš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹\n\tfor(auto v:e[u]) {\n\t\tif(v==fa) continue; // é¿å…å¾€å›èµ°,å› ä¸ºæ˜¯æœ‰å‘è¾¹\n\t\tdfs(v,u); // å¾€ä¸‹èµ°\n\t}\n}\n\nint n,m; // èŠ‚ç‚¹æ•°å’Œè¾¹æ•°\nint a,b; // èµ·ç‚¹å’Œç»ˆç‚¹\n\n/*\n  8 7\n  3 6\n  8 6\n  2 5\n  5 6\n  1 5\n  5 7\n  1 4\n*/\n\nint main() {\n\tcin>>n>>m;\t\n\tfor(int i=1;i<=m;i++) {\n\t\tcin>>a>>b;\n\t\t// åŒå‘è¾¹\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tdfs(1,0); // ä»æ ¹èŠ‚ç‚¹1å¼€å§‹èµ°,é»˜è®¤0æ˜¯è‡³é«˜èŠ‚ç‚¹\n\treturn 0;\n}\n```\n\n\n\n## 2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\n\n### 2.1. å¤šå‰æ ‘\n\n* 1ï¼šå…¥ï¼Œ2ï¼šä¸‹ï¼Œ3ï¼šå›ï¼Œ4ï¼šç¦»\n* æ·±æœçš„è®¡ç®—è¿‡ç¨‹ï¼š\n  1. è‡ªé¡¶å‘ä¸‹ï¼Œç”±çˆ¶èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—å­èŠ‚ç‚¹ä¿¡æ¯ï¼Œå…¥å’Œä¸‹ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå…¥ä»£è¡¨çˆ¶èŠ‚ç‚¹1å‘å­èŠ‚ç‚¹5ä¼ é€’ï¼Œä¸‹ä»£è¡¨çˆ¶èŠ‚ç‚¹5å‘å­èŠ‚ç‚¹2ã€6ã€7ä¼ é€’\n  2. è‡ªåº•å‘ä¸Šï¼Œç”±å­èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œå›å’Œç¦»ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå›ä»£è¡¨å­èŠ‚ç‚¹2ã€6ã€7å‘çˆ¶èŠ‚ç‚¹5ä¼ é€’ï¼Œç¦»ä»£è¡¨å­èŠ‚ç‚¹5å‘çˆ¶èŠ‚ç‚¹1ä¼ é€’\n\n![image-20240322203537204](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322203537204.png)\n\n* å¦‚ä½•ç†è§£ï¼Ÿå…¥æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°è¯¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡ºç¼–å·å³å¯ï¼›ä¸‹æ˜¯åœ¨éå†å„¿å­èŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼Œç”±è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸‹è®¿é—®å…¶ä¸‹çš„å„¿å­èŠ‚ç‚¹ï¼Œéšåå¯¹å„¿å­èŠ‚ç‚¹é€’å½’åˆ°ä¸‹ä¸€å±‚dfs(v,u)ï¼ˆæ­¤æ—¶uä½œä¸ºvçš„çˆ¶èŠ‚ç‚¹å‘ä¸‹ä¼ é€’ï¼‰ï¼Œå½“å‡½æ•°è‡ªç„¶ç»“æŸæ—¶ï¼Œåº”è¯¥å›æº¯ï¼Œæ‰€ä»¥æœ‰å›ï¼Œå›æ˜¯è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸Šè®¿é—®å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¾“å‡ºç¼–å·ï¼›å¾ªç¯ç»“æŸååœ¨èŠ‚ç‚¹uä¸Šçš„å‡½æ•°åº”è¯¥è‡ªç„¶ç»“æŸäº†ï¼Œæ‰€ä»¥ç¦»å¼€èŠ‚ç‚¹uï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä¼šå›æº¯åˆ°5çš„çˆ¶èŠ‚ç‚¹\n\n```c\n// å¤šå‰æ ‘\nvoid dfs2(int u, int fa) {\n\tprintf(\"å…¥%d\\n\", u);\n\t// ä¸‹å’Œå›æœ‰å¤šæ¬¡\n\tfor (auto v : e[u]) {\n\t\tif (v == fa) continue;\n\t\tprintf(\"ä¸‹%d->%d\\n\", u, v); // ä¸‹\n\t\tdfs2(v, u);\n\t\tprintf(\"å›%d<-%d\\n\", u, v); // å›\n\t}\n\tprintf(\"ç¦»%d\\n\", u);\n}\n```\n\n\n\n### 2.2. äºŒå‰æ ‘\n\n* 1ï¼šå…ˆï¼Œ2ï¼šä¸­ï¼Œ3ï¼šå\n* åœ¨çº¿æ®µæ ‘å°±ç”¨åˆ°äº†ç±»ä¼¼çš„æ€æƒ³ï¼Œå…¶ä¸­å…ˆå°±å¯¹åº”çš„çˆ¶èŠ‚ç‚¹å°†æ‡’æ ‡è®°ä¸‹ä¼ åˆ°å„¿å­èŠ‚ç‚¹çš„pushdownå‡½æ•°ï¼Œè€Œéå†å®Œä¸¤ä¸ªå„¿å­è¿‡åçš„â€œåâ€å°±ç±»ä¼¼äºçº¿æ®µæ ‘ä¸­å„¿å­èŠ‚ç‚¹ä¸Šä¼ æ›´æ–°çˆ¶èŠ‚ç‚¹æ‡’æ ‡è®°çš„pushupå‡½æ•°\n\n![image-20240322205838629](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322205838629.png)\n\n``` c\n// äºŒå‰æ ‘\nvoid dfs3(int u) {\n\tprintf(\"å…ˆ%d\\n\",u);\n\tdfs3(2*u); // è®¿é—®å·¦å­©å­\n\tprintf(\"ä¸­%d\\n\",u);\n\tdfs3(2*u+1); // è®¿é—®å³å­©å­\n\tprintf(\"å%d\\n\",u);\n}\n```\n\n\n\n### 2.3. ä¸€æ¡é“¾\n\n* 1ï¼šå…¥ï¼Œ2ï¼šç¦»\n\n![image-20240322210326282](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210326282.png)\n\n``` c\nint ne[N]; // æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç¼–å·(ç±»ä¼¼é“¾è¡¨)\n// ä¸€æ¡é“¾\nvoid dfs4(int u) {\n\tprintf(\"å…¥%d\\n\",u);\n\tdfs4(ne[u]); // ä¸‹ä¸€ä¸ªç›¸è¿çš„èŠ‚ç‚¹ç¼–å·\n\tprintf(\"ç¦»%d\\n\",u);\n}\n```\n\n\n\n### 2.4. å›¾\n\n* å¯¹å›¾æ·±æœä¼šå½¢æˆDFSæ ‘ï¼Œå› ä¸ºå›¾å¯èƒ½å¸¦ç¯ï¼Œæ‰€ä»¥éœ€è¦å¼€çŠ¶æ€æ•°ç»„å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ï¼Œå½“è®¿é—®çŠ¶æ€ä¸ºtrueæ—¶è¿™æ¡è¾¹å°±æ²¡å¿…è¦èµ°äº†ï¼Œæ‰€ä»¥ç¯ä¸­çš„æŸäº›è¾¹åœ¨dfsçš„è¿‡ç¨‹ä¸­ä¼šè¢«å»æ‰ï¼Œæœ€ç»ˆå½¢æˆDFSæ ‘\n\n![image-20240322210753384](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210753384.png)\n\n![image-20240322210804032](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210804032.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\nint n,m,a,b;\nint vis[N];\nvector<int> e[N];\n\nvoid dfs(int u) {\n\t// å…¥\n\tvis[u]=true; // å½“å‰èŠ‚ç‚¹è¢«è®¿é—®è¿‡\n\tfor(auto v:e[u]) {\n\t\t// ä¸‹\n\t\tif(vis[v]) continue; // å¦‚æœéå†è¿‡äº†å°±è·³è¿‡\n\t\tprintf(\"%dâ†’%d\\n\",u,v);\n\t\tdfs(v);\n\t\t// å›\n\t}\n\t// ç¦»\n}\n\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++) {\n\t\tcin>>a>>b;\n\t\te[a].push_back(b);\n\t\te[b].push_back(a);\n\t}\n\tdfs(1);\n\treturn 0;\n}\n```\n\n\n\n## 3. ä¾‹é¢˜\n\n### 3.1. æ´›è°· P1605 è¿·å®«\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1605 è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1605)\n\n![image-20240323154212768](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240323154212768.png)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=5+2;\n// åç§»é‡\nconst int dx[]={0,1,-1,0,0};\nconst int dy[]={0,0,0,1,-1};\n\nint n,m,t; // åœ°å›¾è¡Œæ•°åˆ—æ•°,éšœç¢æ•°\nint sx,sy,fx,fy,x,y; // èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡ä»¥åŠéšœç¢åæ ‡\nint g[N][N]; // åœ°å›¾æœ€å¤§ä¸º5Ã—5,O(2^25)å®é™…ä¼šå°å¾ˆå¤š\nint ans;\n\n// å½“å‰æ‰€åœ¨ä½ç½®(x,y)\nvoid dfs(int x,int y) {\n\t// 1)è¾¹ç•Œæ¡ä»¶\n\tif(x==fx && y==fy) {\n\t\tans++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢\n\tfor(int i=1;i<=4;i++) {\n\t\tint xx=x+dx[i];\n\t\tint yy=y+dy[i];\n\t\t// 3)çº¦æŸæ¡ä»¶\n\t\tif(xx<1 || yy<1 || xx>n || yy>m) continue; // è¶Šç•Œå¤„ç†\n\t\tif(g[xx][yy]==1) continue; // æœ‰éšœç¢æˆ–è€…è®¿é—®è¿‡äº†\n\t\t// èƒ½èµ°,å æ®æ–¹æ¡ˆ,é€’å½’åˆ°ä¸‹ä¸€å±‚\n\t\tg[xx][yy]=1;\n\t\tdfs(xx,yy);\n\t\tg[xx][yy]=0; // 4)å›æº¯,æ‰¾æ‰€æœ‰æ–¹æ¡ˆ\n\t}\n}\n\nint main() {\n\tcin>>n>>m>>t;\n\tcin>>sx>>sy>>fx>>fy;\n\twhile(t--) {\n\t\tcin>>x>>y;\n\t\tg[x][y]=1; // å›æº¯æ—¶ä¸ä¼šå»æ‰æ ‡è®°\n\t}\n\t// èµ·ç‚¹æ‰“æ ‡è®°\n\tg[sx][sy]=1; // æå‰æ‰“ä¸Šçš„æ ‡è®°å›æº¯æ—¶ä¸ä¼šå»æ‰,åªæœ‰dfsä¸­çš„ä¼šå»æ‰\n\tdfs(sx,sy);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1644 è·³é©¬é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1644)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: é©¬èµ°æ—¥,åŸæœ¬8ä¸ªæ–¹å‘,ä½†æ˜¯åªèƒ½å¾€å³èµ°,æ‰€ä»¥dyå¿…é¡»>0\n\nconst int N=18+5;\nconst int dx[]={0,1,2,-1,-2};\nconst int dy[]={0,2,1,2,1};\nint n,m; // ç»ˆç‚¹\nbool st[N][N];\nint cnt;\n\nvoid dfs(int x,int y) {\n\t// 1)è¾¹ç•Œæ¡ä»¶,åˆ°è¾¾ç»ˆç‚¹\n\tif(x==n && y==m) {\n\t\tcnt++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢\n\tfor(int i=1;i<=4;i++) {\n\t\tint xx=x+dx[i];\n\t\tint yy=y+dy[i];\n\t\t// 3)çº¦æŸæ¡ä»¶\n\t\t// è¶Šç•Œå¤„ç†\n\t\tif(xx<0 || yy<0 || xx>n || yy>m) continue;\n\t\t// æ³¨æ„æœ¬é¢˜é™åˆ¶äº†æ–¹å‘åªèƒ½å¾€å³èµ°,æ‰€ä»¥ä¸å­˜åœ¨å¾€å›èµ°çš„æƒ…å†µ\n\t\t// ä¸éœ€è¦çŠ¶æ€æ•°ç»„\n\t\tdfs(xx,yy);\n\t}\n}\n\nint main() {\n\tcin>>n>>m; // æ³¨æ„å³ä¸Šè§’æ˜¯(m,n),å³è¡Œæ˜¯n,åˆ—æ˜¯m\n\tdfs(0,0);\n\tcout<<cnt<<endl;\n\treturn 0;\n}\n```\n\n\n\n### 3.3. æ´›è°· P1219 å…«çš‡å\n\n> é¢˜ç›®é“¾æ¥ï¼š[P1219 USACO1.5 å…«çš‡å Checker Challenge - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1219)\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=13+5; // æ£‹ç›˜æœ€å¤§èŒƒå›´\nint n; // æ£‹ç›˜å¤§å°\nint x[N]; // x[i]:ç¬¬iä¸ªçš‡å(ç¬¬iè¡Œä¸Šçš„çš‡å)æ‰€åœ¨çš„åˆ—æ•°\n//int g[N][N]; // åœ°å›¾,ä¸éœ€è¦åœ°å›¾å—·\nint cnt;\n\n// çœ‹ç¬¬uä¸ªçš‡åæ˜¯å¦èƒ½æ”¾,ä¸å‰u-1ä¸ªçš‡åä½œæ¯”è¾ƒ\nbool place(int u) {\n\tfor(int i=1;i<=u-1;i++) {\n\t\t// å‰ªæå‡½æ•°,è‹¥ä¸åœ¨åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿\n\t\tif(x[u]==x[i] || abs(u-i)==abs(x[u]-x[i])) {\n\t\t\treturn false; // ä¸èƒ½æ”¾\n\t\t}\n\t}\n\treturn true; // èƒ½æ”¾\n}\n\nint idx;\n\n// å½“å‰åœ¨æ”¾ç¬¬uä¸ªçš‡å\nvoid dfs(int u) {\n\t// 1)è¾¹ç•Œæ¡ä»¶\n\tif(u>n) {\n\t\t// çš‡åæ”¾å®Œäº†,æ‰¾åˆ°å¯è¡Œè§£äº†,ç›´æ¥è¾“å‡º\n\t\t// åªè¾“å‡ºå‰3ä¸ª\n\t\tif(++idx<=3) {\n\t\t\tfor(int i=1;i<=n;i++) {\n\t\t\t\tcout<<x[i]<<' ';\n\t\t\t}\n\t\t\tcout<<endl;\n\t\t}\t\n\t\tcnt++;\n\t\treturn;\n\t}\n\t// 2)è¯•æ¢,éå†æ‰€æœ‰å¯æ”¾çš„åˆ—\n\tfor(int i=1;i<=n;i++) {\n\t\t// 3)å¦‚æœèƒ½å’Œå‰u-1è¡Œçš„çš‡åä¸å†²çª,åˆ™å æ®,å‘ä¸‹é€’å½’\n\t\tx[u]=i;\n\t\tif(place(u)) dfs(u+1);\n\t\tx[u]=0; // 4)é‡Šæ”¾,çŠ¶æ€å¤åŸ \n\t}\n}\n\nint main() {\n\tcin>>n;\n\tdfs(1); // ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹æ”¾\n\tcout<<cnt<<endl;\n\treturn 0;\n}\n```\n","slug":"æ·±åº¦ä¼˜å…ˆæœç´¢","published":1,"updated":"2024-10-05T08:04:20.604Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpth003zc0nfd2ai5d7w","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"æ·±åº¦ä¼˜å…ˆæœç´¢\">æ·±åº¦ä¼˜å…ˆæœç´¢</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-dfs%E6%A8%A1%E6%9D%BF\">1. DFSæ¨¡æ¿</a></li>\n<li><a href=\"#2-%E8%A7%A6%E7%A2%B0%E8%8A%82%E7%82%B9%E6%97%B6%E6%9C%BA\">2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº</a><ul>\n<li><a href=\"#21-%E5%A4%9A%E5%8F%89%E6%A0%91\">2.1. å¤šå‰æ ‘</a></li>\n<li><a href=\"#22-%E4%BA%8C%E5%8F%89%E6%A0%91\">2.2. äºŒå‰æ ‘</a></li>\n<li><a href=\"#23-%E4%B8%80%E6%9D%A1%E9%93%BE\">2.3. ä¸€æ¡é“¾</a></li>\n<li><a href=\"#24-%E5%9B%BE\">2.4. å›¾</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E4%BE%8B%E9%A2%98\">3. ä¾‹é¢˜</a><ul>\n<li><a href=\"#31-%E6%B4%9B%E8%B0%B7-p1605-%E8%BF%B7%E5%AE%AB\">3.1. æ´›è°· P1605 è¿·å®«</a></li>\n<li><a href=\"#32-%E6%B4%9B%E8%B0%B7-p1644-%E8%B7%B3%E9%A9%AC%E9%97%AE%E9%A2%98\">3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜</a></li>\n<li><a href=\"#33-%E6%B4%9B%E8%B0%B7-p1219-%E5%85%AB%E7%9A%87%E5%90%8E\">3.3. æ´›è°· P1219 å…«çš‡å</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èè§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1uS4y1i7j5/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B03 æ·±æœ (DFS) ç®—æ³•_bilibili</a></p>\n</blockquote>\n<h2><span id=\"1-dfsæ¨¡æ¿\">1. DFSæ¨¡æ¿</span></h2><ul>\n<li>æ·±æœæ˜¯é€šè¿‡ç³»ç»Ÿæ ˆå®ç°çš„</li>\n<li>é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç³»ç»Ÿè‡ªåŠ¨é€šè¿‡æ ˆå»ç»´æŠ¤å‡½æ•°çš„çŠ¶æ€ç©ºé—´</li>\n<li>ç³»ç»Ÿæ ˆè®°å½•å‡½æ•°è¿”å›åœ°å€ã€å±€éƒ¨å˜é‡ã€å‚æ•°ä¼ é€’ç­‰</li>\n<li>å‘ä¸‹èµ°ï¼Œæ˜¯å‹æ ˆçš„è¿‡ç¨‹ï¼›å‘ä¸Šèµ°ï¼Œæ˜¯å‡ºæ ˆçš„è¿‡ç¨‹</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322200028226.png\" alt=\"image-20240322200028226\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹å¯è¾¾èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// u:å½“å‰èŠ‚ç‚¹,fa:çˆ¶èŠ‚ç‚¹,å­˜å‚¨çˆ¶èŠ‚ç‚¹æ˜¯ä¸ºäº†é¿å…å¾€å›èµ°</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u,<span class=\"type\">int</span> fa)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;u&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// è¾“å‡ºå½“å‰ç‚¹çš„ç¼–å·,dfséå†é¡ºåº</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºèŠ‚ç‚¹uçš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> v:e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(v==fa) <span class=\"keyword\">continue</span>; <span class=\"comment\">// é¿å…å¾€å›èµ°,å› ä¸ºæ˜¯æœ‰å‘è¾¹</span></span><br><span class=\"line\">\t\tdfs(v,u); <span class=\"comment\">// å¾€ä¸‹èµ°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// èŠ‚ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a,b; <span class=\"comment\">// èµ·ç‚¹å’Œç»ˆç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  8 7</span></span><br><span class=\"line\"><span class=\"comment\">  3 6</span></span><br><span class=\"line\"><span class=\"comment\">  8 6</span></span><br><span class=\"line\"><span class=\"comment\">  2 5</span></span><br><span class=\"line\"><span class=\"comment\">  5 6</span></span><br><span class=\"line\"><span class=\"comment\">  1 5</span></span><br><span class=\"line\"><span class=\"comment\">  5 7</span></span><br><span class=\"line\"><span class=\"comment\">  1 4</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åŒå‘è¾¹</span></span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>,<span class=\"number\">0</span>); <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹1å¼€å§‹èµ°,é»˜è®¤0æ˜¯è‡³é«˜èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\">2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº</span></h2><h3><span id=\"21-å¤šå‰æ ‘\">2.1. å¤šå‰æ ‘</span></h3><ul>\n<li>1ï¼šå…¥ï¼Œ2ï¼šä¸‹ï¼Œ3ï¼šå›ï¼Œ4ï¼šç¦»</li>\n<li>æ·±æœçš„è®¡ç®—è¿‡ç¨‹ï¼š<ol>\n<li>è‡ªé¡¶å‘ä¸‹ï¼Œç”±çˆ¶èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—å­èŠ‚ç‚¹ä¿¡æ¯ï¼Œå…¥å’Œä¸‹ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå…¥ä»£è¡¨çˆ¶èŠ‚ç‚¹1å‘å­èŠ‚ç‚¹5ä¼ é€’ï¼Œä¸‹ä»£è¡¨çˆ¶èŠ‚ç‚¹5å‘å­èŠ‚ç‚¹2ã€6ã€7ä¼ é€’</li>\n<li>è‡ªåº•å‘ä¸Šï¼Œç”±å­èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œå›å’Œç¦»ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå›ä»£è¡¨å­èŠ‚ç‚¹2ã€6ã€7å‘çˆ¶èŠ‚ç‚¹5ä¼ é€’ï¼Œç¦»ä»£è¡¨å­èŠ‚ç‚¹5å‘çˆ¶èŠ‚ç‚¹1ä¼ é€’</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322203537204.png\" alt=\"image-20240322203537204\"></p>\n<ul>\n<li>å¦‚ä½•ç†è§£ï¼Ÿå…¥æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°è¯¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡ºç¼–å·å³å¯ï¼›ä¸‹æ˜¯åœ¨éå†å„¿å­èŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼Œç”±è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸‹è®¿é—®å…¶ä¸‹çš„å„¿å­èŠ‚ç‚¹ï¼Œéšåå¯¹å„¿å­èŠ‚ç‚¹é€’å½’åˆ°ä¸‹ä¸€å±‚dfs(v,u)ï¼ˆæ­¤æ—¶uä½œä¸ºvçš„çˆ¶èŠ‚ç‚¹å‘ä¸‹ä¼ é€’ï¼‰ï¼Œå½“å‡½æ•°è‡ªç„¶ç»“æŸæ—¶ï¼Œåº”è¯¥å›æº¯ï¼Œæ‰€ä»¥æœ‰å›ï¼Œå›æ˜¯è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸Šè®¿é—®å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¾“å‡ºç¼–å·ï¼›å¾ªç¯ç»“æŸååœ¨èŠ‚ç‚¹uä¸Šçš„å‡½æ•°åº”è¯¥è‡ªç„¶ç»“æŸäº†ï¼Œæ‰€ä»¥ç¦»å¼€èŠ‚ç‚¹uï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä¼šå›æº¯åˆ°5çš„çˆ¶èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¤šå‰æ ‘</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs2</span><span class=\"params\">(<span class=\"type\">int</span> u, <span class=\"type\">int</span> fa)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…¥%d\\n&quot;</span>, u);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸‹å’Œå›æœ‰å¤šæ¬¡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> v : e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (v == fa) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ä¸‹%d-&gt;%d\\n&quot;</span>, u, v); <span class=\"comment\">// ä¸‹</span></span><br><span class=\"line\">\t\tdfs2(v, u);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å›%d&lt;-%d\\n&quot;</span>, u, v); <span class=\"comment\">// å›</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ç¦»%d\\n&quot;</span>, u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"22-äºŒå‰æ ‘\">2.2. äºŒå‰æ ‘</span></h3><ul>\n<li>1ï¼šå…ˆï¼Œ2ï¼šä¸­ï¼Œ3ï¼šå</li>\n<li>åœ¨çº¿æ®µæ ‘å°±ç”¨åˆ°äº†ç±»ä¼¼çš„æ€æƒ³ï¼Œå…¶ä¸­å…ˆå°±å¯¹åº”çš„çˆ¶èŠ‚ç‚¹å°†æ‡’æ ‡è®°ä¸‹ä¼ åˆ°å„¿å­èŠ‚ç‚¹çš„pushdownå‡½æ•°ï¼Œè€Œéå†å®Œä¸¤ä¸ªå„¿å­è¿‡åçš„â€œåâ€å°±ç±»ä¼¼äºçº¿æ®µæ ‘ä¸­å„¿å­èŠ‚ç‚¹ä¸Šä¼ æ›´æ–°çˆ¶èŠ‚ç‚¹æ‡’æ ‡è®°çš„pushupå‡½æ•°</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322205838629.png\" alt=\"image-20240322205838629\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// äºŒå‰æ ‘</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs3</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…ˆ%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs3(<span class=\"number\">2</span>*u); <span class=\"comment\">// è®¿é—®å·¦å­©å­</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ä¸­%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs3(<span class=\"number\">2</span>*u+<span class=\"number\">1</span>); <span class=\"comment\">// è®¿é—®å³å­©å­</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å%d\\n&quot;</span>,u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"23-ä¸€æ¡é“¾\">2.3. ä¸€æ¡é“¾</span></h3><ul>\n<li>1ï¼šå…¥ï¼Œ2ï¼šç¦»</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210326282.png\" alt=\"image-20240322210326282\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç¼–å·(ç±»ä¼¼é“¾è¡¨)</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸€æ¡é“¾</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs4</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…¥%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs4(ne[u]); <span class=\"comment\">// ä¸‹ä¸€ä¸ªç›¸è¿çš„èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ç¦»%d\\n&quot;</span>,u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"24-å›¾\">2.4. å›¾</span></h3><ul>\n<li>å¯¹å›¾æ·±æœä¼šå½¢æˆDFSæ ‘ï¼Œå› ä¸ºå›¾å¯èƒ½å¸¦ç¯ï¼Œæ‰€ä»¥éœ€è¦å¼€çŠ¶æ€æ•°ç»„å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ï¼Œå½“è®¿é—®çŠ¶æ€ä¸ºtrueæ—¶è¿™æ¡è¾¹å°±æ²¡å¿…è¦èµ°äº†ï¼Œæ‰€ä»¥ç¯ä¸­çš„æŸäº›è¾¹åœ¨dfsçš„è¿‡ç¨‹ä¸­ä¼šè¢«å»æ‰ï¼Œæœ€ç»ˆå½¢æˆDFSæ ‘</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210753384.png\" alt=\"image-20240322210753384\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210804032.png\" alt=\"image-20240322210804032\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,a,b;</span><br><span class=\"line\"><span class=\"type\">int</span> vis[N];</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¥</span></span><br><span class=\"line\">\tvis[u]=<span class=\"literal\">true</span>; <span class=\"comment\">// å½“å‰èŠ‚ç‚¹è¢«è®¿é—®è¿‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> v:e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(vis[v]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// å¦‚æœéå†è¿‡äº†å°±è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%dâ†’%d\\n&quot;</span>,u,v);</span><br><span class=\"line\">\t\tdfs(v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å›</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-ä¾‹é¢˜\">3. ä¾‹é¢˜</span></h2><h3><span id=\"31-æ´›è°·-p1605-è¿·å®«\">3.1. æ´›è°· P1605 è¿·å®«</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1605\">P1605 è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240323154212768.png\" alt=\"image-20240323154212768\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5</span>+<span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// åç§»é‡</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,t; <span class=\"comment\">// åœ°å›¾è¡Œæ•°åˆ—æ•°,éšœç¢æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> sx,sy,fx,fy,x,y; <span class=\"comment\">// èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡ä»¥åŠéšœç¢åæ ‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// åœ°å›¾æœ€å¤§ä¸º5Ã—5,O(2^25)å®é™…ä¼šå°å¾ˆå¤š</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“å‰æ‰€åœ¨ä½ç½®(x,y)</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fx &amp;&amp; y==fy) &#123;</span><br><span class=\"line\">\t\tans++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> xx=x+dx[i];</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> yy=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || yy&lt;<span class=\"number\">1</span> || xx&gt;n || yy&gt;m) <span class=\"keyword\">continue</span>; <span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(g[xx][yy]==<span class=\"number\">1</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// æœ‰éšœç¢æˆ–è€…è®¿é—®è¿‡äº†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// èƒ½èµ°,å æ®æ–¹æ¡ˆ,é€’å½’åˆ°ä¸‹ä¸€å±‚</span></span><br><span class=\"line\">\t\tg[xx][yy]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\tdfs(xx,yy);</span><br><span class=\"line\">\t\tg[xx][yy]=<span class=\"number\">0</span>; <span class=\"comment\">// 4)å›æº¯,æ‰¾æ‰€æœ‰æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;t;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;sx&gt;&gt;sy&gt;&gt;fx&gt;&gt;fy;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(t--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class=\"line\">\t\tg[x][y]=<span class=\"number\">1</span>; <span class=\"comment\">// å›æº¯æ—¶ä¸ä¼šå»æ‰æ ‡è®°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// èµ·ç‚¹æ‰“æ ‡è®°</span></span><br><span class=\"line\">\tg[sx][sy]=<span class=\"number\">1</span>; <span class=\"comment\">// æå‰æ‰“ä¸Šçš„æ ‡è®°å›æº¯æ—¶ä¸ä¼šå»æ‰,åªæœ‰dfsä¸­çš„ä¼šå»æ‰</span></span><br><span class=\"line\">\tdfs(sx,sy);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"32-æ´›è°·-p1644-è·³é©¬é—®é¢˜\">3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1644\">P1644 è·³é©¬é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: é©¬èµ°æ—¥,åŸæœ¬8ä¸ªæ–¹å‘,ä½†æ˜¯åªèƒ½å¾€å³èµ°,æ‰€ä»¥dyå¿…é¡»&gt;0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">18</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">-1</span>,<span class=\"number\">-2</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// ç»ˆç‚¹</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> cnt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶,åˆ°è¾¾ç»ˆç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==n &amp;&amp; y==m) &#123;</span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> xx=x+dx[i];</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> yy=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">0</span> || yy&lt;<span class=\"number\">0</span> || xx&gt;n || yy&gt;m) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ³¨æ„æœ¬é¢˜é™åˆ¶äº†æ–¹å‘åªèƒ½å¾€å³èµ°,æ‰€ä»¥ä¸å­˜åœ¨å¾€å›èµ°çš„æƒ…å†µ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸éœ€è¦çŠ¶æ€æ•°ç»„</span></span><br><span class=\"line\">\t\tdfs(xx,yy);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// æ³¨æ„å³ä¸Šè§’æ˜¯(m,n),å³è¡Œæ˜¯n,åˆ—æ˜¯m</span></span><br><span class=\"line\">\tdfs(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"33-æ´›è°·-p1219-å…«çš‡å\">3.3. æ´›è°· P1219 å…«çš‡å</span></h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1219\">P1219 USACO1.5 å…«çš‡å Checker Challenge - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">13</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æ£‹ç›˜æœ€å¤§èŒƒå›´</span></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// æ£‹ç›˜å¤§å°</span></span><br><span class=\"line\"><span class=\"type\">int</span> x[N]; <span class=\"comment\">// x[i]:ç¬¬iä¸ªçš‡å(ç¬¬iè¡Œä¸Šçš„çš‡å)æ‰€åœ¨çš„åˆ—æ•°</span></span><br><span class=\"line\"><span class=\"comment\">//int g[N][N]; // åœ°å›¾,ä¸éœ€è¦åœ°å›¾å—·</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çœ‹ç¬¬uä¸ªçš‡åæ˜¯å¦èƒ½æ”¾,ä¸å‰u-1ä¸ªçš‡åä½œæ¯”è¾ƒ</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">place</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=u<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‰ªæå‡½æ•°,è‹¥ä¸åœ¨åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x[u]==x[i] || <span class=\"built_in\">abs</span>(u-i)==<span class=\"built_in\">abs</span>(x[u]-x[i])) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// ä¸èƒ½æ”¾</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// èƒ½æ”¾</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> idx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“å‰åœ¨æ”¾ç¬¬uä¸ªçš‡å</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(u&gt;n) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// çš‡åæ”¾å®Œäº†,æ‰¾åˆ°å¯è¡Œè§£äº†,ç›´æ¥è¾“å‡º</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åªè¾“å‡ºå‰3ä¸ª</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(++idx&lt;=<span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;x[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢,éå†æ‰€æœ‰å¯æ”¾çš„åˆ—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)å¦‚æœèƒ½å’Œå‰u-1è¡Œçš„çš‡åä¸å†²çª,åˆ™å æ®,å‘ä¸‹é€’å½’</span></span><br><span class=\"line\">\t\tx[u]=i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(place(u)) dfs(u+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\tx[u]=<span class=\"number\">0</span>; <span class=\"comment\">// 4)é‡Šæ”¾,çŠ¶æ€å¤åŸ </span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>); <span class=\"comment\">// ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹æ”¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"æ·±åº¦ä¼˜å…ˆæœç´¢\"><a href=\"#æ·±åº¦ä¼˜å…ˆæœç´¢\" class=\"headerlink\" title=\"æ·±åº¦ä¼˜å…ˆæœç´¢\"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-dfs%E6%A8%A1%E6%9D%BF\">1. DFSæ¨¡æ¿</a></li>\n<li><a href=\"#2-%E8%A7%A6%E7%A2%B0%E8%8A%82%E7%82%B9%E6%97%B6%E6%9C%BA\">2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº</a><ul>\n<li><a href=\"#21-%E5%A4%9A%E5%8F%89%E6%A0%91\">2.1. å¤šå‰æ ‘</a></li>\n<li><a href=\"#22-%E4%BA%8C%E5%8F%89%E6%A0%91\">2.2. äºŒå‰æ ‘</a></li>\n<li><a href=\"#23-%E4%B8%80%E6%9D%A1%E9%93%BE\">2.3. ä¸€æ¡é“¾</a></li>\n<li><a href=\"#24-%E5%9B%BE\">2.4. å›¾</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E4%BE%8B%E9%A2%98\">3. ä¾‹é¢˜</a><ul>\n<li><a href=\"#31-%E6%B4%9B%E8%B0%B7-p1605-%E8%BF%B7%E5%AE%AB\">3.1. æ´›è°· P1605 è¿·å®«</a></li>\n<li><a href=\"#32-%E6%B4%9B%E8%B0%B7-p1644-%E8%B7%B3%E9%A9%AC%E9%97%AE%E9%A2%98\">3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜</a></li>\n<li><a href=\"#33-%E6%B4%9B%E8%B0%B7-p1219-%E5%85%AB%E7%9A%87%E5%90%8E\">3.3. æ´›è°· P1219 å…«çš‡å</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>æ¨èè§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1uS4y1i7j5/?spm_id_from=333.337.search-card.all.click&vd_source=b8e5916fcec63c0b6234c190e1ec6dd1\">B03 æ·±æœ (DFS) ç®—æ³•_bilibili</a></p>\n</blockquote>\n<h2 id=\"1-DFSæ¨¡æ¿\"><a href=\"#1-DFSæ¨¡æ¿\" class=\"headerlink\" title=\"1. DFSæ¨¡æ¿\"></a>1. DFSæ¨¡æ¿</h2><ul>\n<li>æ·±æœæ˜¯é€šè¿‡ç³»ç»Ÿæ ˆå®ç°çš„</li>\n<li>é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç³»ç»Ÿè‡ªåŠ¨é€šè¿‡æ ˆå»ç»´æŠ¤å‡½æ•°çš„çŠ¶æ€ç©ºé—´</li>\n<li>ç³»ç»Ÿæ ˆè®°å½•å‡½æ•°è¿”å›åœ°å€ã€å±€éƒ¨å˜é‡ã€å‚æ•°ä¼ é€’ç­‰</li>\n<li>å‘ä¸‹èµ°ï¼Œæ˜¯å‹æ ˆçš„è¿‡ç¨‹ï¼›å‘ä¸Šèµ°ï¼Œæ˜¯å‡ºæ ˆçš„è¿‡ç¨‹</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322200028226.png\" alt=\"image-20240322200028226\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹å¯è¾¾èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// u:å½“å‰èŠ‚ç‚¹,fa:çˆ¶èŠ‚ç‚¹,å­˜å‚¨çˆ¶èŠ‚ç‚¹æ˜¯ä¸ºäº†é¿å…å¾€å›èµ°</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u,<span class=\"type\">int</span> fa)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;u&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// è¾“å‡ºå½“å‰ç‚¹çš„ç¼–å·,dfséå†é¡ºåº</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹äºèŠ‚ç‚¹uçš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> v:e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(v==fa) <span class=\"keyword\">continue</span>; <span class=\"comment\">// é¿å…å¾€å›èµ°,å› ä¸ºæ˜¯æœ‰å‘è¾¹</span></span><br><span class=\"line\">\t\tdfs(v,u); <span class=\"comment\">// å¾€ä¸‹èµ°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// èŠ‚ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a,b; <span class=\"comment\">// èµ·ç‚¹å’Œç»ˆç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  8 7</span></span><br><span class=\"line\"><span class=\"comment\">  3 6</span></span><br><span class=\"line\"><span class=\"comment\">  8 6</span></span><br><span class=\"line\"><span class=\"comment\">  2 5</span></span><br><span class=\"line\"><span class=\"comment\">  5 6</span></span><br><span class=\"line\"><span class=\"comment\">  1 5</span></span><br><span class=\"line\"><span class=\"comment\">  5 7</span></span><br><span class=\"line\"><span class=\"comment\">  1 4</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åŒå‘è¾¹</span></span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>,<span class=\"number\">0</span>); <span class=\"comment\">// ä»æ ¹èŠ‚ç‚¹1å¼€å§‹èµ°,é»˜è®¤0æ˜¯è‡³é«˜èŠ‚ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\"><a href=\"#2-è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\" class=\"headerlink\" title=\"2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº\"></a>2. è§¦ç¢°èŠ‚ç‚¹æ—¶æœº</h2><h3 id=\"2-1-å¤šå‰æ ‘\"><a href=\"#2-1-å¤šå‰æ ‘\" class=\"headerlink\" title=\"2.1. å¤šå‰æ ‘\"></a>2.1. å¤šå‰æ ‘</h3><ul>\n<li>1ï¼šå…¥ï¼Œ2ï¼šä¸‹ï¼Œ3ï¼šå›ï¼Œ4ï¼šç¦»</li>\n<li>æ·±æœçš„è®¡ç®—è¿‡ç¨‹ï¼š<ol>\n<li>è‡ªé¡¶å‘ä¸‹ï¼Œç”±çˆ¶èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—å­èŠ‚ç‚¹ä¿¡æ¯ï¼Œå…¥å’Œä¸‹ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå…¥ä»£è¡¨çˆ¶èŠ‚ç‚¹1å‘å­èŠ‚ç‚¹5ä¼ é€’ï¼Œä¸‹ä»£è¡¨çˆ¶èŠ‚ç‚¹5å‘å­èŠ‚ç‚¹2ã€6ã€7ä¼ é€’</li>\n<li>è‡ªåº•å‘ä¸Šï¼Œç”±å­èŠ‚ç‚¹ä¿¡æ¯è®¡ç®—çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œå›å’Œç¦»ï¼Œå¦‚å¯¹èŠ‚ç‚¹5ï¼Œå›ä»£è¡¨å­èŠ‚ç‚¹2ã€6ã€7å‘çˆ¶èŠ‚ç‚¹5ä¼ é€’ï¼Œç¦»ä»£è¡¨å­èŠ‚ç‚¹5å‘çˆ¶èŠ‚ç‚¹1ä¼ é€’</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322203537204.png\" alt=\"image-20240322203537204\"></p>\n<ul>\n<li>å¦‚ä½•ç†è§£ï¼Ÿå…¥æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°è¯¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡ºç¼–å·å³å¯ï¼›ä¸‹æ˜¯åœ¨éå†å„¿å­èŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼Œç”±è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸‹è®¿é—®å…¶ä¸‹çš„å„¿å­èŠ‚ç‚¹ï¼Œéšåå¯¹å„¿å­èŠ‚ç‚¹é€’å½’åˆ°ä¸‹ä¸€å±‚dfs(v,u)ï¼ˆæ­¤æ—¶uä½œä¸ºvçš„çˆ¶èŠ‚ç‚¹å‘ä¸‹ä¼ é€’ï¼‰ï¼Œå½“å‡½æ•°è‡ªç„¶ç»“æŸæ—¶ï¼Œåº”è¯¥å›æº¯ï¼Œæ‰€ä»¥æœ‰å›ï¼Œå›æ˜¯è¯¥èŠ‚ç‚¹ç¬¬ä¸€æ¬¡å‘ä¸Šè®¿é—®å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¾“å‡ºç¼–å·ï¼›å¾ªç¯ç»“æŸååœ¨èŠ‚ç‚¹uä¸Šçš„å‡½æ•°åº”è¯¥è‡ªç„¶ç»“æŸäº†ï¼Œæ‰€ä»¥ç¦»å¼€èŠ‚ç‚¹uï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä¼šå›æº¯åˆ°5çš„çˆ¶èŠ‚ç‚¹</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¤šå‰æ ‘</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs2</span><span class=\"params\">(<span class=\"type\">int</span> u, <span class=\"type\">int</span> fa)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…¥%d\\n&quot;</span>, u);</span><br><span class=\"line\">\t<span class=\"comment\">// ä¸‹å’Œå›æœ‰å¤šæ¬¡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> v : e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (v == fa) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ä¸‹%d-&gt;%d\\n&quot;</span>, u, v); <span class=\"comment\">// ä¸‹</span></span><br><span class=\"line\">\t\tdfs2(v, u);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å›%d&lt;-%d\\n&quot;</span>, u, v); <span class=\"comment\">// å›</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ç¦»%d\\n&quot;</span>, u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-2-äºŒå‰æ ‘\"><a href=\"#2-2-äºŒå‰æ ‘\" class=\"headerlink\" title=\"2.2. äºŒå‰æ ‘\"></a>2.2. äºŒå‰æ ‘</h3><ul>\n<li>1ï¼šå…ˆï¼Œ2ï¼šä¸­ï¼Œ3ï¼šå</li>\n<li>åœ¨çº¿æ®µæ ‘å°±ç”¨åˆ°äº†ç±»ä¼¼çš„æ€æƒ³ï¼Œå…¶ä¸­å…ˆå°±å¯¹åº”çš„çˆ¶èŠ‚ç‚¹å°†æ‡’æ ‡è®°ä¸‹ä¼ åˆ°å„¿å­èŠ‚ç‚¹çš„pushdownå‡½æ•°ï¼Œè€Œéå†å®Œä¸¤ä¸ªå„¿å­è¿‡åçš„â€œåâ€å°±ç±»ä¼¼äºçº¿æ®µæ ‘ä¸­å„¿å­èŠ‚ç‚¹ä¸Šä¼ æ›´æ–°çˆ¶èŠ‚ç‚¹æ‡’æ ‡è®°çš„pushupå‡½æ•°</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322205838629.png\" alt=\"image-20240322205838629\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// äºŒå‰æ ‘</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs3</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…ˆ%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs3(<span class=\"number\">2</span>*u); <span class=\"comment\">// è®¿é—®å·¦å­©å­</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ä¸­%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs3(<span class=\"number\">2</span>*u+<span class=\"number\">1</span>); <span class=\"comment\">// è®¿é—®å³å­©å­</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å%d\\n&quot;</span>,u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-3-ä¸€æ¡é“¾\"><a href=\"#2-3-ä¸€æ¡é“¾\" class=\"headerlink\" title=\"2.3. ä¸€æ¡é“¾\"></a>2.3. ä¸€æ¡é“¾</h3><ul>\n<li>1ï¼šå…¥ï¼Œ2ï¼šç¦»</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210326282.png\" alt=\"image-20240322210326282\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> ne[N]; <span class=\"comment\">// æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç¼–å·(ç±»ä¼¼é“¾è¡¨)</span></span><br><span class=\"line\"><span class=\"comment\">// ä¸€æ¡é“¾</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs4</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;å…¥%d\\n&quot;</span>,u);</span><br><span class=\"line\">\tdfs4(ne[u]); <span class=\"comment\">// ä¸‹ä¸€ä¸ªç›¸è¿çš„èŠ‚ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;ç¦»%d\\n&quot;</span>,u);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-4-å›¾\"><a href=\"#2-4-å›¾\" class=\"headerlink\" title=\"2.4. å›¾\"></a>2.4. å›¾</h3><ul>\n<li>å¯¹å›¾æ·±æœä¼šå½¢æˆDFSæ ‘ï¼Œå› ä¸ºå›¾å¯èƒ½å¸¦ç¯ï¼Œæ‰€ä»¥éœ€è¦å¼€çŠ¶æ€æ•°ç»„å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ï¼Œå½“è®¿é—®çŠ¶æ€ä¸ºtrueæ—¶è¿™æ¡è¾¹å°±æ²¡å¿…è¦èµ°äº†ï¼Œæ‰€ä»¥ç¯ä¸­çš„æŸäº›è¾¹åœ¨dfsçš„è¿‡ç¨‹ä¸­ä¼šè¢«å»æ‰ï¼Œæœ€ç»ˆå½¢æˆDFSæ ‘</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210753384.png\" alt=\"image-20240322210753384\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240322210804032.png\" alt=\"image-20240322210804032\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m,a,b;</span><br><span class=\"line\"><span class=\"type\">int</span> vis[N];</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; e[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å…¥</span></span><br><span class=\"line\">\tvis[u]=<span class=\"literal\">true</span>; <span class=\"comment\">// å½“å‰èŠ‚ç‚¹è¢«è®¿é—®è¿‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> v:e[u]) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸‹</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(vis[v]) <span class=\"keyword\">continue</span>; <span class=\"comment\">// å¦‚æœéå†è¿‡äº†å°±è·³è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%dâ†’%d\\n&quot;</span>,u,v);</span><br><span class=\"line\">\t\tdfs(v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å›</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t\te[a].push_back(b);</span><br><span class=\"line\">\t\te[b].push_back(a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-ä¾‹é¢˜\"><a href=\"#3-ä¾‹é¢˜\" class=\"headerlink\" title=\"3. ä¾‹é¢˜\"></a>3. ä¾‹é¢˜</h2><h3 id=\"3-1-æ´›è°·-P1605-è¿·å®«\"><a href=\"#3-1-æ´›è°·-P1605-è¿·å®«\" class=\"headerlink\" title=\"3.1. æ´›è°· P1605 è¿·å®«\"></a>3.1. æ´›è°· P1605 è¿·å®«</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1605\">P1605 è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240323154212768.png\" alt=\"image-20240323154212768\"></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">5</span>+<span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// åç§»é‡</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,t; <span class=\"comment\">// åœ°å›¾è¡Œæ•°åˆ—æ•°,éšœç¢æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> sx,sy,fx,fy,x,y; <span class=\"comment\">// èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡ä»¥åŠéšœç¢åæ ‡</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// åœ°å›¾æœ€å¤§ä¸º5Ã—5,O(2^25)å®é™…ä¼šå°å¾ˆå¤š</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“å‰æ‰€åœ¨ä½ç½®(x,y)</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==fx &amp;&amp; y==fy) &#123;</span><br><span class=\"line\">\t\tans++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> xx=x+dx[i];</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> yy=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">1</span> || yy&lt;<span class=\"number\">1</span> || xx&gt;n || yy&gt;m) <span class=\"keyword\">continue</span>; <span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(g[xx][yy]==<span class=\"number\">1</span>) <span class=\"keyword\">continue</span>; <span class=\"comment\">// æœ‰éšœç¢æˆ–è€…è®¿é—®è¿‡äº†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// èƒ½èµ°,å æ®æ–¹æ¡ˆ,é€’å½’åˆ°ä¸‹ä¸€å±‚</span></span><br><span class=\"line\">\t\tg[xx][yy]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\tdfs(xx,yy);</span><br><span class=\"line\">\t\tg[xx][yy]=<span class=\"number\">0</span>; <span class=\"comment\">// 4)å›æº¯,æ‰¾æ‰€æœ‰æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;t;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;sx&gt;&gt;sy&gt;&gt;fx&gt;&gt;fy;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(t--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class=\"line\">\t\tg[x][y]=<span class=\"number\">1</span>; <span class=\"comment\">// å›æº¯æ—¶ä¸ä¼šå»æ‰æ ‡è®°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// èµ·ç‚¹æ‰“æ ‡è®°</span></span><br><span class=\"line\">\tg[sx][sy]=<span class=\"number\">1</span>; <span class=\"comment\">// æå‰æ‰“ä¸Šçš„æ ‡è®°å›æº¯æ—¶ä¸ä¼šå»æ‰,åªæœ‰dfsä¸­çš„ä¼šå»æ‰</span></span><br><span class=\"line\">\tdfs(sx,sy);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-2-æ´›è°·-P1644-è·³é©¬é—®é¢˜\"><a href=\"#3-2-æ´›è°·-P1644-è·³é©¬é—®é¢˜\" class=\"headerlink\" title=\"3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜\"></a>3.2. æ´›è°· P1644 è·³é©¬é—®é¢˜</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1644\">P1644 è·³é©¬é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: é©¬èµ°æ—¥,åŸæœ¬8ä¸ªæ–¹å‘,ä½†æ˜¯åªèƒ½å¾€å³èµ°,æ‰€ä»¥dyå¿…é¡»&gt;0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">18</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dx[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">-1</span>,<span class=\"number\">-2</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> dy[]=&#123;<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// ç»ˆç‚¹</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N][N];</span><br><span class=\"line\"><span class=\"type\">int</span> cnt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶,åˆ°è¾¾ç»ˆç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==n &amp;&amp; y==m) &#123;</span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">4</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> xx=x+dx[i];</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> yy=y+dy[i];</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)çº¦æŸæ¡ä»¶</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è¶Šç•Œå¤„ç†</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(xx&lt;<span class=\"number\">0</span> || yy&lt;<span class=\"number\">0</span> || xx&gt;n || yy&gt;m) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ³¨æ„æœ¬é¢˜é™åˆ¶äº†æ–¹å‘åªèƒ½å¾€å³èµ°,æ‰€ä»¥ä¸å­˜åœ¨å¾€å›èµ°çš„æƒ…å†µ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸éœ€è¦çŠ¶æ€æ•°ç»„</span></span><br><span class=\"line\">\t\tdfs(xx,yy);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m; <span class=\"comment\">// æ³¨æ„å³ä¸Šè§’æ˜¯(m,n),å³è¡Œæ˜¯n,åˆ—æ˜¯m</span></span><br><span class=\"line\">\tdfs(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-3-æ´›è°·-P1219-å…«çš‡å\"><a href=\"#3-3-æ´›è°·-P1219-å…«çš‡å\" class=\"headerlink\" title=\"3.3. æ´›è°· P1219 å…«çš‡å\"></a>3.3. æ´›è°· P1219 å…«çš‡å</h3><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/P1219\">P1219 USACO1.5 å…«çš‡å Checker Challenge - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">13</span>+<span class=\"number\">5</span>; <span class=\"comment\">// æ£‹ç›˜æœ€å¤§èŒƒå›´</span></span><br><span class=\"line\"><span class=\"type\">int</span> n; <span class=\"comment\">// æ£‹ç›˜å¤§å°</span></span><br><span class=\"line\"><span class=\"type\">int</span> x[N]; <span class=\"comment\">// x[i]:ç¬¬iä¸ªçš‡å(ç¬¬iè¡Œä¸Šçš„çš‡å)æ‰€åœ¨çš„åˆ—æ•°</span></span><br><span class=\"line\"><span class=\"comment\">//int g[N][N]; // åœ°å›¾,ä¸éœ€è¦åœ°å›¾å—·</span></span><br><span class=\"line\"><span class=\"type\">int</span> cnt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// çœ‹ç¬¬uä¸ªçš‡åæ˜¯å¦èƒ½æ”¾,ä¸å‰u-1ä¸ªçš‡åä½œæ¯”è¾ƒ</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">place</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=u<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å‰ªæå‡½æ•°,è‹¥ä¸åœ¨åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x[u]==x[i] || <span class=\"built_in\">abs</span>(u-i)==<span class=\"built_in\">abs</span>(x[u]-x[i])) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// ä¸èƒ½æ”¾</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// èƒ½æ”¾</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> idx;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“å‰åœ¨æ”¾ç¬¬uä¸ªçš‡å</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> u)</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 1)è¾¹ç•Œæ¡ä»¶</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(u&gt;n) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// çš‡åæ”¾å®Œäº†,æ‰¾åˆ°å¯è¡Œè§£äº†,ç›´æ¥è¾“å‡º</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// åªè¾“å‡ºå‰3ä¸ª</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(++idx&lt;=<span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;x[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 2)è¯•æ¢,éå†æ‰€æœ‰å¯æ”¾çš„åˆ—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 3)å¦‚æœèƒ½å’Œå‰u-1è¡Œçš„çš‡åä¸å†²çª,åˆ™å æ®,å‘ä¸‹é€’å½’</span></span><br><span class=\"line\">\t\tx[u]=i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(place(u)) dfs(u+<span class=\"number\">1</span>);</span><br><span class=\"line\">\t\tx[u]=<span class=\"number\">0</span>; <span class=\"comment\">// 4)é‡Šæ”¾,çŠ¶æ€å¤åŸ </span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\tdfs(<span class=\"number\">1</span>); <span class=\"comment\">// ä»ç¬¬ä¸€ä¸ªçš‡åå¼€å§‹æ”¾</span></span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"ç¦»æ•£åŒ–","date":"2024-10-03T04:37:31.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# ç¦»æ•£åŒ–\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* ä¸Šç¯‡åšå®¢æˆ‘ä»¬ä»‹ç»äº†æ¡¶ç»“æ„ï¼Œå‡è®¾ç°åœ¨ç»™æˆ‘ä»¬ä¸€ä¸ªåºåˆ—ï¼Œæ•°æ®èŒƒå›´æ˜¯$[-10^9,10^9]$ï¼Œæ˜¾ç„¶æˆ‘ä»¬æ˜¯ä¸èƒ½å†ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜çš„\n\n* æ‰€ä»¥ç°åœ¨éœ€è¦åšçš„å°±æ˜¯æŠŠå¤§èŒƒå›´çš„æ•°æ®æ˜ å°„åˆ°å°èŒƒå›´æ•°æ®ï¼Œå¦‚ï¼šå°†$-123456789$æ˜ å°„åˆ°$5$ï¼Œé‚£ä¹ˆ$a[5]=-123456789$ï¼Œç»Ÿè®¡çš„æ—¶å€™ç›´æ¥$cnt[3]++$å³å¯ï¼Œè¿™ä¾¿æ˜¯ç¦»æ•£åŒ–\n\n* æ€ä¹ˆå¿«é€Ÿçš„æ˜ å°„ï¼Œå¹¶ä¸”è®©æ˜ å°„çš„æ•°å­—ç›¸äº’ä¹‹é—´ä¸å†²çªï¼Ÿ\n  **æ’åºåŠ å»é‡ï¼Œä½¿åºåˆ—å‡åºçš„æ’åˆ°æ•°ç»„ä¸­**\n\n* æ€ä¹ˆæ‰¾åˆ°æ˜ å°„åçš„æ•°å­—åœ¨æ˜ å°„æ•°ç»„çš„ä¸‹æ ‡ï¼Ÿ\n\n  **äºŒåˆ†ï¼ˆå·²ç»æ’åºäº†ï¼‰ã€å“ˆå¸Œè¡¨**\n\n\n\n## 1. ç¦»æ•£åŒ–\n\n>  é¢˜ç›®é“¾æ¥ï¼š[802. åŒºé—´å’Œ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/804/)\n\n* è¯¥é¢˜ç›®çš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼Œä½†æ˜¯æ•°æ®çš„æ€»æ•°åˆæ¯”è¾ƒå°ï¼Œåœ¨æ•°è½´ä¸Šéå¸¸ç¨€ç–ï¼Œå¹¶ä¸”å¦‚æœç”¨æšä¸¾çš„æ–¹å¼æ±‚åŒºé—´å’Œå¿…å®šä¼šè¶…æ—¶ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨ç¦»æ•£åŒ–çš„æ€æƒ³æ¥è§£å†³\n\n### 1.1. åŸºäºäºŒåˆ†\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å¿…é¡»è¦ç”¨ç¦»æ•£åŒ–\n\nconst int N=3e5+10; // max(n+2m)=3e5,å‡è®¾æ¯æ¬¡è¾“å…¥çš„å€¼éƒ½ä¸åŒ,æœ€å¤§ä¹Ÿæ‰3e5ä¸ªç©ºé—´\nint n,m; // næ¬¡åœ¨xä½ç½®ä¸ŠåŠ cçš„æ“ä½œ,mæ¬¡æŸ¥è¯¢åŒºé—´[l,r]æ‰€æœ‰æ•°çš„å’Œ\nint x,c;\nint l,r;\nint a[N]; // å­˜å‚¨æ•°å­—\nint s[N]; // å‰ç¼€å’Œæ•°ç»„\n\n// alls:éœ€è¦ç¦»æ•£åŒ–çš„æ•°ç»„,åœ¨æ’å…¥å’ŒæŸ¥è¯¢è¿‡ç¨‹ä¸­æŠŠéœ€è¦ç¦»æ•£åŒ–çš„åæ ‡æ·»åŠ è¿›æ¥\nvector<int> alls; // å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œä¸­é‡åˆ°çš„æ‰€æœ‰å”¯ä¸€åæ ‡,ç„¶åæ’åºç”¨äºç´¢å¼•\nvector<PII> add,query; // å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œçš„äºŒå…ƒç»„\n\n// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä¸‹æ ‡,ç­”æ¡ˆåœ¨å·¦è¾¹,å› æ­¤éœ€è¦ç”¨äºŒåˆ†çš„ç¬¬äºŒä¸ªæ¨¡æ¿(å‹ç¼©å³è¾¹ç•Œ)\nint find(int x) {\n\tint l=0,r=alls.size()-1;\n\twhile(l<r) {\n\t\tint mid=l+r>>1;\n\t\tif(alls[mid]>=x) \n\t\t\tr=mid;\n\t\telse\n\t\t\tl=mid+1;\n\t}\n\treturn r+1; // è¿”å›çš„æ˜¯é¡ºåºè€Œä¸æ˜¯ä¸‹æ ‡\n}\n\nint main() {\n\tcin>>n>>m;\n\twhile(n--) {\n\t\tscanf(\"%d%d\",&x,&c);\n\t\tadd.push_back({x,c});\n\t\talls.push_back(x); // éœ€è¦ç¦»æ•£åŒ–çš„æ•°å€¼å¤§å°\n\t}\n\twhile(m--) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tquery.push_back({l,r});\n\t\t// åŒºé—´ä¹Ÿéœ€è¦ç¦»æ•£åŒ–\n\t\talls.push_back(l);\n\t\talls.push_back(r);\n\t}\n\t// ç¦»æ•£åŒ–:å…ˆæ’åºåå»é‡(å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªç‚¹ä¸Š)\n\t// æ’åº\n\tsort(alls.begin(),alls.end());\n\t// å»é‡,uniqueå»é™¤èŒƒå›´å†…çš„é‡å¤å…ƒç´ å¹¶è¿”å›æ–°æ•°ç»„çš„æœ«å°¾ä½ç½®\n\talls.erase(unique(alls.begin(),alls.end()),alls.end());\n\t// æ‰§è¡Œå‰næ¬¡æ’å…¥æ“ä½œ\n\tfor(auto item:add) {\n\t\tint x=find(item.first); // æ‰¾åˆ°ç¦»æ•£åŒ–åçš„ä¸‹æ ‡\n\t\ta[x]+=item.second;\n\t}\n\t// ç”¨æ˜ å°„åçš„åœ°å€æ±‚ä¸€æ¬¡å‰ç¼€å’Œ\n\tfor(int i=1;i<=alls.size();i++) \n\t\ts[i]=s[i-1]+a[i];\n\t// æ‰§è¡Œåmæ¬¡è¯¢é—®åŒºé—´å’Œæ“ä½œ\n\tfor(auto item:query) {\n\t\tint l=find(item.first);\n\t\tint r=find(item.second);\n\t\tcout<<s[r]-s[l-1]<<endl;\n\t}\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\n3 3\n1 2\n3 6\n7 5\n1 3\n4 6\n7 8\nè¾“å‡ºæ ·ä¾‹:\n8\n0\n5\n/*\n```\n\n\n\n### 1.2. åŸºäºå“ˆå¸Œè¡¨\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: äºŒåˆ†æŸ¥è¯¢ä¸‹æ ‡çš„æ—¶é—´æ˜¯O(nlogn),è€Œå“ˆå¸Œè¡¨åªéœ€è¦O(1)\n\nconst int N=3e5+5;\n\nint n,m;\nint x,c;\nint l,r;\n\nvector<int> alls; // æ‰€æœ‰éœ€è¦ç¦»æ•£åŒ–å¤„ç†çš„æ•°å€¼\nvector<PII> add,query; // å­˜å‚¨æ’å…¥æ“ä½œå’ŒåŒºé—´å’ŒæŸ¥è¯¢æ“ä½œçš„å‘é‡\n\nunordered_map<int,int> mp; // å“ˆå¸Œè¡¨(æ³¨æ„æ‰‹å†™å“ˆå¸Œè¡¨æ›´å¿«)\n\nint a[N],s[N]; // æ˜ å°„åçš„æ•°ç»„å’Œå‰ç¼€å’Œæ•°ç»„\n\nint main() {\n\tcin>>n>>m;\n\twhile(n--) {\n\t\tscanf(\"%d%d\",&x,&c);\n\t\talls.push_back(x);\n\t\tadd.push_back({x,c});\n\t}\n\twhile(m--) {\n\t\tscanf(\"%d%d\",&l,&r);\n\t\talls.push_back(l);\n\t\talls.push_back(r);\n\t\tquery.push_back({l,r});\n\t}\n\t// ç¦»æ•£åŒ–\n\tsort(alls.begin(),alls.end());\n\talls.erase(unique(alls.begin(),alls.end()),alls.end());\n\t// æ˜ å°„åˆ°ä¸‹æ ‡\n\tfor(int i=0;i<=alls.size()-1;i++) {\n\t\tmp[alls[i]]=i+1; // æ˜ å°„åˆ°ä»ä¸‹æ ‡1å¼€å§‹\n\t}\n\t// æ‰§è¡Œnæ¬¡addæ“ä½œ\n\tfor(auto item:add) {\n\t\tint x=mp[item.first];\n\t\ta[x]+=item.second;\n\t}\n\t// ç”¨æ˜ å°„åçš„å€¼è®¡ç®—å‰ç¼€å’Œ\n\tfor(int i=1;i<=alls.size();i++) {\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\t// æ‰§è¡Œmæ¬¡æŸ¥è¯¢æ“ä½œ\n\tfor(auto item:query) {\n\t\tl=mp[item.first];\n\t\tr=mp[item.second];\n\t\tcout<<s[r]-s[l-1]<<endl;\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/ç¦»æ•£åŒ–.md","raw":"---\ntitle: ç¦»æ•£åŒ–\ndate: 2024-10-03 12:37:31\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - é¢„å¤„ç†\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# ç¦»æ•£åŒ–\n\n<!-- toc -->\n\n\n\n## 0. æ¦‚è¿°\n\n* ä¸Šç¯‡åšå®¢æˆ‘ä»¬ä»‹ç»äº†æ¡¶ç»“æ„ï¼Œå‡è®¾ç°åœ¨ç»™æˆ‘ä»¬ä¸€ä¸ªåºåˆ—ï¼Œæ•°æ®èŒƒå›´æ˜¯$[-10^9,10^9]$ï¼Œæ˜¾ç„¶æˆ‘ä»¬æ˜¯ä¸èƒ½å†ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜çš„\n\n* æ‰€ä»¥ç°åœ¨éœ€è¦åšçš„å°±æ˜¯æŠŠå¤§èŒƒå›´çš„æ•°æ®æ˜ å°„åˆ°å°èŒƒå›´æ•°æ®ï¼Œå¦‚ï¼šå°†$-123456789$æ˜ å°„åˆ°$5$ï¼Œé‚£ä¹ˆ$a[5]=-123456789$ï¼Œç»Ÿè®¡çš„æ—¶å€™ç›´æ¥$cnt[3]++$å³å¯ï¼Œè¿™ä¾¿æ˜¯ç¦»æ•£åŒ–\n\n* æ€ä¹ˆå¿«é€Ÿçš„æ˜ å°„ï¼Œå¹¶ä¸”è®©æ˜ å°„çš„æ•°å­—ç›¸äº’ä¹‹é—´ä¸å†²çªï¼Ÿ\n  **æ’åºåŠ å»é‡ï¼Œä½¿åºåˆ—å‡åºçš„æ’åˆ°æ•°ç»„ä¸­**\n\n* æ€ä¹ˆæ‰¾åˆ°æ˜ å°„åçš„æ•°å­—åœ¨æ˜ å°„æ•°ç»„çš„ä¸‹æ ‡ï¼Ÿ\n\n  **äºŒåˆ†ï¼ˆå·²ç»æ’åºäº†ï¼‰ã€å“ˆå¸Œè¡¨**\n\n\n\n## 1. ç¦»æ•£åŒ–\n\n>  é¢˜ç›®é“¾æ¥ï¼š[802. åŒºé—´å’Œ - AcWingé¢˜åº“](https://www.acwing.com/problem/content/804/)\n\n* è¯¥é¢˜ç›®çš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼Œä½†æ˜¯æ•°æ®çš„æ€»æ•°åˆæ¯”è¾ƒå°ï¼Œåœ¨æ•°è½´ä¸Šéå¸¸ç¨€ç–ï¼Œå¹¶ä¸”å¦‚æœç”¨æšä¸¾çš„æ–¹å¼æ±‚åŒºé—´å’Œå¿…å®šä¼šè¶…æ—¶ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨ç¦»æ•£åŒ–çš„æ€æƒ³æ¥è§£å†³\n\n### 1.1. åŸºäºäºŒåˆ†\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å¿…é¡»è¦ç”¨ç¦»æ•£åŒ–\n\nconst int N=3e5+10; // max(n+2m)=3e5,å‡è®¾æ¯æ¬¡è¾“å…¥çš„å€¼éƒ½ä¸åŒ,æœ€å¤§ä¹Ÿæ‰3e5ä¸ªç©ºé—´\nint n,m; // næ¬¡åœ¨xä½ç½®ä¸ŠåŠ cçš„æ“ä½œ,mæ¬¡æŸ¥è¯¢åŒºé—´[l,r]æ‰€æœ‰æ•°çš„å’Œ\nint x,c;\nint l,r;\nint a[N]; // å­˜å‚¨æ•°å­—\nint s[N]; // å‰ç¼€å’Œæ•°ç»„\n\n// alls:éœ€è¦ç¦»æ•£åŒ–çš„æ•°ç»„,åœ¨æ’å…¥å’ŒæŸ¥è¯¢è¿‡ç¨‹ä¸­æŠŠéœ€è¦ç¦»æ•£åŒ–çš„åæ ‡æ·»åŠ è¿›æ¥\nvector<int> alls; // å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œä¸­é‡åˆ°çš„æ‰€æœ‰å”¯ä¸€åæ ‡,ç„¶åæ’åºç”¨äºç´¢å¼•\nvector<PII> add,query; // å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œçš„äºŒå…ƒç»„\n\n// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä¸‹æ ‡,ç­”æ¡ˆåœ¨å·¦è¾¹,å› æ­¤éœ€è¦ç”¨äºŒåˆ†çš„ç¬¬äºŒä¸ªæ¨¡æ¿(å‹ç¼©å³è¾¹ç•Œ)\nint find(int x) {\n\tint l=0,r=alls.size()-1;\n\twhile(l<r) {\n\t\tint mid=l+r>>1;\n\t\tif(alls[mid]>=x) \n\t\t\tr=mid;\n\t\telse\n\t\t\tl=mid+1;\n\t}\n\treturn r+1; // è¿”å›çš„æ˜¯é¡ºåºè€Œä¸æ˜¯ä¸‹æ ‡\n}\n\nint main() {\n\tcin>>n>>m;\n\twhile(n--) {\n\t\tscanf(\"%d%d\",&x,&c);\n\t\tadd.push_back({x,c});\n\t\talls.push_back(x); // éœ€è¦ç¦»æ•£åŒ–çš„æ•°å€¼å¤§å°\n\t}\n\twhile(m--) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tquery.push_back({l,r});\n\t\t// åŒºé—´ä¹Ÿéœ€è¦ç¦»æ•£åŒ–\n\t\talls.push_back(l);\n\t\talls.push_back(r);\n\t}\n\t// ç¦»æ•£åŒ–:å…ˆæ’åºåå»é‡(å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªç‚¹ä¸Š)\n\t// æ’åº\n\tsort(alls.begin(),alls.end());\n\t// å»é‡,uniqueå»é™¤èŒƒå›´å†…çš„é‡å¤å…ƒç´ å¹¶è¿”å›æ–°æ•°ç»„çš„æœ«å°¾ä½ç½®\n\talls.erase(unique(alls.begin(),alls.end()),alls.end());\n\t// æ‰§è¡Œå‰næ¬¡æ’å…¥æ“ä½œ\n\tfor(auto item:add) {\n\t\tint x=find(item.first); // æ‰¾åˆ°ç¦»æ•£åŒ–åçš„ä¸‹æ ‡\n\t\ta[x]+=item.second;\n\t}\n\t// ç”¨æ˜ å°„åçš„åœ°å€æ±‚ä¸€æ¬¡å‰ç¼€å’Œ\n\tfor(int i=1;i<=alls.size();i++) \n\t\ts[i]=s[i-1]+a[i];\n\t// æ‰§è¡Œåmæ¬¡è¯¢é—®åŒºé—´å’Œæ“ä½œ\n\tfor(auto item:query) {\n\t\tint l=find(item.first);\n\t\tint r=find(item.second);\n\t\tcout<<s[r]-s[l-1]<<endl;\n\t}\n\treturn 0;\n}\n/*\nè¾“å…¥æ ·ä¾‹:\n3 3\n1 2\n3 6\n7 5\n1 3\n4 6\n7 8\nè¾“å‡ºæ ·ä¾‹:\n8\n0\n5\n/*\n```\n\n\n\n### 1.2. åŸºäºå“ˆå¸Œè¡¨\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: äºŒåˆ†æŸ¥è¯¢ä¸‹æ ‡çš„æ—¶é—´æ˜¯O(nlogn),è€Œå“ˆå¸Œè¡¨åªéœ€è¦O(1)\n\nconst int N=3e5+5;\n\nint n,m;\nint x,c;\nint l,r;\n\nvector<int> alls; // æ‰€æœ‰éœ€è¦ç¦»æ•£åŒ–å¤„ç†çš„æ•°å€¼\nvector<PII> add,query; // å­˜å‚¨æ’å…¥æ“ä½œå’ŒåŒºé—´å’ŒæŸ¥è¯¢æ“ä½œçš„å‘é‡\n\nunordered_map<int,int> mp; // å“ˆå¸Œè¡¨(æ³¨æ„æ‰‹å†™å“ˆå¸Œè¡¨æ›´å¿«)\n\nint a[N],s[N]; // æ˜ å°„åçš„æ•°ç»„å’Œå‰ç¼€å’Œæ•°ç»„\n\nint main() {\n\tcin>>n>>m;\n\twhile(n--) {\n\t\tscanf(\"%d%d\",&x,&c);\n\t\talls.push_back(x);\n\t\tadd.push_back({x,c});\n\t}\n\twhile(m--) {\n\t\tscanf(\"%d%d\",&l,&r);\n\t\talls.push_back(l);\n\t\talls.push_back(r);\n\t\tquery.push_back({l,r});\n\t}\n\t// ç¦»æ•£åŒ–\n\tsort(alls.begin(),alls.end());\n\talls.erase(unique(alls.begin(),alls.end()),alls.end());\n\t// æ˜ å°„åˆ°ä¸‹æ ‡\n\tfor(int i=0;i<=alls.size()-1;i++) {\n\t\tmp[alls[i]]=i+1; // æ˜ å°„åˆ°ä»ä¸‹æ ‡1å¼€å§‹\n\t}\n\t// æ‰§è¡Œnæ¬¡addæ“ä½œ\n\tfor(auto item:add) {\n\t\tint x=mp[item.first];\n\t\ta[x]+=item.second;\n\t}\n\t// ç”¨æ˜ å°„åçš„å€¼è®¡ç®—å‰ç¼€å’Œ\n\tfor(int i=1;i<=alls.size();i++) {\n\t\ts[i]=s[i-1]+a[i];\n\t}\n\t// æ‰§è¡Œmæ¬¡æŸ¥è¯¢æ“ä½œ\n\tfor(auto item:query) {\n\t\tl=mp[item.first];\n\t\tr=mp[item.second];\n\t\tcout<<s[r]-s[l-1]<<endl;\n\t}\n\treturn 0;\n}\n```\n","slug":"ç¦»æ•£åŒ–","published":1,"updated":"2024-10-05T08:03:27.110Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpti0044c0nf55hcfwxk","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"ç¦»æ•£åŒ–\">ç¦»æ•£åŒ–</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E7%A6%BB%E6%95%A3%E5%8C%96\">1. ç¦»æ•£åŒ–</a><ul>\n<li><a href=\"#11-%E5%9F%BA%E4%BA%8E%E4%BA%8C%E5%88%86\">1.1. åŸºäºäºŒåˆ†</a></li>\n<li><a href=\"#12-%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8\">1.2. åŸºäºå“ˆå¸Œè¡¨</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-æ¦‚è¿°\">0. æ¦‚è¿°</span></h2><ul>\n<li><p>ä¸Šç¯‡åšå®¢æˆ‘ä»¬ä»‹ç»äº†æ¡¶ç»“æ„ï¼Œå‡è®¾ç°åœ¨ç»™æˆ‘ä»¬ä¸€ä¸ªåºåˆ—ï¼Œæ•°æ®èŒƒå›´æ˜¯$[-10^9,10^9]$ï¼Œæ˜¾ç„¶æˆ‘ä»¬æ˜¯ä¸èƒ½å†ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜çš„</p>\n</li>\n<li><p>æ‰€ä»¥ç°åœ¨éœ€è¦åšçš„å°±æ˜¯æŠŠå¤§èŒƒå›´çš„æ•°æ®æ˜ å°„åˆ°å°èŒƒå›´æ•°æ®ï¼Œå¦‚ï¼šå°†$-123456789$æ˜ å°„åˆ°$5$ï¼Œé‚£ä¹ˆ$a[5]&#x3D;-123456789$ï¼Œç»Ÿè®¡çš„æ—¶å€™ç›´æ¥$cnt[3]++$å³å¯ï¼Œè¿™ä¾¿æ˜¯ç¦»æ•£åŒ–</p>\n</li>\n<li><p>æ€ä¹ˆå¿«é€Ÿçš„æ˜ å°„ï¼Œå¹¶ä¸”è®©æ˜ å°„çš„æ•°å­—ç›¸äº’ä¹‹é—´ä¸å†²çªï¼Ÿ<br><strong>æ’åºåŠ å»é‡ï¼Œä½¿åºåˆ—å‡åºçš„æ’åˆ°æ•°ç»„ä¸­</strong></p>\n</li>\n<li><p>æ€ä¹ˆæ‰¾åˆ°æ˜ å°„åçš„æ•°å­—åœ¨æ˜ å°„æ•°ç»„çš„ä¸‹æ ‡ï¼Ÿ</p>\n<p><strong>äºŒåˆ†ï¼ˆå·²ç»æ’åºäº†ï¼‰ã€å“ˆå¸Œè¡¨</strong></p>\n</li>\n</ul>\n<h2><span id=\"1-ç¦»æ•£åŒ–\">1. ç¦»æ•£åŒ–</span></h2><blockquote>\n<p> é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/804/\">802. åŒºé—´å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>è¯¥é¢˜ç›®çš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼Œä½†æ˜¯æ•°æ®çš„æ€»æ•°åˆæ¯”è¾ƒå°ï¼Œåœ¨æ•°è½´ä¸Šéå¸¸ç¨€ç–ï¼Œå¹¶ä¸”å¦‚æœç”¨æšä¸¾çš„æ–¹å¼æ±‚åŒºé—´å’Œå¿…å®šä¼šè¶…æ—¶ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨ç¦»æ•£åŒ–çš„æ€æƒ³æ¥è§£å†³</li>\n</ul>\n<h3><span id=\"11-åŸºäºäºŒåˆ†\">1.1. åŸºäºäºŒåˆ†</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å¿…é¡»è¦ç”¨ç¦»æ•£åŒ–</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3e5</span><span class=\"number\">+10</span>; <span class=\"comment\">// max(n+2m)=3e5,å‡è®¾æ¯æ¬¡è¾“å…¥çš„å€¼éƒ½ä¸åŒ,æœ€å¤§ä¹Ÿæ‰3e5ä¸ªç©ºé—´</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// næ¬¡åœ¨xä½ç½®ä¸ŠåŠ cçš„æ“ä½œ,mæ¬¡æŸ¥è¯¢åŒºé—´[l,r]æ‰€æœ‰æ•°çš„å’Œ</span></span><br><span class=\"line\"><span class=\"type\">int</span> x,c;</span><br><span class=\"line\"><span class=\"type\">int</span> l,r;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ•°å­—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// alls:éœ€è¦ç¦»æ•£åŒ–çš„æ•°ç»„,åœ¨æ’å…¥å’ŒæŸ¥è¯¢è¿‡ç¨‹ä¸­æŠŠéœ€è¦ç¦»æ•£åŒ–çš„åæ ‡æ·»åŠ è¿›æ¥</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; alls; <span class=\"comment\">// å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œä¸­é‡åˆ°çš„æ‰€æœ‰å”¯ä¸€åæ ‡,ç„¶åæ’åºç”¨äºç´¢å¼•</span></span><br><span class=\"line\">vector&lt;PII&gt; add,query; <span class=\"comment\">// å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œçš„äºŒå…ƒç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä¸‹æ ‡,ç­”æ¡ˆåœ¨å·¦è¾¹,å› æ­¤éœ€è¦ç”¨äºŒåˆ†çš„ç¬¬äºŒä¸ªæ¨¡æ¿(å‹ç¼©å³è¾¹ç•Œ)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=alls.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(alls[mid]&gt;=x) </span><br><span class=\"line\">\t\t\tr=mid;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tl=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> r<span class=\"number\">+1</span>; <span class=\"comment\">// è¿”å›çš„æ˜¯é¡ºåºè€Œä¸æ˜¯ä¸‹æ ‡</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;x,&amp;c);</span><br><span class=\"line\">\t\tadd.<span class=\"built_in\">push_back</span>(&#123;x,c&#125;);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(x); <span class=\"comment\">// éœ€è¦ç¦»æ•£åŒ–çš„æ•°å€¼å¤§å°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\tquery.<span class=\"built_in\">push_back</span>(&#123;l,r&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// åŒºé—´ä¹Ÿéœ€è¦ç¦»æ•£åŒ–</span></span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(l);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(r);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»æ•£åŒ–:å…ˆæ’åºåå»é‡(å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªç‚¹ä¸Š)</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// å»é‡,uniqueå»é™¤èŒƒå›´å†…çš„é‡å¤å…ƒç´ å¹¶è¿”å›æ–°æ•°ç»„çš„æœ«å°¾ä½ç½®</span></span><br><span class=\"line\">\talls.<span class=\"built_in\">erase</span>(<span class=\"built_in\">unique</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>()),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œå‰næ¬¡æ’å…¥æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:add) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=<span class=\"built_in\">find</span>(item.first); <span class=\"comment\">// æ‰¾åˆ°ç¦»æ•£åŒ–åçš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\ta[x]+=item.second;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ˜ å°„åçš„åœ°å€æ±‚ä¸€æ¬¡å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=alls.<span class=\"built_in\">size</span>();i++) </span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œåmæ¬¡è¯¢é—®åŒºé—´å’Œæ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:query) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l=<span class=\"built_in\">find</span>(item.first);</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> r=<span class=\"built_in\">find</span>(item.second);</span><br><span class=\"line\">\t\tcout&lt;&lt;s[r]-s[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">3 3</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">3 6</span></span><br><span class=\"line\"><span class=\"comment\">7 5</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">4 6</span></span><br><span class=\"line\"><span class=\"comment\">7 8</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">8</span></span><br><span class=\"line\"><span class=\"comment\">0</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"12-åŸºäºå“ˆå¸Œè¡¨\">1.2. åŸºäºå“ˆå¸Œè¡¨</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: äºŒåˆ†æŸ¥è¯¢ä¸‹æ ‡çš„æ—¶é—´æ˜¯O(nlogn),è€Œå“ˆå¸Œè¡¨åªéœ€è¦O(1)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> x,c;</span><br><span class=\"line\"><span class=\"type\">int</span> l,r;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; alls; <span class=\"comment\">// æ‰€æœ‰éœ€è¦ç¦»æ•£åŒ–å¤„ç†çš„æ•°å€¼</span></span><br><span class=\"line\">vector&lt;PII&gt; add,query; <span class=\"comment\">// å­˜å‚¨æ’å…¥æ“ä½œå’ŒåŒºé—´å’ŒæŸ¥è¯¢æ“ä½œçš„å‘é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\">unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; mp; <span class=\"comment\">// å“ˆå¸Œè¡¨(æ³¨æ„æ‰‹å†™å“ˆå¸Œè¡¨æ›´å¿«)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> a[N],s[N]; <span class=\"comment\">// æ˜ å°„åçš„æ•°ç»„å’Œå‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;x,&amp;c);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(x);</span><br><span class=\"line\">\t\tadd.<span class=\"built_in\">push_back</span>(&#123;x,c&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(l);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(r);</span><br><span class=\"line\">\t\tquery.<span class=\"built_in\">push_back</span>(&#123;l,r&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»æ•£åŒ–</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\talls.<span class=\"built_in\">erase</span>(<span class=\"built_in\">unique</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>()),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜ å°„åˆ°ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=alls.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">\t\tmp[alls[i]]=i<span class=\"number\">+1</span>; <span class=\"comment\">// æ˜ å°„åˆ°ä»ä¸‹æ ‡1å¼€å§‹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œnæ¬¡addæ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:add) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=mp[item.first];</span><br><span class=\"line\">\t\ta[x]+=item.second;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ˜ å°„åçš„å€¼è®¡ç®—å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=alls.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œmæ¬¡æŸ¥è¯¢æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:query) &#123;</span><br><span class=\"line\">\t\tl=mp[item.first];</span><br><span class=\"line\">\t\tr=mp[item.second];</span><br><span class=\"line\">\t\tcout&lt;&lt;s[r]-s[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"ç¦»æ•£åŒ–\"><a href=\"#ç¦»æ•£åŒ–\" class=\"headerlink\" title=\"ç¦»æ•£åŒ–\"></a>ç¦»æ•£åŒ–</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E6%A6%82%E8%BF%B0\">0. æ¦‚è¿°</a></li>\n<li><a href=\"#1-%E7%A6%BB%E6%95%A3%E5%8C%96\">1. ç¦»æ•£åŒ–</a><ul>\n<li><a href=\"#11-%E5%9F%BA%E4%BA%8E%E4%BA%8C%E5%88%86\">1.1. åŸºäºäºŒåˆ†</a></li>\n<li><a href=\"#12-%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8\">1.2. åŸºäºå“ˆå¸Œè¡¨</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-æ¦‚è¿°\"><a href=\"#0-æ¦‚è¿°\" class=\"headerlink\" title=\"0. æ¦‚è¿°\"></a>0. æ¦‚è¿°</h2><ul>\n<li><p>ä¸Šç¯‡åšå®¢æˆ‘ä»¬ä»‹ç»äº†æ¡¶ç»“æ„ï¼Œå‡è®¾ç°åœ¨ç»™æˆ‘ä»¬ä¸€ä¸ªåºåˆ—ï¼Œæ•°æ®èŒƒå›´æ˜¯$[-10^9,10^9]$ï¼Œæ˜¾ç„¶æˆ‘ä»¬æ˜¯ä¸èƒ½å†ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜çš„</p>\n</li>\n<li><p>æ‰€ä»¥ç°åœ¨éœ€è¦åšçš„å°±æ˜¯æŠŠå¤§èŒƒå›´çš„æ•°æ®æ˜ å°„åˆ°å°èŒƒå›´æ•°æ®ï¼Œå¦‚ï¼šå°†$-123456789$æ˜ å°„åˆ°$5$ï¼Œé‚£ä¹ˆ$a[5]&#x3D;-123456789$ï¼Œç»Ÿè®¡çš„æ—¶å€™ç›´æ¥$cnt[3]++$å³å¯ï¼Œè¿™ä¾¿æ˜¯ç¦»æ•£åŒ–</p>\n</li>\n<li><p>æ€ä¹ˆå¿«é€Ÿçš„æ˜ å°„ï¼Œå¹¶ä¸”è®©æ˜ å°„çš„æ•°å­—ç›¸äº’ä¹‹é—´ä¸å†²çªï¼Ÿ<br><strong>æ’åºåŠ å»é‡ï¼Œä½¿åºåˆ—å‡åºçš„æ’åˆ°æ•°ç»„ä¸­</strong></p>\n</li>\n<li><p>æ€ä¹ˆæ‰¾åˆ°æ˜ å°„åçš„æ•°å­—åœ¨æ˜ å°„æ•°ç»„çš„ä¸‹æ ‡ï¼Ÿ</p>\n<p><strong>äºŒåˆ†ï¼ˆå·²ç»æ’åºäº†ï¼‰ã€å“ˆå¸Œè¡¨</strong></p>\n</li>\n</ul>\n<h2 id=\"1-ç¦»æ•£åŒ–\"><a href=\"#1-ç¦»æ•£åŒ–\" class=\"headerlink\" title=\"1. ç¦»æ•£åŒ–\"></a>1. ç¦»æ•£åŒ–</h2><blockquote>\n<p> é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.acwing.com/problem/content/804/\">802. åŒºé—´å’Œ - AcWingé¢˜åº“</a></p>\n</blockquote>\n<ul>\n<li>è¯¥é¢˜ç›®çš„æ•°æ®èŒƒå›´å¾ˆå¤§ï¼Œä½†æ˜¯æ•°æ®çš„æ€»æ•°åˆæ¯”è¾ƒå°ï¼Œåœ¨æ•°è½´ä¸Šéå¸¸ç¨€ç–ï¼Œå¹¶ä¸”å¦‚æœç”¨æšä¸¾çš„æ–¹å¼æ±‚åŒºé—´å’Œå¿…å®šä¼šè¶…æ—¶ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨ç¦»æ•£åŒ–çš„æ€æƒ³æ¥è§£å†³</li>\n</ul>\n<h3 id=\"1-1-åŸºäºäºŒåˆ†\"><a href=\"#1-1-åŸºäºäºŒåˆ†\" class=\"headerlink\" title=\"1.1. åŸºäºäºŒåˆ†\"></a>1.1. åŸºäºäºŒåˆ†</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å¿…é¡»è¦ç”¨ç¦»æ•£åŒ–</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3e5</span><span class=\"number\">+10</span>; <span class=\"comment\">// max(n+2m)=3e5,å‡è®¾æ¯æ¬¡è¾“å…¥çš„å€¼éƒ½ä¸åŒ,æœ€å¤§ä¹Ÿæ‰3e5ä¸ªç©ºé—´</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// næ¬¡åœ¨xä½ç½®ä¸ŠåŠ cçš„æ“ä½œ,mæ¬¡æŸ¥è¯¢åŒºé—´[l,r]æ‰€æœ‰æ•°çš„å’Œ</span></span><br><span class=\"line\"><span class=\"type\">int</span> x,c;</span><br><span class=\"line\"><span class=\"type\">int</span> l,r;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; <span class=\"comment\">// å­˜å‚¨æ•°å­—</span></span><br><span class=\"line\"><span class=\"type\">int</span> s[N]; <span class=\"comment\">// å‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// alls:éœ€è¦ç¦»æ•£åŒ–çš„æ•°ç»„,åœ¨æ’å…¥å’ŒæŸ¥è¯¢è¿‡ç¨‹ä¸­æŠŠéœ€è¦ç¦»æ•£åŒ–çš„åæ ‡æ·»åŠ è¿›æ¥</span></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; alls; <span class=\"comment\">// å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œä¸­é‡åˆ°çš„æ‰€æœ‰å”¯ä¸€åæ ‡,ç„¶åæ’åºç”¨äºç´¢å¼•</span></span><br><span class=\"line\">vector&lt;PII&gt; add,query; <span class=\"comment\">// å­˜å‚¨æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œçš„äºŒå…ƒç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä¸‹æ ‡,ç­”æ¡ˆåœ¨å·¦è¾¹,å› æ­¤éœ€è¦ç”¨äºŒåˆ†çš„ç¬¬äºŒä¸ªæ¨¡æ¿(å‹ç¼©å³è¾¹ç•Œ)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">find</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=alls.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(l&lt;r) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid=l+r&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(alls[mid]&gt;=x) </span><br><span class=\"line\">\t\t\tr=mid;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\tl=mid<span class=\"number\">+1</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> r<span class=\"number\">+1</span>; <span class=\"comment\">// è¿”å›çš„æ˜¯é¡ºåºè€Œä¸æ˜¯ä¸‹æ ‡</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;x,&amp;c);</span><br><span class=\"line\">\t\tadd.<span class=\"built_in\">push_back</span>(&#123;x,c&#125;);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(x); <span class=\"comment\">// éœ€è¦ç¦»æ•£åŒ–çš„æ•°å€¼å¤§å°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\tquery.<span class=\"built_in\">push_back</span>(&#123;l,r&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">// åŒºé—´ä¹Ÿéœ€è¦ç¦»æ•£åŒ–</span></span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(l);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(r);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»æ•£åŒ–:å…ˆæ’åºåå»é‡(å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªç‚¹ä¸Š)</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// å»é‡,uniqueå»é™¤èŒƒå›´å†…çš„é‡å¤å…ƒç´ å¹¶è¿”å›æ–°æ•°ç»„çš„æœ«å°¾ä½ç½®</span></span><br><span class=\"line\">\talls.<span class=\"built_in\">erase</span>(<span class=\"built_in\">unique</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>()),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œå‰næ¬¡æ’å…¥æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:add) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=<span class=\"built_in\">find</span>(item.first); <span class=\"comment\">// æ‰¾åˆ°ç¦»æ•£åŒ–åçš„ä¸‹æ ‡</span></span><br><span class=\"line\">\t\ta[x]+=item.second;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ˜ å°„åçš„åœ°å€æ±‚ä¸€æ¬¡å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=alls.<span class=\"built_in\">size</span>();i++) </span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œåmæ¬¡è¯¢é—®åŒºé—´å’Œæ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:query) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l=<span class=\"built_in\">find</span>(item.first);</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> r=<span class=\"built_in\">find</span>(item.second);</span><br><span class=\"line\">\t\tcout&lt;&lt;s[r]-s[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">3 3</span></span><br><span class=\"line\"><span class=\"comment\">1 2</span></span><br><span class=\"line\"><span class=\"comment\">3 6</span></span><br><span class=\"line\"><span class=\"comment\">7 5</span></span><br><span class=\"line\"><span class=\"comment\">1 3</span></span><br><span class=\"line\"><span class=\"comment\">4 6</span></span><br><span class=\"line\"><span class=\"comment\">7 8</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">8</span></span><br><span class=\"line\"><span class=\"comment\">0</span></span><br><span class=\"line\"><span class=\"comment\">5</span></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"1-2-åŸºäºå“ˆå¸Œè¡¨\"><a href=\"#1-2-åŸºäºå“ˆå¸Œè¡¨\" class=\"headerlink\" title=\"1.2. åŸºäºå“ˆå¸Œè¡¨\"></a>1.2. åŸºäºå“ˆå¸Œè¡¨</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: äºŒåˆ†æŸ¥è¯¢ä¸‹æ ‡çš„æ—¶é—´æ˜¯O(nlogn),è€Œå“ˆå¸Œè¡¨åªéœ€è¦O(1)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">3e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m;</span><br><span class=\"line\"><span class=\"type\">int</span> x,c;</span><br><span class=\"line\"><span class=\"type\">int</span> l,r;</span><br><span class=\"line\"></span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; alls; <span class=\"comment\">// æ‰€æœ‰éœ€è¦ç¦»æ•£åŒ–å¤„ç†çš„æ•°å€¼</span></span><br><span class=\"line\">vector&lt;PII&gt; add,query; <span class=\"comment\">// å­˜å‚¨æ’å…¥æ“ä½œå’ŒåŒºé—´å’ŒæŸ¥è¯¢æ“ä½œçš„å‘é‡</span></span><br><span class=\"line\"></span><br><span class=\"line\">unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; mp; <span class=\"comment\">// å“ˆå¸Œè¡¨(æ³¨æ„æ‰‹å†™å“ˆå¸Œè¡¨æ›´å¿«)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> a[N],s[N]; <span class=\"comment\">// æ˜ å°„åçš„æ•°ç»„å’Œå‰ç¼€å’Œæ•°ç»„</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;x,&amp;c);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(x);</span><br><span class=\"line\">\t\tadd.<span class=\"built_in\">push_back</span>(&#123;x,c&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(l);</span><br><span class=\"line\">\t\talls.<span class=\"built_in\">push_back</span>(r);</span><br><span class=\"line\">\t\tquery.<span class=\"built_in\">push_back</span>(&#123;l,r&#125;);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç¦»æ•£åŒ–</span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\talls.<span class=\"built_in\">erase</span>(<span class=\"built_in\">unique</span>(alls.<span class=\"built_in\">begin</span>(),alls.<span class=\"built_in\">end</span>()),alls.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜ å°„åˆ°ä¸‹æ ‡</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=alls.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i++) &#123;</span><br><span class=\"line\">\t\tmp[alls[i]]=i<span class=\"number\">+1</span>; <span class=\"comment\">// æ˜ å°„åˆ°ä»ä¸‹æ ‡1å¼€å§‹</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œnæ¬¡addæ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:add) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> x=mp[item.first];</span><br><span class=\"line\">\t\ta[x]+=item.second;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”¨æ˜ å°„åçš„å€¼è®¡ç®—å‰ç¼€å’Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=alls.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\ts[i]=s[i<span class=\"number\">-1</span>]+a[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰§è¡Œmæ¬¡æŸ¥è¯¢æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:query) &#123;</span><br><span class=\"line\">\t\tl=mp[item.first];</span><br><span class=\"line\">\t\tr=mp[item.second];</span><br><span class=\"line\">\t\tcout&lt;&lt;s[r]-s[l<span class=\"number\">-1</span>]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"ç®€å•æ•°è®º","date":"2024-10-07T02:27:02.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ç®€å•æ•°è®º\n\n<!-- toc -->\n\n\n\n## 1. è´¨æ•°ç­›\n\n> å…ˆä»æœ€ç®€å•çš„è´¨æ•°å¼€å§‹å§ï¼Œç”¨ä¼˜åŒ–éå†å¤§å°çš„æœ´ç´ æ³•æˆ–è€…æ¬§æ‹‰ç­›(çº¿æ€§ç­›)å¯ä»¥å®Œæˆï¼Œæ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(n)å’ŒO(logn)\n\n``` c++\nbool isPrime(int n) {\n\t// æœ€å°çš„è´¨æ•°æ˜¯2\n\tif(n<=1)\n\t\treturn false;\n\tfor(int i=2;i<=sqrt(n);i++) {\n\t\tif(n%i==0)\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n```\n\n\n\n## 2. è¿›åˆ¶æ•°æ‹†\n\n> æ¯”å¦‚æŠŠä»»æ„ä¸€ä¸ªæ­£æ•´æ•°æ‹†æˆäºŒè¿›åˆ¶è¡¨ç°çš„å½¢å¼ï¼Œå¦‚7=2çš„2æ¬¡æ–¹+2çš„1æ¬¡æ–¹+2çš„0æ¬¡æ–¹\n\n``` c++\nvector<int> v;\n\n// n:å¾…æ‹†åˆ†åè¿›åˆ¶æ•°\n// m:æ‹†åˆ†æˆå¤šå°‘è¿›åˆ¶çš„æ•°\nvoid split(int n,int m) {\n\tint s=0; // æƒ\n\twhile(n) {\n\t\tif(n%m) {\n\t\t\tcout<<m<<'^'<<s<<'='<<pow(m,s)<<'\\n';\n\t\t\tv.push_back(pow(m,s));\n\t\t}\n\t\tn/=m;\n\t\ts++;\n\t} cout<<endl;\n\tsort(v.begin(),v.end(),greater<int>());\n\tfor(int i=0;i<v.size();i++) {\n\t\tcout<<v[i];\n\t\tif(i!=v.size()-1) cout<<\"+\";\n\t}\n}\n```\n\n\n\n## 3. åˆ†è§£è´¨å› æ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: åˆ†è§£è´¨å› æ•°,ä¸€è¾¹æ‰¾è´¨å› å­ä¸€è¾¹å°†è´¨å› å­çš„å€¼å’Œå¹‚å­˜å‚¨èµ·æ¥\n */\n\nconst int N=1e5+5;\n\n// p[]:å­˜å‚¨è´¨å› å­,p[cnt]=x,ç¬¬cntä¸ªè´¨å› å­æ˜¯x\n// g[]:å­˜å‚¨è´¨å› å­çš„å¹‚,g[cnt]=y,ç¬¬cntä¸ªè´¨å› å­æ˜¯x,å¹‚æ˜¯y\n// cnt:è®°å½•ä¸ªæ•°\nint n,p[N],g[N],cnt; \nint res;\n\n// åˆ†è§£è´¨å› æ•°\nvoid prime_fact(int n) {\n\t// i*i<=n:æšä¸¾ä¼˜åŒ–,ä»2å¼€å§‹,2æ˜¯æœ€å°çš„è´¨æ•°\n\tfor(int i=2;i*i<=n;i++) {\n\t\tif(n%i==0) cnt++; // iæ˜¯nçš„å› å­,cnt++\n\t\t// è®¡ç®—içš„å¹‚\n\t\twhile(n%i==0) {\n\t\t\tp[cnt]=i;\n\t\t\tg[cnt]++; // æ¬¡å¹‚+1\n\t\t\tn/=i;\n\t\t}\n\t}\n\t// åˆ†è§£å®Œåå¦‚æœn>1,è¯´æ˜æœ€ç»ˆå‰©ä¸‹çš„æ•°å­—æ˜¯ä¸€ä¸ªè´¨æ•°,ä¹Ÿå•ç‹¬ç®—æˆè´¨å› æ•°\n\tif(n>1) {\n\t\tp[++cnt]=n;\n\t\tg[cnt]++;\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tprime_fact(n);\n\tfor(int i=1;i<=cnt;i++) {\n\t\tprintf(\"è´¨å› æ•°: %d, å¹‚ä¸º:%d\\n\",p[i],g[i]);\n\t}\n\t// æŒ‰å”¯ä¸€åˆ†è§£å®šç†å½¢å¼æ‰“å°\n\tcout<<n<<\"=\";\n\t// éå†p,gæ•°ç»„\n\tfor(int i=1;i<=cnt;i++) {\n\t\t// æ‰“å°g[i]æ¬¡p[i]\n\t\tfor(int j=1;j<=g[i];j++) {\n\t\t\tcout<<p[i];\n\t\t\tif(j!=g[i]) cout<<\"*\";\n\t\t}\t\n\t\tif(i!=cnt) cout<<\"*\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. è´¨æ•°ç­›\n\n### 4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰\n\n``` c++\nbool isPrime(int num) {\n    for(int i=2;i<=sqrt(num)) {\n        if(num%i==0)\n            return false;\n    }\n    return true;\n}\n```\n\n* å¦‚æœè¦æ‰¾ä» $[1,10000]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜\n\n\n\n### 4.2. æ¬§æ‹‰ç­›\n\n![image-20230720102317937](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png)\n\n* ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°ï¼Œè¢«ç­›æ‰çš„æ•°ä¼šè¢«æ ‡è®°ä¸ºåˆæ•°ï¼Œåˆæ•°ä¸ä¼šè¿›å…¥åˆ° $if$ ä¸­æ‰©å±•å…¶å€æ•°ï¼Œç›¸å½“äºæ¯ä¸ªæ•°åªè¢«éå†è¿‡ä¸€æ¬¡ï¼Œå› è€Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œæ¬§æ‹‰ç­›ä¹Ÿè¢«ç§°ä¸ºçº¿æ€§ç­›\n* æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›\n  å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„$j=iÃ—i$ æ”¹ä¸º $j=i+i$ \n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ¬§æ‹‰ç­›\n  å…ˆä»æœ€å°çš„è´¨æ•°å¼€å§‹,æ¯æ¬¡åœ¨æ•°æ®èŒƒå›´å†…å°†å®ƒçš„å€æ•°æ ‡è®°ä¸ºåˆæ•°,é‚£ä¹ˆç•™ä¸‹çš„ä¸€å®šæ˜¯ç´ æ•°\n  \n */\n\nconst int N=1e5+5;\n\nint f[N]; // f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool st[N]; // st[i]:içš„è®¿é—®çŠ¶æ€\nint p[N]; // å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°\nint idx,n; // idx:æ‰¾ç´ æ•°è¿­ä»£å™¨\n\nvoid get_primes(int n) {\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¦‚æœiæœªæ”¾é—®è¿‡\n\t\tif(!st[i]) {\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡\n\t\t\tp[++idx]=i; // å­˜å‚¨ç´ æ•°\n\t\t\t// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ\n\t\t\t// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†\n\t\t\tfor(int j=i*i;j<=n;j+=i) st[j]=true;\n\t\t} else {\n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tint l,r;\n\tcin>>l>>r;\n\tget_primes(n);\n\tprintf(\"1~%d ä¹‹é—´çš„è´¨æ•°åˆ†åˆ«æ˜¯:\",n);\n\tfor(int i=1;i<=idx;i++) {\n\t\tcout<<p[i];\n\t\tif(i!=idx) cout<<\",\";\n\t} cout<<endl;\n\tprintf(\"%d~%d ä¹‹é—´å­˜åœ¨çš„è´¨æ•°ä¸ªæ•°æ˜¯:%d\\n\",l,r,f[r]-f[l-1]);\n\treturn 0;\n}\n```\n\n\n\n## 5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\n\n> è¾—è½¬ç›¸é™¤æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼šè¿‘ä¼¼ $O(max(a,b))$\n\n### 5.1. ä¸¤ä¸ªæ•°\n\n* è¾—è½¬ç›¸é™¤æ³•ï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰æ±‚è§£æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°å°±æ˜¯ä¸¤æ•°çš„æˆç»©é™¤ä»¥æœ€å¤§å…¬çº¦æ•°\n\n``` c++\n// æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°\nint GCD(int m,int n) {\n\tint r;\n\twhile(m%n) {\n\t\tr=m%n;\n\t\tm=n;\n\t\tn=r;\n\t}\n\treturn n;\n}\n\n// æ›´ç®€å•æ˜“èƒŒçš„æ–¹æ³•\nint gcd(int a,int b) {\n    return b?gcd(b,a%b):a;\n}\n\n// æ±‚ä¸¤æ•°çš„æœ€å°å…¬å€æ•°\nint LCM(int m,int n) {\n\treturn m*n/GCD(m,n);\t\n} \n```\n\n\n\n### 5.2. nä¸ªæ•°\n\n#### 5.2.1. æ±‚å…¬å…±GCD\n\n* æ±‚å¤šä¸ªæ•°çš„ $GCD$ çš„æ€è·¯æ˜¯å…ˆæ±‚ä¸¤ä¸ªæ•°çš„ $GCD$ï¼Œå†ç”¨è¿™ä¸ªç»“æœä¸åç»­çš„æ¯ä¸€ä¸ªæ•°åˆ†åˆ«æ±‚å‡º $GCD$\n\n``` c\nconst int N=1e5+5;\nint n,a[N];\n\nint gcd(int a,int b) {\n\treturn b==0?a:gcd(b,a%b);\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\t// é€šè¿‡å¾ªç¯æ±‚å‡ºå…¬å…±GCD\n\tint res=a[1]; \n\tfor(int i=2;i<=n;i++) {\n\t\tres=gcd(res,a[i]);\n\t}\n\treturn 0;\n}\n```\n\n* ä¸Šè¿°æ±‚è§£æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ $O(n^2)$ï¼Œæ‰€ä»¥æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œæ¨èç”¨ä¸‹è¿°æ–¹æ³•æ±‚è§£å…¬å…± $GCD$\n\n1. å¯¹è¿™ç»„æ•°ä»å¤§åˆ°å°æ’åº\n2. å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„æ•° $A,B$ï¼ˆå‡è®¾ $A$ åœ¨å‰ï¼Œæ•…æœ‰ $A>B$ï¼‰ï¼Œå¦‚æœ $A=nÃ—B$ï¼Œåˆ™ä»¤ $A=B$ï¼›å¦åˆ™ä»¤ $A=A%B$\n\n3. é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—éƒ½ç›¸åŒï¼Œæ­¤æ—¶è¿™ä¸ªæ•°å°±ä¸ºå…¬å…± $GCD$\n\n``` c\nbool cmp(int a,int b) {\n\treturn a>b;\n}\n\nint multi_gcd(int a[],int n) {\n\tsort(a+1,a+1+n,cmp);\n\t// ç›´åˆ°æ‰€æœ‰æ•°å­—ç›¸ç­‰\n\twhile(a[1]!=a[n]) {\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tif(a[i]%a[i+1]==0) a[i]=a[i+1];\n\t\t\telse a[i]=a[i]%a[i+1];\n\t\t}\n\t\tsort(a+1,a+1+n,cmp);\n\t}\n\treturn a[1];\n}\n```\n\n\n\n#### 5.2.2. æ±‚å…¬å…±LCM\n\n* åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ç»„æ•°æ®ä¾æ¬¡æ±‚æœ€å°å…¬å€æ•°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæ—¶è¾¾åˆ° $O(n^2)$\n\n``` c\nint gcd(int a,int b) {\n\treturn b==0?a:gcd(b,a%b);\n}\n\nint multi_lcm(int a[],int n) {\n\tint res=a[1];\n\tfor(int i=1;i<=n;i++) {\n\t\tres=res*a[i]/gcd(res,a[i]);\n\t}\n}\n```\n\n* æ¥ä¸‹æ¥ä»‹ç»è´¨å› å­åˆ†è§£æ³•ï¼Œå¦‚ï¼šæ±‚ $10,12,4$ çš„æœ€å°å…¬å€æ•°\n  $â‘  10=2Ã—5,\\ â‘¡ 12=2Ã—3Ã—3,\\ â‘¢4=2Ã—2$\n  å¯è§ï¼Œ$2$ åœ¨â‘ â‘¡â‘¢å¼ä¸­éƒ½å‡ºç°äº†ï¼Œ $3$ åªåœ¨â‘¡å¼ä¸­å‡ºç°ï¼Œ $5$ åªåœ¨â‘ å¼ä¸­å‡ºç°\n  æ‰€ä»¥æœ€å°å…¬å€æ•°ï¼š$2^3Ã—3^1Ã—5^1=60$ï¼Œå³å¯¹æ¯ä¸ªè´¨å› å­çš„æœ€é«˜æ¬¡å¹‚åšä¹˜ç§¯å¾—åˆ°çš„å°±æ˜¯å…¬å…± $LCM$\n\n* ç”¨è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥é¿å…éå†æ—¶åšä¹˜æ³•è¶…å‡ºæ•°æ®ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´çš„æƒ…å†µ\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ±‚å…¬å…±LCM\n  1) å…ˆç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†å‡ºæ•°æ®èŒƒå›´å†…æ‰€æœ‰è´¨æ•°\n  2) å°†æ•°ç»„aä¸­çš„æ•°å­—ä¾æ¬¡åˆ†è§£è´¨å› æ•°,æŒ‰ç…§æ¬§æ‹‰ç­›ç­›å‡ºæ¥çš„è´¨æ•°åˆ†è§£\n  3) ç”¨ä¸€ä¸ªmapè®°å½•æ‰€æœ‰è´¨å› å­å‡ºç°çš„æœ€å°æ¬¡æ•°(è®¡ç®—GCD)æˆ–æœ€å¤§æ¬¡æ•°(è®¡ç®—LCM)\n  4) æšä¸¾mapä¸­çš„è´¨å› å­åŠå…¶å‡ºç°æ¬¡æ•°ä¹˜åœ¨ä¸€èµ·ç®—å‡ºGCDå’ŒLCMå³å¯\n  \n */\n\nconst int N=1e5+5;\n\nint f[N]; // f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool st[N]; // st[i]:içš„è®¿é—®çŠ¶æ€\nint p[N]; // å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°\nint idx,n; // idx:æ‰¾ç´ æ•°è¿­ä»£å™¨ \nmap<int,int> m_max; // m_max[i]:å¯¹a[i]è¿›è¡Œè´¨å› æ•°åˆ†è§£åæ¯ä¸ªè´¨å› æ•°çš„æœ€å¤§æ¬¡æ•°\nint a[N]; \n\nvoid get_primes(int n) {\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¦‚æœiæœªæ”¾é—®è¿‡\n\t\tif(!st[i]) {\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡\n\t\t\tp[++idx]=i; // å­˜å‚¨ç´ æ•°\n\t\t\t// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ\n\t\t\t// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†\n\t\t\tfor(int j=i*i;j<=n;j+=i) st[j]=true;\n\t\t} else {\n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t\t}\n\t}\n}\n\nvoid get_facts(int a[]) {\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¯¹äºæ•°ç»„aä¸­çš„æ¯ä¸€ä¸ªæ•°å­—,åˆ†è§£è´¨å› æ•°,è®¡ç®—åœ¨è¿™nä¸ªæ•°ä¸­çš„æœ€å¤§æ¬¡æ•°\t\n\t\tfor(int j=1;j<=idx;j++) {\n\t\t\t// å‰ªæ,å¦‚p[j]Ã—p[j]>a[i],è¯´æ˜p[j]ä¸å¯èƒ½ä¸ºa[i]è´¨å› æ•°\n\t\t\tif(p[j]*p[j]>a[i]) break;\n\t\t\t// éå†è´¨æ•°æ•°ç»„\n\t\t\tint cnt=0; // åˆ†è§£åp[i]çš„æ¬¡æ•°\n\t\t\twhile(a[i]%p[j]==0) {\n\t\t\t\tcnt++;\n\t\t\t\ta[i]/=p[j];\n\t\t\t}\n\t\t\tm_max[p[j]]=max(m_max[p[j]],cnt); // æ›´æ–°è´¨å› æ•°p[i]å‡ºç°çš„æœ€å¤§æ¬¡æ•°\n\t\t}\n\t\t// æœ¬èº«æ˜¯è´¨æ•°\n\t\tif(a[i]>1) {\n\t\t\tm_max[a[i]]=1; // æ¬¡å¹‚åªèƒ½ä¸º1\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\tget_primes(1000);\n\tget_facts(a);\n\t// æ‰“å°æµ‹è¯•\n\tint res=1;\n\tfor(auto it=m_max.begin();it!=m_max.end();it++) {\n\t\tcout<<it->first<<' '<<it->second<<endl;\n\t\tfor(int i=1;i<=it->second;i++) {\n\t\t\tres*=(it->first);\n\t\t}\n\t}\n\tcout<<res<<endl; // å…¬å…±LCM\n\treturn 0;\n}\n\n/*\nè¾“å…¥æ ·ä¾‹:\n6\n12 24 30 32 36 42\nè¾“å‡ºæ ·ä¾‹:\n10080\n */\n```\n","source":"_posts/ç®€å•æ•°è®º.md","raw":"---\ntitle: ç®€å•æ•°è®º\ndate: 2024-10-07 10:27:02\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# ç®€å•æ•°è®º\n\n<!-- toc -->\n\n\n\n## 1. è´¨æ•°ç­›\n\n> å…ˆä»æœ€ç®€å•çš„è´¨æ•°å¼€å§‹å§ï¼Œç”¨ä¼˜åŒ–éå†å¤§å°çš„æœ´ç´ æ³•æˆ–è€…æ¬§æ‹‰ç­›(çº¿æ€§ç­›)å¯ä»¥å®Œæˆï¼Œæ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(n)å’ŒO(logn)\n\n``` c++\nbool isPrime(int n) {\n\t// æœ€å°çš„è´¨æ•°æ˜¯2\n\tif(n<=1)\n\t\treturn false;\n\tfor(int i=2;i<=sqrt(n);i++) {\n\t\tif(n%i==0)\n\t\t\treturn false;\n\t}\n\treturn true;\n}\n```\n\n\n\n## 2. è¿›åˆ¶æ•°æ‹†\n\n> æ¯”å¦‚æŠŠä»»æ„ä¸€ä¸ªæ­£æ•´æ•°æ‹†æˆäºŒè¿›åˆ¶è¡¨ç°çš„å½¢å¼ï¼Œå¦‚7=2çš„2æ¬¡æ–¹+2çš„1æ¬¡æ–¹+2çš„0æ¬¡æ–¹\n\n``` c++\nvector<int> v;\n\n// n:å¾…æ‹†åˆ†åè¿›åˆ¶æ•°\n// m:æ‹†åˆ†æˆå¤šå°‘è¿›åˆ¶çš„æ•°\nvoid split(int n,int m) {\n\tint s=0; // æƒ\n\twhile(n) {\n\t\tif(n%m) {\n\t\t\tcout<<m<<'^'<<s<<'='<<pow(m,s)<<'\\n';\n\t\t\tv.push_back(pow(m,s));\n\t\t}\n\t\tn/=m;\n\t\ts++;\n\t} cout<<endl;\n\tsort(v.begin(),v.end(),greater<int>());\n\tfor(int i=0;i<v.size();i++) {\n\t\tcout<<v[i];\n\t\tif(i!=v.size()-1) cout<<\"+\";\n\t}\n}\n```\n\n\n\n## 3. åˆ†è§£è´¨å› æ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: åˆ†è§£è´¨å› æ•°,ä¸€è¾¹æ‰¾è´¨å› å­ä¸€è¾¹å°†è´¨å› å­çš„å€¼å’Œå¹‚å­˜å‚¨èµ·æ¥\n */\n\nconst int N=1e5+5;\n\n// p[]:å­˜å‚¨è´¨å› å­,p[cnt]=x,ç¬¬cntä¸ªè´¨å› å­æ˜¯x\n// g[]:å­˜å‚¨è´¨å› å­çš„å¹‚,g[cnt]=y,ç¬¬cntä¸ªè´¨å› å­æ˜¯x,å¹‚æ˜¯y\n// cnt:è®°å½•ä¸ªæ•°\nint n,p[N],g[N],cnt; \nint res;\n\n// åˆ†è§£è´¨å› æ•°\nvoid prime_fact(int n) {\n\t// i*i<=n:æšä¸¾ä¼˜åŒ–,ä»2å¼€å§‹,2æ˜¯æœ€å°çš„è´¨æ•°\n\tfor(int i=2;i*i<=n;i++) {\n\t\tif(n%i==0) cnt++; // iæ˜¯nçš„å› å­,cnt++\n\t\t// è®¡ç®—içš„å¹‚\n\t\twhile(n%i==0) {\n\t\t\tp[cnt]=i;\n\t\t\tg[cnt]++; // æ¬¡å¹‚+1\n\t\t\tn/=i;\n\t\t}\n\t}\n\t// åˆ†è§£å®Œåå¦‚æœn>1,è¯´æ˜æœ€ç»ˆå‰©ä¸‹çš„æ•°å­—æ˜¯ä¸€ä¸ªè´¨æ•°,ä¹Ÿå•ç‹¬ç®—æˆè´¨å› æ•°\n\tif(n>1) {\n\t\tp[++cnt]=n;\n\t\tg[cnt]++;\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tprime_fact(n);\n\tfor(int i=1;i<=cnt;i++) {\n\t\tprintf(\"è´¨å› æ•°: %d, å¹‚ä¸º:%d\\n\",p[i],g[i]);\n\t}\n\t// æŒ‰å”¯ä¸€åˆ†è§£å®šç†å½¢å¼æ‰“å°\n\tcout<<n<<\"=\";\n\t// éå†p,gæ•°ç»„\n\tfor(int i=1;i<=cnt;i++) {\n\t\t// æ‰“å°g[i]æ¬¡p[i]\n\t\tfor(int j=1;j<=g[i];j++) {\n\t\t\tcout<<p[i];\n\t\t\tif(j!=g[i]) cout<<\"*\";\n\t\t}\t\n\t\tif(i!=cnt) cout<<\"*\";\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 4. è´¨æ•°ç­›\n\n### 4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰\n\n``` c++\nbool isPrime(int num) {\n    for(int i=2;i<=sqrt(num)) {\n        if(num%i==0)\n            return false;\n    }\n    return true;\n}\n```\n\n* å¦‚æœè¦æ‰¾ä» $[1,10000]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜\n\n\n\n### 4.2. æ¬§æ‹‰ç­›\n\n![image-20230720102317937](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png)\n\n* ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°ï¼Œè¢«ç­›æ‰çš„æ•°ä¼šè¢«æ ‡è®°ä¸ºåˆæ•°ï¼Œåˆæ•°ä¸ä¼šè¿›å…¥åˆ° $if$ ä¸­æ‰©å±•å…¶å€æ•°ï¼Œç›¸å½“äºæ¯ä¸ªæ•°åªè¢«éå†è¿‡ä¸€æ¬¡ï¼Œå› è€Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œæ¬§æ‹‰ç­›ä¹Ÿè¢«ç§°ä¸ºçº¿æ€§ç­›\n* æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›\n  å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„$j=iÃ—i$ æ”¹ä¸º $j=i+i$ \n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ¬§æ‹‰ç­›\n  å…ˆä»æœ€å°çš„è´¨æ•°å¼€å§‹,æ¯æ¬¡åœ¨æ•°æ®èŒƒå›´å†…å°†å®ƒçš„å€æ•°æ ‡è®°ä¸ºåˆæ•°,é‚£ä¹ˆç•™ä¸‹çš„ä¸€å®šæ˜¯ç´ æ•°\n  \n */\n\nconst int N=1e5+5;\n\nint f[N]; // f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool st[N]; // st[i]:içš„è®¿é—®çŠ¶æ€\nint p[N]; // å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°\nint idx,n; // idx:æ‰¾ç´ æ•°è¿­ä»£å™¨\n\nvoid get_primes(int n) {\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¦‚æœiæœªæ”¾é—®è¿‡\n\t\tif(!st[i]) {\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡\n\t\t\tp[++idx]=i; // å­˜å‚¨ç´ æ•°\n\t\t\t// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ\n\t\t\t// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†\n\t\t\tfor(int j=i*i;j<=n;j+=i) st[j]=true;\n\t\t} else {\n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tint l,r;\n\tcin>>l>>r;\n\tget_primes(n);\n\tprintf(\"1~%d ä¹‹é—´çš„è´¨æ•°åˆ†åˆ«æ˜¯:\",n);\n\tfor(int i=1;i<=idx;i++) {\n\t\tcout<<p[i];\n\t\tif(i!=idx) cout<<\",\";\n\t} cout<<endl;\n\tprintf(\"%d~%d ä¹‹é—´å­˜åœ¨çš„è´¨æ•°ä¸ªæ•°æ˜¯:%d\\n\",l,r,f[r]-f[l-1]);\n\treturn 0;\n}\n```\n\n\n\n## 5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\n\n> è¾—è½¬ç›¸é™¤æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼šè¿‘ä¼¼ $O(max(a,b))$\n\n### 5.1. ä¸¤ä¸ªæ•°\n\n* è¾—è½¬ç›¸é™¤æ³•ï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰æ±‚è§£æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°å°±æ˜¯ä¸¤æ•°çš„æˆç»©é™¤ä»¥æœ€å¤§å…¬çº¦æ•°\n\n``` c++\n// æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°\nint GCD(int m,int n) {\n\tint r;\n\twhile(m%n) {\n\t\tr=m%n;\n\t\tm=n;\n\t\tn=r;\n\t}\n\treturn n;\n}\n\n// æ›´ç®€å•æ˜“èƒŒçš„æ–¹æ³•\nint gcd(int a,int b) {\n    return b?gcd(b,a%b):a;\n}\n\n// æ±‚ä¸¤æ•°çš„æœ€å°å…¬å€æ•°\nint LCM(int m,int n) {\n\treturn m*n/GCD(m,n);\t\n} \n```\n\n\n\n### 5.2. nä¸ªæ•°\n\n#### 5.2.1. æ±‚å…¬å…±GCD\n\n* æ±‚å¤šä¸ªæ•°çš„ $GCD$ çš„æ€è·¯æ˜¯å…ˆæ±‚ä¸¤ä¸ªæ•°çš„ $GCD$ï¼Œå†ç”¨è¿™ä¸ªç»“æœä¸åç»­çš„æ¯ä¸€ä¸ªæ•°åˆ†åˆ«æ±‚å‡º $GCD$\n\n``` c\nconst int N=1e5+5;\nint n,a[N];\n\nint gcd(int a,int b) {\n\treturn b==0?a:gcd(b,a%b);\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\t// é€šè¿‡å¾ªç¯æ±‚å‡ºå…¬å…±GCD\n\tint res=a[1]; \n\tfor(int i=2;i<=n;i++) {\n\t\tres=gcd(res,a[i]);\n\t}\n\treturn 0;\n}\n```\n\n* ä¸Šè¿°æ±‚è§£æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ $O(n^2)$ï¼Œæ‰€ä»¥æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œæ¨èç”¨ä¸‹è¿°æ–¹æ³•æ±‚è§£å…¬å…± $GCD$\n\n1. å¯¹è¿™ç»„æ•°ä»å¤§åˆ°å°æ’åº\n2. å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„æ•° $A,B$ï¼ˆå‡è®¾ $A$ åœ¨å‰ï¼Œæ•…æœ‰ $A>B$ï¼‰ï¼Œå¦‚æœ $A=nÃ—B$ï¼Œåˆ™ä»¤ $A=B$ï¼›å¦åˆ™ä»¤ $A=A%B$\n\n3. é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—éƒ½ç›¸åŒï¼Œæ­¤æ—¶è¿™ä¸ªæ•°å°±ä¸ºå…¬å…± $GCD$\n\n``` c\nbool cmp(int a,int b) {\n\treturn a>b;\n}\n\nint multi_gcd(int a[],int n) {\n\tsort(a+1,a+1+n,cmp);\n\t// ç›´åˆ°æ‰€æœ‰æ•°å­—ç›¸ç­‰\n\twhile(a[1]!=a[n]) {\n\t\tfor(int i=1;i<n;i++) {\n\t\t\tif(a[i]%a[i+1]==0) a[i]=a[i+1];\n\t\t\telse a[i]=a[i]%a[i+1];\n\t\t}\n\t\tsort(a+1,a+1+n,cmp);\n\t}\n\treturn a[1];\n}\n```\n\n\n\n#### 5.2.2. æ±‚å…¬å…±LCM\n\n* åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ç»„æ•°æ®ä¾æ¬¡æ±‚æœ€å°å…¬å€æ•°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæ—¶è¾¾åˆ° $O(n^2)$\n\n``` c\nint gcd(int a,int b) {\n\treturn b==0?a:gcd(b,a%b);\n}\n\nint multi_lcm(int a[],int n) {\n\tint res=a[1];\n\tfor(int i=1;i<=n;i++) {\n\t\tres=res*a[i]/gcd(res,a[i]);\n\t}\n}\n```\n\n* æ¥ä¸‹æ¥ä»‹ç»è´¨å› å­åˆ†è§£æ³•ï¼Œå¦‚ï¼šæ±‚ $10,12,4$ çš„æœ€å°å…¬å€æ•°\n  $â‘  10=2Ã—5,\\ â‘¡ 12=2Ã—3Ã—3,\\ â‘¢4=2Ã—2$\n  å¯è§ï¼Œ$2$ åœ¨â‘ â‘¡â‘¢å¼ä¸­éƒ½å‡ºç°äº†ï¼Œ $3$ åªåœ¨â‘¡å¼ä¸­å‡ºç°ï¼Œ $5$ åªåœ¨â‘ å¼ä¸­å‡ºç°\n  æ‰€ä»¥æœ€å°å…¬å€æ•°ï¼š$2^3Ã—3^1Ã—5^1=60$ï¼Œå³å¯¹æ¯ä¸ªè´¨å› å­çš„æœ€é«˜æ¬¡å¹‚åšä¹˜ç§¯å¾—åˆ°çš„å°±æ˜¯å…¬å…± $LCM$\n\n* ç”¨è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥é¿å…éå†æ—¶åšä¹˜æ³•è¶…å‡ºæ•°æ®ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´çš„æƒ…å†µ\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ±‚å…¬å…±LCM\n  1) å…ˆç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†å‡ºæ•°æ®èŒƒå›´å†…æ‰€æœ‰è´¨æ•°\n  2) å°†æ•°ç»„aä¸­çš„æ•°å­—ä¾æ¬¡åˆ†è§£è´¨å› æ•°,æŒ‰ç…§æ¬§æ‹‰ç­›ç­›å‡ºæ¥çš„è´¨æ•°åˆ†è§£\n  3) ç”¨ä¸€ä¸ªmapè®°å½•æ‰€æœ‰è´¨å› å­å‡ºç°çš„æœ€å°æ¬¡æ•°(è®¡ç®—GCD)æˆ–æœ€å¤§æ¬¡æ•°(è®¡ç®—LCM)\n  4) æšä¸¾mapä¸­çš„è´¨å› å­åŠå…¶å‡ºç°æ¬¡æ•°ä¹˜åœ¨ä¸€èµ·ç®—å‡ºGCDå’ŒLCMå³å¯\n  \n */\n\nconst int N=1e5+5;\n\nint f[N]; // f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡\nbool st[N]; // st[i]:içš„è®¿é—®çŠ¶æ€\nint p[N]; // å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°\nint idx,n; // idx:æ‰¾ç´ æ•°è¿­ä»£å™¨ \nmap<int,int> m_max; // m_max[i]:å¯¹a[i]è¿›è¡Œè´¨å› æ•°åˆ†è§£åæ¯ä¸ªè´¨å› æ•°çš„æœ€å¤§æ¬¡æ•°\nint a[N]; \n\nvoid get_primes(int n) {\n\tf[1]=0;\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¦‚æœiæœªæ”¾é—®è¿‡\n\t\tif(!st[i]) {\n\t\t\tf[i]=f[i-1]+1; // è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡\n\t\t\tp[++idx]=i; // å­˜å‚¨ç´ æ•°\n\t\t\t// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ\n\t\t\t// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†\n\t\t\tfor(int j=i*i;j<=n;j+=i) st[j]=true;\n\t\t} else {\n\t\t\tf[i]=f[i-1]; // å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°\n\t\t}\n\t}\n}\n\nvoid get_facts(int a[]) {\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¯¹äºæ•°ç»„aä¸­çš„æ¯ä¸€ä¸ªæ•°å­—,åˆ†è§£è´¨å› æ•°,è®¡ç®—åœ¨è¿™nä¸ªæ•°ä¸­çš„æœ€å¤§æ¬¡æ•°\t\n\t\tfor(int j=1;j<=idx;j++) {\n\t\t\t// å‰ªæ,å¦‚p[j]Ã—p[j]>a[i],è¯´æ˜p[j]ä¸å¯èƒ½ä¸ºa[i]è´¨å› æ•°\n\t\t\tif(p[j]*p[j]>a[i]) break;\n\t\t\t// éå†è´¨æ•°æ•°ç»„\n\t\t\tint cnt=0; // åˆ†è§£åp[i]çš„æ¬¡æ•°\n\t\t\twhile(a[i]%p[j]==0) {\n\t\t\t\tcnt++;\n\t\t\t\ta[i]/=p[j];\n\t\t\t}\n\t\t\tm_max[p[j]]=max(m_max[p[j]],cnt); // æ›´æ–°è´¨å› æ•°p[i]å‡ºç°çš„æœ€å¤§æ¬¡æ•°\n\t\t}\n\t\t// æœ¬èº«æ˜¯è´¨æ•°\n\t\tif(a[i]>1) {\n\t\t\tm_max[a[i]]=1; // æ¬¡å¹‚åªèƒ½ä¸º1\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>a[i];\t\n\t}\n\tget_primes(1000);\n\tget_facts(a);\n\t// æ‰“å°æµ‹è¯•\n\tint res=1;\n\tfor(auto it=m_max.begin();it!=m_max.end();it++) {\n\t\tcout<<it->first<<' '<<it->second<<endl;\n\t\tfor(int i=1;i<=it->second;i++) {\n\t\t\tres*=(it->first);\n\t\t}\n\t}\n\tcout<<res<<endl; // å…¬å…±LCM\n\treturn 0;\n}\n\n/*\nè¾“å…¥æ ·ä¾‹:\n6\n12 24 30 32 36 42\nè¾“å‡ºæ ·ä¾‹:\n10080\n */\n```\n","slug":"ç®€å•æ•°è®º","published":1,"updated":"2024-10-07T02:27:56.614Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptj0047c0nf3oyo1hi4","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"ç®€å•æ•°è®º\">ç®€å•æ•°è®º</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E8%B4%A8%E6%95%B0%E7%AD%9B\">1. è´¨æ•°ç­›</a></li>\n<li><a href=\"#2-%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8B%86\">2. è¿›åˆ¶æ•°æ‹†</a></li>\n<li><a href=\"#3-%E5%88%86%E8%A7%A3%E8%B4%A8%E5%9B%A0%E6%95%B0\">3. åˆ†è§£è´¨å› æ•°</a></li>\n<li><a href=\"#4-%E8%B4%A8%E6%95%B0%E7%AD%9B\">4. è´¨æ•°ç­›</a><ul>\n<li><a href=\"#41-%E8%AF%95%E9%99%A4%E6%B3%95%E6%9E%9A%E4%B8%BE%E4%BC%98%E5%8C%96\">4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰</a></li>\n<li><a href=\"#42-%E6%AC%A7%E6%8B%89%E7%AD%9B\">4.2. æ¬§æ‹‰ç­›</a></li>\n</ul>\n</li>\n<li><a href=\"#5-%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E4%B8%8E%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0\">5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°</a><ul>\n<li><a href=\"#51-%E4%B8%A4%E4%B8%AA%E6%95%B0\">5.1. ä¸¤ä¸ªæ•°</a></li>\n<li><a href=\"#52-n%E4%B8%AA%E6%95%B0\">5.2. nä¸ªæ•°</a><ul>\n<li><a href=\"#521-%E6%B1%82%E5%85%AC%E5%85%B1gcd\">5.2.1. æ±‚å…¬å…±GCD</a></li>\n<li><a href=\"#522-%E6%B1%82%E5%85%AC%E5%85%B1lcm\">5.2.2. æ±‚å…¬å…±LCM</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-è´¨æ•°ç­›\">1. è´¨æ•°ç­›</span></h2><blockquote>\n<p>å…ˆä»æœ€ç®€å•çš„è´¨æ•°å¼€å§‹å§ï¼Œç”¨ä¼˜åŒ–éå†å¤§å°çš„æœ´ç´ æ³•æˆ–è€…æ¬§æ‹‰ç­›(çº¿æ€§ç­›)å¯ä»¥å®Œæˆï¼Œæ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(n)å’ŒO(logn)</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœ€å°çš„è´¨æ•°æ˜¯2</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n&lt;=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(n);i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-è¿›åˆ¶æ•°æ‹†\">2. è¿›åˆ¶æ•°æ‹†</span></h2><blockquote>\n<p>æ¯”å¦‚æŠŠä»»æ„ä¸€ä¸ªæ­£æ•´æ•°æ‹†æˆäºŒè¿›åˆ¶è¡¨ç°çš„å½¢å¼ï¼Œå¦‚7&#x3D;2çš„2æ¬¡æ–¹+2çš„1æ¬¡æ–¹+2çš„0æ¬¡æ–¹</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; v;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// n:å¾…æ‹†åˆ†åè¿›åˆ¶æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// m:æ‹†åˆ†æˆå¤šå°‘è¿›åˆ¶çš„æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">split</span><span class=\"params\">(<span class=\"type\">int</span> n,<span class=\"type\">int</span> m)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> s=<span class=\"number\">0</span>; <span class=\"comment\">// æƒ</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%m) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;m&lt;&lt;<span class=\"string\">&#x27;^&#x27;</span>&lt;&lt;s&lt;&lt;<span class=\"string\">&#x27;=&#x27;</span>&lt;&lt;<span class=\"built_in\">pow</span>(m,s)&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t\t\tv.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">pow</span>(m,s));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tn/=m;</span><br><span class=\"line\">\t\ts++;</span><br><span class=\"line\">\t&#125; cout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(v.<span class=\"built_in\">begin</span>(),v.<span class=\"built_in\">end</span>(),<span class=\"built_in\">greater</span>&lt;<span class=\"type\">int</span>&gt;());</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;v.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;v[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=v.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>) cout&lt;&lt;<span class=\"string\">&quot;+&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-åˆ†è§£è´¨å› æ•°\">3. åˆ†è§£è´¨å› æ•°</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: åˆ†è§£è´¨å› æ•°,ä¸€è¾¹æ‰¾è´¨å› å­ä¸€è¾¹å°†è´¨å› å­çš„å€¼å’Œå¹‚å­˜å‚¨èµ·æ¥</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p[]:å­˜å‚¨è´¨å› å­,p[cnt]=x,ç¬¬cntä¸ªè´¨å› å­æ˜¯x</span></span><br><span class=\"line\"><span class=\"comment\">// g[]:å­˜å‚¨è´¨å› å­çš„å¹‚,g[cnt]=y,ç¬¬cntä¸ªè´¨å› å­æ˜¯x,å¹‚æ˜¯y</span></span><br><span class=\"line\"><span class=\"comment\">// cnt:è®°å½•ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,p[N],g[N],cnt; </span><br><span class=\"line\"><span class=\"type\">int</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ†è§£è´¨å› æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">prime_fact</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// i*i&lt;=n:æšä¸¾ä¼˜åŒ–,ä»2å¼€å§‹,2æ˜¯æœ€å°çš„è´¨æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i*i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%i==<span class=\"number\">0</span>) cnt++; <span class=\"comment\">// iæ˜¯nçš„å› å­,cnt++</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¡ç®—içš„å¹‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(n%i==<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\tp[cnt]=i;</span><br><span class=\"line\">\t\t\tg[cnt]++; <span class=\"comment\">// æ¬¡å¹‚+1</span></span><br><span class=\"line\">\t\t\tn/=i;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ†è§£å®Œåå¦‚æœn&gt;1,è¯´æ˜æœ€ç»ˆå‰©ä¸‹çš„æ•°å­—æ˜¯ä¸€ä¸ªè´¨æ•°,ä¹Ÿå•ç‹¬ç®—æˆè´¨å› æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\tp[++cnt]=n;</span><br><span class=\"line\">\t\tg[cnt]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">prime_fact</span>(n);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;è´¨å› æ•°: %d, å¹‚ä¸º:%d\\n&quot;</span>,p[i],g[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‰å”¯ä¸€åˆ†è§£å®šç†å½¢å¼æ‰“å°</span></span><br><span class=\"line\">\tcout&lt;&lt;n&lt;&lt;<span class=\"string\">&quot;=&quot;</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†p,gæ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰“å°g[i]æ¬¡p[i]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=g[i];j++) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(j!=g[i]) cout&lt;&lt;<span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=cnt) cout&lt;&lt;<span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-è´¨æ•°ç­›\">4. è´¨æ•°ç­›</span></h2><h3><span id=\"41-è¯•é™¤æ³•æšä¸¾ä¼˜åŒ–\">4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰</span></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(num)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœè¦æ‰¾ä» $[1,10000]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜</li>\n</ul>\n<h3><span id=\"42-æ¬§æ‹‰ç­›\">4.2. æ¬§æ‹‰ç­›</span></h3><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png\" alt=\"image-20230720102317937\"></p>\n<ul>\n<li>ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°ï¼Œè¢«ç­›æ‰çš„æ•°ä¼šè¢«æ ‡è®°ä¸ºåˆæ•°ï¼Œåˆæ•°ä¸ä¼šè¿›å…¥åˆ° $if$ ä¸­æ‰©å±•å…¶å€æ•°ï¼Œç›¸å½“äºæ¯ä¸ªæ•°åªè¢«éå†è¿‡ä¸€æ¬¡ï¼Œå› è€Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œæ¬§æ‹‰ç­›ä¹Ÿè¢«ç§°ä¸ºçº¿æ€§ç­›</li>\n<li>æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›<br>å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„$j&#x3D;iÃ—i$ æ”¹ä¸º $j&#x3D;i+i$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ¬§æ‹‰ç­›</span></span><br><span class=\"line\"><span class=\"comment\">  å…ˆä»æœ€å°çš„è´¨æ•°å¼€å§‹,æ¯æ¬¡åœ¨æ•°æ®èŒƒå›´å†…å°†å®ƒçš„å€æ•°æ ‡è®°ä¸ºåˆæ•°,é‚£ä¹ˆç•™ä¸‹çš„ä¸€å®šæ˜¯ç´ æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// st[i]:içš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idx:æ‰¾ç´ æ•°è¿­ä»£å™¨</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiæœªæ”¾é—®è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]<span class=\"number\">+1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// å­˜å‚¨ç´ æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) st[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\tcin&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t<span class=\"built_in\">get_primes</span>(n);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;1~%d ä¹‹é—´çš„è´¨æ•°åˆ†åˆ«æ˜¯:&quot;</span>,n);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=idx;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=idx) cout&lt;&lt;<span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">\t&#125; cout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d~%d ä¹‹é—´å­˜åœ¨çš„è´¨æ•°ä¸ªæ•°æ˜¯:%d\\n&quot;</span>,l,r,f[r]-f[l<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"5-æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\">5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°</span></h2><blockquote>\n<p>è¾—è½¬ç›¸é™¤æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼šè¿‘ä¼¼ $O(max(a,b))$</p>\n</blockquote>\n<h3><span id=\"51-ä¸¤ä¸ªæ•°\">5.1. ä¸¤ä¸ªæ•°</span></h3><ul>\n<li>è¾—è½¬ç›¸é™¤æ³•ï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰æ±‚è§£æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°å°±æ˜¯ä¸¤æ•°çš„æˆç»©é™¤ä»¥æœ€å¤§å…¬çº¦æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">GCD</span><span class=\"params\">(<span class=\"type\">int</span> m,<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m%n) &#123;</span><br><span class=\"line\">\t\tr=m%n;</span><br><span class=\"line\">\t\tm=n;</span><br><span class=\"line\">\t\tn=r;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´ç®€å•æ˜“èƒŒçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> b?<span class=\"built_in\">gcd</span>(b,a%b):a;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ±‚ä¸¤æ•°çš„æœ€å°å…¬å€æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">LCM</span><span class=\"params\">(<span class=\"type\">int</span> m,<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> m*n/<span class=\"built_in\">GCD</span>(m,n);\t</span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"52-nä¸ªæ•°\">5.2. nä¸ªæ•°</span></h3><h4><span id=\"521-æ±‚å…¬å…±gcd\">5.2.1. æ±‚å…¬å…±GCD</span></h4><ul>\n<li>æ±‚å¤šä¸ªæ•°çš„ $GCD$ çš„æ€è·¯æ˜¯å…ˆæ±‚ä¸¤ä¸ªæ•°çš„ $GCD$ï¼Œå†ç”¨è¿™ä¸ªç»“æœä¸åç»­çš„æ¯ä¸€ä¸ªæ•°åˆ†åˆ«æ±‚å‡º $GCD$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> b==<span class=\"number\">0</span>?a:gcd(b,a%b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// é€šè¿‡å¾ªç¯æ±‚å‡ºå…¬å…±GCD</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=a[<span class=\"number\">1</span>]; </span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tres=gcd(res,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸Šè¿°æ±‚è§£æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ $O(n^2)$ï¼Œæ‰€ä»¥æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œæ¨èç”¨ä¸‹è¿°æ–¹æ³•æ±‚è§£å…¬å…± $GCD$</li>\n</ul>\n<ol>\n<li><p>å¯¹è¿™ç»„æ•°ä»å¤§åˆ°å°æ’åº</p>\n</li>\n<li><p>å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„æ•° $A,B$ï¼ˆå‡è®¾ $A$ åœ¨å‰ï¼Œæ•…æœ‰ $A&gt;B$ï¼‰ï¼Œå¦‚æœ $A&#x3D;nÃ—B$ï¼Œåˆ™ä»¤ $A&#x3D;B$ï¼›å¦åˆ™ä»¤ $A&#x3D;A%B$</p>\n</li>\n<li><p>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—éƒ½ç›¸åŒï¼Œæ­¤æ—¶è¿™ä¸ªæ•°å°±ä¸ºå…¬å…± $GCD$</p>\n</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a&gt;b;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">multi_gcd</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// ç›´åˆ°æ‰€æœ‰æ•°å­—ç›¸ç­‰</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(a[<span class=\"number\">1</span>]!=a[n]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a[i]%a[i+<span class=\"number\">1</span>]==<span class=\"number\">0</span>) a[i]=a[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> a[i]=a[i]%a[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a[<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4><span id=\"522-æ±‚å…¬å…±lcm\">5.2.2. æ±‚å…¬å…±LCM</span></h4><ul>\n<li>åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ç»„æ•°æ®ä¾æ¬¡æ±‚æœ€å°å…¬å€æ•°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæ—¶è¾¾åˆ° $O(n^2)$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> b==<span class=\"number\">0</span>?a:gcd(b,a%b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">multi_lcm</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=a[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tres=res*a[i]/gcd(res,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>æ¥ä¸‹æ¥ä»‹ç»è´¨å› å­åˆ†è§£æ³•ï¼Œå¦‚ï¼šæ±‚ $10,12,4$ çš„æœ€å°å…¬å€æ•°<br>$â‘  10&#x3D;2Ã—5,\\ â‘¡ 12&#x3D;2Ã—3Ã—3,\\ â‘¢4&#x3D;2Ã—2$<br>å¯è§ï¼Œ$2$ åœ¨â‘ â‘¡â‘¢å¼ä¸­éƒ½å‡ºç°äº†ï¼Œ $3$ åªåœ¨â‘¡å¼ä¸­å‡ºç°ï¼Œ $5$ åªåœ¨â‘ å¼ä¸­å‡ºç°<br>æ‰€ä»¥æœ€å°å…¬å€æ•°ï¼š$2^3Ã—3^1Ã—5^1&#x3D;60$ï¼Œå³å¯¹æ¯ä¸ªè´¨å› å­çš„æœ€é«˜æ¬¡å¹‚åšä¹˜ç§¯å¾—åˆ°çš„å°±æ˜¯å…¬å…± $LCM$</p>\n</li>\n<li><p>ç”¨è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥é¿å…éå†æ—¶åšä¹˜æ³•è¶…å‡ºæ•°æ®ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´çš„æƒ…å†µ</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ±‚å…¬å…±LCM</span></span><br><span class=\"line\"><span class=\"comment\">  1) å…ˆç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†å‡ºæ•°æ®èŒƒå›´å†…æ‰€æœ‰è´¨æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  2) å°†æ•°ç»„aä¸­çš„æ•°å­—ä¾æ¬¡åˆ†è§£è´¨å› æ•°,æŒ‰ç…§æ¬§æ‹‰ç­›ç­›å‡ºæ¥çš„è´¨æ•°åˆ†è§£</span></span><br><span class=\"line\"><span class=\"comment\">  3) ç”¨ä¸€ä¸ªmapè®°å½•æ‰€æœ‰è´¨å› å­å‡ºç°çš„æœ€å°æ¬¡æ•°(è®¡ç®—GCD)æˆ–æœ€å¤§æ¬¡æ•°(è®¡ç®—LCM)</span></span><br><span class=\"line\"><span class=\"comment\">  4) æšä¸¾mapä¸­çš„è´¨å› å­åŠå…¶å‡ºç°æ¬¡æ•°ä¹˜åœ¨ä¸€èµ·ç®—å‡ºGCDå’ŒLCMå³å¯</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// st[i]:içš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idx:æ‰¾ç´ æ•°è¿­ä»£å™¨ </span></span><br><span class=\"line\"><span class=\"built_in\">map</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m_max; <span class=\"comment\">// m_max[i]:å¯¹a[i]è¿›è¡Œè´¨å› æ•°åˆ†è§£åæ¯ä¸ªè´¨å› æ•°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiæœªæ”¾é—®è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]+<span class=\"number\">1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// å­˜å‚¨ç´ æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) st[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">get_facts</span><span class=\"params\">(<span class=\"type\">int</span> a[])</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯¹äºæ•°ç»„aä¸­çš„æ¯ä¸€ä¸ªæ•°å­—,åˆ†è§£è´¨å› æ•°,è®¡ç®—åœ¨è¿™nä¸ªæ•°ä¸­çš„æœ€å¤§æ¬¡æ•°\t</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=idx;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‰ªæ,å¦‚p[j]Ã—p[j]&gt;a[i],è¯´æ˜p[j]ä¸å¯èƒ½ä¸ºa[i]è´¨å› æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(p[j]*p[j]&gt;a[i]) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†è´¨æ•°æ•°ç»„</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ†è§£åp[i]çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(a[i]%p[j]==<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t\tcnt++;</span><br><span class=\"line\">\t\t\t\ta[i]/=p[j];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tm_max[p[j]]=max(m_max[p[j]],cnt); <span class=\"comment\">// æ›´æ–°è´¨å› æ•°p[i]å‡ºç°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ¬èº«æ˜¯è´¨æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\tm_max[a[i]]=<span class=\"number\">1</span>; <span class=\"comment\">// æ¬¡å¹‚åªèƒ½ä¸º1</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tget_primes(<span class=\"number\">1000</span>);</span><br><span class=\"line\">\tget_facts(a);</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°æµ‹è¯•</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> it=m_max.begin();it!=m_max.end();it++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;it-&gt;first&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;it-&gt;second&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=it-&gt;second;i++) &#123;</span><br><span class=\"line\">\t\t\tres*=(it-&gt;first);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// å…¬å…±LCM</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">6</span></span><br><span class=\"line\"><span class=\"comment\">12 24 30 32 36 42</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">10080</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"ç®€å•æ•°è®º\"><a href=\"#ç®€å•æ•°è®º\" class=\"headerlink\" title=\"ç®€å•æ•°è®º\"></a>ç®€å•æ•°è®º</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E8%B4%A8%E6%95%B0%E7%AD%9B\">1. è´¨æ•°ç­›</a></li>\n<li><a href=\"#2-%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8B%86\">2. è¿›åˆ¶æ•°æ‹†</a></li>\n<li><a href=\"#3-%E5%88%86%E8%A7%A3%E8%B4%A8%E5%9B%A0%E6%95%B0\">3. åˆ†è§£è´¨å› æ•°</a></li>\n<li><a href=\"#4-%E8%B4%A8%E6%95%B0%E7%AD%9B\">4. è´¨æ•°ç­›</a><ul>\n<li><a href=\"#41-%E8%AF%95%E9%99%A4%E6%B3%95%E6%9E%9A%E4%B8%BE%E4%BC%98%E5%8C%96\">4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰</a></li>\n<li><a href=\"#42-%E6%AC%A7%E6%8B%89%E7%AD%9B\">4.2. æ¬§æ‹‰ç­›</a></li>\n</ul>\n</li>\n<li><a href=\"#5-%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E4%B8%8E%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0\">5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°</a><ul>\n<li><a href=\"#51-%E4%B8%A4%E4%B8%AA%E6%95%B0\">5.1. ä¸¤ä¸ªæ•°</a></li>\n<li><a href=\"#52-n%E4%B8%AA%E6%95%B0\">5.2. nä¸ªæ•°</a><ul>\n<li><a href=\"#521-%E6%B1%82%E5%85%AC%E5%85%B1gcd\">5.2.1. æ±‚å…¬å…±GCD</a></li>\n<li><a href=\"#522-%E6%B1%82%E5%85%AC%E5%85%B1lcm\">5.2.2. æ±‚å…¬å…±LCM</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-è´¨æ•°ç­›\"><a href=\"#1-è´¨æ•°ç­›\" class=\"headerlink\" title=\"1. è´¨æ•°ç­›\"></a>1. è´¨æ•°ç­›</h2><blockquote>\n<p>å…ˆä»æœ€ç®€å•çš„è´¨æ•°å¼€å§‹å§ï¼Œç”¨ä¼˜åŒ–éå†å¤§å°çš„æœ´ç´ æ³•æˆ–è€…æ¬§æ‹‰ç­›(çº¿æ€§ç­›)å¯ä»¥å®Œæˆï¼Œæ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(n)å’ŒO(logn)</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æœ€å°çš„è´¨æ•°æ˜¯2</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n&lt;=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(n);i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-è¿›åˆ¶æ•°æ‹†\"><a href=\"#2-è¿›åˆ¶æ•°æ‹†\" class=\"headerlink\" title=\"2. è¿›åˆ¶æ•°æ‹†\"></a>2. è¿›åˆ¶æ•°æ‹†</h2><blockquote>\n<p>æ¯”å¦‚æŠŠä»»æ„ä¸€ä¸ªæ­£æ•´æ•°æ‹†æˆäºŒè¿›åˆ¶è¡¨ç°çš„å½¢å¼ï¼Œå¦‚7&#x3D;2çš„2æ¬¡æ–¹+2çš„1æ¬¡æ–¹+2çš„0æ¬¡æ–¹</p>\n</blockquote>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; v;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// n:å¾…æ‹†åˆ†åè¿›åˆ¶æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// m:æ‹†åˆ†æˆå¤šå°‘è¿›åˆ¶çš„æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">split</span><span class=\"params\">(<span class=\"type\">int</span> n,<span class=\"type\">int</span> m)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> s=<span class=\"number\">0</span>; <span class=\"comment\">// æƒ</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%m) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;m&lt;&lt;<span class=\"string\">&#x27;^&#x27;</span>&lt;&lt;s&lt;&lt;<span class=\"string\">&#x27;=&#x27;</span>&lt;&lt;<span class=\"built_in\">pow</span>(m,s)&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t\t\tv.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">pow</span>(m,s));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tn/=m;</span><br><span class=\"line\">\t\ts++;</span><br><span class=\"line\">\t&#125; cout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(v.<span class=\"built_in\">begin</span>(),v.<span class=\"built_in\">end</span>(),<span class=\"built_in\">greater</span>&lt;<span class=\"type\">int</span>&gt;());</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;v.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;v[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=v.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>) cout&lt;&lt;<span class=\"string\">&quot;+&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-åˆ†è§£è´¨å› æ•°\"><a href=\"#3-åˆ†è§£è´¨å› æ•°\" class=\"headerlink\" title=\"3. åˆ†è§£è´¨å› æ•°\"></a>3. åˆ†è§£è´¨å› æ•°</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: åˆ†è§£è´¨å› æ•°,ä¸€è¾¹æ‰¾è´¨å› å­ä¸€è¾¹å°†è´¨å› å­çš„å€¼å’Œå¹‚å­˜å‚¨èµ·æ¥</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p[]:å­˜å‚¨è´¨å› å­,p[cnt]=x,ç¬¬cntä¸ªè´¨å› å­æ˜¯x</span></span><br><span class=\"line\"><span class=\"comment\">// g[]:å­˜å‚¨è´¨å› å­çš„å¹‚,g[cnt]=y,ç¬¬cntä¸ªè´¨å› å­æ˜¯x,å¹‚æ˜¯y</span></span><br><span class=\"line\"><span class=\"comment\">// cnt:è®°å½•ä¸ªæ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> n,p[N],g[N],cnt; </span><br><span class=\"line\"><span class=\"type\">int</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ†è§£è´¨å› æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">prime_fact</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// i*i&lt;=n:æšä¸¾ä¼˜åŒ–,ä»2å¼€å§‹,2æ˜¯æœ€å°çš„è´¨æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i*i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(n%i==<span class=\"number\">0</span>) cnt++; <span class=\"comment\">// iæ˜¯nçš„å› å­,cnt++</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è®¡ç®—içš„å¹‚</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(n%i==<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\tp[cnt]=i;</span><br><span class=\"line\">\t\t\tg[cnt]++; <span class=\"comment\">// æ¬¡å¹‚+1</span></span><br><span class=\"line\">\t\t\tn/=i;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ†è§£å®Œåå¦‚æœn&gt;1,è¯´æ˜æœ€ç»ˆå‰©ä¸‹çš„æ•°å­—æ˜¯ä¸€ä¸ªè´¨æ•°,ä¹Ÿå•ç‹¬ç®—æˆè´¨å› æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\tp[++cnt]=n;</span><br><span class=\"line\">\t\tg[cnt]++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"built_in\">prime_fact</span>(n);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;è´¨å› æ•°: %d, å¹‚ä¸º:%d\\n&quot;</span>,p[i],g[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‰å”¯ä¸€åˆ†è§£å®šç†å½¢å¼æ‰“å°</span></span><br><span class=\"line\">\tcout&lt;&lt;n&lt;&lt;<span class=\"string\">&quot;=&quot;</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†p,gæ•°ç»„</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æ‰“å°g[i]æ¬¡p[i]</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=g[i];j++) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(j!=g[i]) cout&lt;&lt;<span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=cnt) cout&lt;&lt;<span class=\"string\">&quot;*&quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-è´¨æ•°ç­›\"><a href=\"#4-è´¨æ•°ç­›\" class=\"headerlink\" title=\"4. è´¨æ•°ç­›\"></a>4. è´¨æ•°ç­›</h2><h3 id=\"4-1-è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰\"><a href=\"#4-1-è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰\" class=\"headerlink\" title=\"4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰\"></a>4.1. è¯•é™¤æ³•ï¼ˆæšä¸¾ä¼˜åŒ–ï¼‰</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isPrime</span><span class=\"params\">(<span class=\"type\">int</span> num)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=<span class=\"built_in\">sqrt</span>(num)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(num%i==<span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœè¦æ‰¾ä» $[1,10000]$ ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜</li>\n</ul>\n<h3 id=\"4-2-æ¬§æ‹‰ç­›\"><a href=\"#4-2-æ¬§æ‹‰ç­›\" class=\"headerlink\" title=\"4.2. æ¬§æ‹‰ç­›\"></a>4.2. æ¬§æ‹‰ç­›</h3><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20230720102317937.png\" alt=\"image-20230720102317937\"></p>\n<ul>\n<li>ç®—æ³•æ€æƒ³ï¼šéå†åˆ° $2$ çš„æ—¶å€™ï¼Œç­›æ‰èŒƒå›´å†…æ‰€æœ‰ $2$ çš„å€æ•°ï¼Œåˆ° $3$ çš„æ—¶å€™ï¼Œç­›æ‰æ‰€æœ‰ $3$ çš„å€æ•°ï¼Œè¢«ç­›æ‰çš„æ•°ä¼šè¢«æ ‡è®°ä¸ºåˆæ•°ï¼Œåˆæ•°ä¸ä¼šè¿›å…¥åˆ° $if$ ä¸­æ‰©å±•å…¶å€æ•°ï¼Œç›¸å½“äºæ¯ä¸ªæ•°åªè¢«éå†è¿‡ä¸€æ¬¡ï¼Œå› è€Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œæ¬§æ‹‰ç­›ä¹Ÿè¢«ç§°ä¸ºçº¿æ€§ç­›</li>\n<li>æ³¨æ„ï¼šå¦‚æœè®¡ç®— $[l,r]$ ä¹‹é—´å‡ºç°çš„è´¨æ•°çš„ä¸ªæ•°ï¼Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ€æƒ³ï¼›<br>å½“ $n$ è¿‡å¤§æ—¶ï¼Œ$iÃ—i$ å®¹æ˜“å‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå³å¯èƒ½ $RuntimeError$ï¼Œæ­¤æ—¶è¦å°†çº¿æ€§ç­›ä¸­ç¬¬äºŒä¸ª $for$ ä¸­çš„$j&#x3D;iÃ—i$ æ”¹ä¸º $j&#x3D;i+i$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ¬§æ‹‰ç­›</span></span><br><span class=\"line\"><span class=\"comment\">  å…ˆä»æœ€å°çš„è´¨æ•°å¼€å§‹,æ¯æ¬¡åœ¨æ•°æ®èŒƒå›´å†…å°†å®ƒçš„å€æ•°æ ‡è®°ä¸ºåˆæ•°,é‚£ä¹ˆç•™ä¸‹çš„ä¸€å®šæ˜¯ç´ æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// st[i]:içš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idx:æ‰¾ç´ æ•°è¿­ä»£å™¨</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiæœªæ”¾é—®è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]<span class=\"number\">+1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// å­˜å‚¨ç´ æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) st[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\tcin&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t<span class=\"built_in\">get_primes</span>(n);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;1~%d ä¹‹é—´çš„è´¨æ•°åˆ†åˆ«æ˜¯:&quot;</span>,n);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=idx;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;p[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i!=idx) cout&lt;&lt;<span class=\"string\">&quot;,&quot;</span>;</span><br><span class=\"line\">\t&#125; cout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d~%d ä¹‹é—´å­˜åœ¨çš„è´¨æ•°ä¸ªæ•°æ˜¯:%d\\n&quot;</span>,l,r,f[r]-f[l<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"5-æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\"><a href=\"#5-æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\" class=\"headerlink\" title=\"5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°\"></a>5. æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°</h2><blockquote>\n<p>è¾—è½¬ç›¸é™¤æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼šè¿‘ä¼¼ $O(max(a,b))$</p>\n</blockquote>\n<h3 id=\"5-1-ä¸¤ä¸ªæ•°\"><a href=\"#5-1-ä¸¤ä¸ªæ•°\" class=\"headerlink\" title=\"5.1. ä¸¤ä¸ªæ•°\"></a>5.1. ä¸¤ä¸ªæ•°</h3><ul>\n<li>è¾—è½¬ç›¸é™¤æ³•ï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰æ±‚è§£æœ€å¤§å…¬çº¦æ•°ï¼Œæœ€å°å…¬å€æ•°å°±æ˜¯ä¸¤æ•°çš„æˆç»©é™¤ä»¥æœ€å¤§å…¬çº¦æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">GCD</span><span class=\"params\">(<span class=\"type\">int</span> m,<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m%n) &#123;</span><br><span class=\"line\">\t\tr=m%n;</span><br><span class=\"line\">\t\tm=n;</span><br><span class=\"line\">\t\tn=r;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ›´ç®€å•æ˜“èƒŒçš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> b?<span class=\"built_in\">gcd</span>(b,a%b):a;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ±‚ä¸¤æ•°çš„æœ€å°å…¬å€æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">LCM</span><span class=\"params\">(<span class=\"type\">int</span> m,<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> m*n/<span class=\"built_in\">GCD</span>(m,n);\t</span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"5-2-nä¸ªæ•°\"><a href=\"#5-2-nä¸ªæ•°\" class=\"headerlink\" title=\"5.2. nä¸ªæ•°\"></a>5.2. nä¸ªæ•°</h3><h4 id=\"5-2-1-æ±‚å…¬å…±GCD\"><a href=\"#5-2-1-æ±‚å…¬å…±GCD\" class=\"headerlink\" title=\"5.2.1. æ±‚å…¬å…±GCD\"></a>5.2.1. æ±‚å…¬å…±GCD</h4><ul>\n<li>æ±‚å¤šä¸ªæ•°çš„ $GCD$ çš„æ€è·¯æ˜¯å…ˆæ±‚ä¸¤ä¸ªæ•°çš„ $GCD$ï¼Œå†ç”¨è¿™ä¸ªç»“æœä¸åç»­çš„æ¯ä¸€ä¸ªæ•°åˆ†åˆ«æ±‚å‡º $GCD$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> n,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> b==<span class=\"number\">0</span>?a:gcd(b,a%b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// é€šè¿‡å¾ªç¯æ±‚å‡ºå…¬å…±GCD</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=a[<span class=\"number\">1</span>]; </span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tres=gcd(res,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸Šè¿°æ±‚è§£æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ $O(n^2)$ï¼Œæ‰€ä»¥æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œæ¨èç”¨ä¸‹è¿°æ–¹æ³•æ±‚è§£å…¬å…± $GCD$</li>\n</ul>\n<ol>\n<li><p>å¯¹è¿™ç»„æ•°ä»å¤§åˆ°å°æ’åº</p>\n</li>\n<li><p>å¯¹æ¯ä¸¤ä¸ªç›¸é‚»çš„æ•° $A,B$ï¼ˆå‡è®¾ $A$ åœ¨å‰ï¼Œæ•…æœ‰ $A&gt;B$ï¼‰ï¼Œå¦‚æœ $A&#x3D;nÃ—B$ï¼Œåˆ™ä»¤ $A&#x3D;B$ï¼›å¦åˆ™ä»¤ $A&#x3D;A%B$</p>\n</li>\n<li><p>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—éƒ½ç›¸åŒï¼Œæ­¤æ—¶è¿™ä¸ªæ•°å°±ä¸ºå…¬å…± $GCD$</p>\n</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a&gt;b;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">multi_gcd</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// ç›´åˆ°æ‰€æœ‰æ•°å­—ç›¸ç­‰</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(a[<span class=\"number\">1</span>]!=a[n]) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a[i]%a[i+<span class=\"number\">1</span>]==<span class=\"number\">0</span>) a[i]=a[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> a[i]=a[i]%a[i+<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tsort(a+<span class=\"number\">1</span>,a+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a[<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"5-2-2-æ±‚å…¬å…±LCM\"><a href=\"#5-2-2-æ±‚å…¬å…±LCM\" class=\"headerlink\" title=\"5.2.2. æ±‚å…¬å…±LCM\"></a>5.2.2. æ±‚å…¬å…±LCM</h4><ul>\n<li>åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ç»„æ•°æ®ä¾æ¬¡æ±‚æœ€å°å…¬å€æ•°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæ—¶è¾¾åˆ° $O(n^2)$</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> b==<span class=\"number\">0</span>?a:gcd(b,a%b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">multi_lcm</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=a[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tres=res*a[i]/gcd(res,a[i]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>æ¥ä¸‹æ¥ä»‹ç»è´¨å› å­åˆ†è§£æ³•ï¼Œå¦‚ï¼šæ±‚ $10,12,4$ çš„æœ€å°å…¬å€æ•°<br>$â‘  10&#x3D;2Ã—5,\\ â‘¡ 12&#x3D;2Ã—3Ã—3,\\ â‘¢4&#x3D;2Ã—2$<br>å¯è§ï¼Œ$2$ åœ¨â‘ â‘¡â‘¢å¼ä¸­éƒ½å‡ºç°äº†ï¼Œ $3$ åªåœ¨â‘¡å¼ä¸­å‡ºç°ï¼Œ $5$ åªåœ¨â‘ å¼ä¸­å‡ºç°<br>æ‰€ä»¥æœ€å°å…¬å€æ•°ï¼š$2^3Ã—3^1Ã—5^1&#x3D;60$ï¼Œå³å¯¹æ¯ä¸ªè´¨å› å­çš„æœ€é«˜æ¬¡å¹‚åšä¹˜ç§¯å¾—åˆ°çš„å°±æ˜¯å…¬å…± $LCM$</p>\n</li>\n<li><p>ç”¨è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥é¿å…éå†æ—¶åšä¹˜æ³•è¶…å‡ºæ•°æ®ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§èŒƒå›´çš„æƒ…å†µ</p>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ±‚å…¬å…±LCM</span></span><br><span class=\"line\"><span class=\"comment\">  1) å…ˆç”¨æ¬§æ‹‰ç­›é¢„å¤„ç†å‡ºæ•°æ®èŒƒå›´å†…æ‰€æœ‰è´¨æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  2) å°†æ•°ç»„aä¸­çš„æ•°å­—ä¾æ¬¡åˆ†è§£è´¨å› æ•°,æŒ‰ç…§æ¬§æ‹‰ç­›ç­›å‡ºæ¥çš„è´¨æ•°åˆ†è§£</span></span><br><span class=\"line\"><span class=\"comment\">  3) ç”¨ä¸€ä¸ªmapè®°å½•æ‰€æœ‰è´¨å› å­å‡ºç°çš„æœ€å°æ¬¡æ•°(è®¡ç®—GCD)æˆ–æœ€å¤§æ¬¡æ•°(è®¡ç®—LCM)</span></span><br><span class=\"line\"><span class=\"comment\">  4) æšä¸¾mapä¸­çš„è´¨å› å­åŠå…¶å‡ºç°æ¬¡æ•°ä¹˜åœ¨ä¸€èµ·ç®—å‡ºGCDå’ŒLCMå³å¯</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> f[N]; <span class=\"comment\">// f[i]:è®°å½•1~iä¸­æ‰€æœ‰è´¨æ•°çš„æ•°é‡</span></span><br><span class=\"line\"><span class=\"type\">bool</span> st[N]; <span class=\"comment\">// st[i]:içš„è®¿é—®çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"type\">int</span> p[N]; <span class=\"comment\">// å­˜æ”¾1~nä¸­æ‰€æœ‰ç´ æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx,n; <span class=\"comment\">// idx:æ‰¾ç´ æ•°è¿­ä»£å™¨ </span></span><br><span class=\"line\"><span class=\"built_in\">map</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; m_max; <span class=\"comment\">// m_max[i]:å¯¹a[i]è¿›è¡Œè´¨å› æ•°åˆ†è§£åæ¯ä¸ªè´¨å› æ•°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[N]; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">get_primes</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> &#123;</span><br><span class=\"line\">\tf[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœiæœªæ”¾é—®è¿‡</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!st[i]) &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]+<span class=\"number\">1</span>; <span class=\"comment\">// è®¡ç®—å‰ç¼€å’Œ,ç»´æŠ¤æ•°é‡</span></span><br><span class=\"line\">\t\t\tp[++idx]=i; <span class=\"comment\">// å­˜å‚¨ç´ æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœå‡ºç°RE,å°†j=i*iæ”¹æˆj=i+i,è¿™æ ·å°±ä¸ä¼šè¶Šç•Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†içš„å€æ•°å…¨éƒ¨æ ‡è®°ä¸ºåˆæ•°,æ— éœ€éå†</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=i*i;j&lt;=n;j+=i) st[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tf[i]=f[i<span class=\"number\">-1</span>]; <span class=\"comment\">// å‘ä¸‹ä¼ é€’ç´ æ•°ä¸ªæ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">get_facts</span><span class=\"params\">(<span class=\"type\">int</span> a[])</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯¹äºæ•°ç»„aä¸­çš„æ¯ä¸€ä¸ªæ•°å­—,åˆ†è§£è´¨å› æ•°,è®¡ç®—åœ¨è¿™nä¸ªæ•°ä¸­çš„æœ€å¤§æ¬¡æ•°\t</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=idx;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å‰ªæ,å¦‚p[j]Ã—p[j]&gt;a[i],è¯´æ˜p[j]ä¸å¯èƒ½ä¸ºa[i]è´¨å› æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(p[j]*p[j]&gt;a[i]) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// éå†è´¨æ•°æ•°ç»„</span></span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// åˆ†è§£åp[i]çš„æ¬¡æ•°</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(a[i]%p[j]==<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\t\tcnt++;</span><br><span class=\"line\">\t\t\t\ta[i]/=p[j];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tm_max[p[j]]=max(m_max[p[j]],cnt); <span class=\"comment\">// æ›´æ–°è´¨å› æ•°p[i]å‡ºç°çš„æœ€å¤§æ¬¡æ•°</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// æœ¬èº«æ˜¯è´¨æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\tm_max[a[i]]=<span class=\"number\">1</span>; <span class=\"comment\">// æ¬¡å¹‚åªèƒ½ä¸º1</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;a[i];\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tget_primes(<span class=\"number\">1000</span>);</span><br><span class=\"line\">\tget_facts(a);</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°æµ‹è¯•</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> it=m_max.begin();it!=m_max.end();it++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;it-&gt;first&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;it-&gt;second&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=it-&gt;second;i++) &#123;</span><br><span class=\"line\">\t\t\tres*=(it-&gt;first);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;res&lt;&lt;<span class=\"built_in\">endl</span>; <span class=\"comment\">// å…¬å…±LCM</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å…¥æ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">6</span></span><br><span class=\"line\"><span class=\"comment\">12 24 30 32 36 42</span></span><br><span class=\"line\"><span class=\"comment\">è¾“å‡ºæ ·ä¾‹:</span></span><br><span class=\"line\"><span class=\"comment\">10080</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n"},{"title":"è´ªå¿ƒåŒºé—´é—®é¢˜","date":"2024-10-05T08:33:48.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# è´ªå¿ƒåŒºé—´é—®é¢˜\n\n<!-- toc -->\n\n\n\n> ä»¥ä¸‹ä¾‹é¢˜æ¥è‡ªäºAcWing 906~908\n\n## 1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰\n\n![image-20240307214934220](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240307214934220.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®å§\n  1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼šä¹Ÿå°±æ˜¯è¯´ç»™å®š$N$ä¸ªé—­åŒºé—´ï¼Œé—®èƒ½ä»ä¸­é€‰å‡ºå¤šå°‘ä¸ªåŒºé—´ä½¿å…¶äº’ä¸ç›¸äº¤ï¼ˆåŒæ´»åŠ¨å®‰æ’é—®é¢˜ï¼‰\n  2. åŒºé—´é€‰ç‚¹ï¼šç»™å®š $N$ ä¸ªåŒºé—´ï¼Œåœ¨æ•°è½´ä¸Šé€‰æ‹©å°½é‡å°‘çš„ç‚¹ï¼Œä½¿æ¯ä¸ªåŒºé—´è‡³å°‘åŒ…å«ä¸€ä¸ªé€‰å‡ºçš„ç‚¹ï¼ˆåŒæ•´æ•°åŒºé—´é—®é¢˜ï¼šæ‰¾åˆ°ä¸€ä¸ªå«å…ƒç´ ä¸ªæ•°æœ€å°‘çš„é›†åˆï¼Œä½¿å¯¹æ¯ä¸€ä¸ªåŒºé—´éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ•´æ•°å±äºè¯¥é›†åˆï¼Œè¾“å‡ºè¯¥é›†åˆçš„å…ƒç´ ä¸ªæ•°ï¼‰\n  3. ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªé—®é¢˜å…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Ÿè§‚å¯Ÿä¸‹æ–¹å›¾åƒï¼Œåœ¨æ‰¾ä¸ç›¸äº¤åŒºé—´çš„æ—¶å€™å…¶å®å°±æ˜¯æŠŠ $N$ ä¸ªåŒºé—´åˆ’åˆ†æˆ $M$ ä¸ªé›†åˆï¼Œä»è¿™ $M$ ä¸ªé›†åˆä¸­åˆ†åˆ«é€‰å‡ºä¸€ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆè¿™ $M$ ä¸ªé›†åˆæ˜¯ä¸€å®šä¸ç›¸äº¤çš„ï¼Œæ­¤æ—¶ $M$ å°±æ˜¯ç­”æ¡ˆï¼ŒåŒºé—´é€‰ç‚¹ä¸­ç‚¹çš„ä¸ªæ•°å…¶å®å°±æ˜¯é›†åˆçš„ä¸ªæ•°ï¼Œåªè¦ $range[i].l>last\\_r$ å°±è¯´æ˜éœ€è¦æ–°å¼€ä¸€ä¸ªé›†åˆäº†ï¼Œæ‰€ä»¥ $ans++$\n* è´ªå¿ƒç­–ç•¥ï¼šæ–°å»ºä¸€ä¸ªç»“æ„ä½“å­˜å‚¨åŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå°†è¿™$N$ä¸ªåŒºé—´æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼ˆå› ä¸ºæ´»åŠ¨é€‰æ‹©**è¶Šæ—©ç»“æŸè¶Šå¥½**ï¼‰ï¼Œéå†æ‰€æœ‰çš„åŒºé—´ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„åŒºé—´å·¦ç«¯ç‚¹çš„å€¼å¤§äºäº†ä¸Šä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹çš„å€¼ï¼Œè¯´æ˜æ­¤æ—¶åŒºé—´æ²¡æœ‰é‡åˆï¼Œåˆ™åŒºé—´ä¸ªæ•°$+1$\n* å¦‚æœå‡è®¾é€‰çš„ç‚¹éƒ½å‡ºç°åœ¨åŒºé—´çš„å³ç«¯ç‚¹ï¼Œæ­¤æ—¶ä¸ºäº†è®©æ¯ä¸ªåŒºé—´éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªäº¤ç‚¹ï¼Œå°±å¯ä»¥ä½œå›¾å¦‚ä¸‹ï¼š\n\n![image-20240529204230868](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529204230868.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ´»åŠ¨å®‰æ’+æœ€å¤§ä¸ç›¸äº¤åŒºé—´+åŒºé—´é€‰ç‚¹ \n  1) ç”¨ä¸€ä¸ªå˜é‡è®°å½•ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,æŠŠæ‰€æœ‰åŒºé—´ä¾æ®åŒºé—´å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n  2) å¦‚æœæŸä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹ï¼ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,åˆ™é€‰ç‚¹æ•°+1,æˆ–ä¸ç›¸äº¤åŒºé—´çš„ä¸ªæ•°+1\n  \n */\n\nconst int N=1e5+5;\n\nint n;\n\nstruct Range {\n\tint l; \n\tint r;\n}range[N]; // æ¯ä¸ªåŒºé—´æœ‰å·¦å³ç«¯ç‚¹\n\n// æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\nbool cmp(Range a,Range b) {\n\treturn a.r<b.r;\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d%d\",&range[i].l,&range[i].r);\t\n\t}\n\t\n\tint res=0;\n\tint front_r=INT_MIN; // ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªé›†åˆ,å³range[i].lä¸€å®šæ¯”åˆå§‹front_rå¤§ \n\tsort(range+1,range+1+n,cmp);\n    \n    // ä¹Ÿå¯ä»¥å®šä¹‰res=1,front_r=(sorted)range[1].r,ä¸‹é¢çš„forå¾ªç¯ä»i=2å¼€å§‹\n\t\n\tfor(int i=1;i<=n;i++) {\n\t\tif(range[i].l>front_r) {\n\t\t\tfront_r=range[i].r; // æ›´æ–°å³ç«¯ç‚¹\n\t\t\tres++; // ç‚¹æ•°+1\n\t\t}\t\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n> ä¾‹é¢˜ï¼š[P1250 ç§æ ‘ - æ´›è°· ](https://www.luogu.com.cn/problem/solution/P1250)\n\n* é¢˜ç›®å¤§æ„ï¼šåœ¨åŒºé—´ $[a,b]$ å†…è‡³å°‘ç§ $c$ æ£µæ ‘ï¼Œé—®æ ‘æœ€å°‘çš„ä¸ªæ•°\n* è§£é¢˜æ€è·¯ï¼š\n  * å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°ï¼Œå¯¹æ¯ä¸ªåŒºé—´å…ˆç»Ÿè®¡å·²æœ‰æ ‘çš„æ•°é‡ï¼Œå¦‚æœä¸è¶³ $c$ æ£µåˆ™è¡¥å·®\n  * ä¸ºäº†è®©æ ‘å°½å¯èƒ½èƒ½è¢«ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šï¼Œè¡¥å·®æ—¶åº”å½“ä»æœ«å°¾è¡¥å·®\n  * å› ä¸ºæ¯ä¸ªåæ ‡ç‚¹åªèƒ½ç§ä¸€æ£µæ ‘ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªçŠ¶æ€æ•°ç»„ $st$ è¾…åŠ©å­˜å‚¨\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: \n  1) è¦åœ¨[a,b]ç§è‡³å°‘cæ£µæ ‘,æ ‘æœ€å°‘,å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°,å†å¯¹å¤šä¸ªåŒºé—´è¡¥å·®\n  2) åœ¨è¡¥å·®çš„æ—¶å€™ä¸€å®šè¦è¡¥åœ¨è¯¥åŒºé—´çš„å°¾éƒ¨,å› ä¸ºè¿™æ ·æ˜¯æœ€åå¯èƒ½è®©ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šçš„\n  \n */\n\nconst int N=1e5+5;\n\nint n,m,a[N];\n\nstruct Range{\n\tint l;\n\tint r;\n\tint n; // æ ‘çš„ä¸ªæ•°\n}range[N];\n\nbool used[N]; // åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰æ ‘äº†(ä¸€ä¸ªç‚¹ä¸èƒ½ç§ä¸¤æ£µæ ‘)\n\nbool cmp(Range a,Range b) {\n\treturn a.r<b.r; // æŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n}\n\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++) {\n\t\tscanf(\"%d%d%d\",&range[i].l,&range[i].r,&range[i].n); \t\n\t}\n\tsort(range+1,range+1+m,cmp);\n\tint ans=0;\n\tfor(int i=1;i<=m;i++) {\n\t\tint k=0; // å­˜å‚¨è¯¥åŒºé—´å†…å·²æœ‰çš„æ ‘çš„ä¸ªæ•°\n\t\tfor(int j=range[i].l;j<=range[i].r;j++) if(used[j]) k++;\n\t\t// 1) å·²æ»¡è¶³range[i].næ£µæ ‘åˆ™é€€å‡º\n\t\tif(k>=range[i].n) continue;\n\t\t// 2) ä¸æ»¡è¶³,åˆ™éœ€è¦è¡¥å·®,è¡¥å·®éœ€è¦ä»æœ«å°¾è¡¥,æœ€æœ‰å¯èƒ½ç»™ä¸‹ä¸€ä¸ªåŒºé—´ç”¨\n\t\tfor(int j=range[i].r;j>=range[i].l;j--) {\n\t\t\tif(!used[j]) {\n\t\t\t\tused[j]=true;\n\t\t\t\tk++;\n\t\t\t\tans++; // æ ‘çš„æ•°é‡åªåœ¨æ­¤å¤„å¢åŠ ,å³æ‰€æœ‰çš„æ ‘å…¶å®éƒ½æ˜¯ä»æœ«å°¾è¡¥çš„\n\t\t\t\tif(k==range[i].n) break; // å·²å¤Ÿnæ£µ\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n\n\n## 2. åŒºé—´åˆ†ç»„\n\n![image-20240308190931030](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308190931030.png)\n\n![image-20240529205928100](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529205928100.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼Œç°åœ¨æœ‰$N$ä¸ªåŒºé—´ï¼Œé—®æœ€å°‘åˆ†å¤šå°‘ç»„ï¼Œèƒ½è®©è¿™äº›åˆ†ç»„ä¸­çš„æ‰€æœ‰åŒºé—´ä¸¤ä¸¤ä¹‹é—´åŒ…æ‹¬ç«¯ç‚¹éƒ½æ²¡æœ‰äº¤é›†\n* è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åå¤„ç†æ¯ä¸ªåŒºé—´ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½æŠŠè¿™ä¸ªåŒºé—´æ”¾åˆ°ç°æœ‰çš„æŸä¸ªåˆ†ç»„ä¸­ï¼Œå³åˆ¤æ–­ $range[i].l \\ > \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$\n  1. å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æŸä¸ªåˆ†ç»„é—´æ²¡æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å°†åŒºé—´ $ i $ æ”¾è¿›å»ï¼Œå¹¶ä¸”æ›´æ–°è¿™ä¸ªåˆ†ç»„çš„æœ€å¤§å³ç«¯ç‚¹ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸å¤šä¸ªåˆ†ç»„éƒ½æœ‰äº¤é›†åˆ™å¯ä»¥æ”¾åˆ°ä»»æ„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œä¸å½±å“ç»“æœï¼Œå¯è‡ªè¡Œæ¨¡æ‹Ÿè¯æ˜ï¼‰\n  2. å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æ¯ä¸ªåˆ†ç»„é—´éƒ½æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å¼€ä¸€ä¸ªæ–°ç»„ï¼Œå†æŠŠåŒºé—´ $i$ æ”¾è¿›å»\n  3. åœ¨åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸æŸä¸€åˆ†ç»„æœ‰äº¤é›†æ—¶ï¼Œåªéœ€è¦ä¸æ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹è¿›è¡Œæ¯”è¾ƒå³å¯ï¼Œå› ä¸ºè¿™æ˜¯æœ€æœ‰å¯èƒ½æ»¡è¶³ $range[i].l \\ > \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$ çš„æƒ…å†µï¼Œå¯¹äºæ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå°æ ¹å †æ¥ç»´æŠ¤å³å¯\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: \n  1) å…ˆå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n  2) ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ‰€æœ‰åˆ†ç»„çš„æ•´ä½“å³ç«¯ç‚¹çš„æœ€å°å€¼,å› ä¸ºåœ¨éå†åŒºé—´æ—¶éœ€è¦ç”¨range[i].lä¸æ‰€æœ‰åˆ†ç»„çš„max_ræ¯”è¾ƒ,è€Œmin(max_r)æ˜¯æœ€å®¹æ˜“æ¯”range[i].lå°çš„,å³æœ€å®¹æ˜“æ’å…¥è¯¥åˆ†ç»„ä¸­\n  \n */\n\nconst int N=1e5+5;\n\nstruct Range {\n\tint l;\n\tint r;\n}range[N];\n\nbool cmp(Range a,Range b) {\n\t// æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n\treturn a.l<b.l;\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\trange[i]={l,r};\n\t}\n\t\n\tsort(range+1,range+1+n,cmp);\n\t// ç»´æŠ¤æ¯ä¸ªåˆ†ç»„çš„æœ€å³è¾¹ç•Œçš„æœ€å°å€¼\n\tpriority_queue<int,vector<int>,greater<int>> pq;\n\t\n\t// æšä¸¾åŒºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ¯ä¸ªåˆ†ç»„çš„æœ€å°çš„max_réƒ½æ¯”å½“å‰åŒºé—´å·¦ç«¯ç‚¹å¤§\n\t\t// è¯´æ˜ä¸æ¯ä¸ªåˆ†ç»„ä¸­çš„åŒºé—´éƒ½è¦äº§ç”Ÿäº¤é›†,åˆ™ä¸èƒ½æ”¾å…¥ä»»ä½•åˆ†ç»„\n\t\t// æ­¤æ—¶æ–°å¼€ä¸€ä¸ªåˆ†ç»„\n\t\tif(pq.empty() || pq.top()>=range[i].l) {\n\t\t\tpq.push(range[i].r); // æ–°å¼€åˆ†ç»„,ä¿å­˜å³ç«¯ç‚¹\n\t\t} else {\n\t\t\t// å¦‚æœæ— äº¤é›†,æ­¤æ—¶å¯ä»¥æ”¾è¿›è¿™ä¸ªåˆ†ç»„ä¸­\n\t\t\t// å¹¶ç»´æŠ¤æ‰€æœ‰åˆ†ç»„ä¸­æœ€å¤§å³ç«¯ç‚¹çš„æœ€å°å€¼\n\t\t\tpq.pop();\n\t\t\tpq.push(range[i].r);\n\t\t}\n\t}\n\t// å°æ ¹å †çš„å¤§å°å°±æ˜¯åˆ†ç»„çš„ä¸ªæ•°\n\tcout<<pq.size()<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åŒºé—´è¦†ç›–\n\n![image-20240308203244259](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308203244259.png)\n\n![image-20240529211220012](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529211220012.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼ŒÂ·Â·Â·ï¼Œè¿™é“é¢˜æ²¡ä»€ä¹ˆå¯ç¿»è¯‘çš„\n* è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åä¾æ¬¡æšä¸¾æ¯ä¸ªåŒºé—´ï¼Œåœ¨æ‰€æœ‰èƒ½è¦†ç›– $start$ çš„åŒºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå³ç«¯ç‚¹æœ€å¤§çš„åŒºé—´ï¼Œç„¶åå°† $start$ æ›´æ–°æˆä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å€¼ï¼Œç»§ç»­å‘åè¦†ç›–ï¼Œå¦‚æœæ‰€æœ‰åŒºé—´éƒ½éå†è¿‡äº†ä½†å¹¶æ²¡æœ‰è¦†ç›–åˆ° $end$ çš„è¯è¯´æ˜æ— æ³•å®Œå…¨è¦†ç›–ï¼Œåˆ™è¾“å‡º $-1$\n\n ``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: å¯¹åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,å› ä¸ºæ¯æ¬¡éƒ½è¦ä¿è¯è¦†ç›–start\n  å†ä»æ»¡è¶³è¦†ç›–startçš„åŒºé—´ä¸­é€‰å‡ºå³ç«¯ç‚¹æœ€å¤§çš„,è¿™æ ·å°±èƒ½ä¿è¯è¦†ç›–çº¿æ®µçš„åŒºé—´æ•°æœ€å°\n  å†æ›´æ–°startçš„å€¼,å¦‚æœéå†å®Œæ‰€æœ‰åŒºé—´èƒ½ä½¿start>=end,åˆ™å¯è¦†ç›–,è¾“å‡ºåŒºé—´æ•°\n  \n */\n\nconst int N=1e5+5;\n\nstruct Range {\n\tint l;\n\tint r;\n\t// é‡è½½è¿ç®—ç¬¦\n\tbool operator<(const Range &W)const {\n\t\treturn l<W.l;\n\t}\n}range[N];\n\nint main() {\n\tint st,en;\n\tcin>>st>>en;\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\trange[i]={l,r};\n\t}\n\tsort(range+1,range+1+n);\n\t\n\tint cnt=0; // ç»Ÿè®¡åŒºé—´æ•°\n\tbool flag=false; // æ˜¯å¦èƒ½è¦†ç›–å®Œæ•´ä¸ªåŒºé—´\n\t\n\t// éå†æ‰€æœ‰åŒºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\t// front_r:å½“å‰è¦†ç›–åˆ°çš„åŒºåŸŸ\n\t\t// j:æ¯æ¬¡ä»ç¬¬iä¸ªåŒºé—´åå¼€å§‹æ‰¾\n\t\tint j=i,front_r=INT_MIN;\n\t\twhile(j<=n && range[j].l<=st) {\n\t\t\tfront_r=max(front_r,range[j].r); // æ‰¾æœ€å¤§çš„å³ç«¯ç‚¹\n\t\t\tj++;\n\t\t}\n\t\t// å¦‚æœæœ€å¤§çš„front_rä»å°äºst,è¯´æ˜çº¿æ®µä¸å¯è¢«å·²æœ‰åŒºé—´è¦†ç›–\n\t\tif(front_r<st) break;\n\t\t// å¦‚æœæ‰¾å¾—åˆ°,åŒºé—´æ•°+1\n\t\tcnt++;\n\t\t// å·²ç»å®Œå…¨è¦†ç›–çº¿æ®µ\n\t\tif(front_r>=en) {\n\t\t\tflag=true;\n\t\t\tbreak;\n\t\t}\n\t\t// å¦åˆ™æ›´æ–°iå’Œj\n\t\tst=front_r; // è¿­ä»£st,åé¢çš„åŒºé—´ç»§ç»­å’Œstæ¯”\n\t\ti=j-1; // åŒæŒ‡é’ˆ,åŠ é€Ÿéå†\n\t}\t\n\tif(!flag) cnt=-1;\n\tcout<<cnt;\n\treturn 0;\n}\n ```\n\n\n\n## 4. åŒºé—´åˆå¹¶\n\n* é¢˜ç›®æœ€ç®€å•çš„ä¸€é›†ï¼Œ$N$ ä¸ªåŒºé—´ï¼Œç«¯ç‚¹é‡å ä¹Ÿå¯åˆå¹¶ï¼Œæ±‚åˆå¹¶åçš„åŒºé—´æ•°é‡å’Œå·¦å³ç«¯ç‚¹\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: åŒºé—´åˆå¹¶,ç«¯ç‚¹ä¹Ÿç®—é‡å ,å°†æœ‰é‡å çš„åŒºé—´åˆå¹¶åè¾“å‡º\n  1) åŒºé—´æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,æœ‰é‡å åˆ™åˆå¹¶æ›´æ–°åŒºé—´å³ç«¯ç‚¹\n  2) rangeæ•°ç»„ä¸€ä¸ªå­˜å‚¨åˆå¹¶å‰çš„åŒºé—´,ä¸€ä¸ªå­˜å‚¨åˆå¹¶åçš„åŒºé—´,æœ€åéå†è¾“å‡ºå³å¯\n  \n */\n\nconst int N=1e5+5;\n\nint n,a[N];\n\n// range:åŸåŒºé—´,ans:åˆå¹¶ååŒºé—´\nstruct Range{\n\tint l;\n\tint r;\n}range[N],ans[N];\n\n// å¯ä»¥ç›´æ¥return a.l<b.l ,å¦‚æœå³ç«¯ç‚¹ä¹Ÿä»å°åˆ°å¤§æ’åºåˆ™åˆå¹¶æ¬¡æ•°å¤šäº†,å¸¸æ•°åè€Œå¤§äº†\nbool cmp(Range a,Range b) {\n\tif(a.l!=b.l) return a.l<b.l;\n\treturn a.r<b.r;\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tcin>>l>>r;\n\t\trange[i]={l,r};\n\t}\n\tsort(range+1,range+1+n,cmp);\n\t// æšä¸¾æ‰€æœ‰åŒºé—´è¿›è¡Œåˆå¹¶\n\tint cnt=0;\n\tans[++cnt]=range[1]; // ç»“æ„ä½“ä¹‹é—´ç­‰ä»·èµ‹å€¼\n\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¯åˆå¹¶\n\t\tif(range[i].l<=ans[cnt].r) {\n\t\t\tans[cnt].r=max(ans[cnt].r,range[i].r); // æ›´æ–°å³ç«¯ç‚¹\n\t\t}\n\t\t// ä¸å¯åˆå¹¶,å¼€æ–°åŒºé—´\n\t\telse {\n\t\t\tans[++cnt]=range[i];\n\t\t}\n\t}\n\tcout<<cnt<<'\\n'; // åŒºé—´ä¸ªæ•°\n\t// è¾“å‡ºåˆå¹¶åçš„åŒºé—´\n\tfor(int i=1;i<=cnt;i++) {\n\t\tcout<<ans[i].l<<' '<<ans[i].r<<'\\n';\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/è´ªå¿ƒåŒºé—´é—®é¢˜.md","raw":"---\ntitle: è´ªå¿ƒåŒºé—´é—®é¢˜\ndate: 2024-10-05 16:33:48\ncategories: åˆ†ç±»\ntags:\n    - ç®—æ³•ç«èµ›\n    - è´ªå¿ƒ\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n# è´ªå¿ƒåŒºé—´é—®é¢˜\n\n<!-- toc -->\n\n\n\n> ä»¥ä¸‹ä¾‹é¢˜æ¥è‡ªäºAcWing 906~908\n\n## 1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰\n\n![image-20240307214934220](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240307214934220.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®å§\n  1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼šä¹Ÿå°±æ˜¯è¯´ç»™å®š$N$ä¸ªé—­åŒºé—´ï¼Œé—®èƒ½ä»ä¸­é€‰å‡ºå¤šå°‘ä¸ªåŒºé—´ä½¿å…¶äº’ä¸ç›¸äº¤ï¼ˆåŒæ´»åŠ¨å®‰æ’é—®é¢˜ï¼‰\n  2. åŒºé—´é€‰ç‚¹ï¼šç»™å®š $N$ ä¸ªåŒºé—´ï¼Œåœ¨æ•°è½´ä¸Šé€‰æ‹©å°½é‡å°‘çš„ç‚¹ï¼Œä½¿æ¯ä¸ªåŒºé—´è‡³å°‘åŒ…å«ä¸€ä¸ªé€‰å‡ºçš„ç‚¹ï¼ˆåŒæ•´æ•°åŒºé—´é—®é¢˜ï¼šæ‰¾åˆ°ä¸€ä¸ªå«å…ƒç´ ä¸ªæ•°æœ€å°‘çš„é›†åˆï¼Œä½¿å¯¹æ¯ä¸€ä¸ªåŒºé—´éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ•´æ•°å±äºè¯¥é›†åˆï¼Œè¾“å‡ºè¯¥é›†åˆçš„å…ƒç´ ä¸ªæ•°ï¼‰\n  3. ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªé—®é¢˜å…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Ÿè§‚å¯Ÿä¸‹æ–¹å›¾åƒï¼Œåœ¨æ‰¾ä¸ç›¸äº¤åŒºé—´çš„æ—¶å€™å…¶å®å°±æ˜¯æŠŠ $N$ ä¸ªåŒºé—´åˆ’åˆ†æˆ $M$ ä¸ªé›†åˆï¼Œä»è¿™ $M$ ä¸ªé›†åˆä¸­åˆ†åˆ«é€‰å‡ºä¸€ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆè¿™ $M$ ä¸ªé›†åˆæ˜¯ä¸€å®šä¸ç›¸äº¤çš„ï¼Œæ­¤æ—¶ $M$ å°±æ˜¯ç­”æ¡ˆï¼ŒåŒºé—´é€‰ç‚¹ä¸­ç‚¹çš„ä¸ªæ•°å…¶å®å°±æ˜¯é›†åˆçš„ä¸ªæ•°ï¼Œåªè¦ $range[i].l>last\\_r$ å°±è¯´æ˜éœ€è¦æ–°å¼€ä¸€ä¸ªé›†åˆäº†ï¼Œæ‰€ä»¥ $ans++$\n* è´ªå¿ƒç­–ç•¥ï¼šæ–°å»ºä¸€ä¸ªç»“æ„ä½“å­˜å‚¨åŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå°†è¿™$N$ä¸ªåŒºé—´æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼ˆå› ä¸ºæ´»åŠ¨é€‰æ‹©**è¶Šæ—©ç»“æŸè¶Šå¥½**ï¼‰ï¼Œéå†æ‰€æœ‰çš„åŒºé—´ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„åŒºé—´å·¦ç«¯ç‚¹çš„å€¼å¤§äºäº†ä¸Šä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹çš„å€¼ï¼Œè¯´æ˜æ­¤æ—¶åŒºé—´æ²¡æœ‰é‡åˆï¼Œåˆ™åŒºé—´ä¸ªæ•°$+1$\n* å¦‚æœå‡è®¾é€‰çš„ç‚¹éƒ½å‡ºç°åœ¨åŒºé—´çš„å³ç«¯ç‚¹ï¼Œæ­¤æ—¶ä¸ºäº†è®©æ¯ä¸ªåŒºé—´éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªäº¤ç‚¹ï¼Œå°±å¯ä»¥ä½œå›¾å¦‚ä¸‹ï¼š\n\n![image-20240529204230868](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529204230868.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: æ´»åŠ¨å®‰æ’+æœ€å¤§ä¸ç›¸äº¤åŒºé—´+åŒºé—´é€‰ç‚¹ \n  1) ç”¨ä¸€ä¸ªå˜é‡è®°å½•ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,æŠŠæ‰€æœ‰åŒºé—´ä¾æ®åŒºé—´å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n  2) å¦‚æœæŸä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹ï¼ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,åˆ™é€‰ç‚¹æ•°+1,æˆ–ä¸ç›¸äº¤åŒºé—´çš„ä¸ªæ•°+1\n  \n */\n\nconst int N=1e5+5;\n\nint n;\n\nstruct Range {\n\tint l; \n\tint r;\n}range[N]; // æ¯ä¸ªåŒºé—´æœ‰å·¦å³ç«¯ç‚¹\n\n// æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\nbool cmp(Range a,Range b) {\n\treturn a.r<b.r;\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d%d\",&range[i].l,&range[i].r);\t\n\t}\n\t\n\tint res=0;\n\tint front_r=INT_MIN; // ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªé›†åˆ,å³range[i].lä¸€å®šæ¯”åˆå§‹front_rå¤§ \n\tsort(range+1,range+1+n,cmp);\n    \n    // ä¹Ÿå¯ä»¥å®šä¹‰res=1,front_r=(sorted)range[1].r,ä¸‹é¢çš„forå¾ªç¯ä»i=2å¼€å§‹\n\t\n\tfor(int i=1;i<=n;i++) {\n\t\tif(range[i].l>front_r) {\n\t\t\tfront_r=range[i].r; // æ›´æ–°å³ç«¯ç‚¹\n\t\t\tres++; // ç‚¹æ•°+1\n\t\t}\t\n\t}\n\tcout<<res;\n\treturn 0;\n}\n```\n\n> ä¾‹é¢˜ï¼š[P1250 ç§æ ‘ - æ´›è°· ](https://www.luogu.com.cn/problem/solution/P1250)\n\n* é¢˜ç›®å¤§æ„ï¼šåœ¨åŒºé—´ $[a,b]$ å†…è‡³å°‘ç§ $c$ æ£µæ ‘ï¼Œé—®æ ‘æœ€å°‘çš„ä¸ªæ•°\n* è§£é¢˜æ€è·¯ï¼š\n  * å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°ï¼Œå¯¹æ¯ä¸ªåŒºé—´å…ˆç»Ÿè®¡å·²æœ‰æ ‘çš„æ•°é‡ï¼Œå¦‚æœä¸è¶³ $c$ æ£µåˆ™è¡¥å·®\n  * ä¸ºäº†è®©æ ‘å°½å¯èƒ½èƒ½è¢«ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šï¼Œè¡¥å·®æ—¶åº”å½“ä»æœ«å°¾è¡¥å·®\n  * å› ä¸ºæ¯ä¸ªåæ ‡ç‚¹åªèƒ½ç§ä¸€æ£µæ ‘ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªçŠ¶æ€æ•°ç»„ $st$ è¾…åŠ©å­˜å‚¨\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: \n  1) è¦åœ¨[a,b]ç§è‡³å°‘cæ£µæ ‘,æ ‘æœ€å°‘,å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°,å†å¯¹å¤šä¸ªåŒºé—´è¡¥å·®\n  2) åœ¨è¡¥å·®çš„æ—¶å€™ä¸€å®šè¦è¡¥åœ¨è¯¥åŒºé—´çš„å°¾éƒ¨,å› ä¸ºè¿™æ ·æ˜¯æœ€åå¯èƒ½è®©ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šçš„\n  \n */\n\nconst int N=1e5+5;\n\nint n,m,a[N];\n\nstruct Range{\n\tint l;\n\tint r;\n\tint n; // æ ‘çš„ä¸ªæ•°\n}range[N];\n\nbool used[N]; // åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰æ ‘äº†(ä¸€ä¸ªç‚¹ä¸èƒ½ç§ä¸¤æ£µæ ‘)\n\nbool cmp(Range a,Range b) {\n\treturn a.r<b.r; // æŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n}\n\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++) {\n\t\tscanf(\"%d%d%d\",&range[i].l,&range[i].r,&range[i].n); \t\n\t}\n\tsort(range+1,range+1+m,cmp);\n\tint ans=0;\n\tfor(int i=1;i<=m;i++) {\n\t\tint k=0; // å­˜å‚¨è¯¥åŒºé—´å†…å·²æœ‰çš„æ ‘çš„ä¸ªæ•°\n\t\tfor(int j=range[i].l;j<=range[i].r;j++) if(used[j]) k++;\n\t\t// 1) å·²æ»¡è¶³range[i].næ£µæ ‘åˆ™é€€å‡º\n\t\tif(k>=range[i].n) continue;\n\t\t// 2) ä¸æ»¡è¶³,åˆ™éœ€è¦è¡¥å·®,è¡¥å·®éœ€è¦ä»æœ«å°¾è¡¥,æœ€æœ‰å¯èƒ½ç»™ä¸‹ä¸€ä¸ªåŒºé—´ç”¨\n\t\tfor(int j=range[i].r;j>=range[i].l;j--) {\n\t\t\tif(!used[j]) {\n\t\t\t\tused[j]=true;\n\t\t\t\tk++;\n\t\t\t\tans++; // æ ‘çš„æ•°é‡åªåœ¨æ­¤å¤„å¢åŠ ,å³æ‰€æœ‰çš„æ ‘å…¶å®éƒ½æ˜¯ä»æœ«å°¾è¡¥çš„\n\t\t\t\tif(k==range[i].n) break; // å·²å¤Ÿnæ£µ\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n\n\n## 2. åŒºé—´åˆ†ç»„\n\n![image-20240308190931030](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308190931030.png)\n\n![image-20240529205928100](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529205928100.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼Œç°åœ¨æœ‰$N$ä¸ªåŒºé—´ï¼Œé—®æœ€å°‘åˆ†å¤šå°‘ç»„ï¼Œèƒ½è®©è¿™äº›åˆ†ç»„ä¸­çš„æ‰€æœ‰åŒºé—´ä¸¤ä¸¤ä¹‹é—´åŒ…æ‹¬ç«¯ç‚¹éƒ½æ²¡æœ‰äº¤é›†\n* è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åå¤„ç†æ¯ä¸ªåŒºé—´ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½æŠŠè¿™ä¸ªåŒºé—´æ”¾åˆ°ç°æœ‰çš„æŸä¸ªåˆ†ç»„ä¸­ï¼Œå³åˆ¤æ–­ $range[i].l \\ > \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$\n  1. å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æŸä¸ªåˆ†ç»„é—´æ²¡æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å°†åŒºé—´ $ i $ æ”¾è¿›å»ï¼Œå¹¶ä¸”æ›´æ–°è¿™ä¸ªåˆ†ç»„çš„æœ€å¤§å³ç«¯ç‚¹ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸å¤šä¸ªåˆ†ç»„éƒ½æœ‰äº¤é›†åˆ™å¯ä»¥æ”¾åˆ°ä»»æ„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œä¸å½±å“ç»“æœï¼Œå¯è‡ªè¡Œæ¨¡æ‹Ÿè¯æ˜ï¼‰\n  2. å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æ¯ä¸ªåˆ†ç»„é—´éƒ½æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å¼€ä¸€ä¸ªæ–°ç»„ï¼Œå†æŠŠåŒºé—´ $i$ æ”¾è¿›å»\n  3. åœ¨åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸æŸä¸€åˆ†ç»„æœ‰äº¤é›†æ—¶ï¼Œåªéœ€è¦ä¸æ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹è¿›è¡Œæ¯”è¾ƒå³å¯ï¼Œå› ä¸ºè¿™æ˜¯æœ€æœ‰å¯èƒ½æ»¡è¶³ $range[i].l \\ > \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$ çš„æƒ…å†µï¼Œå¯¹äºæ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå°æ ¹å †æ¥ç»´æŠ¤å³å¯\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: \n  1) å…ˆå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n  2) ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ‰€æœ‰åˆ†ç»„çš„æ•´ä½“å³ç«¯ç‚¹çš„æœ€å°å€¼,å› ä¸ºåœ¨éå†åŒºé—´æ—¶éœ€è¦ç”¨range[i].lä¸æ‰€æœ‰åˆ†ç»„çš„max_ræ¯”è¾ƒ,è€Œmin(max_r)æ˜¯æœ€å®¹æ˜“æ¯”range[i].lå°çš„,å³æœ€å®¹æ˜“æ’å…¥è¯¥åˆ†ç»„ä¸­\n  \n */\n\nconst int N=1e5+5;\n\nstruct Range {\n\tint l;\n\tint r;\n}range[N];\n\nbool cmp(Range a,Range b) {\n\t// æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº\n\treturn a.l<b.l;\n}\n\nint main() {\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\trange[i]={l,r};\n\t}\n\t\n\tsort(range+1,range+1+n,cmp);\n\t// ç»´æŠ¤æ¯ä¸ªåˆ†ç»„çš„æœ€å³è¾¹ç•Œçš„æœ€å°å€¼\n\tpriority_queue<int,vector<int>,greater<int>> pq;\n\t\n\t// æšä¸¾åŒºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\t// å¦‚æœæ¯ä¸ªåˆ†ç»„çš„æœ€å°çš„max_réƒ½æ¯”å½“å‰åŒºé—´å·¦ç«¯ç‚¹å¤§\n\t\t// è¯´æ˜ä¸æ¯ä¸ªåˆ†ç»„ä¸­çš„åŒºé—´éƒ½è¦äº§ç”Ÿäº¤é›†,åˆ™ä¸èƒ½æ”¾å…¥ä»»ä½•åˆ†ç»„\n\t\t// æ­¤æ—¶æ–°å¼€ä¸€ä¸ªåˆ†ç»„\n\t\tif(pq.empty() || pq.top()>=range[i].l) {\n\t\t\tpq.push(range[i].r); // æ–°å¼€åˆ†ç»„,ä¿å­˜å³ç«¯ç‚¹\n\t\t} else {\n\t\t\t// å¦‚æœæ— äº¤é›†,æ­¤æ—¶å¯ä»¥æ”¾è¿›è¿™ä¸ªåˆ†ç»„ä¸­\n\t\t\t// å¹¶ç»´æŠ¤æ‰€æœ‰åˆ†ç»„ä¸­æœ€å¤§å³ç«¯ç‚¹çš„æœ€å°å€¼\n\t\t\tpq.pop();\n\t\t\tpq.push(range[i].r);\n\t\t}\n\t}\n\t// å°æ ¹å †çš„å¤§å°å°±æ˜¯åˆ†ç»„çš„ä¸ªæ•°\n\tcout<<pq.size()<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åŒºé—´è¦†ç›–\n\n![image-20240308203244259](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308203244259.png)\n\n![image-20240529211220012](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529211220012.png)\n\n* ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼ŒÂ·Â·Â·ï¼Œè¿™é“é¢˜æ²¡ä»€ä¹ˆå¯ç¿»è¯‘çš„\n* è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åä¾æ¬¡æšä¸¾æ¯ä¸ªåŒºé—´ï¼Œåœ¨æ‰€æœ‰èƒ½è¦†ç›– $start$ çš„åŒºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå³ç«¯ç‚¹æœ€å¤§çš„åŒºé—´ï¼Œç„¶åå°† $start$ æ›´æ–°æˆä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å€¼ï¼Œç»§ç»­å‘åè¦†ç›–ï¼Œå¦‚æœæ‰€æœ‰åŒºé—´éƒ½éå†è¿‡äº†ä½†å¹¶æ²¡æœ‰è¦†ç›–åˆ° $end$ çš„è¯è¯´æ˜æ— æ³•å®Œå…¨è¦†ç›–ï¼Œåˆ™è¾“å‡º $-1$\n\n ``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: å¯¹åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,å› ä¸ºæ¯æ¬¡éƒ½è¦ä¿è¯è¦†ç›–start\n  å†ä»æ»¡è¶³è¦†ç›–startçš„åŒºé—´ä¸­é€‰å‡ºå³ç«¯ç‚¹æœ€å¤§çš„,è¿™æ ·å°±èƒ½ä¿è¯è¦†ç›–çº¿æ®µçš„åŒºé—´æ•°æœ€å°\n  å†æ›´æ–°startçš„å€¼,å¦‚æœéå†å®Œæ‰€æœ‰åŒºé—´èƒ½ä½¿start>=end,åˆ™å¯è¦†ç›–,è¾“å‡ºåŒºé—´æ•°\n  \n */\n\nconst int N=1e5+5;\n\nstruct Range {\n\tint l;\n\tint r;\n\t// é‡è½½è¿ç®—ç¬¦\n\tbool operator<(const Range &W)const {\n\t\treturn l<W.l;\n\t}\n}range[N];\n\nint main() {\n\tint st,en;\n\tcin>>st>>en;\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\trange[i]={l,r};\n\t}\n\tsort(range+1,range+1+n);\n\t\n\tint cnt=0; // ç»Ÿè®¡åŒºé—´æ•°\n\tbool flag=false; // æ˜¯å¦èƒ½è¦†ç›–å®Œæ•´ä¸ªåŒºé—´\n\t\n\t// éå†æ‰€æœ‰åŒºé—´\n\tfor(int i=1;i<=n;i++) {\n\t\t// front_r:å½“å‰è¦†ç›–åˆ°çš„åŒºåŸŸ\n\t\t// j:æ¯æ¬¡ä»ç¬¬iä¸ªåŒºé—´åå¼€å§‹æ‰¾\n\t\tint j=i,front_r=INT_MIN;\n\t\twhile(j<=n && range[j].l<=st) {\n\t\t\tfront_r=max(front_r,range[j].r); // æ‰¾æœ€å¤§çš„å³ç«¯ç‚¹\n\t\t\tj++;\n\t\t}\n\t\t// å¦‚æœæœ€å¤§çš„front_rä»å°äºst,è¯´æ˜çº¿æ®µä¸å¯è¢«å·²æœ‰åŒºé—´è¦†ç›–\n\t\tif(front_r<st) break;\n\t\t// å¦‚æœæ‰¾å¾—åˆ°,åŒºé—´æ•°+1\n\t\tcnt++;\n\t\t// å·²ç»å®Œå…¨è¦†ç›–çº¿æ®µ\n\t\tif(front_r>=en) {\n\t\t\tflag=true;\n\t\t\tbreak;\n\t\t}\n\t\t// å¦åˆ™æ›´æ–°iå’Œj\n\t\tst=front_r; // è¿­ä»£st,åé¢çš„åŒºé—´ç»§ç»­å’Œstæ¯”\n\t\ti=j-1; // åŒæŒ‡é’ˆ,åŠ é€Ÿéå†\n\t}\t\n\tif(!flag) cnt=-1;\n\tcout<<cnt;\n\treturn 0;\n}\n ```\n\n\n\n## 4. åŒºé—´åˆå¹¶\n\n* é¢˜ç›®æœ€ç®€å•çš„ä¸€é›†ï¼Œ$N$ ä¸ªåŒºé—´ï¼Œç«¯ç‚¹é‡å ä¹Ÿå¯åˆå¹¶ï¼Œæ±‚åˆå¹¶åçš„åŒºé—´æ•°é‡å’Œå·¦å³ç«¯ç‚¹\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n/*\n  è§£é¢˜æ€è·¯: åŒºé—´åˆå¹¶,ç«¯ç‚¹ä¹Ÿç®—é‡å ,å°†æœ‰é‡å çš„åŒºé—´åˆå¹¶åè¾“å‡º\n  1) åŒºé—´æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,æœ‰é‡å åˆ™åˆå¹¶æ›´æ–°åŒºé—´å³ç«¯ç‚¹\n  2) rangeæ•°ç»„ä¸€ä¸ªå­˜å‚¨åˆå¹¶å‰çš„åŒºé—´,ä¸€ä¸ªå­˜å‚¨åˆå¹¶åçš„åŒºé—´,æœ€åéå†è¾“å‡ºå³å¯\n  \n */\n\nconst int N=1e5+5;\n\nint n,a[N];\n\n// range:åŸåŒºé—´,ans:åˆå¹¶ååŒºé—´\nstruct Range{\n\tint l;\n\tint r;\n}range[N],ans[N];\n\n// å¯ä»¥ç›´æ¥return a.l<b.l ,å¦‚æœå³ç«¯ç‚¹ä¹Ÿä»å°åˆ°å¤§æ’åºåˆ™åˆå¹¶æ¬¡æ•°å¤šäº†,å¸¸æ•°åè€Œå¤§äº†\nbool cmp(Range a,Range b) {\n\tif(a.l!=b.l) return a.l<b.l;\n\treturn a.r<b.r;\n}\n\nint main() {\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tint l,r;\n\t\tcin>>l>>r;\n\t\trange[i]={l,r};\n\t}\n\tsort(range+1,range+1+n,cmp);\n\t// æšä¸¾æ‰€æœ‰åŒºé—´è¿›è¡Œåˆå¹¶\n\tint cnt=0;\n\tans[++cnt]=range[1]; // ç»“æ„ä½“ä¹‹é—´ç­‰ä»·èµ‹å€¼\n\n\tfor(int i=2;i<=n;i++) {\n\t\t// å¯åˆå¹¶\n\t\tif(range[i].l<=ans[cnt].r) {\n\t\t\tans[cnt].r=max(ans[cnt].r,range[i].r); // æ›´æ–°å³ç«¯ç‚¹\n\t\t}\n\t\t// ä¸å¯åˆå¹¶,å¼€æ–°åŒºé—´\n\t\telse {\n\t\t\tans[++cnt]=range[i];\n\t\t}\n\t}\n\tcout<<cnt<<'\\n'; // åŒºé—´ä¸ªæ•°\n\t// è¾“å‡ºåˆå¹¶åçš„åŒºé—´\n\tfor(int i=1;i<=cnt;i++) {\n\t\tcout<<ans[i].l<<' '<<ans[i].r<<'\\n';\n\t}\n\treturn 0;\n}\n```\n","slug":"è´ªå¿ƒåŒºé—´é—®é¢˜","published":1,"updated":"2024-10-05T08:39:08.605Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptk0049c0nf0sbh98l0","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n\n\n<h1><span id=\"è´ªå¿ƒåŒºé—´é—®é¢˜\">è´ªå¿ƒåŒºé—´é—®é¢˜</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%9C%80%E5%A4%A7%E4%B8%8D%E7%9B%B8%E4%BA%A4%E5%8C%BA%E9%97%B4%E6%95%B0%E5%8C%BA%E9%97%B4%E9%80%89%E7%82%B9\">1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰</a></li>\n<li><a href=\"#2-%E5%8C%BA%E9%97%B4%E5%88%86%E7%BB%84\">2. åŒºé—´åˆ†ç»„</a></li>\n<li><a href=\"#3-%E5%8C%BA%E9%97%B4%E8%A6%86%E7%9B%96\">3. åŒºé—´è¦†ç›–</a></li>\n<li><a href=\"#4-%E5%8C%BA%E9%97%B4%E5%90%88%E5%B9%B6\">4. åŒºé—´åˆå¹¶</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>ä»¥ä¸‹ä¾‹é¢˜æ¥è‡ªäºAcWing 906~908</p>\n</blockquote>\n<h2><span id=\"1-æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°åŒºé—´é€‰ç‚¹\">1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240307214934220.png\" alt=\"image-20240307214934220\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®å§<ol>\n<li>æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼šä¹Ÿå°±æ˜¯è¯´ç»™å®š$N$ä¸ªé—­åŒºé—´ï¼Œé—®èƒ½ä»ä¸­é€‰å‡ºå¤šå°‘ä¸ªåŒºé—´ä½¿å…¶äº’ä¸ç›¸äº¤ï¼ˆåŒæ´»åŠ¨å®‰æ’é—®é¢˜ï¼‰</li>\n<li>åŒºé—´é€‰ç‚¹ï¼šç»™å®š $N$ ä¸ªåŒºé—´ï¼Œåœ¨æ•°è½´ä¸Šé€‰æ‹©å°½é‡å°‘çš„ç‚¹ï¼Œä½¿æ¯ä¸ªåŒºé—´è‡³å°‘åŒ…å«ä¸€ä¸ªé€‰å‡ºçš„ç‚¹ï¼ˆåŒæ•´æ•°åŒºé—´é—®é¢˜ï¼šæ‰¾åˆ°ä¸€ä¸ªå«å…ƒç´ ä¸ªæ•°æœ€å°‘çš„é›†åˆï¼Œä½¿å¯¹æ¯ä¸€ä¸ªåŒºé—´éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ•´æ•°å±äºè¯¥é›†åˆï¼Œè¾“å‡ºè¯¥é›†åˆçš„å…ƒç´ ä¸ªæ•°ï¼‰</li>\n<li>ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªé—®é¢˜å…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Ÿè§‚å¯Ÿä¸‹æ–¹å›¾åƒï¼Œåœ¨æ‰¾ä¸ç›¸äº¤åŒºé—´çš„æ—¶å€™å…¶å®å°±æ˜¯æŠŠ $N$ ä¸ªåŒºé—´åˆ’åˆ†æˆ $M$ ä¸ªé›†åˆï¼Œä»è¿™ $M$ ä¸ªé›†åˆä¸­åˆ†åˆ«é€‰å‡ºä¸€ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆè¿™ $M$ ä¸ªé›†åˆæ˜¯ä¸€å®šä¸ç›¸äº¤çš„ï¼Œæ­¤æ—¶ $M$ å°±æ˜¯ç­”æ¡ˆï¼ŒåŒºé—´é€‰ç‚¹ä¸­ç‚¹çš„ä¸ªæ•°å…¶å®å°±æ˜¯é›†åˆçš„ä¸ªæ•°ï¼Œåªè¦ $range[i].l&gt;last_r$ å°±è¯´æ˜éœ€è¦æ–°å¼€ä¸€ä¸ªé›†åˆäº†ï¼Œæ‰€ä»¥ $ans++$</li>\n</ol>\n</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šæ–°å»ºä¸€ä¸ªç»“æ„ä½“å­˜å‚¨åŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå°†è¿™$N$ä¸ªåŒºé—´æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼ˆå› ä¸ºæ´»åŠ¨é€‰æ‹©<strong>è¶Šæ—©ç»“æŸè¶Šå¥½</strong>ï¼‰ï¼Œéå†æ‰€æœ‰çš„åŒºé—´ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„åŒºé—´å·¦ç«¯ç‚¹çš„å€¼å¤§äºäº†ä¸Šä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹çš„å€¼ï¼Œè¯´æ˜æ­¤æ—¶åŒºé—´æ²¡æœ‰é‡åˆï¼Œåˆ™åŒºé—´ä¸ªæ•°$+1$</li>\n<li>å¦‚æœå‡è®¾é€‰çš„ç‚¹éƒ½å‡ºç°åœ¨åŒºé—´çš„å³ç«¯ç‚¹ï¼Œæ­¤æ—¶ä¸ºäº†è®©æ¯ä¸ªåŒºé—´éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªäº¤ç‚¹ï¼Œå°±å¯ä»¥ä½œå›¾å¦‚ä¸‹ï¼š</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529204230868.png\" alt=\"image-20240529204230868\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ´»åŠ¨å®‰æ’+æœ€å¤§ä¸ç›¸äº¤åŒºé—´+åŒºé—´é€‰ç‚¹ </span></span><br><span class=\"line\"><span class=\"comment\">  1) ç”¨ä¸€ä¸ªå˜é‡è®°å½•ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,æŠŠæ‰€æœ‰åŒºé—´ä¾æ®åŒºé—´å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"comment\">  2) å¦‚æœæŸä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹ï¼ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,åˆ™é€‰ç‚¹æ•°+1,æˆ–ä¸ç›¸äº¤åŒºé—´çš„ä¸ªæ•°+1</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l; </span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N]; <span class=\"comment\">// æ¯ä¸ªåŒºé—´æœ‰å·¦å³ç«¯ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(Range a,Range b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;range[i].l,&amp;range[i].r);\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> front_r=INT_MIN; <span class=\"comment\">// ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªé›†åˆ,å³range[i].lä¸€å®šæ¯”åˆå§‹front_rå¤§ </span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n,cmp);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// ä¹Ÿå¯ä»¥å®šä¹‰res=1,front_r=(sorted)range[1].r,ä¸‹é¢çš„forå¾ªç¯ä»i=2å¼€å§‹</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(range[i].l&gt;front_r) &#123;</span><br><span class=\"line\">\t\t\tfront_r=range[i].r; <span class=\"comment\">// æ›´æ–°å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t\tres++; <span class=\"comment\">// ç‚¹æ•°+1</span></span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"https://www.luogu.com.cn/problem/solution/P1250\">P1250 ç§æ ‘ - æ´›è°· </a></p>\n</blockquote>\n<ul>\n<li>é¢˜ç›®å¤§æ„ï¼šåœ¨åŒºé—´ $[a,b]$ å†…è‡³å°‘ç§ $c$ æ£µæ ‘ï¼Œé—®æ ‘æœ€å°‘çš„ä¸ªæ•°</li>\n<li>è§£é¢˜æ€è·¯ï¼š<ul>\n<li>å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°ï¼Œå¯¹æ¯ä¸ªåŒºé—´å…ˆç»Ÿè®¡å·²æœ‰æ ‘çš„æ•°é‡ï¼Œå¦‚æœä¸è¶³ $c$ æ£µåˆ™è¡¥å·®</li>\n<li>ä¸ºäº†è®©æ ‘å°½å¯èƒ½èƒ½è¢«ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šï¼Œè¡¥å·®æ—¶åº”å½“ä»æœ«å°¾è¡¥å·®</li>\n<li>å› ä¸ºæ¯ä¸ªåæ ‡ç‚¹åªèƒ½ç§ä¸€æ£µæ ‘ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªçŠ¶æ€æ•°ç»„ $st$ è¾…åŠ©å­˜å‚¨</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"><span class=\"comment\">  1) è¦åœ¨[a,b]ç§è‡³å°‘cæ£µæ ‘,æ ‘æœ€å°‘,å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°,å†å¯¹å¤šä¸ªåŒºé—´è¡¥å·®</span></span><br><span class=\"line\"><span class=\"comment\">  2) åœ¨è¡¥å·®çš„æ—¶å€™ä¸€å®šè¦è¡¥åœ¨è¯¥åŒºé—´çš„å°¾éƒ¨,å› ä¸ºè¿™æ ·æ˜¯æœ€åå¯èƒ½è®©ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šçš„</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Range</span>&#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n; <span class=\"comment\">// æ ‘çš„ä¸ªæ•°</span></span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> used[N]; <span class=\"comment\">// åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰æ ‘äº†(ä¸€ä¸ªç‚¹ä¸èƒ½ç§ä¸¤æ£µæ ‘)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Range a,Range b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r; <span class=\"comment\">// æŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;range[i].l,&amp;range[i].r,&amp;range[i].n); \t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(range+<span class=\"number\">1</span>,range+<span class=\"number\">1</span>+m,cmp);</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>; <span class=\"comment\">// å­˜å‚¨è¯¥åŒºé—´å†…å·²æœ‰çš„æ ‘çš„ä¸ªæ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=range[i].l;j&lt;=range[i].r;j++) <span class=\"keyword\">if</span>(used[j]) k++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 1) å·²æ»¡è¶³range[i].næ£µæ ‘åˆ™é€€å‡º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(k&gt;=range[i].n) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 2) ä¸æ»¡è¶³,åˆ™éœ€è¦è¡¥å·®,è¡¥å·®éœ€è¦ä»æœ«å°¾è¡¥,æœ€æœ‰å¯èƒ½ç»™ä¸‹ä¸€ä¸ªåŒºé—´ç”¨</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=range[i].r;j&gt;=range[i].l;j--) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!used[j]) &#123;</span><br><span class=\"line\">\t\t\t\tused[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\tk++;</span><br><span class=\"line\">\t\t\t\tans++; <span class=\"comment\">// æ ‘çš„æ•°é‡åªåœ¨æ­¤å¤„å¢åŠ ,å³æ‰€æœ‰çš„æ ‘å…¶å®éƒ½æ˜¯ä»æœ«å°¾è¡¥çš„</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(k==range[i].n) <span class=\"keyword\">break</span>; <span class=\"comment\">// å·²å¤Ÿnæ£µ</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-åŒºé—´åˆ†ç»„\">2. åŒºé—´åˆ†ç»„</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308190931030.png\" alt=\"image-20240308190931030\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529205928100.png\" alt=\"image-20240529205928100\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼Œç°åœ¨æœ‰$N$ä¸ªåŒºé—´ï¼Œé—®æœ€å°‘åˆ†å¤šå°‘ç»„ï¼Œèƒ½è®©è¿™äº›åˆ†ç»„ä¸­çš„æ‰€æœ‰åŒºé—´ä¸¤ä¸¤ä¹‹é—´åŒ…æ‹¬ç«¯ç‚¹éƒ½æ²¡æœ‰äº¤é›†</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åå¤„ç†æ¯ä¸ªåŒºé—´ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½æŠŠè¿™ä¸ªåŒºé—´æ”¾åˆ°ç°æœ‰çš„æŸä¸ªåˆ†ç»„ä¸­ï¼Œå³åˆ¤æ–­ $range[i].l \\ &gt; \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$<ol>\n<li>å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æŸä¸ªåˆ†ç»„é—´æ²¡æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å°†åŒºé—´ $ i $ æ”¾è¿›å»ï¼Œå¹¶ä¸”æ›´æ–°è¿™ä¸ªåˆ†ç»„çš„æœ€å¤§å³ç«¯ç‚¹ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸å¤šä¸ªåˆ†ç»„éƒ½æœ‰äº¤é›†åˆ™å¯ä»¥æ”¾åˆ°ä»»æ„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œä¸å½±å“ç»“æœï¼Œå¯è‡ªè¡Œæ¨¡æ‹Ÿè¯æ˜ï¼‰</li>\n<li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æ¯ä¸ªåˆ†ç»„é—´éƒ½æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å¼€ä¸€ä¸ªæ–°ç»„ï¼Œå†æŠŠåŒºé—´ $i$ æ”¾è¿›å»</li>\n<li>åœ¨åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸æŸä¸€åˆ†ç»„æœ‰äº¤é›†æ—¶ï¼Œåªéœ€è¦ä¸æ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹è¿›è¡Œæ¯”è¾ƒå³å¯ï¼Œå› ä¸ºè¿™æ˜¯æœ€æœ‰å¯èƒ½æ»¡è¶³ $range[i].l \\ &gt; \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$ çš„æƒ…å†µï¼Œå¯¹äºæ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå°æ ¹å †æ¥ç»´æŠ¤å³å¯</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"><span class=\"comment\">  1) å…ˆå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"comment\">  2) ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ‰€æœ‰åˆ†ç»„çš„æ•´ä½“å³ç«¯ç‚¹çš„æœ€å°å€¼,å› ä¸ºåœ¨éå†åŒºé—´æ—¶éœ€è¦ç”¨range[i].lä¸æ‰€æœ‰åˆ†ç»„çš„max_ræ¯”è¾ƒ,è€Œmin(max_r)æ˜¯æœ€å®¹æ˜“æ¯”range[i].lå°çš„,å³æœ€å®¹æ˜“æ’å…¥è¯¥åˆ†ç»„ä¸­</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(Range a,Range b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.l&lt;b.l;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤æ¯ä¸ªåˆ†ç»„çš„æœ€å³è¾¹ç•Œçš„æœ€å°å€¼</span></span><br><span class=\"line\">\tpriority_queue&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;,greater&lt;<span class=\"type\">int</span>&gt;&gt; pq;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ¯ä¸ªåˆ†ç»„çš„æœ€å°çš„max_réƒ½æ¯”å½“å‰åŒºé—´å·¦ç«¯ç‚¹å¤§</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯´æ˜ä¸æ¯ä¸ªåˆ†ç»„ä¸­çš„åŒºé—´éƒ½è¦äº§ç”Ÿäº¤é›†,åˆ™ä¸èƒ½æ”¾å…¥ä»»ä½•åˆ†ç»„</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ­¤æ—¶æ–°å¼€ä¸€ä¸ªåˆ†ç»„</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(pq.<span class=\"built_in\">empty</span>() || pq.<span class=\"built_in\">top</span>()&gt;=range[i].l) &#123;</span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">push</span>(range[i].r); <span class=\"comment\">// æ–°å¼€åˆ†ç»„,ä¿å­˜å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ— äº¤é›†,æ­¤æ—¶å¯ä»¥æ”¾è¿›è¿™ä¸ªåˆ†ç»„ä¸­</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¹¶ç»´æŠ¤æ‰€æœ‰åˆ†ç»„ä¸­æœ€å¤§å³ç«¯ç‚¹çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">push</span>(range[i].r);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å°æ ¹å †çš„å¤§å°å°±æ˜¯åˆ†ç»„çš„ä¸ªæ•°</span></span><br><span class=\"line\">\tcout&lt;&lt;pq.<span class=\"built_in\">size</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-åŒºé—´è¦†ç›–\">3. åŒºé—´è¦†ç›–</span></h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308203244259.png\" alt=\"image-20240308203244259\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529211220012.png\" alt=\"image-20240529211220012\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼ŒÂ·Â·Â·ï¼Œè¿™é“é¢˜æ²¡ä»€ä¹ˆå¯ç¿»è¯‘çš„</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åä¾æ¬¡æšä¸¾æ¯ä¸ªåŒºé—´ï¼Œåœ¨æ‰€æœ‰èƒ½è¦†ç›– $start$ çš„åŒºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå³ç«¯ç‚¹æœ€å¤§çš„åŒºé—´ï¼Œç„¶åå°† $start$ æ›´æ–°æˆä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å€¼ï¼Œç»§ç»­å‘åè¦†ç›–ï¼Œå¦‚æœæ‰€æœ‰åŒºé—´éƒ½éå†è¿‡äº†ä½†å¹¶æ²¡æœ‰è¦†ç›–åˆ° $end$ çš„è¯è¯´æ˜æ— æ³•å®Œå…¨è¦†ç›–ï¼Œåˆ™è¾“å‡º $-1$</li>\n</ul>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: å¯¹åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,å› ä¸ºæ¯æ¬¡éƒ½è¦ä¿è¯è¦†ç›–start</span></span><br><span class=\"line\"><span class=\"comment\">  å†ä»æ»¡è¶³è¦†ç›–startçš„åŒºé—´ä¸­é€‰å‡ºå³ç«¯ç‚¹æœ€å¤§çš„,è¿™æ ·å°±èƒ½ä¿è¯è¦†ç›–çº¿æ®µçš„åŒºé—´æ•°æœ€å°</span></span><br><span class=\"line\"><span class=\"comment\">  å†æ›´æ–°startçš„å€¼,å¦‚æœéå†å®Œæ‰€æœ‰åŒºé—´èƒ½ä½¿start&gt;=end,åˆ™å¯è¦†ç›–,è¾“å‡ºåŒºé—´æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"comment\">// é‡è½½è¿ç®—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"keyword\">operator</span>&lt;(<span class=\"type\">const</span> Range &amp;W)<span class=\"type\">const</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> l&lt;W.l;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> st,en;</span><br><span class=\"line\">\tcin&gt;&gt;st&gt;&gt;en;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// ç»Ÿè®¡åŒºé—´æ•°</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>; <span class=\"comment\">// æ˜¯å¦èƒ½è¦†ç›–å®Œæ•´ä¸ªåŒºé—´</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// front_r:å½“å‰è¦†ç›–åˆ°çš„åŒºåŸŸ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// j:æ¯æ¬¡ä»ç¬¬iä¸ªåŒºé—´åå¼€å§‹æ‰¾</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=i,front_r=INT_MIN;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(j&lt;=n &amp;&amp; range[j].l&lt;=st) &#123;</span><br><span class=\"line\">\t\t\tfront_r=<span class=\"built_in\">max</span>(front_r,range[j].r); <span class=\"comment\">// æ‰¾æœ€å¤§çš„å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t\tj++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæœ€å¤§çš„front_rä»å°äºst,è¯´æ˜çº¿æ®µä¸å¯è¢«å·²æœ‰åŒºé—´è¦†ç›–</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(front_r&lt;st) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ‰¾å¾—åˆ°,åŒºé—´æ•°+1</span></span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å·²ç»å®Œå…¨è¦†ç›–çº¿æ®µ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(front_r&gt;=en) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦åˆ™æ›´æ–°iå’Œj</span></span><br><span class=\"line\">\t\tst=front_r; <span class=\"comment\">// è¿­ä»£st,åé¢çš„åŒºé—´ç»§ç»­å’Œstæ¯”</span></span><br><span class=\"line\">\t\ti=j<span class=\"number\">-1</span>; <span class=\"comment\">// åŒæŒ‡é’ˆ,åŠ é€Ÿéå†</span></span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!flag) cnt=<span class=\"number\">-1</span>;</span><br><span class=\"line\">\tcout&lt;&lt;cnt;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-åŒºé—´åˆå¹¶\">4. åŒºé—´åˆå¹¶</span></h2><ul>\n<li>é¢˜ç›®æœ€ç®€å•çš„ä¸€é›†ï¼Œ$N$ ä¸ªåŒºé—´ï¼Œç«¯ç‚¹é‡å ä¹Ÿå¯åˆå¹¶ï¼Œæ±‚åˆå¹¶åçš„åŒºé—´æ•°é‡å’Œå·¦å³ç«¯ç‚¹</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: åŒºé—´åˆå¹¶,ç«¯ç‚¹ä¹Ÿç®—é‡å ,å°†æœ‰é‡å çš„åŒºé—´åˆå¹¶åè¾“å‡º</span></span><br><span class=\"line\"><span class=\"comment\">  1) åŒºé—´æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,æœ‰é‡å åˆ™åˆå¹¶æ›´æ–°åŒºé—´å³ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">  2) rangeæ•°ç»„ä¸€ä¸ªå­˜å‚¨åˆå¹¶å‰çš„åŒºé—´,ä¸€ä¸ªå­˜å‚¨åˆå¹¶åçš„åŒºé—´,æœ€åéå†è¾“å‡ºå³å¯</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// range:åŸåŒºé—´,ans:åˆå¹¶ååŒºé—´</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Range</span>&#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N],ans[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯ä»¥ç›´æ¥return a.l&lt;b.l ,å¦‚æœå³ç«¯ç‚¹ä¹Ÿä»å°åˆ°å¤§æ’åºåˆ™åˆå¹¶æ¬¡æ•°å¤šäº†,å¸¸æ•°åè€Œå¤§äº†</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Range a,Range b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(a.l!=b.l) <span class=\"keyword\">return</span> a.l&lt;b.l;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(range+<span class=\"number\">1</span>,range+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾æ‰€æœ‰åŒºé—´è¿›è¡Œåˆå¹¶</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tans[++cnt]=range[<span class=\"number\">1</span>]; <span class=\"comment\">// ç»“æ„ä½“ä¹‹é—´ç­‰ä»·èµ‹å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯åˆå¹¶</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(range[i].l&lt;=ans[cnt].r) &#123;</span><br><span class=\"line\">\t\t\tans[cnt].r=max(ans[cnt].r,range[i].r); <span class=\"comment\">// æ›´æ–°å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸å¯åˆå¹¶,å¼€æ–°åŒºé—´</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tans[++cnt]=range[i];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// åŒºé—´ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºåˆå¹¶åçš„åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;ans[i].l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;ans[i].r&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n\n\n<h1 id=\"è´ªå¿ƒåŒºé—´é—®é¢˜\"><a href=\"#è´ªå¿ƒåŒºé—´é—®é¢˜\" class=\"headerlink\" title=\"è´ªå¿ƒåŒºé—´é—®é¢˜\"></a>è´ªå¿ƒåŒºé—´é—®é¢˜</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E6%9C%80%E5%A4%A7%E4%B8%8D%E7%9B%B8%E4%BA%A4%E5%8C%BA%E9%97%B4%E6%95%B0%E5%8C%BA%E9%97%B4%E9%80%89%E7%82%B9\">1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰</a></li>\n<li><a href=\"#2-%E5%8C%BA%E9%97%B4%E5%88%86%E7%BB%84\">2. åŒºé—´åˆ†ç»„</a></li>\n<li><a href=\"#3-%E5%8C%BA%E9%97%B4%E8%A6%86%E7%9B%96\">3. åŒºé—´è¦†ç›–</a></li>\n<li><a href=\"#4-%E5%8C%BA%E9%97%B4%E5%90%88%E5%B9%B6\">4. åŒºé—´åˆå¹¶</a></li>\n</ul>\n<!-- tocstop -->\n\n<blockquote>\n<p>ä»¥ä¸‹ä¾‹é¢˜æ¥è‡ªäºAcWing 906~908</p>\n</blockquote>\n<h2 id=\"1-æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰\"><a href=\"#1-æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰\" class=\"headerlink\" title=\"1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰\"></a>1. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼ˆåŒºé—´é€‰ç‚¹ï¼‰</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240307214934220.png\" alt=\"image-20240307214934220\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®å§<ol>\n<li>æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°ï¼šä¹Ÿå°±æ˜¯è¯´ç»™å®š$N$ä¸ªé—­åŒºé—´ï¼Œé—®èƒ½ä»ä¸­é€‰å‡ºå¤šå°‘ä¸ªåŒºé—´ä½¿å…¶äº’ä¸ç›¸äº¤ï¼ˆåŒæ´»åŠ¨å®‰æ’é—®é¢˜ï¼‰</li>\n<li>åŒºé—´é€‰ç‚¹ï¼šç»™å®š $N$ ä¸ªåŒºé—´ï¼Œåœ¨æ•°è½´ä¸Šé€‰æ‹©å°½é‡å°‘çš„ç‚¹ï¼Œä½¿æ¯ä¸ªåŒºé—´è‡³å°‘åŒ…å«ä¸€ä¸ªé€‰å‡ºçš„ç‚¹ï¼ˆåŒæ•´æ•°åŒºé—´é—®é¢˜ï¼šæ‰¾åˆ°ä¸€ä¸ªå«å…ƒç´ ä¸ªæ•°æœ€å°‘çš„é›†åˆï¼Œä½¿å¯¹æ¯ä¸€ä¸ªåŒºé—´éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ•´æ•°å±äºè¯¥é›†åˆï¼Œè¾“å‡ºè¯¥é›†åˆçš„å…ƒç´ ä¸ªæ•°ï¼‰</li>\n<li>ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªé—®é¢˜å…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Ÿè§‚å¯Ÿä¸‹æ–¹å›¾åƒï¼Œåœ¨æ‰¾ä¸ç›¸äº¤åŒºé—´çš„æ—¶å€™å…¶å®å°±æ˜¯æŠŠ $N$ ä¸ªåŒºé—´åˆ’åˆ†æˆ $M$ ä¸ªé›†åˆï¼Œä»è¿™ $M$ ä¸ªé›†åˆä¸­åˆ†åˆ«é€‰å‡ºä¸€ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆè¿™ $M$ ä¸ªé›†åˆæ˜¯ä¸€å®šä¸ç›¸äº¤çš„ï¼Œæ­¤æ—¶ $M$ å°±æ˜¯ç­”æ¡ˆï¼ŒåŒºé—´é€‰ç‚¹ä¸­ç‚¹çš„ä¸ªæ•°å…¶å®å°±æ˜¯é›†åˆçš„ä¸ªæ•°ï¼Œåªè¦ $range[i].l&gt;last_r$ å°±è¯´æ˜éœ€è¦æ–°å¼€ä¸€ä¸ªé›†åˆäº†ï¼Œæ‰€ä»¥ $ans++$</li>\n</ol>\n</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šæ–°å»ºä¸€ä¸ªç»“æ„ä½“å­˜å‚¨åŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå°†è¿™$N$ä¸ªåŒºé—´æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼ˆå› ä¸ºæ´»åŠ¨é€‰æ‹©<strong>è¶Šæ—©ç»“æŸè¶Šå¥½</strong>ï¼‰ï¼Œéå†æ‰€æœ‰çš„åŒºé—´ï¼Œå¦‚æœå½“å‰éå†åˆ°çš„åŒºé—´å·¦ç«¯ç‚¹çš„å€¼å¤§äºäº†ä¸Šä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹çš„å€¼ï¼Œè¯´æ˜æ­¤æ—¶åŒºé—´æ²¡æœ‰é‡åˆï¼Œåˆ™åŒºé—´ä¸ªæ•°$+1$</li>\n<li>å¦‚æœå‡è®¾é€‰çš„ç‚¹éƒ½å‡ºç°åœ¨åŒºé—´çš„å³ç«¯ç‚¹ï¼Œæ­¤æ—¶ä¸ºäº†è®©æ¯ä¸ªåŒºé—´éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªäº¤ç‚¹ï¼Œå°±å¯ä»¥ä½œå›¾å¦‚ä¸‹ï¼š</li>\n</ul>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529204230868.png\" alt=\"image-20240529204230868\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: æ´»åŠ¨å®‰æ’+æœ€å¤§ä¸ç›¸äº¤åŒºé—´+åŒºé—´é€‰ç‚¹ </span></span><br><span class=\"line\"><span class=\"comment\">  1) ç”¨ä¸€ä¸ªå˜é‡è®°å½•ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,æŠŠæ‰€æœ‰åŒºé—´ä¾æ®åŒºé—´å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"comment\">  2) å¦‚æœæŸä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹ï¼ä¸Šä¸€ä¸ªåŒºé—´å³ç«¯ç‚¹,åˆ™é€‰ç‚¹æ•°+1,æˆ–ä¸ç›¸äº¤åŒºé—´çš„ä¸ªæ•°+1</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l; </span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N]; <span class=\"comment\">// æ¯ä¸ªåŒºé—´æœ‰å·¦å³ç«¯ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(Range a,Range b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;range[i].l,&amp;range[i].r);\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> front_r=INT_MIN; <span class=\"comment\">// ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªé›†åˆ,å³range[i].lä¸€å®šæ¯”åˆå§‹front_rå¤§ </span></span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n,cmp);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// ä¹Ÿå¯ä»¥å®šä¹‰res=1,front_r=(sorted)range[1].r,ä¸‹é¢çš„forå¾ªç¯ä»i=2å¼€å§‹</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(range[i].l&gt;front_r) &#123;</span><br><span class=\"line\">\t\t\tfront_r=range[i].r; <span class=\"comment\">// æ›´æ–°å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t\tres++; <span class=\"comment\">// ç‚¹æ•°+1</span></span><br><span class=\"line\">\t\t&#125;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;res;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¾‹é¢˜ï¼š<a href=\"https://www.luogu.com.cn/problem/solution/P1250\">P1250 ç§æ ‘ - æ´›è°· </a></p>\n</blockquote>\n<ul>\n<li>é¢˜ç›®å¤§æ„ï¼šåœ¨åŒºé—´ $[a,b]$ å†…è‡³å°‘ç§ $c$ æ£µæ ‘ï¼Œé—®æ ‘æœ€å°‘çš„ä¸ªæ•°</li>\n<li>è§£é¢˜æ€è·¯ï¼š<ul>\n<li>å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°ï¼Œå¯¹æ¯ä¸ªåŒºé—´å…ˆç»Ÿè®¡å·²æœ‰æ ‘çš„æ•°é‡ï¼Œå¦‚æœä¸è¶³ $c$ æ£µåˆ™è¡¥å·®</li>\n<li>ä¸ºäº†è®©æ ‘å°½å¯èƒ½èƒ½è¢«ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šï¼Œè¡¥å·®æ—¶åº”å½“ä»æœ«å°¾è¡¥å·®</li>\n<li>å› ä¸ºæ¯ä¸ªåæ ‡ç‚¹åªèƒ½ç§ä¸€æ£µæ ‘ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªçŠ¶æ€æ•°ç»„ $st$ è¾…åŠ©å­˜å‚¨</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"><span class=\"comment\">  1) è¦åœ¨[a,b]ç§è‡³å°‘cæ£µæ ‘,æ ‘æœ€å°‘,å³è®©å°½å¯èƒ½å¤šçš„æ ‘åŒæ—¶åœ¨å¤šä¸ªåŒºé—´å‡ºç°,å†å¯¹å¤šä¸ªåŒºé—´è¡¥å·®</span></span><br><span class=\"line\"><span class=\"comment\">  2) åœ¨è¡¥å·®çš„æ—¶å€™ä¸€å®šè¦è¡¥åœ¨è¯¥åŒºé—´çš„å°¾éƒ¨,å› ä¸ºè¿™æ ·æ˜¯æœ€åå¯èƒ½è®©ä¸‹ä¸€ä¸ªåŒºé—´ç”¨ä¸Šçš„</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Range</span>&#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n; <span class=\"comment\">// æ ‘çš„ä¸ªæ•°</span></span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> used[N]; <span class=\"comment\">// åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰æ ‘äº†(ä¸€ä¸ªç‚¹ä¸èƒ½ç§ä¸¤æ£µæ ‘)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Range a,Range b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r; <span class=\"comment\">// æŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d%d&quot;</span>,&amp;range[i].l,&amp;range[i].r,&amp;range[i].n); \t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(range+<span class=\"number\">1</span>,range+<span class=\"number\">1</span>+m,cmp);</span><br><span class=\"line\">\t<span class=\"type\">int</span> ans=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=m;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>; <span class=\"comment\">// å­˜å‚¨è¯¥åŒºé—´å†…å·²æœ‰çš„æ ‘çš„ä¸ªæ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=range[i].l;j&lt;=range[i].r;j++) <span class=\"keyword\">if</span>(used[j]) k++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 1) å·²æ»¡è¶³range[i].næ£µæ ‘åˆ™é€€å‡º</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(k&gt;=range[i].n) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 2) ä¸æ»¡è¶³,åˆ™éœ€è¦è¡¥å·®,è¡¥å·®éœ€è¦ä»æœ«å°¾è¡¥,æœ€æœ‰å¯èƒ½ç»™ä¸‹ä¸€ä¸ªåŒºé—´ç”¨</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=range[i].r;j&gt;=range[i].l;j--) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(!used[j]) &#123;</span><br><span class=\"line\">\t\t\t\tused[j]=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\tk++;</span><br><span class=\"line\">\t\t\t\tans++; <span class=\"comment\">// æ ‘çš„æ•°é‡åªåœ¨æ­¤å¤„å¢åŠ ,å³æ‰€æœ‰çš„æ ‘å…¶å®éƒ½æ˜¯ä»æœ«å°¾è¡¥çš„</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(k==range[i].n) <span class=\"keyword\">break</span>; <span class=\"comment\">// å·²å¤Ÿnæ£µ</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;ans;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-åŒºé—´åˆ†ç»„\"><a href=\"#2-åŒºé—´åˆ†ç»„\" class=\"headerlink\" title=\"2. åŒºé—´åˆ†ç»„\"></a>2. åŒºé—´åˆ†ç»„</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308190931030.png\" alt=\"image-20240308190931030\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529205928100.png\" alt=\"image-20240529205928100\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼Œç°åœ¨æœ‰$N$ä¸ªåŒºé—´ï¼Œé—®æœ€å°‘åˆ†å¤šå°‘ç»„ï¼Œèƒ½è®©è¿™äº›åˆ†ç»„ä¸­çš„æ‰€æœ‰åŒºé—´ä¸¤ä¸¤ä¹‹é—´åŒ…æ‹¬ç«¯ç‚¹éƒ½æ²¡æœ‰äº¤é›†</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åå¤„ç†æ¯ä¸ªåŒºé—´ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½æŠŠè¿™ä¸ªåŒºé—´æ”¾åˆ°ç°æœ‰çš„æŸä¸ªåˆ†ç»„ä¸­ï¼Œå³åˆ¤æ–­ $range[i].l \\ &gt; \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$<ol>\n<li>å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æŸä¸ªåˆ†ç»„é—´æ²¡æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å°†åŒºé—´ $ i $ æ”¾è¿›å»ï¼Œå¹¶ä¸”æ›´æ–°è¿™ä¸ªåˆ†ç»„çš„æœ€å¤§å³ç«¯ç‚¹ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸å¤šä¸ªåˆ†ç»„éƒ½æœ‰äº¤é›†åˆ™å¯ä»¥æ”¾åˆ°ä»»æ„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œä¸å½±å“ç»“æœï¼Œå¯è‡ªè¡Œæ¨¡æ‹Ÿè¯æ˜ï¼‰</li>\n<li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åˆ†ç»„ï¼ˆä¸æ¯ä¸ªåˆ†ç»„é—´éƒ½æœ‰äº¤é›†ï¼‰ï¼Œåˆ™å¼€ä¸€ä¸ªæ–°ç»„ï¼Œå†æŠŠåŒºé—´ $i$ æ”¾è¿›å»</li>\n<li>åœ¨åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦ä¸æŸä¸€åˆ†ç»„æœ‰äº¤é›†æ—¶ï¼Œåªéœ€è¦ä¸æ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹è¿›è¡Œæ¯”è¾ƒå³å¯ï¼Œå› ä¸ºè¿™æ˜¯æœ€æœ‰å¯èƒ½æ»¡è¶³ $range[i].l \\ &gt; \\ æŸä¸€åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹$ çš„æƒ…å†µï¼Œå¯¹äºæ‰€æœ‰åˆ†ç»„ä¸­æœ€å°çš„åˆ†ç»„æœ€å¤§å³ç«¯ç‚¹ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå°æ ¹å †æ¥ç»´æŠ¤å³å¯</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"><span class=\"comment\">  1) å…ˆå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\"><span class=\"comment\">  2) ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ‰€æœ‰åˆ†ç»„çš„æ•´ä½“å³ç«¯ç‚¹çš„æœ€å°å€¼,å› ä¸ºåœ¨éå†åŒºé—´æ—¶éœ€è¦ç”¨range[i].lä¸æ‰€æœ‰åˆ†ç»„çš„max_ræ¯”è¾ƒ,è€Œmin(max_r)æ˜¯æœ€å®¹æ˜“æ¯”range[i].lå°çš„,å³æœ€å®¹æ˜“æ’å…¥è¯¥åˆ†ç»„ä¸­</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(Range a,Range b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.l&lt;b.l;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// ç»´æŠ¤æ¯ä¸ªåˆ†ç»„çš„æœ€å³è¾¹ç•Œçš„æœ€å°å€¼</span></span><br><span class=\"line\">\tpriority_queue&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;,greater&lt;<span class=\"type\">int</span>&gt;&gt; pq;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ¯ä¸ªåˆ†ç»„çš„æœ€å°çš„max_réƒ½æ¯”å½“å‰åŒºé—´å·¦ç«¯ç‚¹å¤§</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// è¯´æ˜ä¸æ¯ä¸ªåˆ†ç»„ä¸­çš„åŒºé—´éƒ½è¦äº§ç”Ÿäº¤é›†,åˆ™ä¸èƒ½æ”¾å…¥ä»»ä½•åˆ†ç»„</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// æ­¤æ—¶æ–°å¼€ä¸€ä¸ªåˆ†ç»„</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(pq.<span class=\"built_in\">empty</span>() || pq.<span class=\"built_in\">top</span>()&gt;=range[i].l) &#123;</span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">push</span>(range[i].r); <span class=\"comment\">// æ–°å¼€åˆ†ç»„,ä¿å­˜å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœæ— äº¤é›†,æ­¤æ—¶å¯ä»¥æ”¾è¿›è¿™ä¸ªåˆ†ç»„ä¸­</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¹¶ç»´æŠ¤æ‰€æœ‰åˆ†ç»„ä¸­æœ€å¤§å³ç«¯ç‚¹çš„æœ€å°å€¼</span></span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">\t\t\tpq.<span class=\"built_in\">push</span>(range[i].r);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å°æ ¹å †çš„å¤§å°å°±æ˜¯åˆ†ç»„çš„ä¸ªæ•°</span></span><br><span class=\"line\">\tcout&lt;&lt;pq.<span class=\"built_in\">size</span>()&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-åŒºé—´è¦†ç›–\"><a href=\"#3-åŒºé—´è¦†ç›–\" class=\"headerlink\" title=\"3. åŒºé—´è¦†ç›–\"></a>3. åŒºé—´è¦†ç›–</h2><p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240308203244259.png\" alt=\"image-20240308203244259\"></p>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240529211220012.png\" alt=\"image-20240529211220012\"></p>\n<ul>\n<li>ç¿»è¯‘ä¸€ä¸‹é¢˜ç›®ï¼ŒÂ·Â·Â·ï¼Œè¿™é“é¢˜æ²¡ä»€ä¹ˆå¯ç¿»è¯‘çš„</li>\n<li>è´ªå¿ƒç­–ç•¥ï¼šå°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œä»å‰å¾€åä¾æ¬¡æšä¸¾æ¯ä¸ªåŒºé—´ï¼Œåœ¨æ‰€æœ‰èƒ½è¦†ç›– $start$ çš„åŒºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå³ç«¯ç‚¹æœ€å¤§çš„åŒºé—´ï¼Œç„¶åå°† $start$ æ›´æ–°æˆä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å€¼ï¼Œç»§ç»­å‘åè¦†ç›–ï¼Œå¦‚æœæ‰€æœ‰åŒºé—´éƒ½éå†è¿‡äº†ä½†å¹¶æ²¡æœ‰è¦†ç›–åˆ° $end$ çš„è¯è¯´æ˜æ— æ³•å®Œå…¨è¦†ç›–ï¼Œåˆ™è¾“å‡º $-1$</li>\n</ul>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: å¯¹åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,å› ä¸ºæ¯æ¬¡éƒ½è¦ä¿è¯è¦†ç›–start</span></span><br><span class=\"line\"><span class=\"comment\">  å†ä»æ»¡è¶³è¦†ç›–startçš„åŒºé—´ä¸­é€‰å‡ºå³ç«¯ç‚¹æœ€å¤§çš„,è¿™æ ·å°±èƒ½ä¿è¯è¦†ç›–çº¿æ®µçš„åŒºé—´æ•°æœ€å°</span></span><br><span class=\"line\"><span class=\"comment\">  å†æ›´æ–°startçš„å€¼,å¦‚æœéå†å®Œæ‰€æœ‰åŒºé—´èƒ½ä½¿start&gt;=end,åˆ™å¯è¦†ç›–,è¾“å‡ºåŒºé—´æ•°</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">Range</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">\t<span class=\"comment\">// é‡è½½è¿ç®—ç¬¦</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> <span class=\"keyword\">operator</span>&lt;(<span class=\"type\">const</span> Range &amp;W)<span class=\"type\">const</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> l&lt;W.l;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;range[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> st,en;</span><br><span class=\"line\">\tcin&gt;&gt;st&gt;&gt;en;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">sort</span>(range<span class=\"number\">+1</span>,range<span class=\"number\">+1</span>+n);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>; <span class=\"comment\">// ç»Ÿè®¡åŒºé—´æ•°</span></span><br><span class=\"line\">\t<span class=\"type\">bool</span> flag=<span class=\"literal\">false</span>; <span class=\"comment\">// æ˜¯å¦èƒ½è¦†ç›–å®Œæ•´ä¸ªåŒºé—´</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ‰€æœ‰åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// front_r:å½“å‰è¦†ç›–åˆ°çš„åŒºåŸŸ</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// j:æ¯æ¬¡ä»ç¬¬iä¸ªåŒºé—´åå¼€å§‹æ‰¾</span></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> j=i,front_r=INT_MIN;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(j&lt;=n &amp;&amp; range[j].l&lt;=st) &#123;</span><br><span class=\"line\">\t\t\tfront_r=<span class=\"built_in\">max</span>(front_r,range[j].r); <span class=\"comment\">// æ‰¾æœ€å¤§çš„å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t\tj++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæœ€å¤§çš„front_rä»å°äºst,è¯´æ˜çº¿æ®µä¸å¯è¢«å·²æœ‰åŒºé—´è¦†ç›–</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(front_r&lt;st) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœæ‰¾å¾—åˆ°,åŒºé—´æ•°+1</span></span><br><span class=\"line\">\t\tcnt++;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å·²ç»å®Œå…¨è¦†ç›–çº¿æ®µ</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(front_r&gt;=en) &#123;</span><br><span class=\"line\">\t\t\tflag=<span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦åˆ™æ›´æ–°iå’Œj</span></span><br><span class=\"line\">\t\tst=front_r; <span class=\"comment\">// è¿­ä»£st,åé¢çš„åŒºé—´ç»§ç»­å’Œstæ¯”</span></span><br><span class=\"line\">\t\ti=j<span class=\"number\">-1</span>; <span class=\"comment\">// åŒæŒ‡é’ˆ,åŠ é€Ÿéå†</span></span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!flag) cnt=<span class=\"number\">-1</span>;</span><br><span class=\"line\">\tcout&lt;&lt;cnt;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-åŒºé—´åˆå¹¶\"><a href=\"#4-åŒºé—´åˆå¹¶\" class=\"headerlink\" title=\"4. åŒºé—´åˆå¹¶\"></a>4. åŒºé—´åˆå¹¶</h2><ul>\n<li>é¢˜ç›®æœ€ç®€å•çš„ä¸€é›†ï¼Œ$N$ ä¸ªåŒºé—´ï¼Œç«¯ç‚¹é‡å ä¹Ÿå¯åˆå¹¶ï¼Œæ±‚åˆå¹¶åçš„åŒºé—´æ•°é‡å’Œå·¦å³ç«¯ç‚¹</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> LL;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  è§£é¢˜æ€è·¯: åŒºé—´åˆå¹¶,ç«¯ç‚¹ä¹Ÿç®—é‡å ,å°†æœ‰é‡å çš„åŒºé—´åˆå¹¶åè¾“å‡º</span></span><br><span class=\"line\"><span class=\"comment\">  1) åŒºé—´æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº,æœ‰é‡å åˆ™åˆå¹¶æ›´æ–°åŒºé—´å³ç«¯ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">  2) rangeæ•°ç»„ä¸€ä¸ªå­˜å‚¨åˆå¹¶å‰çš„åŒºé—´,ä¸€ä¸ªå­˜å‚¨åˆå¹¶åçš„åŒºé—´,æœ€åéå†è¾“å‡ºå³å¯</span></span><br><span class=\"line\"><span class=\"comment\">  </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,a[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// range:åŸåŒºé—´,ans:åˆå¹¶ååŒºé—´</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Range</span>&#123;</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> l;</span><br><span class=\"line\">\t<span class=\"type\">int</span> r;</span><br><span class=\"line\">&#125;range[N],ans[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯ä»¥ç›´æ¥return a.l&lt;b.l ,å¦‚æœå³ç«¯ç‚¹ä¹Ÿä»å°åˆ°å¤§æ’åºåˆ™åˆå¹¶æ¬¡æ•°å¤šäº†,å¸¸æ•°åè€Œå¤§äº†</span></span><br><span class=\"line\"><span class=\"type\">bool</span> <span class=\"title function_\">cmp</span><span class=\"params\">(Range a,Range b)</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(a.l!=b.l) <span class=\"keyword\">return</span> a.l&lt;b.l;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> a.r&lt;b.r;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> l,r;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cin</span>&gt;&gt;l&gt;&gt;r;</span><br><span class=\"line\">\t\trange[i]=&#123;l,r&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tsort(range+<span class=\"number\">1</span>,range+<span class=\"number\">1</span>+n,cmp);</span><br><span class=\"line\">\t<span class=\"comment\">// æšä¸¾æ‰€æœ‰åŒºé—´è¿›è¡Œåˆå¹¶</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">\tans[++cnt]=range[<span class=\"number\">1</span>]; <span class=\"comment\">// ç»“æ„ä½“ä¹‹é—´ç­‰ä»·èµ‹å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¯åˆå¹¶</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(range[i].l&lt;=ans[cnt].r) &#123;</span><br><span class=\"line\">\t\t\tans[cnt].r=max(ans[cnt].r,range[i].r); <span class=\"comment\">// æ›´æ–°å³ç«¯ç‚¹</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä¸å¯åˆå¹¶,å¼€æ–°åŒºé—´</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tans[++cnt]=range[i];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;cnt&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// åŒºé—´ä¸ªæ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºåˆå¹¶åçš„åŒºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=cnt;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;ans[i].l&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>&lt;&lt;ans[i].r&lt;&lt;<span class=\"string\">&#x27;\\n&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"è¿›åˆ¶è½¬æ¢","date":"2024-10-02T14:33:12.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# è¿›åˆ¶è½¬æ¢\n\n<!-- toc -->\n\n\n\n## 1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰\n\n> $C++$ ä¸­å¸¸è§è¿›åˆ¶æ•°\n\n* $\\%d$ ï¼šåè¿›åˆ¶æ•°\n* $\\%x$ ï¼šåå…­è¿›åˆ¶æ•°\n* $\\%o$ ï¼šå…«è¿›åˆ¶æ•°\n* $\\%b$ ï¼šäºŒè¿›åˆ¶æ•°\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n\t// åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–å¸¸ç”¨è¿›åˆ¶\n\tunsigned long long n;\n\tcin>>dec>>n;\n\tbitset<20> bt(n); // è½¬æ¢æˆäºŒè¿›åˆ¶(æœ€å¤§20ä½)\n\tcout<<\"2è¿›åˆ¶:\"<<bt<<endl;\n\tcout<<\"8è¿›åˆ¶:\"<<oct<<n<<endl;\n\tcout<<\"16è¿›åˆ¶:\"<<hex<<n<<endl;\n\tcout<<\"16è¿›åˆ¶(å­—æ¯å¤§å†™è¾“å‡º):\"<<hex<<setiosflags(ios::uppercase)<<n<<endl;\n\t// åŒç†,å…¶ä»–å¸¸ç”¨è¿›åˆ¶å¯ä»¥äº’ç›¸è½¬æ¢\n\tunsigned long long x;\n\tcin>>hex>>x;\n\tbitset<20> bt1(x);\n\tcout<<\"2è¿›åˆ¶:\"<<bt1<<endl;\n\tcout<<\"8è¿›åˆ¶:\"<<oct<<x<<endl;\n\tcout<<\"10è¿›åˆ¶:\"<<dec<<x<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n// ä»»ä½•è¿›åˆ¶æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\n// s:è¿™ä¸ªä»»æ„è¿›åˆ¶æ•°çš„å­—ç¬¦ä¸²å½¢å¼\n// R:è¿™ä¸ªå­—ç¬¦ä¸²å½“å‰çš„è¿›åˆ¶\nint Atoi(string s,int R) {\n\tint res=0;\n\tfor(int i=0;i<s.size();i++) {\n\t\tif(s[i]>='0' && s[i]<'9') {\n\t\t\tres=res*R+s[i]-'0'; // æ¯æ¬¡*=Rå‡æƒ\n\t\t} else if(s[i]>='A' && s[i]<='Z') {\n\t\t\tres=res*R+s[i]-'A'+10; // å› ä¸ºAè¡¨ç¤º10\n\t\t}\n\t}\n\treturn res;\n}\n\nint main() {\n\tcout<<Atoi(\"ZDBAEFEA\",36)<<endl;\n\tcout<<Atoi(\"100\",16)<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\n// åè¿›åˆ¶è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶\n// num:è¿™ä¸ªåè¿›åˆ¶çš„æ•°\n// R:è¦è½¬æ¢æˆå¤šå°‘è¿›åˆ¶\nstring Itoa(int num,int R) {\n\tstring str;\n\tint rmd; // è®°å½•æ¯æ¬¡åšé™¤æ³•çš„ä½™æ•°\n\tchar ch;\n\tif(num==0) str=\"0\"; // ç‰¹åˆ¤ä»»æ„è¿›åˆ¶çš„0\n\twhile(num>0) {\n\t\trmd=num%R; // æ¯æ¬¡å¯¹Rå–ä½™,å¯ä»¥ç±»æ¯”ä¸€ä¸‹åè¿›åˆ¶è½¬äºŒè¿›åˆ¶\n\t\tch=(rmd<10)?(rmd+'0'):(rmd-10+'A'); // å°äº10è¡¨ç¤ºä¸º[0,9],å¦åˆ™å‡å»10+'A'\n\t\tstr=ch+str; // å­—ç¬¦ä¸²æ‹¼æ¥\n\t\tnum/=R;\n\t}\n\t// è¿™é‡ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚è¡¥å‰å¯¼0ç­‰æ“ä½œ\n\tif(str.size()==1) str=\"0\"+str; \n\treturn str;\n}\n\nint main() {\n\tcout<<Itoa(196,16);\t\n\treturn 0;\n}\n```\n","source":"_posts/è¿›åˆ¶è½¬æ¢.md","raw":"---\ntitle: è¿›åˆ¶è½¬æ¢\ndate: 2024-10-02 22:33:12\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - æ¨¡æ‹Ÿ\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# è¿›åˆ¶è½¬æ¢\n\n<!-- toc -->\n\n\n\n## 1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰\n\n> $C++$ ä¸­å¸¸è§è¿›åˆ¶æ•°\n\n* $\\%d$ ï¼šåè¿›åˆ¶æ•°\n* $\\%x$ ï¼šåå…­è¿›åˆ¶æ•°\n* $\\%o$ ï¼šå…«è¿›åˆ¶æ•°\n* $\\%b$ ï¼šäºŒè¿›åˆ¶æ•°\n\n``` c++\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n\t// åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–å¸¸ç”¨è¿›åˆ¶\n\tunsigned long long n;\n\tcin>>dec>>n;\n\tbitset<20> bt(n); // è½¬æ¢æˆäºŒè¿›åˆ¶(æœ€å¤§20ä½)\n\tcout<<\"2è¿›åˆ¶:\"<<bt<<endl;\n\tcout<<\"8è¿›åˆ¶:\"<<oct<<n<<endl;\n\tcout<<\"16è¿›åˆ¶:\"<<hex<<n<<endl;\n\tcout<<\"16è¿›åˆ¶(å­—æ¯å¤§å†™è¾“å‡º):\"<<hex<<setiosflags(ios::uppercase)<<n<<endl;\n\t// åŒç†,å…¶ä»–å¸¸ç”¨è¿›åˆ¶å¯ä»¥äº’ç›¸è½¬æ¢\n\tunsigned long long x;\n\tcin>>hex>>x;\n\tbitset<20> bt1(x);\n\tcout<<\"2è¿›åˆ¶:\"<<bt1<<endl;\n\tcout<<\"8è¿›åˆ¶:\"<<oct<<x<<endl;\n\tcout<<\"10è¿›åˆ¶:\"<<dec<<x<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n// ä»»ä½•è¿›åˆ¶æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\n// s:è¿™ä¸ªä»»æ„è¿›åˆ¶æ•°çš„å­—ç¬¦ä¸²å½¢å¼\n// R:è¿™ä¸ªå­—ç¬¦ä¸²å½“å‰çš„è¿›åˆ¶\nint Atoi(string s,int R) {\n\tint res=0;\n\tfor(int i=0;i<s.size();i++) {\n\t\tif(s[i]>='0' && s[i]<'9') {\n\t\t\tres=res*R+s[i]-'0'; // æ¯æ¬¡*=Rå‡æƒ\n\t\t} else if(s[i]>='A' && s[i]<='Z') {\n\t\t\tres=res*R+s[i]-'A'+10; // å› ä¸ºAè¡¨ç¤º10\n\t\t}\n\t}\n\treturn res;\n}\n\nint main() {\n\tcout<<Atoi(\"ZDBAEFEA\",36)<<endl;\n\tcout<<Atoi(\"100\",16)<<endl;\n\treturn 0;\n}\n```\n\n\n\n## 3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e5+5;\n\n// åè¿›åˆ¶è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶\n// num:è¿™ä¸ªåè¿›åˆ¶çš„æ•°\n// R:è¦è½¬æ¢æˆå¤šå°‘è¿›åˆ¶\nstring Itoa(int num,int R) {\n\tstring str;\n\tint rmd; // è®°å½•æ¯æ¬¡åšé™¤æ³•çš„ä½™æ•°\n\tchar ch;\n\tif(num==0) str=\"0\"; // ç‰¹åˆ¤ä»»æ„è¿›åˆ¶çš„0\n\twhile(num>0) {\n\t\trmd=num%R; // æ¯æ¬¡å¯¹Rå–ä½™,å¯ä»¥ç±»æ¯”ä¸€ä¸‹åè¿›åˆ¶è½¬äºŒè¿›åˆ¶\n\t\tch=(rmd<10)?(rmd+'0'):(rmd-10+'A'); // å°äº10è¡¨ç¤ºä¸º[0,9],å¦åˆ™å‡å»10+'A'\n\t\tstr=ch+str; // å­—ç¬¦ä¸²æ‹¼æ¥\n\t\tnum/=R;\n\t}\n\t// è¿™é‡ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚è¡¥å‰å¯¼0ç­‰æ“ä½œ\n\tif(str.size()==1) str=\"0\"+str; \n\treturn str;\n}\n\nint main() {\n\tcout<<Itoa(196,16);\t\n\treturn 0;\n}\n```\n","slug":"è¿›åˆ¶è½¬æ¢","published":1,"updated":"2024-10-05T08:03:18.462Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptl004cc0nf0xlk7r7h","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"è¿›åˆ¶è½¬æ¢\">è¿›åˆ¶è½¬æ¢</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%B8%B8%E7%94%A8%E8%BD%AC%E6%8D%A2%E4%BA%8C-%E5%85%AB-%E5%8D%81-%E5%8D%81%E5%85%AD\">1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰</a></li>\n<li><a href=\"#2-%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6%E6%9C%80%E9%AB%98%E4%B8%89%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0\">2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</a></li>\n<li><a href=\"#3-%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6%E6%95%B0%E6%9C%80%E9%AB%98%E4%B8%89%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6\">3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-å¸¸ç”¨è½¬æ¢äºŒ-å…«-å-åå…­\">1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰</span></h2><blockquote>\n<p>$C++$ ä¸­å¸¸è§è¿›åˆ¶æ•°</p>\n</blockquote>\n<ul>\n<li>$%d$ ï¼šåè¿›åˆ¶æ•°</li>\n<li>$%x$ ï¼šåå…­è¿›åˆ¶æ•°</li>\n<li>$%o$ ï¼šå…«è¿›åˆ¶æ•°</li>\n<li>$%b$ ï¼šäºŒè¿›åˆ¶æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–å¸¸ç”¨è¿›åˆ¶</span></span><br><span class=\"line\">\t<span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;dec&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"function\">bitset&lt;20&gt; <span class=\"title\">bt</span><span class=\"params\">(n)</span></span>; <span class=\"comment\">// è½¬æ¢æˆäºŒè¿›åˆ¶(æœ€å¤§20ä½)</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;2è¿›åˆ¶:&quot;</span>&lt;&lt;bt&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;8è¿›åˆ¶:&quot;</span>&lt;&lt;oct&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;16è¿›åˆ¶:&quot;</span>&lt;&lt;hex&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;16è¿›åˆ¶(å­—æ¯å¤§å†™è¾“å‡º):&quot;</span>&lt;&lt;hex&lt;&lt;<span class=\"built_in\">setiosflags</span>(ios::uppercase)&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// åŒç†,å…¶ä»–å¸¸ç”¨è¿›åˆ¶å¯ä»¥äº’ç›¸è½¬æ¢</span></span><br><span class=\"line\">\t<span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> x;</span><br><span class=\"line\">\tcin&gt;&gt;hex&gt;&gt;x;</span><br><span class=\"line\">\t<span class=\"function\">bitset&lt;20&gt; <span class=\"title\">bt1</span><span class=\"params\">(x)</span></span>;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;2è¿›åˆ¶:&quot;</span>&lt;&lt;bt1&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;8è¿›åˆ¶:&quot;</span>&lt;&lt;oct&lt;&lt;x&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;10è¿›åˆ¶:&quot;</span>&lt;&lt;dec&lt;&lt;x&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-ä»»æ„è¿›åˆ¶æœ€é«˜ä¸‰åå…­è¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\">2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</span></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// ä»»ä½•è¿›åˆ¶æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// s:è¿™ä¸ªä»»æ„è¿›åˆ¶æ•°çš„å­—ç¬¦ä¸²å½¢å¼</span></span><br><span class=\"line\"><span class=\"comment\">// R:è¿™ä¸ªå­—ç¬¦ä¸²å½“å‰çš„è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">Atoi</span><span class=\"params\">(<span class=\"built_in\">string</span> s,<span class=\"type\">int</span> R)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s[i]&gt;=<span class=\"string\">&#x27;0&#x27;</span> &amp;&amp; s[i]&lt;<span class=\"string\">&#x27;9&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\tres=res*R+s[i]-<span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// æ¯æ¬¡*=Rå‡æƒ</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]&gt;=<span class=\"string\">&#x27;A&#x27;</span> &amp;&amp; s[i]&lt;=<span class=\"string\">&#x27;Z&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\tres=res*R+s[i]-<span class=\"string\">&#x27;A&#x27;</span>+<span class=\"number\">10</span>; <span class=\"comment\">// å› ä¸ºAè¡¨ç¤º10</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;Atoi(<span class=\"string\">&quot;ZDBAEFEA&quot;</span>,<span class=\"number\">36</span>)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;Atoi(<span class=\"string\">&quot;100&quot;</span>,<span class=\"number\">16</span>)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°æœ€é«˜ä¸‰åå…­è¿›åˆ¶\">3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰</span></h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åè¿›åˆ¶è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"comment\">// num:è¿™ä¸ªåè¿›åˆ¶çš„æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// R:è¦è½¬æ¢æˆå¤šå°‘è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">Itoa</span><span class=\"params\">(<span class=\"type\">int</span> num,<span class=\"type\">int</span> R)</span> </span>&#123;</span><br><span class=\"line\">\tstring str;</span><br><span class=\"line\">\t<span class=\"type\">int</span> rmd; <span class=\"comment\">// è®°å½•æ¯æ¬¡åšé™¤æ³•çš„ä½™æ•°</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> ch;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(num==<span class=\"number\">0</span>) str=<span class=\"string\">&quot;0&quot;</span>; <span class=\"comment\">// ç‰¹åˆ¤ä»»æ„è¿›åˆ¶çš„0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(num&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\trmd=num%R; <span class=\"comment\">// æ¯æ¬¡å¯¹Rå–ä½™,å¯ä»¥ç±»æ¯”ä¸€ä¸‹åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</span></span><br><span class=\"line\">\t\tch=(rmd&lt;<span class=\"number\">10</span>)?(rmd+<span class=\"string\">&#x27;0&#x27;</span>):(rmd<span class=\"number\">-10</span>+<span class=\"string\">&#x27;A&#x27;</span>); <span class=\"comment\">// å°äº10è¡¨ç¤ºä¸º[0,9],å¦åˆ™å‡å»10+&#x27;A&#x27;</span></span><br><span class=\"line\">\t\tstr=ch+str; <span class=\"comment\">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class=\"line\">\t\tnum/=R;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚è¡¥å‰å¯¼0ç­‰æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(str.<span class=\"built_in\">size</span>()==<span class=\"number\">1</span>) str=<span class=\"string\">&quot;0&quot;</span>+str; </span><br><span class=\"line\">\t<span class=\"keyword\">return</span> str;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">Itoa</span>(<span class=\"number\">196</span>,<span class=\"number\">16</span>);\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"è¿›åˆ¶è½¬æ¢\"><a href=\"#è¿›åˆ¶è½¬æ¢\" class=\"headerlink\" title=\"è¿›åˆ¶è½¬æ¢\"></a>è¿›åˆ¶è½¬æ¢</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E5%B8%B8%E7%94%A8%E8%BD%AC%E6%8D%A2%E4%BA%8C-%E5%85%AB-%E5%8D%81-%E5%8D%81%E5%85%AD\">1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰</a></li>\n<li><a href=\"#2-%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6%E6%9C%80%E9%AB%98%E4%B8%89%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0\">2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</a></li>\n<li><a href=\"#3-%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6%E6%95%B0%E6%9C%80%E9%AB%98%E4%B8%89%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6\">3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰\"><a href=\"#1-å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰\" class=\"headerlink\" title=\"1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰\"></a>1. å¸¸ç”¨è½¬æ¢ï¼ˆäºŒã€å…«ã€åã€åå…­ï¼‰</h2><blockquote>\n<p>$C++$ ä¸­å¸¸è§è¿›åˆ¶æ•°</p>\n</blockquote>\n<ul>\n<li>$%d$ ï¼šåè¿›åˆ¶æ•°</li>\n<li>$%x$ ï¼šåå…­è¿›åˆ¶æ•°</li>\n<li>$%o$ ï¼šå…«è¿›åˆ¶æ•°</li>\n<li>$%b$ ï¼šäºŒè¿›åˆ¶æ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–å¸¸ç”¨è¿›åˆ¶</span></span><br><span class=\"line\">\t<span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> n;</span><br><span class=\"line\">\tcin&gt;&gt;dec&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"function\">bitset&lt;20&gt; <span class=\"title\">bt</span><span class=\"params\">(n)</span></span>; <span class=\"comment\">// è½¬æ¢æˆäºŒè¿›åˆ¶(æœ€å¤§20ä½)</span></span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;2è¿›åˆ¶:&quot;</span>&lt;&lt;bt&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;8è¿›åˆ¶:&quot;</span>&lt;&lt;oct&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;16è¿›åˆ¶:&quot;</span>&lt;&lt;hex&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;16è¿›åˆ¶(å­—æ¯å¤§å†™è¾“å‡º):&quot;</span>&lt;&lt;hex&lt;&lt;<span class=\"built_in\">setiosflags</span>(ios::uppercase)&lt;&lt;n&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// åŒç†,å…¶ä»–å¸¸ç”¨è¿›åˆ¶å¯ä»¥äº’ç›¸è½¬æ¢</span></span><br><span class=\"line\">\t<span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> x;</span><br><span class=\"line\">\tcin&gt;&gt;hex&gt;&gt;x;</span><br><span class=\"line\">\t<span class=\"function\">bitset&lt;20&gt; <span class=\"title\">bt1</span><span class=\"params\">(x)</span></span>;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;2è¿›åˆ¶:&quot;</span>&lt;&lt;bt1&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;8è¿›åˆ¶:&quot;</span>&lt;&lt;oct&lt;&lt;x&lt;&lt;endl;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"string\">&quot;10è¿›åˆ¶:&quot;</span>&lt;&lt;dec&lt;&lt;x&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\"><a href=\"#2-ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\" class=\"headerlink\" title=\"2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°\"></a>2. ä»»æ„è¿›åˆ¶ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// ä»»ä½•è¿›åˆ¶æ•°è½¬æ¢ä¸ºåè¿›åˆ¶æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// s:è¿™ä¸ªä»»æ„è¿›åˆ¶æ•°çš„å­—ç¬¦ä¸²å½¢å¼</span></span><br><span class=\"line\"><span class=\"comment\">// R:è¿™ä¸ªå­—ç¬¦ä¸²å½“å‰çš„è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">Atoi</span><span class=\"params\">(<span class=\"built_in\">string</span> s,<span class=\"type\">int</span> R)</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> res=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;s.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(s[i]&gt;=<span class=\"string\">&#x27;0&#x27;</span> &amp;&amp; s[i]&lt;<span class=\"string\">&#x27;9&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\tres=res*R+s[i]-<span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// æ¯æ¬¡*=Rå‡æƒ</span></span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(s[i]&gt;=<span class=\"string\">&#x27;A&#x27;</span> &amp;&amp; s[i]&lt;=<span class=\"string\">&#x27;Z&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\tres=res*R+s[i]-<span class=\"string\">&#x27;A&#x27;</span>+<span class=\"number\">10</span>; <span class=\"comment\">// å› ä¸ºAè¡¨ç¤º10</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;Atoi(<span class=\"string\">&quot;ZDBAEFEA&quot;</span>,<span class=\"number\">36</span>)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">cout</span>&lt;&lt;Atoi(<span class=\"string\">&quot;100&quot;</span>,<span class=\"number\">16</span>)&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰\"><a href=\"#3-åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰\" class=\"headerlink\" title=\"3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰\"></a>3. åè¿›åˆ¶æ•°è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶æ•°ï¼ˆæœ€é«˜ä¸‰åå…­è¿›åˆ¶ï¼‰</h2><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åè¿›åˆ¶è½¬æ¢ä¸ºä»»æ„è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"comment\">// num:è¿™ä¸ªåè¿›åˆ¶çš„æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// R:è¦è½¬æ¢æˆå¤šå°‘è¿›åˆ¶</span></span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">Itoa</span><span class=\"params\">(<span class=\"type\">int</span> num,<span class=\"type\">int</span> R)</span> </span>&#123;</span><br><span class=\"line\">\tstring str;</span><br><span class=\"line\">\t<span class=\"type\">int</span> rmd; <span class=\"comment\">// è®°å½•æ¯æ¬¡åšé™¤æ³•çš„ä½™æ•°</span></span><br><span class=\"line\">\t<span class=\"type\">char</span> ch;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(num==<span class=\"number\">0</span>) str=<span class=\"string\">&quot;0&quot;</span>; <span class=\"comment\">// ç‰¹åˆ¤ä»»æ„è¿›åˆ¶çš„0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(num&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\trmd=num%R; <span class=\"comment\">// æ¯æ¬¡å¯¹Rå–ä½™,å¯ä»¥ç±»æ¯”ä¸€ä¸‹åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</span></span><br><span class=\"line\">\t\tch=(rmd&lt;<span class=\"number\">10</span>)?(rmd+<span class=\"string\">&#x27;0&#x27;</span>):(rmd<span class=\"number\">-10</span>+<span class=\"string\">&#x27;A&#x27;</span>); <span class=\"comment\">// å°äº10è¡¨ç¤ºä¸º[0,9],å¦åˆ™å‡å»10+&#x27;A&#x27;</span></span><br><span class=\"line\">\t\tstr=ch+str; <span class=\"comment\">// å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class=\"line\">\t\tnum/=R;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚è¡¥å‰å¯¼0ç­‰æ“ä½œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(str.<span class=\"built_in\">size</span>()==<span class=\"number\">1</span>) str=<span class=\"string\">&quot;0&quot;</span>+str; </span><br><span class=\"line\">\t<span class=\"keyword\">return</span> str;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcout&lt;&lt;<span class=\"built_in\">Itoa</span>(<span class=\"number\">196</span>,<span class=\"number\">16</span>);\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"é‚»æ¥çŸ©é˜µ","date":"2024-10-04T12:55:21.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é‚»æ¥çŸ©é˜µ\n\n<!-- toc -->\n\n\n\n## 0. é‚»æ¥çŸ©é˜µ\n\n* é‚»æ¥çŸ©é˜µç›¸æ¯”äºä¸Šä¸€ç¯‡åšå®¢é‚»æ¥è¡¨çš„è®²è§£è¦ç®€å•å¾—å¤š\n\n1. æ•°æ®ç»“æ„ï¼Œå¦‚æœå°†äºŒç»´æ•°ç»„ $g$ å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œé‚£é»˜è®¤åˆå§‹åŒ–åº”è¯¥ä¸º $0$ ï¼Œå¦‚æœé¢˜ç›®ä¸­å­˜åœ¨è‡ªç¯ï¼Œå¯ä»¥åšç‰¹åˆ¤ï¼Œ$memset$ åˆå§‹åŒ–æ•°ç»„ $g$ ä¸º $0x3f3f3f3f$ è¡¨ç¤ºæ— ç©·å¤§ï¼Œ$0$ è¡¨ç¤ºè‡ªç¯ \n\n``` c\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n```\n\n2. ä»¥ä¸‹æ¨¡æ¿æ˜¯æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ¨¡æ¿ï¼Œå¦‚æœæ”¹æˆæœ‰å‘å›¾ï¼Œå’Œé‚»æ¥è¡¨ä¸€æ ·ï¼Œä¸éœ€è¦å¯¹ç§°å»ºè¾¹ï¼Œæ¯”å¦‚æœ‰ä¸€æ¡è¾¹æ˜¯ $(1,3)$ï¼Œåˆ™ $d[1]++,\\ g[1][3]=1 $ å³å¯\n\n``` c\n// è¾“å…¥è¾¹\nwhile(m--) {\n    int u,v;\n    scanf(\"%d%d\",&u,&v);\n    // é‚»æ¥çŸ©é˜µå»ºè¾¹\n    d[u]++,d[v]++; // é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1\n    g[u][v]=1,g[v][u]=1; // äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)\n}\n```\n\n* å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„ä»£ç é‡‡ç”¨æ— å‘å›¾æ¨¡æ¿\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å›¾çš„å­˜å‚¨-é‚»æ¥çŸ©é˜µ\n\nconst int N=1e3+5;\nconst int M=(1e5+5)*2; // æ— å‘å›¾å»ºè¾¹æœ€å¤§è¾¹æ•°ä¸ºé¢˜ç›®æœ€å¤§è¾¹æ•°*2\n\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n\nint main() {\n\t// å‡è®¾é¢˜ç›®ç¼–å·é»˜è®¤ä»1å¼€å§‹\n\tint n,m; // å­˜å‚¨é¡¶ç‚¹æ•°å’Œè¾¹æ•°\n\t// è¾“å…¥è¾¹\n\twhile(m--) {\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\t// é‚»æ¥çŸ©é˜µå»ºè¾¹\n\t\td[u]++,d[v]++; // é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1\n\t\tg[u][v]=1,g[v][u]=1; // äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)\n\t}\n\t// è¾“å‡ºé‚»æ¥çŸ©é˜µ\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcout<<g[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 1. æ´›è°·3643 å›¾çš„å­˜å‚¨\n\n> é¢˜ç›®é“¾æ¥ï¼š[B3643 å›¾çš„å­˜å‚¨ - æ´›è°·](https://www.luogu.com.cn/problem/B3643)\n\n![image-20240309115736673](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240309115736673.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+10; // æœ€å¤§é¡¶ç‚¹\nconst int M=(1e5+10)*2; // æœ€å¤§è¾¹æ•°\n\nint n,m; // é¡¶ç‚¹æ•°å’Œè¾¹æ•°\nint u,v;\n\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜åº¦æ•°\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n\n// é‚»æ¥è¡¨\nint h[N]; // h[i]:ç¼–å·içš„é¡¶ç‚¹çš„\nint ne[M];\nint e[M];\nint idx; // å»ºæ ‘å› å­\n\n// é“¾å¼å‰å‘æ˜Ÿ(å¤´æ’æ³•)\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–\n\twhile(m--) {\n\t\tscanf(\"%d%d\",&u,&v);\n\t\t// é‚»æ¥çŸ©é˜µå»ºè¾¹\n\t\td[u]++,d[v]++; // åº¦æ•°+1\n\t\tg[u][v]=1,g[v][u]=1; // äº’è¾¾\n\t\t// é‚»æ¥è¡¨å»ºè¾¹\n\t\tadd(u,v);\n\t\tadd(v,u);\n\t}\n\t// éå†é‚»æ¥çŸ©é˜µ\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcout<<g[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\t// éå†é‚»æ¥è¡¨\n\tfor(int i=1;i<=n;i++) {\n\t\tcout<<d[i]<<' '; // å…ˆè¾“å‡ºç‚¹içš„åº¦æ•°\n\t\tvector<int> s;\n\t\tfor(int j=h[i];j!=-1;j=ne[j]) {\n\t\t\tint t=e[j];\n\t\t\ts.push_back(t);\n\t\t}\n\t\t// ç¼–å·ä»å°åˆ°å¤§æ’åº\n\t\tsort(s.begin(),s.end());\n\t\tfor(auto t:s) cout<<t<<' ';\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n\n","source":"_posts/é‚»æ¥çŸ©é˜µ.md","raw":"---\ntitle: é‚»æ¥çŸ©é˜µ\ndate: 2024-10-04 20:55:21\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é‚»æ¥çŸ©é˜µ\n\n<!-- toc -->\n\n\n\n## 0. é‚»æ¥çŸ©é˜µ\n\n* é‚»æ¥çŸ©é˜µç›¸æ¯”äºä¸Šä¸€ç¯‡åšå®¢é‚»æ¥è¡¨çš„è®²è§£è¦ç®€å•å¾—å¤š\n\n1. æ•°æ®ç»“æ„ï¼Œå¦‚æœå°†äºŒç»´æ•°ç»„ $g$ å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œé‚£é»˜è®¤åˆå§‹åŒ–åº”è¯¥ä¸º $0$ ï¼Œå¦‚æœé¢˜ç›®ä¸­å­˜åœ¨è‡ªç¯ï¼Œå¯ä»¥åšç‰¹åˆ¤ï¼Œ$memset$ åˆå§‹åŒ–æ•°ç»„ $g$ ä¸º $0x3f3f3f3f$ è¡¨ç¤ºæ— ç©·å¤§ï¼Œ$0$ è¡¨ç¤ºè‡ªç¯ \n\n``` c\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n```\n\n2. ä»¥ä¸‹æ¨¡æ¿æ˜¯æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ¨¡æ¿ï¼Œå¦‚æœæ”¹æˆæœ‰å‘å›¾ï¼Œå’Œé‚»æ¥è¡¨ä¸€æ ·ï¼Œä¸éœ€è¦å¯¹ç§°å»ºè¾¹ï¼Œæ¯”å¦‚æœ‰ä¸€æ¡è¾¹æ˜¯ $(1,3)$ï¼Œåˆ™ $d[1]++,\\ g[1][3]=1 $ å³å¯\n\n``` c\n// è¾“å…¥è¾¹\nwhile(m--) {\n    int u,v;\n    scanf(\"%d%d\",&u,&v);\n    // é‚»æ¥çŸ©é˜µå»ºè¾¹\n    d[u]++,d[v]++; // é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1\n    g[u][v]=1,g[v][u]=1; // äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)\n}\n```\n\n* å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„ä»£ç é‡‡ç”¨æ— å‘å›¾æ¨¡æ¿\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: å›¾çš„å­˜å‚¨-é‚»æ¥çŸ©é˜µ\n\nconst int N=1e3+5;\nconst int M=(1e5+5)*2; // æ— å‘å›¾å»ºè¾¹æœ€å¤§è¾¹æ•°ä¸ºé¢˜ç›®æœ€å¤§è¾¹æ•°*2\n\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n\nint main() {\n\t// å‡è®¾é¢˜ç›®ç¼–å·é»˜è®¤ä»1å¼€å§‹\n\tint n,m; // å­˜å‚¨é¡¶ç‚¹æ•°å’Œè¾¹æ•°\n\t// è¾“å…¥è¾¹\n\twhile(m--) {\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\t// é‚»æ¥çŸ©é˜µå»ºè¾¹\n\t\td[u]++,d[v]++; // é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1\n\t\tg[u][v]=1,g[v][u]=1; // äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)\n\t}\n\t// è¾“å‡ºé‚»æ¥çŸ©é˜µ\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcout<<g[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## 1. æ´›è°·3643 å›¾çš„å­˜å‚¨\n\n> é¢˜ç›®é“¾æ¥ï¼š[B3643 å›¾çš„å­˜å‚¨ - æ´›è°·](https://www.luogu.com.cn/problem/B3643)\n\n![image-20240309115736673](https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240309115736673.png)\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=1e3+10; // æœ€å¤§é¡¶ç‚¹\nconst int M=(1e5+10)*2; // æœ€å¤§è¾¹æ•°\n\nint n,m; // é¡¶ç‚¹æ•°å’Œè¾¹æ•°\nint u,v;\n\n// é‚»æ¥çŸ©é˜µ\nint d[N]; // å­˜åº¦æ•°\nint g[N][N]; // é‚»æ¥çŸ©é˜µ\n\n// é‚»æ¥è¡¨\nint h[N]; // h[i]:ç¼–å·içš„é¡¶ç‚¹çš„\nint ne[M];\nint e[M];\nint idx; // å»ºæ ‘å› å­\n\n// é“¾å¼å‰å‘æ˜Ÿ(å¤´æ’æ³•)\nvoid add(int a,int b) {\n\te[idx]=b,ne[idx]=h[a],h[a]=idx++;\n}\n\nint main() {\n\tcin>>n>>m;\n\tmemset(h,-1,sizeof h); // åˆå§‹åŒ–\n\twhile(m--) {\n\t\tscanf(\"%d%d\",&u,&v);\n\t\t// é‚»æ¥çŸ©é˜µå»ºè¾¹\n\t\td[u]++,d[v]++; // åº¦æ•°+1\n\t\tg[u][v]=1,g[v][u]=1; // äº’è¾¾\n\t\t// é‚»æ¥è¡¨å»ºè¾¹\n\t\tadd(u,v);\n\t\tadd(v,u);\n\t}\n\t// éå†é‚»æ¥çŸ©é˜µ\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tcout<<g[i][j]<<' ';\n\t\t}\n\t\tcout<<endl;\n\t}\n\t// éå†é‚»æ¥è¡¨\n\tfor(int i=1;i<=n;i++) {\n\t\tcout<<d[i]<<' '; // å…ˆè¾“å‡ºç‚¹içš„åº¦æ•°\n\t\tvector<int> s;\n\t\tfor(int j=h[i];j!=-1;j=ne[j]) {\n\t\t\tint t=e[j];\n\t\t\ts.push_back(t);\n\t\t}\n\t\t// ç¼–å·ä»å°åˆ°å¤§æ’åº\n\t\tsort(s.begin(),s.end());\n\t\tfor(auto t:s) cout<<t<<' ';\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n\n","slug":"é‚»æ¥çŸ©é˜µ","published":1,"updated":"2024-10-05T08:03:43.434Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptm004gc0nf16ebg2l7","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"é‚»æ¥çŸ©é˜µ\">é‚»æ¥çŸ©é˜µ</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5\">0. é‚»æ¥çŸ©é˜µ</a></li>\n<li><a href=\"#1-%E6%B4%9B%E8%B0%B73643-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8\">1. æ´›è°·3643 å›¾çš„å­˜å‚¨</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"0-é‚»æ¥çŸ©é˜µ\">0. é‚»æ¥çŸ©é˜µ</span></h2><ul>\n<li>é‚»æ¥çŸ©é˜µç›¸æ¯”äºä¸Šä¸€ç¯‡åšå®¢é‚»æ¥è¡¨çš„è®²è§£è¦ç®€å•å¾—å¤š</li>\n</ul>\n<ol>\n<li>æ•°æ®ç»“æ„ï¼Œå¦‚æœå°†äºŒç»´æ•°ç»„ $g$ å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œé‚£é»˜è®¤åˆå§‹åŒ–åº”è¯¥ä¸º $0$ ï¼Œå¦‚æœé¢˜ç›®ä¸­å­˜åœ¨è‡ªç¯ï¼Œå¯ä»¥åšç‰¹åˆ¤ï¼Œ$memset$ åˆå§‹åŒ–æ•°ç»„ $g$ ä¸º $0x3f3f3f3f$ è¡¨ç¤ºæ— ç©·å¤§ï¼Œ$0$ è¡¨ç¤ºè‡ªç¯</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ä»¥ä¸‹æ¨¡æ¿æ˜¯æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ¨¡æ¿ï¼Œå¦‚æœæ”¹æˆæœ‰å‘å›¾ï¼Œå’Œé‚»æ¥è¡¨ä¸€æ ·ï¼Œä¸éœ€è¦å¯¹ç§°å»ºè¾¹ï¼Œæ¯”å¦‚æœ‰ä¸€æ¡è¾¹æ˜¯ $(1,3)$ï¼Œåˆ™ $d[1]++,\\ g[1][3]&#x3D;1 $ å³å¯</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¾“å…¥è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> u,v;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">    <span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">    d[u]++,d[v]++; <span class=\"comment\">// é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1</span></span><br><span class=\"line\">    g[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„ä»£ç é‡‡ç”¨æ— å‘å›¾æ¨¡æ¿</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å›¾çš„å­˜å‚¨-é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span>+<span class=\"number\">5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æ— å‘å›¾å»ºè¾¹æœ€å¤§è¾¹æ•°ä¸ºé¢˜ç›®æœ€å¤§è¾¹æ•°*2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡è®¾é¢˜ç›®ç¼–å·é»˜è®¤ä»1å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m; <span class=\"comment\">// å­˜å‚¨é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u,v;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">\t\td[u]++,d[v]++; <span class=\"comment\">// é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1</span></span><br><span class=\"line\">\t\tg[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;g[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"1-æ´›è°·3643-å›¾çš„å­˜å‚¨\">1. æ´›è°·3643 å›¾çš„å­˜å‚¨</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/B3643\">B3643 å›¾çš„å­˜å‚¨ - æ´›è°·</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240309115736673.png\" alt=\"image-20240309115736673\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+10</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> u,v;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜åº¦æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥è¡¨</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¼–å·içš„é¡¶ç‚¹çš„</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M];</span><br><span class=\"line\"><span class=\"type\">int</span> e[M];</span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ(å¤´æ’æ³•)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">\t\td[u]++,d[v]++; <span class=\"comment\">// åº¦æ•°+1</span></span><br><span class=\"line\">\t\tg[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’è¾¾</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥è¡¨å»ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(u,v);</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(v,u);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;g[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†é‚»æ¥è¡¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;d[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// å…ˆè¾“å‡ºç‚¹içš„åº¦æ•°</span></span><br><span class=\"line\">\t\tvector&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[i];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> t=e[j];</span><br><span class=\"line\">\t\t\ts.<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç¼–å·ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">sort</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> t:s) cout&lt;&lt;t&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"é‚»æ¥çŸ©é˜µ\"><a href=\"#é‚»æ¥çŸ©é˜µ\" class=\"headerlink\" title=\"é‚»æ¥çŸ©é˜µ\"></a>é‚»æ¥çŸ©é˜µ</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#0-%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5\">0. é‚»æ¥çŸ©é˜µ</a></li>\n<li><a href=\"#1-%E6%B4%9B%E8%B0%B73643-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8\">1. æ´›è°·3643 å›¾çš„å­˜å‚¨</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"0-é‚»æ¥çŸ©é˜µ\"><a href=\"#0-é‚»æ¥çŸ©é˜µ\" class=\"headerlink\" title=\"0. é‚»æ¥çŸ©é˜µ\"></a>0. é‚»æ¥çŸ©é˜µ</h2><ul>\n<li>é‚»æ¥çŸ©é˜µç›¸æ¯”äºä¸Šä¸€ç¯‡åšå®¢é‚»æ¥è¡¨çš„è®²è§£è¦ç®€å•å¾—å¤š</li>\n</ul>\n<ol>\n<li>æ•°æ®ç»“æ„ï¼Œå¦‚æœå°†äºŒç»´æ•°ç»„ $g$ å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œé‚£é»˜è®¤åˆå§‹åŒ–åº”è¯¥ä¸º $0$ ï¼Œå¦‚æœé¢˜ç›®ä¸­å­˜åœ¨è‡ªç¯ï¼Œå¯ä»¥åšç‰¹åˆ¤ï¼Œ$memset$ åˆå§‹åŒ–æ•°ç»„ $g$ ä¸º $0x3f3f3f3f$ è¡¨ç¤ºæ— ç©·å¤§ï¼Œ$0$ è¡¨ç¤ºè‡ªç¯</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ä»¥ä¸‹æ¨¡æ¿æ˜¯æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ¨¡æ¿ï¼Œå¦‚æœæ”¹æˆæœ‰å‘å›¾ï¼Œå’Œé‚»æ¥è¡¨ä¸€æ ·ï¼Œä¸éœ€è¦å¯¹ç§°å»ºè¾¹ï¼Œæ¯”å¦‚æœ‰ä¸€æ¡è¾¹æ˜¯ $(1,3)$ï¼Œåˆ™ $d[1]++,\\ g[1][3]&#x3D;1 $ å³å¯</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¾“å…¥è¾¹</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> u,v;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">    <span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">    d[u]++,d[v]++; <span class=\"comment\">// é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1</span></span><br><span class=\"line\">    g[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„ä»£ç é‡‡ç”¨æ— å‘å›¾æ¨¡æ¿</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: å›¾çš„å­˜å‚¨-é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span>+<span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span>+<span class=\"number\">5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æ— å‘å›¾å»ºè¾¹æœ€å¤§è¾¹æ•°ä¸ºé¢˜ç›®æœ€å¤§è¾¹æ•°*2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„åº¦</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// å‡è®¾é¢˜ç›®ç¼–å·é»˜è®¤ä»1å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n,m; <span class=\"comment\">// å­˜å‚¨é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥è¾¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> u,v;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">\t\td[u]++,d[v]++; <span class=\"comment\">// é¡¶ç‚¹uå’Œé¡¶ç‚¹våº¦æ•°+1</span></span><br><span class=\"line\">\t\tg[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’ç›¸å¯è¾¾,ä¸º0è¡¨ç¤ºä¸å¯è¾¾(å¦‚æœé¢˜ç›®æ¶‰åŠè‡ªç¯å¯ç”¨memsetåˆå§‹åŒ–ä¸º0x3f3f3f3fè¡¨ç¤ºä¸å¯è¾¾)</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å‡ºé‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">cout</span>&lt;&lt;g[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">cout</span>&lt;&lt;<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"1-æ´›è°·3643-å›¾çš„å­˜å‚¨\"><a href=\"#1-æ´›è°·3643-å›¾çš„å­˜å‚¨\" class=\"headerlink\" title=\"1. æ´›è°·3643 å›¾çš„å­˜å‚¨\"></a>1. æ´›è°·3643 å›¾çš„å­˜å‚¨</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"https://www.luogu.com.cn/problem/B3643\">B3643 å›¾çš„å­˜å‚¨ - æ´›è°·</a></p>\n</blockquote>\n<p><img src=\"https://gitee.com/RoysterCDD/figurebed/raw/master/img/image-20240309115736673.png\" alt=\"image-20240309115736673\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+10</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+10</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> n,m; <span class=\"comment\">// é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> u,v;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"><span class=\"type\">int</span> d[N]; <span class=\"comment\">// å­˜åº¦æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> g[N][N]; <span class=\"comment\">// é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‚»æ¥è¡¨</span></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¼–å·içš„é¡¶ç‚¹çš„</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M];</span><br><span class=\"line\"><span class=\"type\">int</span> e[M];</span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// å»ºæ ‘å› å­</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é“¾å¼å‰å‘æ˜Ÿ(å¤´æ’æ³•)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b,ne[idx]=h[a],h[a]=idx++;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n&gt;&gt;m;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(m--) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥çŸ©é˜µå»ºè¾¹</span></span><br><span class=\"line\">\t\td[u]++,d[v]++; <span class=\"comment\">// åº¦æ•°+1</span></span><br><span class=\"line\">\t\tg[u][v]=<span class=\"number\">1</span>,g[v][u]=<span class=\"number\">1</span>; <span class=\"comment\">// äº’è¾¾</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// é‚»æ¥è¡¨å»ºè¾¹</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(u,v);</span><br><span class=\"line\">\t\t<span class=\"built_in\">add</span>(v,u);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†é‚»æ¥çŸ©é˜µ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>;j&lt;=n;j++) &#123;</span><br><span class=\"line\">\t\t\tcout&lt;&lt;g[i][j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// éå†é‚»æ¥è¡¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=n;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;d[i]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// å…ˆè¾“å‡ºç‚¹içš„åº¦æ•°</span></span><br><span class=\"line\">\t\tvector&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[i];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">int</span> t=e[j];</span><br><span class=\"line\">\t\t\ts.<span class=\"built_in\">push_back</span>(t);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ç¼–å·ä»å°åˆ°å¤§æ’åº</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">sort</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> t:s) cout&lt;&lt;t&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n"},{"title":"é€’æ¨","date":"2024-10-03T04:29:43.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é€’æ¨\n\n<!-- toc -->\n\n\n\n## ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1188)\n\n* æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜æˆ‘ä»¬ç»å¸¸ç”¨é€’å½’è§£å†³ï¼Œä½†æ˜¯æœ¬é¢˜ç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥é€’å½’å±‚æ•°ä¼šéå¸¸å¤šï¼Œä¼šé‡åˆ°çˆ†æ ˆçš„é—®é¢˜ï¼Œå¿…å®šä¼šTLE\n\n``` c++\nint fib(int n) {\n    if(n==1 || n==2) return 1;\n    return fib(n-1)+fib(n-2);\n}\n```\n\n* å› æ­¤æˆ‘ä»¬é€‰æ‹©ç”¨é€’æ¨è§£å†³ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬$a$ä¸ªæ•°å¯¹$1000$å–æ¨¡å¾—åˆ°çš„ç»“æœï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®¡ç®—$Fibonacci$æ•°åˆ—çš„æ—¶å€™ä¸€è¾¹è®¡ç®—ä¸€è¾¹å¯¹$1000$å–æ¨¡å°±å¯ä»¥äº†ï¼Œè¿™å¹¶ä¸ä¼šæœ€ç»ˆç»“æœ\n* å¦‚æœæˆ‘ä»¬ä¸ä¸€è¾¹è®¡ç®—ä¸€è¾¹å–æ¨¡ï¼Œè€Œæ˜¯å¯¹å•ç‹¬æˆ‘ä»¬è¦çš„é‚£ä¸ªå€¼è¿›è¡Œå–æ¨¡ä¼šé‡åˆ°ä»€ä¹ˆç»“æœï¼Ÿåœ¨è®¡ç®—æ•°åˆ—çš„æ—¶å€™å°±å·²ç»çˆ†$int$ã€$long\\ long$äº†ï¼Œé‚£ä¹ˆåœ¨ç´¯åŠ æ±‚è§£çš„è¿‡ç¨‹ä¸­å°±ä¼šæº¢å‡ºï¼Œæœ€ç»ˆå¾—åˆ°çš„æ˜¯è´Ÿæ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: æƒ³æƒ³èƒ½ä¸èƒ½ç”¨é€’å½’åšå‘¢?ä¸èƒ½,å› ä¸ºæ•°æ®èŒƒå›´å¾ˆå¤§,é€’å½’ä¼šçˆ†æ ˆ,ä¸€å®šä¼šTLE\n//int fib(int n) {\n//\tif(n==1 || n==2) \n//\t\treturn 1;\n//\telse \n//\t\treturn (fib(n-1)+fib(n-2))%1000;\n//}\n\nconst int N=1e6+5;\nint fib[N];\nint n;\n\nint main() {\n\tcin>>n;\n\tint temp;\n\t// é¢„å¤„ç†è®¡ç®—å‡ºæ‰€æœ‰çš„fib,å†å¤„ç†æŸ¥è¯¢\n\t// åˆå§‹åŒ–:\n\tfib[1]=fib[2]=1;\n\tfor(int i=3;i<=N;i++) {\n\t\tfib[i]=(fib[i-1]+fib[i-2])%1000;\n\t}\n\twhile(n--) {\n//\t\tscanf(\"%d\",&temp);\n//\t\tcout<<fib(temp)%1000<<endl;\n\t\t// ç”¨é€’æ¨åšæ³•\n\t\tscanf(\"%d\",&temp);\n\t\tcout<<fib[temp]<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1189)\n\n* å½“ä½œä¸šå’¯\n\n\n\n## ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1190)\n\n* å…¶å®è¿™é“é¢˜æ˜¯åŠ¨æ€è§„åˆ’ä¸­çº¿æ€§$DP$ä¸­éå¸¸ç»å…¸çš„é¢˜ç›®ï¼Œéå¸¸é€‚åˆæ–°æ‰‹åˆæ­¥æ¥è§¦åŠ¨æ€è§„åˆ’ç±»å‹é¢˜ç›®ï¼Œä»åŠ¨æ€è§„åˆ’çš„å››è¦ç´ æ¥åˆ†æè¯¥é—®é¢˜\n\n1. çŠ¶æ€è¡¨ç¤ºï¼Œ$dp[i]$ï¼šåˆ°è¾¾ç¬¬$i$æ­¥å°é˜¶çš„æ–¹æ¡ˆæ•°\n2. åˆå§‹åŒ–ï¼Œ$dp[1]=1$ï¼Œåˆ°è¾¾å°é˜¶ä¸€çš„æ–¹æ¡ˆåªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯ç›´æ¥èµ°ä¸€æ­¥ï¼Œ$dp[2]=2$ï¼Œåˆ°è¾¾å°é˜¶äºŒçš„æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œé‚£å°±æ˜¯èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œæˆ–è€…ç›´æ¥èµ°ä¸¤æ­¥ï¼Œ$dp[3]=4$ï¼Œåˆ°è¾¾å°é˜¶ä¸‰çš„æ–¹æ¡ˆæœ‰å››ç§ï¼Œè¦ä¹ˆèµ°å››ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆèµ°ä¸¤ä¸ªä¸¤æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤æ­¥ï¼Œå†èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œå†èµ°ä¸€ä¸ªä¸¤æ­¥\n3. çŠ¶æ€è½¬ç§»ï¼Œ$dp[i]=dp[i-1]+dp[i-2]+dp[i-3](n>=3)$ï¼šåˆ°è¾¾ç¬¬å°é˜¶$i$è¦ä¹ˆæ˜¯ä»ç¬¬$i-1$æ­¥å°é˜¶èµ°ä¸€æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-2$æ­¥å°é˜¶èµ°ä¸¤æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-3$æ­¥å°é˜¶èµ°ä¸‰æ­¥ä¸Šæ¥çš„\n4. ç›®æ ‡å€¼ï¼Œè¦æ±‚åˆ°è¾¾ç¬¬$n$æ­¥å°é˜¶æ–¹æ¡ˆæ•°ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡º$dp[n]$å³å¯\n\n* æ³¨æ„å°±ç®—æœ€å¤§å°é˜¶åªæœ‰$70$æ­¥ï¼Œä½†æ•°æ®å¢é•¿é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥éœ€è¦å¼€$long \\ long$æ‰èƒ½é€šè¿‡\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=70+5; // æœ€å¤§å°é˜¶æ•°\nll dp[N];\nint n;\n\nint main() {\n\t// åˆå§‹åŒ–\n\tdp[1]=1;\n\tdp[2]=2;\n\tdp[3]=4;\n\t// é¢„å¤„ç†æ‰€æœ‰æ–¹æ¡ˆ\n\tfor(int i=4;i<=N;i++) {\n\t\tdp[i]=dp[i-1]+dp[i-2]+dp[i-3];\n\t}\n\twhile(cin>>n && n!=0) {\n\t\tcout<<dp[n]<<endl;\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/é€’æ¨.md","raw":"---\ntitle: é€’æ¨\ndate: 2024-10-03 12:29:43\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - é€’æ¨\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é€’æ¨\n\n<!-- toc -->\n\n\n\n## ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1188)\n\n* æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜æˆ‘ä»¬ç»å¸¸ç”¨é€’å½’è§£å†³ï¼Œä½†æ˜¯æœ¬é¢˜ç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥é€’å½’å±‚æ•°ä¼šéå¸¸å¤šï¼Œä¼šé‡åˆ°çˆ†æ ˆçš„é—®é¢˜ï¼Œå¿…å®šä¼šTLE\n\n``` c++\nint fib(int n) {\n    if(n==1 || n==2) return 1;\n    return fib(n-1)+fib(n-2);\n}\n```\n\n* å› æ­¤æˆ‘ä»¬é€‰æ‹©ç”¨é€’æ¨è§£å†³ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬$a$ä¸ªæ•°å¯¹$1000$å–æ¨¡å¾—åˆ°çš„ç»“æœï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®¡ç®—$Fibonacci$æ•°åˆ—çš„æ—¶å€™ä¸€è¾¹è®¡ç®—ä¸€è¾¹å¯¹$1000$å–æ¨¡å°±å¯ä»¥äº†ï¼Œè¿™å¹¶ä¸ä¼šæœ€ç»ˆç»“æœ\n* å¦‚æœæˆ‘ä»¬ä¸ä¸€è¾¹è®¡ç®—ä¸€è¾¹å–æ¨¡ï¼Œè€Œæ˜¯å¯¹å•ç‹¬æˆ‘ä»¬è¦çš„é‚£ä¸ªå€¼è¿›è¡Œå–æ¨¡ä¼šé‡åˆ°ä»€ä¹ˆç»“æœï¼Ÿåœ¨è®¡ç®—æ•°åˆ—çš„æ—¶å€™å°±å·²ç»çˆ†$int$ã€$long\\ long$äº†ï¼Œé‚£ä¹ˆåœ¨ç´¯åŠ æ±‚è§£çš„è¿‡ç¨‹ä¸­å°±ä¼šæº¢å‡ºï¼Œæœ€ç»ˆå¾—åˆ°çš„æ˜¯è´Ÿæ•°\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: æƒ³æƒ³èƒ½ä¸èƒ½ç”¨é€’å½’åšå‘¢?ä¸èƒ½,å› ä¸ºæ•°æ®èŒƒå›´å¾ˆå¤§,é€’å½’ä¼šçˆ†æ ˆ,ä¸€å®šä¼šTLE\n//int fib(int n) {\n//\tif(n==1 || n==2) \n//\t\treturn 1;\n//\telse \n//\t\treturn (fib(n-1)+fib(n-2))%1000;\n//}\n\nconst int N=1e6+5;\nint fib[N];\nint n;\n\nint main() {\n\tcin>>n;\n\tint temp;\n\t// é¢„å¤„ç†è®¡ç®—å‡ºæ‰€æœ‰çš„fib,å†å¤„ç†æŸ¥è¯¢\n\t// åˆå§‹åŒ–:\n\tfib[1]=fib[2]=1;\n\tfor(int i=3;i<=N;i++) {\n\t\tfib[i]=(fib[i-1]+fib[i-2])%1000;\n\t}\n\twhile(n--) {\n//\t\tscanf(\"%d\",&temp);\n//\t\tcout<<fib(temp)%1000<<endl;\n\t\t// ç”¨é€’æ¨åšæ³•\n\t\tscanf(\"%d\",&temp);\n\t\tcout<<fib[temp]<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n\n## ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1189)\n\n* å½“ä½œä¸šå’¯\n\n\n\n## ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶\n\n> é¢˜ç›®é“¾æ¥ï¼š[ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)](http://ybt.ssoier.cn:8088/problem_show.php?pid=1190)\n\n* å…¶å®è¿™é“é¢˜æ˜¯åŠ¨æ€è§„åˆ’ä¸­çº¿æ€§$DP$ä¸­éå¸¸ç»å…¸çš„é¢˜ç›®ï¼Œéå¸¸é€‚åˆæ–°æ‰‹åˆæ­¥æ¥è§¦åŠ¨æ€è§„åˆ’ç±»å‹é¢˜ç›®ï¼Œä»åŠ¨æ€è§„åˆ’çš„å››è¦ç´ æ¥åˆ†æè¯¥é—®é¢˜\n\n1. çŠ¶æ€è¡¨ç¤ºï¼Œ$dp[i]$ï¼šåˆ°è¾¾ç¬¬$i$æ­¥å°é˜¶çš„æ–¹æ¡ˆæ•°\n2. åˆå§‹åŒ–ï¼Œ$dp[1]=1$ï¼Œåˆ°è¾¾å°é˜¶ä¸€çš„æ–¹æ¡ˆåªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯ç›´æ¥èµ°ä¸€æ­¥ï¼Œ$dp[2]=2$ï¼Œåˆ°è¾¾å°é˜¶äºŒçš„æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œé‚£å°±æ˜¯èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œæˆ–è€…ç›´æ¥èµ°ä¸¤æ­¥ï¼Œ$dp[3]=4$ï¼Œåˆ°è¾¾å°é˜¶ä¸‰çš„æ–¹æ¡ˆæœ‰å››ç§ï¼Œè¦ä¹ˆèµ°å››ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆèµ°ä¸¤ä¸ªä¸¤æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤æ­¥ï¼Œå†èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œå†èµ°ä¸€ä¸ªä¸¤æ­¥\n3. çŠ¶æ€è½¬ç§»ï¼Œ$dp[i]=dp[i-1]+dp[i-2]+dp[i-3](n>=3)$ï¼šåˆ°è¾¾ç¬¬å°é˜¶$i$è¦ä¹ˆæ˜¯ä»ç¬¬$i-1$æ­¥å°é˜¶èµ°ä¸€æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-2$æ­¥å°é˜¶èµ°ä¸¤æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-3$æ­¥å°é˜¶èµ°ä¸‰æ­¥ä¸Šæ¥çš„\n4. ç›®æ ‡å€¼ï¼Œè¦æ±‚åˆ°è¾¾ç¬¬$n$æ­¥å°é˜¶æ–¹æ¡ˆæ•°ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡º$dp[n]$å³å¯\n\n* æ³¨æ„å°±ç®—æœ€å¤§å°é˜¶åªæœ‰$70$æ­¥ï¼Œä½†æ•°æ®å¢é•¿é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥éœ€è¦å¼€$long \\ long$æ‰èƒ½é€šè¿‡\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: \n\nconst int N=70+5; // æœ€å¤§å°é˜¶æ•°\nll dp[N];\nint n;\n\nint main() {\n\t// åˆå§‹åŒ–\n\tdp[1]=1;\n\tdp[2]=2;\n\tdp[3]=4;\n\t// é¢„å¤„ç†æ‰€æœ‰æ–¹æ¡ˆ\n\tfor(int i=4;i<=N;i++) {\n\t\tdp[i]=dp[i-1]+dp[i-2]+dp[i-3];\n\t}\n\twhile(cin>>n && n!=0) {\n\t\tcout<<dp[n]<<endl;\n\t}\n\treturn 0;\n}\n```\n","slug":"é€’æ¨","published":1,"updated":"2024-10-05T07:59:45.071Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptn004jc0nf25mcgarz","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"é€’æ¨\">é€’æ¨</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1188%E8%8F%B2%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%972\">ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)</a></li>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1189pell%E6%95%B0%E5%88%97\">ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—</a></li>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1190%E4%B8%8A%E5%8F%B0%E9%98%B6\">ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"ä¸€æœ¬é€š-1188è²æ³¢é‚£å¥‘æ•°åˆ—2\">ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1188\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜æˆ‘ä»¬ç»å¸¸ç”¨é€’å½’è§£å†³ï¼Œä½†æ˜¯æœ¬é¢˜ç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥é€’å½’å±‚æ•°ä¼šéå¸¸å¤šï¼Œä¼šé‡åˆ°çˆ†æ ˆçš„é—®é¢˜ï¼Œå¿…å®šä¼šTLE</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(n==<span class=\"number\">1</span> || n==<span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">fib</span>(n<span class=\"number\">-1</span>)+<span class=\"built_in\">fib</span>(n<span class=\"number\">-2</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å› æ­¤æˆ‘ä»¬é€‰æ‹©ç”¨é€’æ¨è§£å†³ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬$a$ä¸ªæ•°å¯¹$1000$å–æ¨¡å¾—åˆ°çš„ç»“æœï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®¡ç®—$Fibonacci$æ•°åˆ—çš„æ—¶å€™ä¸€è¾¹è®¡ç®—ä¸€è¾¹å¯¹$1000$å–æ¨¡å°±å¯ä»¥äº†ï¼Œè¿™å¹¶ä¸ä¼šæœ€ç»ˆç»“æœ</li>\n<li>å¦‚æœæˆ‘ä»¬ä¸ä¸€è¾¹è®¡ç®—ä¸€è¾¹å–æ¨¡ï¼Œè€Œæ˜¯å¯¹å•ç‹¬æˆ‘ä»¬è¦çš„é‚£ä¸ªå€¼è¿›è¡Œå–æ¨¡ä¼šé‡åˆ°ä»€ä¹ˆç»“æœï¼Ÿåœ¨è®¡ç®—æ•°åˆ—çš„æ—¶å€™å°±å·²ç»çˆ†$int$ã€$long\\ long$äº†ï¼Œé‚£ä¹ˆåœ¨ç´¯åŠ æ±‚è§£çš„è¿‡ç¨‹ä¸­å°±ä¼šæº¢å‡ºï¼Œæœ€ç»ˆå¾—åˆ°çš„æ˜¯è´Ÿæ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: æƒ³æƒ³èƒ½ä¸èƒ½ç”¨é€’å½’åšå‘¢?ä¸èƒ½,å› ä¸ºæ•°æ®èŒƒå›´å¾ˆå¤§,é€’å½’ä¼šçˆ†æ ˆ,ä¸€å®šä¼šTLE</span></span><br><span class=\"line\"><span class=\"comment\">//int fib(int n) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\tif(n==1 || n==2) </span></span><br><span class=\"line\"><span class=\"comment\">//\t\treturn 1;</span></span><br><span class=\"line\"><span class=\"comment\">//\telse </span></span><br><span class=\"line\"><span class=\"comment\">//\t\treturn (fib(n-1)+fib(n-2))%1000;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fib[N];</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t<span class=\"comment\">// é¢„å¤„ç†è®¡ç®—å‡ºæ‰€æœ‰çš„fib,å†å¤„ç†æŸ¥è¯¢</span></span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–:</span></span><br><span class=\"line\">\tfib[<span class=\"number\">1</span>]=fib[<span class=\"number\">2</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">3</span>;i&lt;=N;i++) &#123;</span><br><span class=\"line\">\t\tfib[i]=(fib[i<span class=\"number\">-1</span>]+fib[i<span class=\"number\">-2</span>])%<span class=\"number\">1000</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\"><span class=\"comment\">//\t\tscanf(&quot;%d&quot;,&amp;temp);</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;fib(temp)%1000&lt;&lt;endl;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ç”¨é€’æ¨åšæ³•</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;temp);</span><br><span class=\"line\">\t\tcout&lt;&lt;fib[temp]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"ä¸€æœ¬é€š-1189pellæ•°åˆ—\">ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1189\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>å½“ä½œä¸šå’¯</li>\n</ul>\n<h2><span id=\"ä¸€æœ¬é€š-1190ä¸Šå°é˜¶\">ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶</span></h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1190\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>å…¶å®è¿™é“é¢˜æ˜¯åŠ¨æ€è§„åˆ’ä¸­çº¿æ€§$DP$ä¸­éå¸¸ç»å…¸çš„é¢˜ç›®ï¼Œéå¸¸é€‚åˆæ–°æ‰‹åˆæ­¥æ¥è§¦åŠ¨æ€è§„åˆ’ç±»å‹é¢˜ç›®ï¼Œä»åŠ¨æ€è§„åˆ’çš„å››è¦ç´ æ¥åˆ†æè¯¥é—®é¢˜</li>\n</ul>\n<ol>\n<li>çŠ¶æ€è¡¨ç¤ºï¼Œ$dp[i]$ï¼šåˆ°è¾¾ç¬¬$i$æ­¥å°é˜¶çš„æ–¹æ¡ˆæ•°</li>\n<li>åˆå§‹åŒ–ï¼Œ$dp[1]&#x3D;1$ï¼Œåˆ°è¾¾å°é˜¶ä¸€çš„æ–¹æ¡ˆåªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯ç›´æ¥èµ°ä¸€æ­¥ï¼Œ$dp[2]&#x3D;2$ï¼Œåˆ°è¾¾å°é˜¶äºŒçš„æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œé‚£å°±æ˜¯èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œæˆ–è€…ç›´æ¥èµ°ä¸¤æ­¥ï¼Œ$dp[3]&#x3D;4$ï¼Œåˆ°è¾¾å°é˜¶ä¸‰çš„æ–¹æ¡ˆæœ‰å››ç§ï¼Œè¦ä¹ˆèµ°å››ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆèµ°ä¸¤ä¸ªä¸¤æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤æ­¥ï¼Œå†èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œå†èµ°ä¸€ä¸ªä¸¤æ­¥</li>\n<li>çŠ¶æ€è½¬ç§»ï¼Œ$dp[i]&#x3D;dp[i-1]+dp[i-2]+dp<a href=\"n%3E=3\">i-3</a>$ï¼šåˆ°è¾¾ç¬¬å°é˜¶$i$è¦ä¹ˆæ˜¯ä»ç¬¬$i-1$æ­¥å°é˜¶èµ°ä¸€æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-2$æ­¥å°é˜¶èµ°ä¸¤æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-3$æ­¥å°é˜¶èµ°ä¸‰æ­¥ä¸Šæ¥çš„</li>\n<li>ç›®æ ‡å€¼ï¼Œè¦æ±‚åˆ°è¾¾ç¬¬$n$æ­¥å°é˜¶æ–¹æ¡ˆæ•°ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡º$dp[n]$å³å¯</li>\n</ol>\n<ul>\n<li>æ³¨æ„å°±ç®—æœ€å¤§å°é˜¶åªæœ‰$70$æ­¥ï¼Œä½†æ•°æ®å¢é•¿é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥éœ€è¦å¼€$long \\ long$æ‰èƒ½é€šè¿‡</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">70</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§å°é˜¶æ•°</span></span><br><span class=\"line\">ll dp[N];</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\tdp[<span class=\"number\">1</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\tdp[<span class=\"number\">2</span>]=<span class=\"number\">2</span>;</span><br><span class=\"line\">\tdp[<span class=\"number\">3</span>]=<span class=\"number\">4</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// é¢„å¤„ç†æ‰€æœ‰æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">4</span>;i&lt;=N;i++) &#123;</span><br><span class=\"line\">\t\tdp[i]=dp[i<span class=\"number\">-1</span>]+dp[i<span class=\"number\">-2</span>]+dp[i<span class=\"number\">-3</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(cin&gt;&gt;n &amp;&amp; n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;dp[n]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"é€’æ¨\"><a href=\"#é€’æ¨\" class=\"headerlink\" title=\"é€’æ¨\"></a>é€’æ¨</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1188%E8%8F%B2%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%972\">ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)</a></li>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1189pell%E6%95%B0%E5%88%97\">ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—</a></li>\n<li><a href=\"#%E4%B8%80%E6%9C%AC%E9%80%9A-1190%E4%B8%8A%E5%8F%B0%E9%98%B6\">ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"ä¸€æœ¬é€š-1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—-2\"><a href=\"#ä¸€æœ¬é€š-1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—-2\" class=\"headerlink\" title=\"ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)\"></a>ä¸€æœ¬é€š 1188ï¼šè²æ³¢é‚£å¥‘æ•°åˆ—(2)</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1188\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜æˆ‘ä»¬ç»å¸¸ç”¨é€’å½’è§£å†³ï¼Œä½†æ˜¯æœ¬é¢˜ç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥é€’å½’å±‚æ•°ä¼šéå¸¸å¤šï¼Œä¼šé‡åˆ°çˆ†æ ˆçš„é—®é¢˜ï¼Œå¿…å®šä¼šTLE</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">fib</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(n==<span class=\"number\">1</span> || n==<span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">fib</span>(n<span class=\"number\">-1</span>)+<span class=\"built_in\">fib</span>(n<span class=\"number\">-2</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å› æ­¤æˆ‘ä»¬é€‰æ‹©ç”¨é€’æ¨è§£å†³ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢˜ç›®è¦æ±‚çš„æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬$a$ä¸ªæ•°å¯¹$1000$å–æ¨¡å¾—åˆ°çš„ç»“æœï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®¡ç®—$Fibonacci$æ•°åˆ—çš„æ—¶å€™ä¸€è¾¹è®¡ç®—ä¸€è¾¹å¯¹$1000$å–æ¨¡å°±å¯ä»¥äº†ï¼Œè¿™å¹¶ä¸ä¼šæœ€ç»ˆç»“æœ</li>\n<li>å¦‚æœæˆ‘ä»¬ä¸ä¸€è¾¹è®¡ç®—ä¸€è¾¹å–æ¨¡ï¼Œè€Œæ˜¯å¯¹å•ç‹¬æˆ‘ä»¬è¦çš„é‚£ä¸ªå€¼è¿›è¡Œå–æ¨¡ä¼šé‡åˆ°ä»€ä¹ˆç»“æœï¼Ÿåœ¨è®¡ç®—æ•°åˆ—çš„æ—¶å€™å°±å·²ç»çˆ†$int$ã€$long\\ long$äº†ï¼Œé‚£ä¹ˆåœ¨ç´¯åŠ æ±‚è§£çš„è¿‡ç¨‹ä¸­å°±ä¼šæº¢å‡ºï¼Œæœ€ç»ˆå¾—åˆ°çš„æ˜¯è´Ÿæ•°</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: æƒ³æƒ³èƒ½ä¸èƒ½ç”¨é€’å½’åšå‘¢?ä¸èƒ½,å› ä¸ºæ•°æ®èŒƒå›´å¾ˆå¤§,é€’å½’ä¼šçˆ†æ ˆ,ä¸€å®šä¼šTLE</span></span><br><span class=\"line\"><span class=\"comment\">//int fib(int n) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\tif(n==1 || n==2) </span></span><br><span class=\"line\"><span class=\"comment\">//\t\treturn 1;</span></span><br><span class=\"line\"><span class=\"comment\">//\telse </span></span><br><span class=\"line\"><span class=\"comment\">//\t\treturn (fib(n-1)+fib(n-2))%1000;</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+5</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> fib[N];</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;n;</span><br><span class=\"line\">\t<span class=\"type\">int</span> temp;</span><br><span class=\"line\">\t<span class=\"comment\">// é¢„å¤„ç†è®¡ç®—å‡ºæ‰€æœ‰çš„fib,å†å¤„ç†æŸ¥è¯¢</span></span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–:</span></span><br><span class=\"line\">\tfib[<span class=\"number\">1</span>]=fib[<span class=\"number\">2</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">3</span>;i&lt;=N;i++) &#123;</span><br><span class=\"line\">\t\tfib[i]=(fib[i<span class=\"number\">-1</span>]+fib[i<span class=\"number\">-2</span>])%<span class=\"number\">1000</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(n--) &#123;</span><br><span class=\"line\"><span class=\"comment\">//\t\tscanf(&quot;%d&quot;,&amp;temp);</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tcout&lt;&lt;fib(temp)%1000&lt;&lt;endl;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ç”¨é€’æ¨åšæ³•</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;temp);</span><br><span class=\"line\">\t\tcout&lt;&lt;fib[temp]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"ä¸€æœ¬é€š-1189ï¼šPellæ•°åˆ—\"><a href=\"#ä¸€æœ¬é€š-1189ï¼šPellæ•°åˆ—\" class=\"headerlink\" title=\"ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—\"></a>ä¸€æœ¬é€š 1189ï¼šPellæ•°åˆ—</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1189\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>å½“ä½œä¸šå’¯</li>\n</ul>\n<h2 id=\"ä¸€æœ¬é€š-1190ï¼šä¸Šå°é˜¶\"><a href=\"#ä¸€æœ¬é€š-1190ï¼šä¸Šå°é˜¶\" class=\"headerlink\" title=\"ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶\"></a>ä¸€æœ¬é€š 1190ï¼šä¸Šå°é˜¶</h2><blockquote>\n<p>é¢˜ç›®é“¾æ¥ï¼š<a href=\"http://ybt.ssoier.cn:8088/problem_show.php?pid=1190\">ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ˆC++ç‰ˆï¼‰åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ (ssoier.cn)</a></p>\n</blockquote>\n<ul>\n<li>å…¶å®è¿™é“é¢˜æ˜¯åŠ¨æ€è§„åˆ’ä¸­çº¿æ€§$DP$ä¸­éå¸¸ç»å…¸çš„é¢˜ç›®ï¼Œéå¸¸é€‚åˆæ–°æ‰‹åˆæ­¥æ¥è§¦åŠ¨æ€è§„åˆ’ç±»å‹é¢˜ç›®ï¼Œä»åŠ¨æ€è§„åˆ’çš„å››è¦ç´ æ¥åˆ†æè¯¥é—®é¢˜</li>\n</ul>\n<ol>\n<li>çŠ¶æ€è¡¨ç¤ºï¼Œ$dp[i]$ï¼šåˆ°è¾¾ç¬¬$i$æ­¥å°é˜¶çš„æ–¹æ¡ˆæ•°</li>\n<li>åˆå§‹åŒ–ï¼Œ$dp[1]&#x3D;1$ï¼Œåˆ°è¾¾å°é˜¶ä¸€çš„æ–¹æ¡ˆåªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯ç›´æ¥èµ°ä¸€æ­¥ï¼Œ$dp[2]&#x3D;2$ï¼Œåˆ°è¾¾å°é˜¶äºŒçš„æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œé‚£å°±æ˜¯èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œæˆ–è€…ç›´æ¥èµ°ä¸¤æ­¥ï¼Œ$dp[3]&#x3D;4$ï¼Œåˆ°è¾¾å°é˜¶ä¸‰çš„æ–¹æ¡ˆæœ‰å››ç§ï¼Œè¦ä¹ˆèµ°å››ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆèµ°ä¸¤ä¸ªä¸¤æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤æ­¥ï¼Œå†èµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œè¦ä¹ˆå…ˆèµ°ä¸¤ä¸ªä¸€æ­¥ï¼Œå†èµ°ä¸€ä¸ªä¸¤æ­¥</li>\n<li>çŠ¶æ€è½¬ç§»ï¼Œ$dp[i]&#x3D;dp[i-1]+dp[i-2]+dp<a href=\"n%3E=3\">i-3</a>$ï¼šåˆ°è¾¾ç¬¬å°é˜¶$i$è¦ä¹ˆæ˜¯ä»ç¬¬$i-1$æ­¥å°é˜¶èµ°ä¸€æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-2$æ­¥å°é˜¶èµ°ä¸¤æ­¥ä¸Šæ¥çš„ï¼Œè¦ä¹ˆæ˜¯ä»ç¬¬$i-3$æ­¥å°é˜¶èµ°ä¸‰æ­¥ä¸Šæ¥çš„</li>\n<li>ç›®æ ‡å€¼ï¼Œè¦æ±‚åˆ°è¾¾ç¬¬$n$æ­¥å°é˜¶æ–¹æ¡ˆæ•°ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡º$dp[n]$å³å¯</li>\n</ol>\n<ul>\n<li>æ³¨æ„å°±ç®—æœ€å¤§å°é˜¶åªæœ‰$70$æ­¥ï¼Œä½†æ•°æ®å¢é•¿é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥éœ€è¦å¼€$long \\ long$æ‰èƒ½é€šè¿‡</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">70</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§å°é˜¶æ•°</span></span><br><span class=\"line\">ll dp[N];</span><br><span class=\"line\"><span class=\"type\">int</span> n;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">\tdp[<span class=\"number\">1</span>]=<span class=\"number\">1</span>;</span><br><span class=\"line\">\tdp[<span class=\"number\">2</span>]=<span class=\"number\">2</span>;</span><br><span class=\"line\">\tdp[<span class=\"number\">3</span>]=<span class=\"number\">4</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// é¢„å¤„ç†æ‰€æœ‰æ–¹æ¡ˆ</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">4</span>;i&lt;=N;i++) &#123;</span><br><span class=\"line\">\t\tdp[i]=dp[i<span class=\"number\">-1</span>]+dp[i<span class=\"number\">-2</span>]+dp[i<span class=\"number\">-3</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(cin&gt;&gt;n &amp;&amp; n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;dp[n]&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ","date":"2024-10-04T12:54:29.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é‚»æ¥è¡¨\n\n<!-- toc -->\n\n\n\n## 1. é‚»æ¥è¡¨\n\n* é‚»æ¥è¡¨å­˜å‚¨å›¾éœ€è¦æ³¨æ„çš„è¦ç‚¹æœ‰ï¼š\n\n1. æ¨¡æ¿é‡‡ç”¨çš„æ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥æœ€å¤§è¾¹æ•° $M$ å¼€åˆ°äº†é¢˜ç›®æ‰€ç»™æœ€å¤§è¾¹æ•°çš„ä¸¤å€ï¼Œå¦‚æœæ˜¯æœ‰å‘å›¾ï¼Œé‚£ä¹ˆåœ¨å»ºè¾¹çš„æ—¶å€™ï¼Œåªéœ€è¦å»ºä¸€æ¬¡å³å¯ï¼Œæ¯”å¦‚ $a$ åˆ° $b$ æœ‰ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆåªéœ€è¦ $add(a,b)$ ï¼Œä¸éœ€è¦ $add(b,a)$ å¯¹ç§°å»ºè¾¹\n2. é“¾å¼å‰å‘æ˜Ÿï¼ˆä¹Ÿç§°æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼‰çš„æ•°æ®ç»“æ„ä¸ºï¼š\n\n``` c++\nint h[N]; // h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹\nint ne[M]; // ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint e[M]; // e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·\nint idx; // è¾¹çš„ç¼–å·\n```\n\n* æ³¨æ„ï¼Œæ•°ç»„ $h$ åº”è¢«åˆå§‹åŒ–ä¸º $-1$ ï¼Œè¡¨ç¤ºæ‰€æœ‰é¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·æ˜¯ $-1$ ï¼Œå¯ä»¥ç†è§£ä¸ºå¤´ç»“ç‚¹ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æ²¡æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆ $h[i]=-1$ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆé¡¶ç‚¹ $i$ çš„é‚»æ¥è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ $-1$\n\n> æ­¤å¤„è¡¨æ ¼å‚è€ƒåšå®¢ï¼š[CSDNåšå®¢](https://blog.csdn.net/hnjzsyjyj/article/details/119895317)\n\n3. é‡ç‚¹è®²è§£é“¾å¼å‰å‘æ˜Ÿï¼Œå‡è®¾ç°åœ¨æœ‰äº”æ¡è¾¹**æœ‰å‘è¾¹**ï¼Œ $(1,4),\\ (4,3),\\ (1,2),\\ (2,4),\\ (1,3)$ ï¼Œå¯¹åº”æ‰§è¡Œ $add(1,4),\\ add(4,3),\\ add(1,2),\\ add(2,4),\\ add(1,3)$ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å»ºè¾¹è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„\n\n``` c++\n// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]\nvoid add(int a,int b) {\n\te[idx]=b; // ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b\n\tne[idx]=h[a]; // ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]\n\th[a]=idx++; // é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹\n}\n```\n\n| add(a,b) | idx  |  e[idx]=b, ne[idx]=h[a],h[a]=idx++   |\n| :------: | :--: | :----------------------------------: |\n|  (1,4)   |  1   | e[1]=4, ne[1]=h[1]=-1, h[1]=1, idx=2 |\n|  (4,3)   |  2   | e[2]=3, ne[2]=h[4]=-1, h[4]=2, idx=3 |\n|  (1,2)   |  3   | e[3]=2, ne[3]=h[1]=1, h[1]=3, idx=4  |\n|  (2,4)   |  4   | e[4]=2, ne[4]=h[2]=-1, h[2]=4, idx=5 |\n|  (1,3)   |  5   | e[5]=3, ne[5]=h[1]=3, h[1]=5, idx=6  |\n\n3. å»ºè¾¹å®Œæˆåï¼Œæ¯ä¸ªæ•°ç»„çš„æƒ…å†µåº”è¯¥æ˜¯ï¼ˆä¸‹æ ‡å‡ä» $0$ å¼€å§‹ï¼‰ï¼š\n\n   * $h=[-1, 4, 3, -1, 1, -1]$\n\n   * $ne=[-1, -1, 0, -1, 2]$\n\n   * $e=[4, 3, 2, 4, 3]$\n\n* æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦è¾“å‡ºä¸é¡¶ç‚¹ $1$ ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œä»£ç æœ€ç»ˆä¼šè¾“å‡º $3\\ 2\\ 4$ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œæ‰€ä»¥è¾¹çš„éå†é¡ºåºæ˜¯ $(1,3),\\ (1,2),\\ (1,4)$ \n\n``` c++\n// jåˆå§‹åŒ–ä¸ºé¡¶ç‚¹1çš„èµ·å§‹è¾¹,å› ä¸ºæœ€åä¸€æ¡è¾¹çš„ç¼–å·ä¸€å®šä¸º-1(å¤´æ’æ³•),ç„¶åjé€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡ç›¸è¿è¾¹çš„ç¼–å·\nfor(int j=h[1];j!=-1;j=ne[j]) {\n    cout<<e[j]<<' '; // e[j]:ç¼–å·ä¸ºjçš„è¾¹æŒ‡å‘çš„é¡¶ç‚¹ç¼–å·\n}\n```\n\n* å®Œæ•´æ ·ä¾‹ä»£ç ï¼Œæ³¨æ„ä»£ç ä¸­çš„æ¨¡æ‹Ÿæ•°æ®å’Œå‰æ–‡ä¸åŒï¼Œå¹¶ä¸”é‡‡ç”¨æ— å‘å›¾å»ºè¾¹ï¼Œå¦‚æœä»æ— å‘å›¾å»ºè¾¹æ”¹ä¸ºæœ‰å‘å›¾å»ºè¾¹å‰æ–‡å·²ä»‹ç»\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: é‚»æ¥è¡¨ã€é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿\n\nconst int N=1e3+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=(1e5+5)*2; // æœ€å¤§è¾¹æ•°,å› ä¸ºæ— å‘å›¾æ˜¯åŒå‘å»ºè¾¹,æ‰€ä»¥è¦*2\n\nint h[N]; // h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹\nint ne[M]; // ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint e[M]; // e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·\nint idx; // è¾¹çš„ç¼–å·\n\n// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]\nvoid add(int a,int b) {\n\te[idx]=b; // ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b\n\tne[idx]=h[a]; // ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]\n\th[a]=idx++; // é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // æ¯ä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·åˆå§‹åŒ–ä¸º-1\n\tadd(1,2),add(2,1);\n\tadd(2,3),add(3,2);\n\tadd(3,5),add(5,3);\n\tadd(1,3),add(3,1);\n\tadd(3,4),add(4,3);\n\t// éå†æ¯ä¸ªé¡¶ç‚¹,è¾“å‡ºä¸å…¶ç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹\n\tfor(int i=1;i<=5;i++) {\n\t\tvector<int> s;\n\t\t// ä»é¡¶ç‚¹içš„èµ·å§‹è¾¹å¼€å§‹æœç´¢,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥-1æœ€ç»ˆä¼šå˜æˆæœ€åä¸€ä¸ªè¾¹çš„ç¼–å·,é‡åˆ°åˆ™åœæ­¢,é€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\n\t\tfor(int j=h[i];j!=-1;j=ne[j]) {\n\t\t\ts.push_back(e[j]); // eé‡Œé¢å­˜å‚¨çš„æ˜¯é¡¶ç‚¹ç¼–å·\n\t\t}\n\t\tsort(s.begin(),s.end());\n\t\tcout<<\"ä¸é¡¶ç‚¹ \"<<i<<\" ç›´æ¥ç›¸è¿çš„é¡¶ç‚¹æœ‰:\";\n\t\tfor(auto item:s) cout<<item<<' ';\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n","source":"_posts/é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ.md","raw":"---\ntitle: é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ\ndate: 2024-10-04 20:54:29\ncategories: å­¦ä¹ \ntags:\n    - ç®—æ³•ç«èµ›\n    - æ•°æ®ç»“æ„\n    - å›¾è®º\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é‚»æ¥è¡¨\n\n<!-- toc -->\n\n\n\n## 1. é‚»æ¥è¡¨\n\n* é‚»æ¥è¡¨å­˜å‚¨å›¾éœ€è¦æ³¨æ„çš„è¦ç‚¹æœ‰ï¼š\n\n1. æ¨¡æ¿é‡‡ç”¨çš„æ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥æœ€å¤§è¾¹æ•° $M$ å¼€åˆ°äº†é¢˜ç›®æ‰€ç»™æœ€å¤§è¾¹æ•°çš„ä¸¤å€ï¼Œå¦‚æœæ˜¯æœ‰å‘å›¾ï¼Œé‚£ä¹ˆåœ¨å»ºè¾¹çš„æ—¶å€™ï¼Œåªéœ€è¦å»ºä¸€æ¬¡å³å¯ï¼Œæ¯”å¦‚ $a$ åˆ° $b$ æœ‰ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆåªéœ€è¦ $add(a,b)$ ï¼Œä¸éœ€è¦ $add(b,a)$ å¯¹ç§°å»ºè¾¹\n2. é“¾å¼å‰å‘æ˜Ÿï¼ˆä¹Ÿç§°æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼‰çš„æ•°æ®ç»“æ„ä¸ºï¼š\n\n``` c++\nint h[N]; // h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹\nint ne[M]; // ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint e[M]; // e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·\nint idx; // è¾¹çš„ç¼–å·\n```\n\n* æ³¨æ„ï¼Œæ•°ç»„ $h$ åº”è¢«åˆå§‹åŒ–ä¸º $-1$ ï¼Œè¡¨ç¤ºæ‰€æœ‰é¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·æ˜¯ $-1$ ï¼Œå¯ä»¥ç†è§£ä¸ºå¤´ç»“ç‚¹ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æ²¡æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆ $h[i]=-1$ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆé¡¶ç‚¹ $i$ çš„é‚»æ¥è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ $-1$\n\n> æ­¤å¤„è¡¨æ ¼å‚è€ƒåšå®¢ï¼š[CSDNåšå®¢](https://blog.csdn.net/hnjzsyjyj/article/details/119895317)\n\n3. é‡ç‚¹è®²è§£é“¾å¼å‰å‘æ˜Ÿï¼Œå‡è®¾ç°åœ¨æœ‰äº”æ¡è¾¹**æœ‰å‘è¾¹**ï¼Œ $(1,4),\\ (4,3),\\ (1,2),\\ (2,4),\\ (1,3)$ ï¼Œå¯¹åº”æ‰§è¡Œ $add(1,4),\\ add(4,3),\\ add(1,2),\\ add(2,4),\\ add(1,3)$ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å»ºè¾¹è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„\n\n``` c++\n// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]\nvoid add(int a,int b) {\n\te[idx]=b; // ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b\n\tne[idx]=h[a]; // ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]\n\th[a]=idx++; // é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹\n}\n```\n\n| add(a,b) | idx  |  e[idx]=b, ne[idx]=h[a],h[a]=idx++   |\n| :------: | :--: | :----------------------------------: |\n|  (1,4)   |  1   | e[1]=4, ne[1]=h[1]=-1, h[1]=1, idx=2 |\n|  (4,3)   |  2   | e[2]=3, ne[2]=h[4]=-1, h[4]=2, idx=3 |\n|  (1,2)   |  3   | e[3]=2, ne[3]=h[1]=1, h[1]=3, idx=4  |\n|  (2,4)   |  4   | e[4]=2, ne[4]=h[2]=-1, h[2]=4, idx=5 |\n|  (1,3)   |  5   | e[5]=3, ne[5]=h[1]=3, h[1]=5, idx=6  |\n\n3. å»ºè¾¹å®Œæˆåï¼Œæ¯ä¸ªæ•°ç»„çš„æƒ…å†µåº”è¯¥æ˜¯ï¼ˆä¸‹æ ‡å‡ä» $0$ å¼€å§‹ï¼‰ï¼š\n\n   * $h=[-1, 4, 3, -1, 1, -1]$\n\n   * $ne=[-1, -1, 0, -1, 2]$\n\n   * $e=[4, 3, 2, 4, 3]$\n\n* æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦è¾“å‡ºä¸é¡¶ç‚¹ $1$ ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œä»£ç æœ€ç»ˆä¼šè¾“å‡º $3\\ 2\\ 4$ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œæ‰€ä»¥è¾¹çš„éå†é¡ºåºæ˜¯ $(1,3),\\ (1,2),\\ (1,4)$ \n\n``` c++\n// jåˆå§‹åŒ–ä¸ºé¡¶ç‚¹1çš„èµ·å§‹è¾¹,å› ä¸ºæœ€åä¸€æ¡è¾¹çš„ç¼–å·ä¸€å®šä¸º-1(å¤´æ’æ³•),ç„¶åjé€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡ç›¸è¿è¾¹çš„ç¼–å·\nfor(int j=h[1];j!=-1;j=ne[j]) {\n    cout<<e[j]<<' '; // e[j]:ç¼–å·ä¸ºjçš„è¾¹æŒ‡å‘çš„é¡¶ç‚¹ç¼–å·\n}\n```\n\n* å®Œæ•´æ ·ä¾‹ä»£ç ï¼Œæ³¨æ„ä»£ç ä¸­çš„æ¨¡æ‹Ÿæ•°æ®å’Œå‰æ–‡ä¸åŒï¼Œå¹¶ä¸”é‡‡ç”¨æ— å‘å›¾å»ºè¾¹ï¼Œå¦‚æœä»æ— å‘å›¾å»ºè¾¹æ”¹ä¸ºæœ‰å‘å›¾å»ºè¾¹å‰æ–‡å·²ä»‹ç»\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PII;\n\n// è§£é¢˜æ€è·¯: é‚»æ¥è¡¨ã€é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿\n\nconst int N=1e3+5; // æœ€å¤§é¡¶ç‚¹æ•°\nconst int M=(1e5+5)*2; // æœ€å¤§è¾¹æ•°,å› ä¸ºæ— å‘å›¾æ˜¯åŒå‘å»ºè¾¹,æ‰€ä»¥è¦*2\n\nint h[N]; // h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹\nint ne[M]; // ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\nint e[M]; // e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·\nint idx; // è¾¹çš„ç¼–å·\n\n// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]\nvoid add(int a,int b) {\n\te[idx]=b; // ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b\n\tne[idx]=h[a]; // ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]\n\th[a]=idx++; // é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹\n}\n\nint main() {\n\tmemset(h,-1,sizeof h); // æ¯ä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·åˆå§‹åŒ–ä¸º-1\n\tadd(1,2),add(2,1);\n\tadd(2,3),add(3,2);\n\tadd(3,5),add(5,3);\n\tadd(1,3),add(3,1);\n\tadd(3,4),add(4,3);\n\t// éå†æ¯ä¸ªé¡¶ç‚¹,è¾“å‡ºä¸å…¶ç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹\n\tfor(int i=1;i<=5;i++) {\n\t\tvector<int> s;\n\t\t// ä»é¡¶ç‚¹içš„èµ·å§‹è¾¹å¼€å§‹æœç´¢,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥-1æœ€ç»ˆä¼šå˜æˆæœ€åä¸€ä¸ªè¾¹çš„ç¼–å·,é‡åˆ°åˆ™åœæ­¢,é€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·\n\t\tfor(int j=h[i];j!=-1;j=ne[j]) {\n\t\t\ts.push_back(e[j]); // eé‡Œé¢å­˜å‚¨çš„æ˜¯é¡¶ç‚¹ç¼–å·\n\t\t}\n\t\tsort(s.begin(),s.end());\n\t\tcout<<\"ä¸é¡¶ç‚¹ \"<<i<<\" ç›´æ¥ç›¸è¿çš„é¡¶ç‚¹æœ‰:\";\n\t\tfor(auto item:s) cout<<item<<' ';\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n","slug":"é‚»æ¥è¡¨+é“¾å¼å‰å‘æ˜Ÿ","published":1,"updated":"2024-10-05T08:03:35.659Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrpto004mc0nf5mcs4wu8","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"é‚»æ¥è¡¨\">é‚»æ¥è¡¨</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E9%82%BB%E6%8E%A5%E8%A1%A8\">1. é‚»æ¥è¡¨</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-é‚»æ¥è¡¨\">1. é‚»æ¥è¡¨</span></h2><ul>\n<li>é‚»æ¥è¡¨å­˜å‚¨å›¾éœ€è¦æ³¨æ„çš„è¦ç‚¹æœ‰ï¼š</li>\n</ul>\n<ol>\n<li>æ¨¡æ¿é‡‡ç”¨çš„æ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥æœ€å¤§è¾¹æ•° $M$ å¼€åˆ°äº†é¢˜ç›®æ‰€ç»™æœ€å¤§è¾¹æ•°çš„ä¸¤å€ï¼Œå¦‚æœæ˜¯æœ‰å‘å›¾ï¼Œé‚£ä¹ˆåœ¨å»ºè¾¹çš„æ—¶å€™ï¼Œåªéœ€è¦å»ºä¸€æ¬¡å³å¯ï¼Œæ¯”å¦‚ $a$ åˆ° $b$ æœ‰ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆåªéœ€è¦ $add(a,b)$ ï¼Œä¸éœ€è¦ $add(b,a)$ å¯¹ç§°å»ºè¾¹</li>\n<li>é“¾å¼å‰å‘æ˜Ÿï¼ˆä¹Ÿç§°æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼‰çš„æ•°æ®ç»“æ„ä¸ºï¼š</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ³¨æ„ï¼Œæ•°ç»„ $h$ åº”è¢«åˆå§‹åŒ–ä¸º $-1$ ï¼Œè¡¨ç¤ºæ‰€æœ‰é¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·æ˜¯ $-1$ ï¼Œå¯ä»¥ç†è§£ä¸ºå¤´ç»“ç‚¹ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æ²¡æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆ $h[i]&#x3D;-1$ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆé¡¶ç‚¹ $i$ çš„é‚»æ¥è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ $-1$</li>\n</ul>\n<blockquote>\n<p>æ­¤å¤„è¡¨æ ¼å‚è€ƒåšå®¢ï¼š<a href=\"https://blog.csdn.net/hnjzsyjyj/article/details/119895317\">CSDNåšå®¢</a></p>\n</blockquote>\n<ol start=\"3\">\n<li>é‡ç‚¹è®²è§£é“¾å¼å‰å‘æ˜Ÿï¼Œå‡è®¾ç°åœ¨æœ‰äº”æ¡è¾¹<strong>æœ‰å‘è¾¹</strong>ï¼Œ $(1,4),\\ (4,3),\\ (1,2),\\ (2,4),\\ (1,3)$ ï¼Œå¯¹åº”æ‰§è¡Œ $add(1,4),\\ add(4,3),\\ add(1,2),\\ add(2,4),\\ add(1,3)$ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å»ºè¾¹è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b; <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b</span></span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]</span></span><br><span class=\"line\">\th[a]=idx++; <span class=\"comment\">// é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th align=\"center\">add(a,b)</th>\n<th align=\"center\">idx</th>\n<th align=\"center\">e[idx]&#x3D;b, ne[idx]&#x3D;h[a],h[a]&#x3D;idx++</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">(1,4)</td>\n<td align=\"center\">1</td>\n<td align=\"center\">e[1]&#x3D;4, ne[1]&#x3D;h[1]&#x3D;-1, h[1]&#x3D;1, idx&#x3D;2</td>\n</tr>\n<tr>\n<td align=\"center\">(4,3)</td>\n<td align=\"center\">2</td>\n<td align=\"center\">e[2]&#x3D;3, ne[2]&#x3D;h[4]&#x3D;-1, h[4]&#x3D;2, idx&#x3D;3</td>\n</tr>\n<tr>\n<td align=\"center\">(1,2)</td>\n<td align=\"center\">3</td>\n<td align=\"center\">e[3]&#x3D;2, ne[3]&#x3D;h[1]&#x3D;1, h[1]&#x3D;3, idx&#x3D;4</td>\n</tr>\n<tr>\n<td align=\"center\">(2,4)</td>\n<td align=\"center\">4</td>\n<td align=\"center\">e[4]&#x3D;2, ne[4]&#x3D;h[2]&#x3D;-1, h[2]&#x3D;4, idx&#x3D;5</td>\n</tr>\n<tr>\n<td align=\"center\">(1,3)</td>\n<td align=\"center\">5</td>\n<td align=\"center\">e[5]&#x3D;3, ne[5]&#x3D;h[1]&#x3D;3, h[1]&#x3D;5, idx&#x3D;6</td>\n</tr>\n</tbody></table>\n<ol start=\"3\">\n<li><p>å»ºè¾¹å®Œæˆåï¼Œæ¯ä¸ªæ•°ç»„çš„æƒ…å†µåº”è¯¥æ˜¯ï¼ˆä¸‹æ ‡å‡ä» $0$ å¼€å§‹ï¼‰ï¼š</p>\n<ul>\n<li><p>$h&#x3D;[-1, 4, 3, -1, 1, -1]$</p>\n</li>\n<li><p>$ne&#x3D;[-1, -1, 0, -1, 2]$</p>\n</li>\n<li><p>$e&#x3D;[4, 3, 2, 4, 3]$</p>\n</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦è¾“å‡ºä¸é¡¶ç‚¹ $1$ ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œä»£ç æœ€ç»ˆä¼šè¾“å‡º $3\\ 2\\ 4$ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œæ‰€ä»¥è¾¹çš„éå†é¡ºåºæ˜¯ $(1,3),\\ (1,2),\\ (1,4)$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// jåˆå§‹åŒ–ä¸ºé¡¶ç‚¹1çš„èµ·å§‹è¾¹,å› ä¸ºæœ€åä¸€æ¡è¾¹çš„ç¼–å·ä¸€å®šä¸º-1(å¤´æ’æ³•),ç„¶åjé€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡ç›¸è¿è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[<span class=\"number\">1</span>];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">    cout&lt;&lt;e[j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// e[j]:ç¼–å·ä¸ºjçš„è¾¹æŒ‡å‘çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´æ ·ä¾‹ä»£ç ï¼Œæ³¨æ„ä»£ç ä¸­çš„æ¨¡æ‹Ÿæ•°æ®å’Œå‰æ–‡ä¸åŒï¼Œå¹¶ä¸”é‡‡ç”¨æ— å‘å›¾å»ºè¾¹ï¼Œå¦‚æœä»æ— å‘å›¾å»ºè¾¹æ”¹ä¸ºæœ‰å‘å›¾å»ºè¾¹å‰æ–‡å·²ä»‹ç»</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: é‚»æ¥è¡¨ã€é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°,å› ä¸ºæ— å‘å›¾æ˜¯åŒå‘å»ºè¾¹,æ‰€ä»¥è¦*2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b; <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b</span></span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]</span></span><br><span class=\"line\">\th[a]=idx++; <span class=\"comment\">// é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// æ¯ä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>),<span class=\"built_in\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">3</span>),<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">5</span>),<span class=\"built_in\">add</span>(<span class=\"number\">5</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">1</span>,<span class=\"number\">3</span>),<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">4</span>),<span class=\"built_in\">add</span>(<span class=\"number\">4</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ¯ä¸ªé¡¶ç‚¹,è¾“å‡ºä¸å…¶ç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\tvector&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»é¡¶ç‚¹içš„èµ·å§‹è¾¹å¼€å§‹æœç´¢,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥-1æœ€ç»ˆä¼šå˜æˆæœ€åä¸€ä¸ªè¾¹çš„ç¼–å·,é‡åˆ°åˆ™åœæ­¢,é€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[i];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">\t\t\ts.<span class=\"built_in\">push_back</span>(e[j]); <span class=\"comment\">// eé‡Œé¢å­˜å‚¨çš„æ˜¯é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">sort</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;ä¸é¡¶ç‚¹ &quot;</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&quot; ç›´æ¥ç›¸è¿çš„é¡¶ç‚¹æœ‰:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:s) cout&lt;&lt;item&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"é‚»æ¥è¡¨\"><a href=\"#é‚»æ¥è¡¨\" class=\"headerlink\" title=\"é‚»æ¥è¡¨\"></a>é‚»æ¥è¡¨</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E9%82%BB%E6%8E%A5%E8%A1%A8\">1. é‚»æ¥è¡¨</a></li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-é‚»æ¥è¡¨\"><a href=\"#1-é‚»æ¥è¡¨\" class=\"headerlink\" title=\"1. é‚»æ¥è¡¨\"></a>1. é‚»æ¥è¡¨</h2><ul>\n<li>é‚»æ¥è¡¨å­˜å‚¨å›¾éœ€è¦æ³¨æ„çš„è¦ç‚¹æœ‰ï¼š</li>\n</ul>\n<ol>\n<li>æ¨¡æ¿é‡‡ç”¨çš„æ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥æœ€å¤§è¾¹æ•° $M$ å¼€åˆ°äº†é¢˜ç›®æ‰€ç»™æœ€å¤§è¾¹æ•°çš„ä¸¤å€ï¼Œå¦‚æœæ˜¯æœ‰å‘å›¾ï¼Œé‚£ä¹ˆåœ¨å»ºè¾¹çš„æ—¶å€™ï¼Œåªéœ€è¦å»ºä¸€æ¬¡å³å¯ï¼Œæ¯”å¦‚ $a$ åˆ° $b$ æœ‰ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆåªéœ€è¦ $add(a,b)$ ï¼Œä¸éœ€è¦ $add(b,a)$ å¯¹ç§°å»ºè¾¹</li>\n<li>é“¾å¼å‰å‘æ˜Ÿï¼ˆä¹Ÿç§°æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼‰çš„æ•°æ®ç»“æ„ä¸ºï¼š</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æ³¨æ„ï¼Œæ•°ç»„ $h$ åº”è¢«åˆå§‹åŒ–ä¸º $-1$ ï¼Œè¡¨ç¤ºæ‰€æœ‰é¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·æ˜¯ $-1$ ï¼Œå¯ä»¥ç†è§£ä¸ºå¤´ç»“ç‚¹ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æ²¡æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆ $h[i]&#x3D;-1$ï¼Œå¦‚æœé¡¶ç‚¹ $i$ æœ‰ä¸å…¶ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œé‚£ä¹ˆé¡¶ç‚¹ $i$ çš„é‚»æ¥è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ $-1$</li>\n</ul>\n<blockquote>\n<p>æ­¤å¤„è¡¨æ ¼å‚è€ƒåšå®¢ï¼š<a href=\"https://blog.csdn.net/hnjzsyjyj/article/details/119895317\">CSDNåšå®¢</a></p>\n</blockquote>\n<ol start=\"3\">\n<li>é‡ç‚¹è®²è§£é“¾å¼å‰å‘æ˜Ÿï¼Œå‡è®¾ç°åœ¨æœ‰äº”æ¡è¾¹<strong>æœ‰å‘è¾¹</strong>ï¼Œ $(1,4),\\ (4,3),\\ (1,2),\\ (2,4),\\ (1,3)$ ï¼Œå¯¹åº”æ‰§è¡Œ $add(1,4),\\ add(4,3),\\ add(1,2),\\ add(2,4),\\ add(1,3)$ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å»ºè¾¹è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„</li>\n</ol>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b; <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b</span></span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]</span></span><br><span class=\"line\">\th[a]=idx++; <span class=\"comment\">// é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th align=\"center\">add(a,b)</th>\n<th align=\"center\">idx</th>\n<th align=\"center\">e[idx]&#x3D;b, ne[idx]&#x3D;h[a],h[a]&#x3D;idx++</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">(1,4)</td>\n<td align=\"center\">1</td>\n<td align=\"center\">e[1]&#x3D;4, ne[1]&#x3D;h[1]&#x3D;-1, h[1]&#x3D;1, idx&#x3D;2</td>\n</tr>\n<tr>\n<td align=\"center\">(4,3)</td>\n<td align=\"center\">2</td>\n<td align=\"center\">e[2]&#x3D;3, ne[2]&#x3D;h[4]&#x3D;-1, h[4]&#x3D;2, idx&#x3D;3</td>\n</tr>\n<tr>\n<td align=\"center\">(1,2)</td>\n<td align=\"center\">3</td>\n<td align=\"center\">e[3]&#x3D;2, ne[3]&#x3D;h[1]&#x3D;1, h[1]&#x3D;3, idx&#x3D;4</td>\n</tr>\n<tr>\n<td align=\"center\">(2,4)</td>\n<td align=\"center\">4</td>\n<td align=\"center\">e[4]&#x3D;2, ne[4]&#x3D;h[2]&#x3D;-1, h[2]&#x3D;4, idx&#x3D;5</td>\n</tr>\n<tr>\n<td align=\"center\">(1,3)</td>\n<td align=\"center\">5</td>\n<td align=\"center\">e[5]&#x3D;3, ne[5]&#x3D;h[1]&#x3D;3, h[1]&#x3D;5, idx&#x3D;6</td>\n</tr>\n</tbody></table>\n<ol start=\"3\">\n<li><p>å»ºè¾¹å®Œæˆåï¼Œæ¯ä¸ªæ•°ç»„çš„æƒ…å†µåº”è¯¥æ˜¯ï¼ˆä¸‹æ ‡å‡ä» $0$ å¼€å§‹ï¼‰ï¼š</p>\n<ul>\n<li><p>$h&#x3D;[-1, 4, 3, -1, 1, -1]$</p>\n</li>\n<li><p>$ne&#x3D;[-1, -1, 0, -1, 2]$</p>\n</li>\n<li><p>$e&#x3D;[4, 3, 2, 4, 3]$</p>\n</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦è¾“å‡ºä¸é¡¶ç‚¹ $1$ ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œä»£ç æœ€ç»ˆä¼šè¾“å‡º $3\\ 2\\ 4$ï¼Œå› ä¸ºé‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œæ‰€ä»¥è¾¹çš„éå†é¡ºåºæ˜¯ $(1,3),\\ (1,2),\\ (1,4)$</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// jåˆå§‹åŒ–ä¸ºé¡¶ç‚¹1çš„èµ·å§‹è¾¹,å› ä¸ºæœ€åä¸€æ¡è¾¹çš„ç¼–å·ä¸€å®šä¸º-1(å¤´æ’æ³•),ç„¶åjé€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡ç›¸è¿è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[<span class=\"number\">1</span>];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">    cout&lt;&lt;e[j]&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>; <span class=\"comment\">// e[j]:ç¼–å·ä¸ºjçš„è¾¹æŒ‡å‘çš„é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å®Œæ•´æ ·ä¾‹ä»£ç ï¼Œæ³¨æ„ä»£ç ä¸­çš„æ¨¡æ‹Ÿæ•°æ®å’Œå‰æ–‡ä¸åŒï¼Œå¹¶ä¸”é‡‡ç”¨æ— å‘å›¾å»ºè¾¹ï¼Œå¦‚æœä»æ— å‘å›¾å»ºè¾¹æ”¹ä¸ºæœ‰å‘å›¾å»ºè¾¹å‰æ–‡å·²ä»‹ç»</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§£é¢˜æ€è·¯: é‚»æ¥è¡¨ã€é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e3</span><span class=\"number\">+5</span>; <span class=\"comment\">// æœ€å¤§é¡¶ç‚¹æ•°</span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> M=(<span class=\"number\">1e5</span><span class=\"number\">+5</span>)*<span class=\"number\">2</span>; <span class=\"comment\">// æœ€å¤§è¾¹æ•°,å› ä¸ºæ— å‘å›¾æ˜¯åŒå‘å»ºè¾¹,æ‰€ä»¥è¦*2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> h[N]; <span class=\"comment\">// h[i]:ç¬¬iä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·,é»˜è®¤ä»-1å¼€å§‹</span></span><br><span class=\"line\"><span class=\"type\">int</span> ne[M]; <span class=\"comment\">// ne[idx]:ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> e[M]; <span class=\"comment\">// e[idx]:ç¬¬idxæ¡è¾¹æŒ‡å‘çš„èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class=\"line\"><span class=\"type\">int</span> idx; <span class=\"comment\">// è¾¹çš„ç¼–å·</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å»ºè¾¹(é“¾å¼å‰å‘æ˜Ÿ)[å¤´æ’æ³•]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\te[idx]=b; <span class=\"comment\">// ç¬¬idxæ¡è¾¹æŒ‡å‘é¡¶ç‚¹b</span></span><br><span class=\"line\">\tne[idx]=h[a]; <span class=\"comment\">// ç¬¬idxæ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹æ˜¯é¡¶ç‚¹açš„èµ·å§‹è¾¹[ä½“ç°å¤´æ’æ³•æ€æƒ³]</span></span><br><span class=\"line\">\th[a]=idx++; <span class=\"comment\">// é¡¶ç‚¹açš„ä¸‹ä¸€æ¡è¾¹æ˜¯ç¬¬idxæ¡è¾¹,ç¼–å·+1ä»¥è¡¨ç¤ºä¸‹ä¸€æ¡è¾¹</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">memset</span>(h,<span class=\"number\">-1</span>,<span class=\"keyword\">sizeof</span> h); <span class=\"comment\">// æ¯ä¸ªé¡¶ç‚¹çš„èµ·å§‹è¾¹ç¼–å·åˆå§‹åŒ–ä¸º-1</span></span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">1</span>,<span class=\"number\">2</span>),<span class=\"built_in\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">3</span>),<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">5</span>),<span class=\"built_in\">add</span>(<span class=\"number\">5</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">1</span>,<span class=\"number\">3</span>),<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">add</span>(<span class=\"number\">3</span>,<span class=\"number\">4</span>),<span class=\"built_in\">add</span>(<span class=\"number\">4</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// éå†æ¯ä¸ªé¡¶ç‚¹,è¾“å‡ºä¸å…¶ç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">5</span>;i++) &#123;</span><br><span class=\"line\">\t\tvector&lt;<span class=\"type\">int</span>&gt; s;</span><br><span class=\"line\">\t\t<span class=\"comment\">// ä»é¡¶ç‚¹içš„èµ·å§‹è¾¹å¼€å§‹æœç´¢,å› ä¸ºæ˜¯å¤´æ’,æ‰€ä»¥-1æœ€ç»ˆä¼šå˜æˆæœ€åä¸€ä¸ªè¾¹çš„ç¼–å·,é‡åˆ°åˆ™åœæ­¢,é€šè¿‡neæ•°ç»„è¿­ä»£åˆ°ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=h[i];j!=<span class=\"number\">-1</span>;j=ne[j]) &#123;</span><br><span class=\"line\">\t\t\ts.<span class=\"built_in\">push_back</span>(e[j]); <span class=\"comment\">// eé‡Œé¢å­˜å‚¨çš„æ˜¯é¡¶ç‚¹ç¼–å·</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">sort</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;ä¸é¡¶ç‚¹ &quot;</span>&lt;&lt;i&lt;&lt;<span class=\"string\">&quot; ç›´æ¥ç›¸è¿çš„é¡¶ç‚¹æœ‰:&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> item:s) cout&lt;&lt;item&lt;&lt;<span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">\t\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"é«˜ç²¾åº¦","date":"2024-10-02T14:22:37.000Z","toc":true,"_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é«˜ç²¾åº¦\n\n<!-- toc -->\n\n\n\n## 1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAX_SIZE 200\nusing namespace std;\n\n// å®šä¹‰å…¨å±€å˜é‡,åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ éƒ½ä¸º0\nint a[MAX_SIZE];\nint b[MAX_SIZE];\nint c[MAX_SIZE+1]; // æœ€å¤š200+1ä½\n\nint main() {\n\t// é«˜ç²¾åº¦åŠ æ³•é—®é¢˜\n\t// è¾“å…¥å¤§æ•´æ•°\n\tstring s1,s2;\n\tcin>>s1>>s2;\n\tint n1=s1.length();\n\tint n2=s2.length();\n\t\n\t// é€†åºå­˜å‚¨å¤§æ•´æ•°åˆ°æ•°ç»„ä¸­\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-1-i]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-1-i]-'0';\n\t}\n\t\t\n\t// æ¨¡æ‹Ÿç«–å¼åŠ æ³•è¿›è¡Œè®¡ç®—\n\tint n3=max(n1,n2)+1; // æœ€å¤šå†è¿›ä¸€ä½\n\tfor(int i=0;i<n3;i++) {\n\t\tc[i]+=a[i]+b[i];\n\t\tif(c[i]/10) {\n\t\t\t// c[i+1]+=c[i]/10; // è¿™é‡Œä¹Ÿå¯ä»¥æ”¹ä¸ºc[i+1]+=1 å› ä¸ºæœ€å¤šä¹Ÿå°±9+9=18,è¿›1ä½\n\t\t\tc[i+1]+=1;\n\t\t\tc[i]%=10;\n\t\t}\n\t}\n\t\n\t// å»é™¤å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nconst int N=1e6+10; // æœ€å¤§é•¿åº¦\n\n// åŠ å¼•ç”¨æ˜¯ä¸ºäº†æé«˜æ•ˆç‡,æ²¡æœ‰å¼•ç”¨çš„è¯ä¼šå†copyä¸€é\n// C=A+B\nvector<int> add(vector<int> &A,vector<int> &B) {\n\tvector<int> C;\n\tint t=0; // ä¿ç•™ä¸Šä¸€ä½çš„è¿›ä½\n\t\n\t// \"||\"ä¿è¯äº†Aå’ŒBè°çš„æ•°ä½æ›´é«˜æˆ–æ›´ä½éƒ½èƒ½è®¡ç®—\n\tfor(int i=0;i<A.size() || i<B.size();i++) {\n\t\tif(i<A.size()) t+=A[i];\n\t\tif(i<B.size()) t+=B[i];\n\t\tC.push_back(t%10);\n\t\tt/=10;\n\t}\n\t// å¦‚æœæœ€é«˜ä½è¿˜è¦è¿›ä½çš„è¯,å°±è¡¥ä¸ª1\n\tif(t) C.push_back(1);\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tvector<int> A,B;\n\tcin>>a>>b;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tauto C=add(A,B); \n\t\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t\n\treturn 0;\n}\n```\n\n\n\n## 2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\n\n> é‡ç‚¹åœ¨äºåˆ¤å®šæ˜¯Aå¤§è¿˜æ˜¯Bå¤§\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAXN 200\nusing namespace std;\nint a[MAXN];\nint b[MAXN];\nint c[MAXN];\nint main() {\n\t\n\t// é«˜ç²¾åº¦å‡æ³•ä¸¤ç§æƒ…å†µ\n\t// è¾“å…¥å¤§æ•´æ•°\n\tstring s1,s2;\n\tcin>>s1>>s2;\n\tint n1=s1.length();\n\tint n2=s2.length();\n\t\n\t// åˆ¤æ–­å“ªä¸ªæ•°å­—æ›´å¤§\n\tif(n1<n2 || (n1==n2 && s1<s2)) {\n\t\tswap(s1,s2);\n\t\tcout<<'-';\n\t\t// å¦‚æœäº¤æ¢äº†,n1å’Œn2è¦æ›´æ–°ä¸€ä¸‹\n\t\tn1=s1.length();\n\t\tn2=s2.length();\n\t}\n\t\n\t// é€†åºå­˜å‚¨,æœ€åéƒ½ç”¨a-b\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-i-1]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-i-1]-'0';\n\t}\n\n\t// ç«–å¼ç›¸å‡\n\tint n3=max(n1,n2);\n\tfor(int i=0;i<n3;i++) {\n\t\tc[i]+=a[i]-b[i];\n\t\tif(c[i]<0) {\n\t\t\tc[i+1]--;\n\t\t\tc[i]+=10;\n\t\t}\n\t}\n\t\n\t// å»é™¤å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\treturn 0;\n}\t\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// åˆ¤æ–­æ˜¯å¦æœ‰A>=B\nbool cmp(vector<int> &A,vector<int> &B) {\n\tif(A.size()!=B.size()) return A.size()>B.size();\n\tfor(int i=A.size()-1;i>=0;i--)\n\t\tif(A[i]!=B[i])\n\t\t\treturn A[i]>B[i];\n\treturn true; // è¯´æ˜A==B,ä¹Ÿæ˜¯A>=Bçš„å­é›†\n}\n\n// C=A-B(A>=B)\nvector<int> sub(vector<int> &A,vector<int> &B) {\n\tvector<int> C;\n\tint t=0; // ä¿ç•™è¿›ä½\n\tfor(int i=0;i<A.size();i++) {\n\t\tt=A[i]-t;\n\t\t// åˆ¤æ–­B[i]æ˜¯å¦å­˜åœ¨,å› ä¸ºBçš„ä½æ•°å¯èƒ½æ¯”Aæ›´å°\n\t\tif(i<B.size()) t-=B[i];\n\t\tC.push_back((t+10)%10); // å¦‚æœt>=0,åˆ™(t+10)%10=t;å¦‚æœt<0,åˆ™(t+10)%10å˜ä¸ºæ­£æ•°\n\t\tif(t<0) t=1; // å€Ÿä½,å†ç®—ä¸‹ä¸€ä½çš„æ—¶å€™è¦å¤šå‡å»ä¸€ä¸ª1\n\t\telse t=0; // ä¸å€Ÿä½\n\t}\n\t\n\t// å»å‰å¯¼0(vectoråšé«˜ç²¾åŠ çš„è¯å°±ä¸ä¼šå‡ºç°å‰å¯¼0,ç›¸å‡çš„è¯å¯èƒ½å‡ºç°003è¿™ç§æ•°å­—)\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tvector<int> A,B;\n\tcin>>a>>b;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tif(cmp(A,B)) {\n\t\tauto C=sub(A,B);\n\t\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t} else {\n\t\tauto C=sub(B,A);\n\t\tcout<<\"-\";\n\t\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t}\n\t\n\treturn 0;\n}\n```\n\n\n\n## 3. é«˜ç²¾åº¦ä¹˜æ³•\n\n### 3.1. é«˜ç²¾Ã—ä½ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+10;\nstring str;\nint len1,len2;\nint a[N],b,c[N];\n\nvoid mul(int a[],int b) {\n\tint t=0;\n\tfor(int i=1;i<=len1||t;i++) {\n\t\tif(i<=len1) t+=a[i]*b;\n\t\tc[++len2]=t%10;\n\t\tt/=10;\n\t}\n\t// å»å‰å¯¼0\n\twhile(c[len2]==0 && len2>1) len2--;\n}\n\nint main() {\n\tcin>>str>>b;\n\tlen1=str.length();\n\tfor(int i=1;i<=len1;i++) a[i]=str[len1-i]-'0'; // å°†æ•°aå€’åº\n\tmul(a,b);\n\tfor(int i=len2;i>=1;i--) cout<<c[i];\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nvector<int> mul(vector<int> &A,int b) {\n\tvector<int> C;\n\tint t=0;\n\t// å¦‚æœæœ‰\"||t\"å°±ä¸ç”¨å•ç‹¬å¤„ç†å‰©ä½™çš„täº†,åªè¦tä¸æ˜¯0å°±ä¼šä¸€ç›´å¤„ç†tçš„è¿›ä½\n\tfor(int i=0;i<A.size() || t;i++) {\n\t\tif(i<A.size()) t+=A[i]*b;\n\t\tC.push_back(t%10); // åªå–ä¸ªä½\n\t\tt/=10;\n\t}\n\t// å¤„ç†æœ€åå‰©ä½™çš„t\n//\twhile(t) {\n//\t\tC.push_back(t%10);\n//\t\tt/=10;\n//\t}\n\t// ä¸ºäº†é¿å…1234*0=0000çš„è¿™ç§æƒ…å†µ,è¿˜æ˜¯éœ€è¦å»é™¤å‰å¯¼0\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a;\n\tint b;\n\tcin>>a>>b;\n\tvector<int> A;\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tauto C=mul(A,b);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\treturn 0;\n}\n```\n\n\n\n### 3.2. é«˜ç²¾Ã—é«˜ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAXN 200\nusing namespace std;\n\nchar s1[MAXN];\nchar s2[MAXN];\nint a[MAXN];\nint b[MAXN];\nint c[MAXN+MAXN]; // 100(3)*100(3)=10000(6)\n\t\nint main() {\n\t// é«˜ç²¾åº¦ä¹˜æ³•\n\t// è¾“å…¥å¤§æ•´æ•°\n\t// è¿™é‡Œå¦‚æœç”¨gets,åœ¨ä¿¡å¥¥ä¸€æœ¬é€šä¸Šæ— æ³•é€šè¿‡\n\t// cin.getline(s1,MAXN);\n\t// cin.getline(s2,MAXN);\n\tcin>>s1;\n\tcin>>s2;\n\tint n1=strlen(s1);\n\tint n2=strlen(s2);\n\t\n\t// é€†åºå­˜å‚¨\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-i-1]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-i-1]-'0';\n\t}\n\t\n\t// ç«–å¼ä¹˜æ³•\n\tint n3=n1+n2;\n\tfor(int i=0;i<n1;i++) {\n\t\tfor(int j=0;j<n2;j++) {\n\t\t\tc[i+j]+=a[i]*b[j];\n\t\t\tif(c[i+j]>=10) // è¯´æ˜è¦è¿›ä½\n\t\t\t{\n\t\t\t\tc[i+j+1]+=c[i+j]/10;\n\t\t\t\tc[i+j]%=10;\n\t\t\t}\n\t\t}\n\t}\n\t\n//\t// å¤„ç†è¿›ä½é—®é¢˜\n//\tfor(int i=0;i<n3;i++) {\n//\t\tc[i+1]+=c[i]/10; \n//\t\tc[i]%=10;\n//\t}\n\t\n\t// å¤„ç†å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\t\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nvector<int> mul(vector<int> &A,vector<int> &B) {\n\tvector<int> C(A.size()+B.size(),0); // Cæœ€å¤§æ•°ä½ä¸ºsize_A+size_B,å¦‚100(3)Ã—100(3)=10000(5)\n\t// å¯¹Cé¢„å¼€å¤§å°,æ˜¯ä¸ºäº†ç”¨ç±»ä¼¼äºæ•°ç»„çš„æ–¹å¼æ¥æ“æ§C\n\t// å› ä¸ºA[i]è¦ä¹˜ä»¥æ¯ä¸€ä½B[j]\n\tfor(int i=0;i<A.size();i++) {\n\t\tfor(int j=0;j<B.size();j++) {\n\t\t\tC[i+j]+=A[i]*B[j];\n\t\t\t// è¯´æ˜éœ€è¦è¿›ä½\n\t\t\tif(C[i+j]>=10) {\n\t\t\t\tC[i+j+1]+=C[i+j]/10;\n\t\t\t\tC[i+j]%=10;\n\t\t\t}\n\t\t}\n\t}\t\n\t\n\t// å»é™¤å‰å¯¼0,å› ä¸ºå¼€äº†å¤§å°ä¸ºA.size()+B.size()çš„å…¨ä¸º0çš„æ•°ç»„,æœ‰å¯èƒ½ç”¨ä¸å®Œè¿™äº›ç©ºé—´\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tcin>>a>>b;\n\tvector<int> A,B;\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\tauto C=mul(A,B);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\treturn 0;\n}\n```\n\n\n\n## 4. é«˜ç²¾åº¦é™¤æ³•\n\n### 4.1. é«˜ç²¾Ã·ä½ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\nconst int maxn=1e2+2;\nusing namespace std;\n\nint N[maxn]; // å­˜æ”¾å¤§æ•´æ•°\nint ans[maxn]; // å­˜æ”¾å•†æ•°\nint b=13; // ä½™æ•°\n// é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦\nint main() {\n\tstring s;\n\tcin>>s;\n\tint n1=s.length();\n\tint x=0; \n\tfor(int i=0;i<n1;i++) {\n\t\tans[i]=(x*10+(s[i]-'0'))/b; // è®°å½•ä½™æ•°\n\t\tx=(x*10+(s[i]-'0'))%b; // ä½™æ•°ç»§ç»­å‚ä¸è®¡ç®—\n\t}\n\t// å»é™¤ansçš„å‰å¯¼0\n\tint n2=0;\n\twhile(ans[n2]==0 && n2<n1) {\n\t\tn2++;\n\t}\n\t// æ‰“å°å‡ºå•†æ•°\n\tfor(int i=n2;i<n1;i++) {\n\t\tcout<<ans[i];\n\t}\n\tcout<<endl;\n\t// æ‰“å°ä½™æ•°\n\tcout<<x;\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// ä¼ åœ°å€æ–¹ä¾¿ç›´æ¥å¯¹ä½™æ•°rè¿›è¡Œä¿®æ”¹\nvector<int> div(vector<int> &A,int B,int &r) {\n\tvector<int> C;\n\tfor(int i=0;i<A.size();i++) {\n\t\tr=r*10+A[i];\n\t\tC.push_back(r/B); // å•†\n\t\tr=r%B; // ä½™æ•°\n\t}\n\t// ç”±äºé™¤æ³•è¿ç®—ä¸­é«˜ä½åˆ°ä½ä½è¿ç®—,å› æ­¤Cçš„å‰å¯¼0éƒ½åœ¨vectorçš„å‰é¢è€Œä¸æ˜¯å°¾éƒ¨\n\t// æ‰€ä»¥åè½¬C,è¿™æ ·0å°±ä½äºæ•°ç»„å°¾éƒ¨,ä»è€Œç”¨popåˆ é™¤å‰å¯¼0\n\treverse(C.begin(),C.end());\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring str;\n\tint B,r=0; // ä»£è¡¨ä½™æ•°\n\tcin>>str>>B;\n\tvector<int> A;\n\tfor(int i=0;i<str.size();i++) A.push_back(str[i]-'0');\n\tauto C=div(A,B,r);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i]; // å†é€†åºä¸€éå˜æˆæ­£åº\n\tcout<<endl<<r<<endl; // ä½™æ•°\n\treturn 0;\n}\n```\n\n\n\n### 4.2. é«˜ç²¾Ã·é«˜ç²¾\n\n> ç”¨æ•°ç»„æ¨¡æ‹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè¿™é‡Œåªä»‹ç»åŸºäºSTLåº“ä¸­çš„vectorå®ç°æ–¹æ³•\n\n* åŸºäºSTL\n\n``` c++\n#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\n// æ¯”è¾ƒAå’ŒBè°æ›´å¤§\nbool cmp(vector<int> &A, vector<int> &B){\n\tif(A.size()!=B.size()) return A.size()>B.size();\n\tfor(int i=A.size()-1;i>=0;i--){\n\t\tif(A[i]!=B[i]) return A[i]>B[i]; \n\t}\n\treturn true;\n}\n\n// ç”¨é«˜ç²¾åº¦å‡æ³•æ¥æ¨¡æ‹Ÿé«˜ç²¾åº¦é™¤æ³•(é«˜ç²¾Ã·é«˜ç²¾)\nvector<int> sub(vector<int> &A,vector<int> &B){\n\tvector<int> C;\n\tint t=0;\n\tfor(int i=0;i<A.size()||t;i++){\n\t\tt = A[i] - t;\n\t\tif(i<B.size()) t -= B[i];\n\t\tC.push_back((t+10)%10);\n\t\tif(t<0) t = 1;\n\t\telse t = 0;\n\t}\n\twhile(C.size()>1&&C.back()==0) C.pop_back();\n\treturn C;\n}\n\n// r:å­˜å‚¨æ¯æ¬¡è¿­ä»£åçš„ä½™æ•°\n// C:å­˜å‚¨æ¯æ¬¡è¿”å›åç»„æˆçš„å•†æ•°\nvector<int> div(vector<int> &A, vector<int> &B, vector<int> &r){\n\tvector<int> C; \n\tint j = B.size();\n\t// æ¯”å¦‚12345Ã·67,j=2,é‚£ä¹ˆåˆå§‹ä½™æ•°å°±ä¸º45\n\tr.assign(A.end()-j,A.end()); // åˆå§‹åŒ–ä½™æ•°rä¸ºAçš„æœ€åjä½\n\t// å½“jå°äºç­‰äºAçš„é•¿åº¦æ—¶å¾ªç¯\n\twhile(j<=A.size()) {\n\t\tint k=0;\n\t\t// å½“ä½™æ•°rå¤§äºç­‰äºBæ—¶å¾ªç¯\n\t\twhile(cmp(r,B)){\n\t\t\t// åˆ©ç”¨é«˜ç²¾å‡è®¡ç®—r-Bçš„ç»“æœ\n\t\t\tvector<int> s = sub(r,B);\n\t\t\tr.clear();\n\t\t\t// å°†ç»“æœèµ‹å€¼ç»™r\n\t\t\tr.assign(s.begin(),s.end());\n\t\t\tk++; // å•†+1\n\t\t} \n\t\tC.push_back(k); // å­˜å‚¨å•†\n\t\t// å¦‚æœjå°äºAçš„é•¿åº¦,åˆ™å°†Aä¸­çš„ä¸‹ä¸€ä½åŠ å…¥åˆ°ä½™æ•°rçš„æœ€å‰é¢\n\t\tif(j<A.size()) r.insert(r.begin(),A[A.size()-j-1]);\n\t\t// å»æ‰ä½™æ•°0,å› ä¸ºéšæ—¶è¦è¿›è¡Œä¸‹ä¸€è½®çš„è®¡ç®—\n\t\tif(r.size()>1&&r.back()==0) r.pop_back();\n\t\tj++;\n\t}\n\t// åè½¬ç»“æœ,å› ä¸ºè¦åˆ©ç”¨é«˜ç²¾å‡å¿…é¡»ä»ä½ä½å¼€å§‹\n\treverse(C.begin(),C.end());\n\t// å»æ‰å‰å¯¼0\n\twhile(C.size()>1&&C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main(){\n\tstring a,b;\n\tcin>>a>>b;\n\tvector<int> A,B,r;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tauto C = div(A,B,r);\n\tfor(int i=C.size()-1;i>=0;i--) printf(\"%d\",C[i]);\n\tprintf(\"\\n\");\n\tfor(int i=r.size()-1;i>=0;i--) printf(\"%d\",r[i]);\n\treturn 0;\n}\n```\n","source":"_posts/é«˜ç²¾åº¦.md","raw":"---\ntitle: é«˜ç²¾åº¦\ndate: 2024-10-02 22:22:37\ncategories: å­¦ä¹ \ntags: \n    - ç®—æ³•ç«èµ›\n    - é«˜ç²¾åº¦\ntoc: true\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# é«˜ç²¾åº¦\n\n<!-- toc -->\n\n\n\n## 1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAX_SIZE 200\nusing namespace std;\n\n// å®šä¹‰å…¨å±€å˜é‡,åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ éƒ½ä¸º0\nint a[MAX_SIZE];\nint b[MAX_SIZE];\nint c[MAX_SIZE+1]; // æœ€å¤š200+1ä½\n\nint main() {\n\t// é«˜ç²¾åº¦åŠ æ³•é—®é¢˜\n\t// è¾“å…¥å¤§æ•´æ•°\n\tstring s1,s2;\n\tcin>>s1>>s2;\n\tint n1=s1.length();\n\tint n2=s2.length();\n\t\n\t// é€†åºå­˜å‚¨å¤§æ•´æ•°åˆ°æ•°ç»„ä¸­\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-1-i]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-1-i]-'0';\n\t}\n\t\t\n\t// æ¨¡æ‹Ÿç«–å¼åŠ æ³•è¿›è¡Œè®¡ç®—\n\tint n3=max(n1,n2)+1; // æœ€å¤šå†è¿›ä¸€ä½\n\tfor(int i=0;i<n3;i++) {\n\t\tc[i]+=a[i]+b[i];\n\t\tif(c[i]/10) {\n\t\t\t// c[i+1]+=c[i]/10; // è¿™é‡Œä¹Ÿå¯ä»¥æ”¹ä¸ºc[i+1]+=1 å› ä¸ºæœ€å¤šä¹Ÿå°±9+9=18,è¿›1ä½\n\t\t\tc[i+1]+=1;\n\t\t\tc[i]%=10;\n\t\t}\n\t}\n\t\n\t// å»é™¤å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nconst int N=1e6+10; // æœ€å¤§é•¿åº¦\n\n// åŠ å¼•ç”¨æ˜¯ä¸ºäº†æé«˜æ•ˆç‡,æ²¡æœ‰å¼•ç”¨çš„è¯ä¼šå†copyä¸€é\n// C=A+B\nvector<int> add(vector<int> &A,vector<int> &B) {\n\tvector<int> C;\n\tint t=0; // ä¿ç•™ä¸Šä¸€ä½çš„è¿›ä½\n\t\n\t// \"||\"ä¿è¯äº†Aå’ŒBè°çš„æ•°ä½æ›´é«˜æˆ–æ›´ä½éƒ½èƒ½è®¡ç®—\n\tfor(int i=0;i<A.size() || i<B.size();i++) {\n\t\tif(i<A.size()) t+=A[i];\n\t\tif(i<B.size()) t+=B[i];\n\t\tC.push_back(t%10);\n\t\tt/=10;\n\t}\n\t// å¦‚æœæœ€é«˜ä½è¿˜è¦è¿›ä½çš„è¯,å°±è¡¥ä¸ª1\n\tif(t) C.push_back(1);\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tvector<int> A,B;\n\tcin>>a>>b;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tauto C=add(A,B); \n\t\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t\n\treturn 0;\n}\n```\n\n\n\n## 2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\n\n> é‡ç‚¹åœ¨äºåˆ¤å®šæ˜¯Aå¤§è¿˜æ˜¯Bå¤§\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAXN 200\nusing namespace std;\nint a[MAXN];\nint b[MAXN];\nint c[MAXN];\nint main() {\n\t\n\t// é«˜ç²¾åº¦å‡æ³•ä¸¤ç§æƒ…å†µ\n\t// è¾“å…¥å¤§æ•´æ•°\n\tstring s1,s2;\n\tcin>>s1>>s2;\n\tint n1=s1.length();\n\tint n2=s2.length();\n\t\n\t// åˆ¤æ–­å“ªä¸ªæ•°å­—æ›´å¤§\n\tif(n1<n2 || (n1==n2 && s1<s2)) {\n\t\tswap(s1,s2);\n\t\tcout<<'-';\n\t\t// å¦‚æœäº¤æ¢äº†,n1å’Œn2è¦æ›´æ–°ä¸€ä¸‹\n\t\tn1=s1.length();\n\t\tn2=s2.length();\n\t}\n\t\n\t// é€†åºå­˜å‚¨,æœ€åéƒ½ç”¨a-b\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-i-1]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-i-1]-'0';\n\t}\n\n\t// ç«–å¼ç›¸å‡\n\tint n3=max(n1,n2);\n\tfor(int i=0;i<n3;i++) {\n\t\tc[i]+=a[i]-b[i];\n\t\tif(c[i]<0) {\n\t\t\tc[i+1]--;\n\t\t\tc[i]+=10;\n\t\t}\n\t}\n\t\n\t// å»é™¤å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\treturn 0;\n}\t\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// åˆ¤æ–­æ˜¯å¦æœ‰A>=B\nbool cmp(vector<int> &A,vector<int> &B) {\n\tif(A.size()!=B.size()) return A.size()>B.size();\n\tfor(int i=A.size()-1;i>=0;i--)\n\t\tif(A[i]!=B[i])\n\t\t\treturn A[i]>B[i];\n\treturn true; // è¯´æ˜A==B,ä¹Ÿæ˜¯A>=Bçš„å­é›†\n}\n\n// C=A-B(A>=B)\nvector<int> sub(vector<int> &A,vector<int> &B) {\n\tvector<int> C;\n\tint t=0; // ä¿ç•™è¿›ä½\n\tfor(int i=0;i<A.size();i++) {\n\t\tt=A[i]-t;\n\t\t// åˆ¤æ–­B[i]æ˜¯å¦å­˜åœ¨,å› ä¸ºBçš„ä½æ•°å¯èƒ½æ¯”Aæ›´å°\n\t\tif(i<B.size()) t-=B[i];\n\t\tC.push_back((t+10)%10); // å¦‚æœt>=0,åˆ™(t+10)%10=t;å¦‚æœt<0,åˆ™(t+10)%10å˜ä¸ºæ­£æ•°\n\t\tif(t<0) t=1; // å€Ÿä½,å†ç®—ä¸‹ä¸€ä½çš„æ—¶å€™è¦å¤šå‡å»ä¸€ä¸ª1\n\t\telse t=0; // ä¸å€Ÿä½\n\t}\n\t\n\t// å»å‰å¯¼0(vectoråšé«˜ç²¾åŠ çš„è¯å°±ä¸ä¼šå‡ºç°å‰å¯¼0,ç›¸å‡çš„è¯å¯èƒ½å‡ºç°003è¿™ç§æ•°å­—)\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tvector<int> A,B;\n\tcin>>a>>b;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tif(cmp(A,B)) {\n\t\tauto C=sub(A,B);\n\t\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t} else {\n\t\tauto C=sub(B,A);\n\t\tcout<<\"-\";\n\t\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\t}\n\t\n\treturn 0;\n}\n```\n\n\n\n## 3. é«˜ç²¾åº¦ä¹˜æ³•\n\n### 3.1. é«˜ç²¾Ã—ä½ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nconst int N=1e5+10;\nstring str;\nint len1,len2;\nint a[N],b,c[N];\n\nvoid mul(int a[],int b) {\n\tint t=0;\n\tfor(int i=1;i<=len1||t;i++) {\n\t\tif(i<=len1) t+=a[i]*b;\n\t\tc[++len2]=t%10;\n\t\tt/=10;\n\t}\n\t// å»å‰å¯¼0\n\twhile(c[len2]==0 && len2>1) len2--;\n}\n\nint main() {\n\tcin>>str>>b;\n\tlen1=str.length();\n\tfor(int i=1;i<=len1;i++) a[i]=str[len1-i]-'0'; // å°†æ•°aå€’åº\n\tmul(a,b);\n\tfor(int i=len2;i>=1;i--) cout<<c[i];\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nvector<int> mul(vector<int> &A,int b) {\n\tvector<int> C;\n\tint t=0;\n\t// å¦‚æœæœ‰\"||t\"å°±ä¸ç”¨å•ç‹¬å¤„ç†å‰©ä½™çš„täº†,åªè¦tä¸æ˜¯0å°±ä¼šä¸€ç›´å¤„ç†tçš„è¿›ä½\n\tfor(int i=0;i<A.size() || t;i++) {\n\t\tif(i<A.size()) t+=A[i]*b;\n\t\tC.push_back(t%10); // åªå–ä¸ªä½\n\t\tt/=10;\n\t}\n\t// å¤„ç†æœ€åå‰©ä½™çš„t\n//\twhile(t) {\n//\t\tC.push_back(t%10);\n//\t\tt/=10;\n//\t}\n\t// ä¸ºäº†é¿å…1234*0=0000çš„è¿™ç§æƒ…å†µ,è¿˜æ˜¯éœ€è¦å»é™¤å‰å¯¼0\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a;\n\tint b;\n\tcin>>a>>b;\n\tvector<int> A;\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tauto C=mul(A,b);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\treturn 0;\n}\n```\n\n\n\n### 3.2. é«˜ç²¾Ã—é«˜ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\n#define MAXN 200\nusing namespace std;\n\nchar s1[MAXN];\nchar s2[MAXN];\nint a[MAXN];\nint b[MAXN];\nint c[MAXN+MAXN]; // 100(3)*100(3)=10000(6)\n\t\nint main() {\n\t// é«˜ç²¾åº¦ä¹˜æ³•\n\t// è¾“å…¥å¤§æ•´æ•°\n\t// è¿™é‡Œå¦‚æœç”¨gets,åœ¨ä¿¡å¥¥ä¸€æœ¬é€šä¸Šæ— æ³•é€šè¿‡\n\t// cin.getline(s1,MAXN);\n\t// cin.getline(s2,MAXN);\n\tcin>>s1;\n\tcin>>s2;\n\tint n1=strlen(s1);\n\tint n2=strlen(s2);\n\t\n\t// é€†åºå­˜å‚¨\n\tfor(int i=0;i<n1;i++) {\n\t\ta[i]=s1[n1-i-1]-'0';\n\t}\n\tfor(int i=0;i<n2;i++) {\n\t\tb[i]=s2[n2-i-1]-'0';\n\t}\n\t\n\t// ç«–å¼ä¹˜æ³•\n\tint n3=n1+n2;\n\tfor(int i=0;i<n1;i++) {\n\t\tfor(int j=0;j<n2;j++) {\n\t\t\tc[i+j]+=a[i]*b[j];\n\t\t\tif(c[i+j]>=10) // è¯´æ˜è¦è¿›ä½\n\t\t\t{\n\t\t\t\tc[i+j+1]+=c[i+j]/10;\n\t\t\t\tc[i+j]%=10;\n\t\t\t}\n\t\t}\n\t}\n\t\n//\t// å¤„ç†è¿›ä½é—®é¢˜\n//\tfor(int i=0;i<n3;i++) {\n//\t\tc[i+1]+=c[i]/10; \n//\t\tc[i]%=10;\n//\t}\n\t\n\t// å¤„ç†å‰å¯¼0\n\twhile(c[n3]==0 && n3>0) {\n\t\tn3--;\n\t}\n\t\n\t// é€†åºè¾“å‡º\n\tfor(int i=n3;i>=0;i--) {\n\t\tcout<<c[i];\n\t}\n\t\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\nvector<int> mul(vector<int> &A,vector<int> &B) {\n\tvector<int> C(A.size()+B.size(),0); // Cæœ€å¤§æ•°ä½ä¸ºsize_A+size_B,å¦‚100(3)Ã—100(3)=10000(5)\n\t// å¯¹Cé¢„å¼€å¤§å°,æ˜¯ä¸ºäº†ç”¨ç±»ä¼¼äºæ•°ç»„çš„æ–¹å¼æ¥æ“æ§C\n\t// å› ä¸ºA[i]è¦ä¹˜ä»¥æ¯ä¸€ä½B[j]\n\tfor(int i=0;i<A.size();i++) {\n\t\tfor(int j=0;j<B.size();j++) {\n\t\t\tC[i+j]+=A[i]*B[j];\n\t\t\t// è¯´æ˜éœ€è¦è¿›ä½\n\t\t\tif(C[i+j]>=10) {\n\t\t\t\tC[i+j+1]+=C[i+j]/10;\n\t\t\t\tC[i+j]%=10;\n\t\t\t}\n\t\t}\n\t}\t\n\t\n\t// å»é™¤å‰å¯¼0,å› ä¸ºå¼€äº†å¤§å°ä¸ºA.size()+B.size()çš„å…¨ä¸º0çš„æ•°ç»„,æœ‰å¯èƒ½ç”¨ä¸å®Œè¿™äº›ç©ºé—´\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring a,b;\n\tcin>>a>>b;\n\tvector<int> A,B;\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\tauto C=mul(A,B);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i];\n\treturn 0;\n}\n```\n\n\n\n## 4. é«˜ç²¾åº¦é™¤æ³•\n\n### 4.1. é«˜ç²¾Ã·ä½ç²¾\n\n* åŸºäºæ•°ç»„\n\n``` c++\n#include<bits/stdc++.h>\nconst int maxn=1e2+2;\nusing namespace std;\n\nint N[maxn]; // å­˜æ”¾å¤§æ•´æ•°\nint ans[maxn]; // å­˜æ”¾å•†æ•°\nint b=13; // ä½™æ•°\n// é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦\nint main() {\n\tstring s;\n\tcin>>s;\n\tint n1=s.length();\n\tint x=0; \n\tfor(int i=0;i<n1;i++) {\n\t\tans[i]=(x*10+(s[i]-'0'))/b; // è®°å½•ä½™æ•°\n\t\tx=(x*10+(s[i]-'0'))%b; // ä½™æ•°ç»§ç»­å‚ä¸è®¡ç®—\n\t}\n\t// å»é™¤ansçš„å‰å¯¼0\n\tint n2=0;\n\twhile(ans[n2]==0 && n2<n1) {\n\t\tn2++;\n\t}\n\t// æ‰“å°å‡ºå•†æ•°\n\tfor(int i=n2;i<n1;i++) {\n\t\tcout<<ans[i];\n\t}\n\tcout<<endl;\n\t// æ‰“å°ä½™æ•°\n\tcout<<x;\n\treturn 0;\n}\n```\n\n* åŸºäºSTL\n\n``` c++\n#include<bits/stdc++.h>\n#define x first\n#define y second\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> PII;\n\n// ä¼ åœ°å€æ–¹ä¾¿ç›´æ¥å¯¹ä½™æ•°rè¿›è¡Œä¿®æ”¹\nvector<int> div(vector<int> &A,int B,int &r) {\n\tvector<int> C;\n\tfor(int i=0;i<A.size();i++) {\n\t\tr=r*10+A[i];\n\t\tC.push_back(r/B); // å•†\n\t\tr=r%B; // ä½™æ•°\n\t}\n\t// ç”±äºé™¤æ³•è¿ç®—ä¸­é«˜ä½åˆ°ä½ä½è¿ç®—,å› æ­¤Cçš„å‰å¯¼0éƒ½åœ¨vectorçš„å‰é¢è€Œä¸æ˜¯å°¾éƒ¨\n\t// æ‰€ä»¥åè½¬C,è¿™æ ·0å°±ä½äºæ•°ç»„å°¾éƒ¨,ä»è€Œç”¨popåˆ é™¤å‰å¯¼0\n\treverse(C.begin(),C.end());\n\twhile(C.size()>1 && C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main() {\n\tstring str;\n\tint B,r=0; // ä»£è¡¨ä½™æ•°\n\tcin>>str>>B;\n\tvector<int> A;\n\tfor(int i=0;i<str.size();i++) A.push_back(str[i]-'0');\n\tauto C=div(A,B,r);\n\tfor(int i=C.size()-1;i>=0;i--) cout<<C[i]; // å†é€†åºä¸€éå˜æˆæ­£åº\n\tcout<<endl<<r<<endl; // ä½™æ•°\n\treturn 0;\n}\n```\n\n\n\n### 4.2. é«˜ç²¾Ã·é«˜ç²¾\n\n> ç”¨æ•°ç»„æ¨¡æ‹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè¿™é‡Œåªä»‹ç»åŸºäºSTLåº“ä¸­çš„vectorå®ç°æ–¹æ³•\n\n* åŸºäºSTL\n\n``` c++\n#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\n// æ¯”è¾ƒAå’ŒBè°æ›´å¤§\nbool cmp(vector<int> &A, vector<int> &B){\n\tif(A.size()!=B.size()) return A.size()>B.size();\n\tfor(int i=A.size()-1;i>=0;i--){\n\t\tif(A[i]!=B[i]) return A[i]>B[i]; \n\t}\n\treturn true;\n}\n\n// ç”¨é«˜ç²¾åº¦å‡æ³•æ¥æ¨¡æ‹Ÿé«˜ç²¾åº¦é™¤æ³•(é«˜ç²¾Ã·é«˜ç²¾)\nvector<int> sub(vector<int> &A,vector<int> &B){\n\tvector<int> C;\n\tint t=0;\n\tfor(int i=0;i<A.size()||t;i++){\n\t\tt = A[i] - t;\n\t\tif(i<B.size()) t -= B[i];\n\t\tC.push_back((t+10)%10);\n\t\tif(t<0) t = 1;\n\t\telse t = 0;\n\t}\n\twhile(C.size()>1&&C.back()==0) C.pop_back();\n\treturn C;\n}\n\n// r:å­˜å‚¨æ¯æ¬¡è¿­ä»£åçš„ä½™æ•°\n// C:å­˜å‚¨æ¯æ¬¡è¿”å›åç»„æˆçš„å•†æ•°\nvector<int> div(vector<int> &A, vector<int> &B, vector<int> &r){\n\tvector<int> C; \n\tint j = B.size();\n\t// æ¯”å¦‚12345Ã·67,j=2,é‚£ä¹ˆåˆå§‹ä½™æ•°å°±ä¸º45\n\tr.assign(A.end()-j,A.end()); // åˆå§‹åŒ–ä½™æ•°rä¸ºAçš„æœ€åjä½\n\t// å½“jå°äºç­‰äºAçš„é•¿åº¦æ—¶å¾ªç¯\n\twhile(j<=A.size()) {\n\t\tint k=0;\n\t\t// å½“ä½™æ•°rå¤§äºç­‰äºBæ—¶å¾ªç¯\n\t\twhile(cmp(r,B)){\n\t\t\t// åˆ©ç”¨é«˜ç²¾å‡è®¡ç®—r-Bçš„ç»“æœ\n\t\t\tvector<int> s = sub(r,B);\n\t\t\tr.clear();\n\t\t\t// å°†ç»“æœèµ‹å€¼ç»™r\n\t\t\tr.assign(s.begin(),s.end());\n\t\t\tk++; // å•†+1\n\t\t} \n\t\tC.push_back(k); // å­˜å‚¨å•†\n\t\t// å¦‚æœjå°äºAçš„é•¿åº¦,åˆ™å°†Aä¸­çš„ä¸‹ä¸€ä½åŠ å…¥åˆ°ä½™æ•°rçš„æœ€å‰é¢\n\t\tif(j<A.size()) r.insert(r.begin(),A[A.size()-j-1]);\n\t\t// å»æ‰ä½™æ•°0,å› ä¸ºéšæ—¶è¦è¿›è¡Œä¸‹ä¸€è½®çš„è®¡ç®—\n\t\tif(r.size()>1&&r.back()==0) r.pop_back();\n\t\tj++;\n\t}\n\t// åè½¬ç»“æœ,å› ä¸ºè¦åˆ©ç”¨é«˜ç²¾å‡å¿…é¡»ä»ä½ä½å¼€å§‹\n\treverse(C.begin(),C.end());\n\t// å»æ‰å‰å¯¼0\n\twhile(C.size()>1&&C.back()==0) C.pop_back();\n\treturn C;\n}\n\nint main(){\n\tstring a,b;\n\tcin>>a>>b;\n\tvector<int> A,B,r;\n\t// é€†åºå­˜å‚¨\n\tfor(int i=a.size()-1;i>=0;i--) A.push_back(a[i]-'0');\n\tfor(int i=b.size()-1;i>=0;i--) B.push_back(b[i]-'0');\n\t\n\tauto C = div(A,B,r);\n\tfor(int i=C.size()-1;i>=0;i--) printf(\"%d\",C[i]);\n\tprintf(\"\\n\");\n\tfor(int i=r.size()-1;i>=0;i--) printf(\"%d\",r[i]);\n\treturn 0;\n}\n```\n","slug":"é«˜ç²¾åº¦","published":1,"updated":"2024-10-05T08:00:32.743Z","comments":1,"layout":"post","photos":[],"_id":"cm2msrptr004qc0nfdmrj400e","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1><span id=\"é«˜ç²¾åº¦\">é«˜ç²¾åº¦</span></h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8A%A0%E6%B3%95%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰</a></li>\n<li><a href=\"#2-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%87%8F%E6%B3%95%E9%AB%98%E7%B2%BE-%E9%AB%98%E7%B2%BE\">2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰</a></li>\n<li><a href=\"#3-%E9%AB%98%E7%B2%BE%E5%BA%A6%E4%B9%98%E6%B3%95\">3. é«˜ç²¾åº¦ä¹˜æ³•</a><ul>\n<li><a href=\"#31-%E9%AB%98%E7%B2%BE%E4%BD%8E%E7%B2%BE\">3.1. é«˜ç²¾Ã—ä½ç²¾</a></li>\n<li><a href=\"#32-%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">3.2. é«˜ç²¾Ã—é«˜ç²¾</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E9%AB%98%E7%B2%BE%E5%BA%A6%E9%99%A4%E6%B3%95\">4. é«˜ç²¾åº¦é™¤æ³•</a><ul>\n<li><a href=\"#41-%E9%AB%98%E7%B2%BE%E4%BD%8E%E7%B2%BE\">4.1. é«˜ç²¾Ã·ä½ç²¾</a></li>\n<li><a href=\"#42-%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">4.2. é«˜ç²¾Ã·é«˜ç²¾</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2><span id=\"1-é«˜ç²¾åº¦åŠ æ³•é«˜ç²¾é«˜ç²¾\">1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰</span></h2><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAX_SIZE 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®šä¹‰å…¨å±€å˜é‡,åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ éƒ½ä¸º0</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[MAX_SIZE];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAX_SIZE];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAX_SIZE<span class=\"number\">+1</span>]; <span class=\"comment\">// æœ€å¤š200+1ä½</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦åŠ æ³•é—®é¢˜</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\tstring s1,s2;</span><br><span class=\"line\">\tcin&gt;&gt;s1&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨å¤§æ•´æ•°åˆ°æ•°ç»„ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1<span class=\"number\">-1</span>-i]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2<span class=\"number\">-1</span>-i]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t<span class=\"comment\">// æ¨¡æ‹Ÿç«–å¼åŠ æ³•è¿›è¡Œè®¡ç®—</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=<span class=\"built_in\">max</span>(n1,n2)<span class=\"number\">+1</span>; <span class=\"comment\">// æœ€å¤šå†è¿›ä¸€ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n3;i++) &#123;</span><br><span class=\"line\">\t\tc[i]+=a[i]+b[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[i]/<span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// c[i+1]+=c[i]/10; // è¿™é‡Œä¹Ÿå¯ä»¥æ”¹ä¸ºc[i+1]+=1 å› ä¸ºæœ€å¤šä¹Ÿå°±9+9=18,è¿›1ä½</span></span><br><span class=\"line\">\t\t\tc[i<span class=\"number\">+1</span>]+=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tc[i]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+10</span>; <span class=\"comment\">// æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åŠ å¼•ç”¨æ˜¯ä¸ºäº†æé«˜æ•ˆç‡,æ²¡æœ‰å¼•ç”¨çš„è¯ä¼šå†copyä¸€é</span></span><br><span class=\"line\"><span class=\"comment\">// C=A+B</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">add</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¿ç•™ä¸Šä¸€ä½çš„è¿›ä½</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// &quot;||&quot;ä¿è¯äº†Aå’ŒBè°çš„æ•°ä½æ›´é«˜æˆ–æ›´ä½éƒ½èƒ½è®¡ç®—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>() || i&lt;B.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;A.<span class=\"built_in\">size</span>()) t+=A[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t+=B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(t%<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœ€é«˜ä½è¿˜è¦è¿›ä½çš„è¯,å°±è¡¥ä¸ª1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t) C.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">add</span>(A,B); </span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"2-é«˜ç²¾åº¦å‡æ³•é«˜ç²¾-é«˜ç²¾\">2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰</span></h2><blockquote>\n<p>é‡ç‚¹åœ¨äºåˆ¤å®šæ˜¯Aå¤§è¿˜æ˜¯Bå¤§</p>\n</blockquote>\n<ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAXN 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">int</span> a[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAXN];</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦å‡æ³•ä¸¤ç§æƒ…å†µ</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\tstring s1,s2;</span><br><span class=\"line\">\tcin&gt;&gt;s1&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­å“ªä¸ªæ•°å­—æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n1&lt;n2 || (n1==n2 &amp;&amp; s1&lt;s2)) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">swap</span>(s1,s2);</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&#x27;-&#x27;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœäº¤æ¢äº†,n1å’Œn2è¦æ›´æ–°ä¸€ä¸‹</span></span><br><span class=\"line\">\t\tn1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t\tn2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨,æœ€åéƒ½ç”¨a-b</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// ç«–å¼ç›¸å‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=<span class=\"built_in\">max</span>(n1,n2);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n3;i++) &#123;</span><br><span class=\"line\">\t\tc[i]+=a[i]-b[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[i]&lt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\tc[i<span class=\"number\">+1</span>]--;</span><br><span class=\"line\">\t\t\tc[i]+=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;\t</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æœ‰A&gt;=B</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(A.<span class=\"built_in\">size</span>()!=B.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> A.<span class=\"built_in\">size</span>()&gt;B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=A.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(A[i]!=B[i])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> A[i]&gt;B[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// è¯´æ˜A==B,ä¹Ÿæ˜¯A&gt;=Bçš„å­é›†</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// C=A-B(A&gt;=B)</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sub</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¿ç•™è¿›ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tt=A[i]-t;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­B[i]æ˜¯å¦å­˜åœ¨,å› ä¸ºBçš„ä½æ•°å¯èƒ½æ¯”Aæ›´å°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t-=B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>((t<span class=\"number\">+10</span>)%<span class=\"number\">10</span>); <span class=\"comment\">// å¦‚æœt&gt;=0,åˆ™(t+10)%10=t;å¦‚æœt&lt;0,åˆ™(t+10)%10å˜ä¸ºæ­£æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t&lt;<span class=\"number\">0</span>) t=<span class=\"number\">1</span>; <span class=\"comment\">// å€Ÿä½,å†ç®—ä¸‹ä¸€ä½çš„æ—¶å€™è¦å¤šå‡å»ä¸€ä¸ª1</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¸å€Ÿä½</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»å‰å¯¼0(vectoråšé«˜ç²¾åŠ çš„è¯å°±ä¸ä¼šå‡ºç°å‰å¯¼0,ç›¸å‡çš„è¯å¯èƒ½å‡ºç°003è¿™ç§æ•°å­—)</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">cmp</span>(A,B)) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">sub</span>(A,B);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">sub</span>(B,A);</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;-&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"3-é«˜ç²¾åº¦ä¹˜æ³•\">3. é«˜ç²¾åº¦ä¹˜æ³•</span></h2><h3><span id=\"31-é«˜ç²¾ä½ç²¾\">3.1. é«˜ç²¾Ã—ä½ç²¾</span></h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\">string str;</span><br><span class=\"line\"><span class=\"type\">int</span> len1,len2;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],b,c[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len1||t;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;=len1) t+=a[i]*b;</span><br><span class=\"line\">\t\tc[++len2]=t%<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å»å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[len2]==<span class=\"number\">0</span> &amp;&amp; len2&gt;<span class=\"number\">1</span>) len2--;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;str&gt;&gt;b;</span><br><span class=\"line\">\tlen1=str.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len1;i++) a[i]=str[len1-i]-<span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// å°†æ•°aå€’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">mul</span>(a,b);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=len2;i&gt;=<span class=\"number\">1</span>;i--) cout&lt;&lt;c[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">mul</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœ‰&quot;||t&quot;å°±ä¸ç”¨å•ç‹¬å¤„ç†å‰©ä½™çš„täº†,åªè¦tä¸æ˜¯0å°±ä¼šä¸€ç›´å¤„ç†tçš„è¿›ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>() || t;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;A.<span class=\"built_in\">size</span>()) t+=A[i]*b;</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(t%<span class=\"number\">10</span>); <span class=\"comment\">// åªå–ä¸ªä½</span></span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¤„ç†æœ€åå‰©ä½™çš„t</span></span><br><span class=\"line\"><span class=\"comment\">//\twhile(t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tC.push_back(t%10);</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tt/=10;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºäº†é¿å…1234*0=0000çš„è¿™ç§æƒ…å†µ,è¿˜æ˜¯éœ€è¦å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">mul</span>(A,b);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"32-é«˜ç²¾é«˜ç²¾\">3.2. é«˜ç²¾Ã—é«˜ç²¾</span></h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAXN 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> s1[MAXN];</span><br><span class=\"line\"><span class=\"type\">char</span> s2[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> a[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAXN+MAXN]; <span class=\"comment\">// 100(3)*100(3)=10000(6)</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦ä¹˜æ³•</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œå¦‚æœç”¨gets,åœ¨ä¿¡å¥¥ä¸€æœ¬é€šä¸Šæ— æ³•é€šè¿‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// cin.getline(s1,MAXN);</span></span><br><span class=\"line\">\t<span class=\"comment\">// cin.getline(s2,MAXN);</span></span><br><span class=\"line\">\tcin&gt;&gt;s1;</span><br><span class=\"line\">\tcin&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=<span class=\"built_in\">strlen</span>(s1);</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=<span class=\"built_in\">strlen</span>(s2);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// ç«–å¼ä¹˜æ³•</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=n1+n2;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;n2;j++) &#123;</span><br><span class=\"line\">\t\t\tc[i+j]+=a[i]*b[j];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(c[i+j]&gt;=<span class=\"number\">10</span>) <span class=\"comment\">// è¯´æ˜è¦è¿›ä½</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tc[i+j<span class=\"number\">+1</span>]+=c[i+j]/<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t\tc[i+j]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"comment\">//\t// å¤„ç†è¿›ä½é—®é¢˜</span></span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=0;i&lt;n3;i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tc[i+1]+=c[i]/10; </span></span><br><span class=\"line\"><span class=\"comment\">//\t\tc[i]%=10;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¤„ç†å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; <span class=\"title function_\">mul</span><span class=\"params\">(<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; <span class=\"title function_\">C</span><span class=\"params\">(A.size()+B.size(),<span class=\"number\">0</span>)</span>; <span class=\"comment\">// Cæœ€å¤§æ•°ä½ä¸ºsize_A+size_B,å¦‚100(3)Ã—100(3)=10000(5)</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹Cé¢„å¼€å¤§å°,æ˜¯ä¸ºäº†ç”¨ç±»ä¼¼äºæ•°ç»„çš„æ–¹å¼æ¥æ“æ§C</span></span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºA[i]è¦ä¹˜ä»¥æ¯ä¸€ä½B[j]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;B.size();j++) &#123;</span><br><span class=\"line\">\t\t\tC[i+j]+=A[i]*B[j];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¯´æ˜éœ€è¦è¿›ä½</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(C[i+j]&gt;=<span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">\t\t\t\tC[i+j+<span class=\"number\">1</span>]+=C[i+j]/<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t\tC[i+j]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0,å› ä¸ºå¼€äº†å¤§å°ä¸ºA.size()+B.size()çš„å…¨ä¸º0çš„æ•°ç»„,æœ‰å¯èƒ½ç”¨ä¸å®Œè¿™äº›ç©ºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.size()&gt;<span class=\"number\">1</span> &amp;&amp; C.back()==<span class=\"number\">0</span>) C.pop_back();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> a,b;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.push_back(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.push_back(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=mul(A,B);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">cout</span>&lt;&lt;C[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2><span id=\"4-é«˜ç²¾åº¦é™¤æ³•\">4. é«˜ç²¾åº¦é™¤æ³•</span></h2><h3><span id=\"41-é«˜ç²¾ä½ç²¾\">4.1. é«˜ç²¾Ã·ä½ç²¾</span></h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> N[maxn]; <span class=\"comment\">// å­˜æ”¾å¤§æ•´æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans[maxn]; <span class=\"comment\">// å­˜æ”¾å•†æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> b=<span class=\"number\">13</span>; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\tcin&gt;&gt;s;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=<span class=\"number\">0</span>; </span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\tans[i]=(x*<span class=\"number\">10</span>+(s[i]-<span class=\"string\">&#x27;0&#x27;</span>))/b; <span class=\"comment\">// è®°å½•ä½™æ•°</span></span><br><span class=\"line\">\t\tx=(x*<span class=\"number\">10</span>+(s[i]-<span class=\"string\">&#x27;0&#x27;</span>))%b; <span class=\"comment\">// ä½™æ•°ç»§ç»­å‚ä¸è®¡ç®—</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤ansçš„å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(ans[n2]==<span class=\"number\">0</span> &amp;&amp; n2&lt;n1) &#123;</span><br><span class=\"line\">\t\tn2++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°å‡ºå•†æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n2;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;ans[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°ä½™æ•°</span></span><br><span class=\"line\">\tcout&lt;&lt;x;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¼ åœ°å€æ–¹ä¾¿ç›´æ¥å¯¹ä½™æ•°rè¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">div</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"type\">int</span> B,<span class=\"type\">int</span> &amp;r)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tr=r*<span class=\"number\">10</span>+A[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(r/B); <span class=\"comment\">// å•†</span></span><br><span class=\"line\">\t\tr=r%B; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”±äºé™¤æ³•è¿ç®—ä¸­é«˜ä½åˆ°ä½ä½è¿ç®—,å› æ­¤Cçš„å‰å¯¼0éƒ½åœ¨vectorçš„å‰é¢è€Œä¸æ˜¯å°¾éƒ¨</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰€ä»¥åè½¬C,è¿™æ ·0å°±ä½äºæ•°ç»„å°¾éƒ¨,ä»è€Œç”¨popåˆ é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"built_in\">reverse</span>(C.<span class=\"built_in\">begin</span>(),C.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring str;</span><br><span class=\"line\">\t<span class=\"type\">int</span> B,r=<span class=\"number\">0</span>; <span class=\"comment\">// ä»£è¡¨ä½™æ•°</span></span><br><span class=\"line\">\tcin&gt;&gt;str&gt;&gt;B;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;str.<span class=\"built_in\">size</span>();i++) A.<span class=\"built_in\">push_back</span>(str[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">div</span>(A,B,r);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i]; <span class=\"comment\">// å†é€†åºä¸€éå˜æˆæ­£åº</span></span><br><span class=\"line\">\tcout&lt;&lt;endl&lt;&lt;r&lt;&lt;endl; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3><span id=\"42-é«˜ç²¾é«˜ç²¾\">4.2. é«˜ç²¾Ã·é«˜ç²¾</span></h3><blockquote>\n<p>ç”¨æ•°ç»„æ¨¡æ‹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè¿™é‡Œåªä»‹ç»åŸºäºSTLåº“ä¸­çš„vectorå®ç°æ–¹æ³•</p>\n</blockquote>\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¯”è¾ƒAå’ŒBè°æ›´å¤§</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A, vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(A.<span class=\"built_in\">size</span>()!=B.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> A.<span class=\"built_in\">size</span>()&gt;B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=A.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(A[i]!=B[i]) <span class=\"keyword\">return</span> A[i]&gt;B[i]; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”¨é«˜ç²¾åº¦å‡æ³•æ¥æ¨¡æ‹Ÿé«˜ç²¾åº¦é™¤æ³•(é«˜ç²¾Ã·é«˜ç²¾)</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sub</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>()||t;i++)&#123;</span><br><span class=\"line\">\t\tt = A[i] - t;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t -= B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>((t<span class=\"number\">+10</span>)%<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t&lt;<span class=\"number\">0</span>) t = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> t = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// r:å­˜å‚¨æ¯æ¬¡è¿­ä»£åçš„ä½™æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// C:å­˜å‚¨æ¯æ¬¡è¿”å›åç»„æˆçš„å•†æ•°</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">div</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A, vector&lt;<span class=\"type\">int</span>&gt; &amp;B, vector&lt;<span class=\"type\">int</span>&gt; &amp;r)</span></span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C; </span><br><span class=\"line\">\t<span class=\"type\">int</span> j = B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯”å¦‚12345Ã·67,j=2,é‚£ä¹ˆåˆå§‹ä½™æ•°å°±ä¸º45</span></span><br><span class=\"line\">\tr.<span class=\"built_in\">assign</span>(A.<span class=\"built_in\">end</span>()-j,A.<span class=\"built_in\">end</span>()); <span class=\"comment\">// åˆå§‹åŒ–ä½™æ•°rä¸ºAçš„æœ€åjä½</span></span><br><span class=\"line\">\t<span class=\"comment\">// å½“jå°äºç­‰äºAçš„é•¿åº¦æ—¶å¾ªç¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=A.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“ä½™æ•°rå¤§äºç­‰äºBæ—¶å¾ªç¯</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"built_in\">cmp</span>(r,B))&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆ©ç”¨é«˜ç²¾å‡è®¡ç®—r-Bçš„ç»“æœ</span></span><br><span class=\"line\">\t\t\tvector&lt;<span class=\"type\">int</span>&gt; s = <span class=\"built_in\">sub</span>(r,B);</span><br><span class=\"line\">\t\t\tr.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†ç»“æœèµ‹å€¼ç»™r</span></span><br><span class=\"line\">\t\t\tr.<span class=\"built_in\">assign</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\t\tk++; <span class=\"comment\">// å•†+1</span></span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(k); <span class=\"comment\">// å­˜å‚¨å•†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœjå°äºAçš„é•¿åº¦,åˆ™å°†Aä¸­çš„ä¸‹ä¸€ä½åŠ å…¥åˆ°ä½™æ•°rçš„æœ€å‰é¢</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(j&lt;A.<span class=\"built_in\">size</span>()) r.<span class=\"built_in\">insert</span>(r.<span class=\"built_in\">begin</span>(),A[A.<span class=\"built_in\">size</span>()-j<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å»æ‰ä½™æ•°0,å› ä¸ºéšæ—¶è¦è¿›è¡Œä¸‹ä¸€è½®çš„è®¡ç®—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(r.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;r.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) r.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t\tj++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åè½¬ç»“æœ,å› ä¸ºè¦åˆ©ç”¨é«˜ç²¾å‡å¿…é¡»ä»ä½ä½å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"built_in\">reverse</span>(C.<span class=\"built_in\">begin</span>(),C.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// å»æ‰å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B,r;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C = <span class=\"built_in\">div</span>(A,B,r);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,C[i]);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=r.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,r[i]);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\" />\n\n<h1 id=\"é«˜ç²¾åº¦\"><a href=\"#é«˜ç²¾åº¦\" class=\"headerlink\" title=\"é«˜ç²¾åº¦\"></a>é«˜ç²¾åº¦</h1><!-- toc -->\n\n<ul>\n<li><a href=\"#1-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8A%A0%E6%B3%95%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰</a></li>\n<li><a href=\"#2-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%87%8F%E6%B3%95%E9%AB%98%E7%B2%BE-%E9%AB%98%E7%B2%BE\">2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰</a></li>\n<li><a href=\"#3-%E9%AB%98%E7%B2%BE%E5%BA%A6%E4%B9%98%E6%B3%95\">3. é«˜ç²¾åº¦ä¹˜æ³•</a><ul>\n<li><a href=\"#31-%E9%AB%98%E7%B2%BE%E4%BD%8E%E7%B2%BE\">3.1. é«˜ç²¾Ã—ä½ç²¾</a></li>\n<li><a href=\"#32-%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">3.2. é«˜ç²¾Ã—é«˜ç²¾</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E9%AB%98%E7%B2%BE%E5%BA%A6%E9%99%A4%E6%B3%95\">4. é«˜ç²¾åº¦é™¤æ³•</a><ul>\n<li><a href=\"#41-%E9%AB%98%E7%B2%BE%E4%BD%8E%E7%B2%BE\">4.1. é«˜ç²¾Ã·ä½ç²¾</a></li>\n<li><a href=\"#42-%E9%AB%98%E7%B2%BE%E9%AB%98%E7%B2%BE\">4.2. é«˜ç²¾Ã·é«˜ç²¾</a></li>\n</ul>\n</li>\n</ul>\n<!-- tocstop -->\n\n<h2 id=\"1-é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\"><a href=\"#1-é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\" class=\"headerlink\" title=\"1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰\"></a>1. é«˜ç²¾åº¦åŠ æ³•ï¼ˆé«˜ç²¾+é«˜ç²¾ï¼‰</h2><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAX_SIZE 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®šä¹‰å…¨å±€å˜é‡,åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ éƒ½ä¸º0</span></span><br><span class=\"line\"><span class=\"type\">int</span> a[MAX_SIZE];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAX_SIZE];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAX_SIZE<span class=\"number\">+1</span>]; <span class=\"comment\">// æœ€å¤š200+1ä½</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦åŠ æ³•é—®é¢˜</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\tstring s1,s2;</span><br><span class=\"line\">\tcin&gt;&gt;s1&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨å¤§æ•´æ•°åˆ°æ•°ç»„ä¸­</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1<span class=\"number\">-1</span>-i]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2<span class=\"number\">-1</span>-i]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t<span class=\"comment\">// æ¨¡æ‹Ÿç«–å¼åŠ æ³•è¿›è¡Œè®¡ç®—</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=<span class=\"built_in\">max</span>(n1,n2)<span class=\"number\">+1</span>; <span class=\"comment\">// æœ€å¤šå†è¿›ä¸€ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n3;i++) &#123;</span><br><span class=\"line\">\t\tc[i]+=a[i]+b[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[i]/<span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// c[i+1]+=c[i]/10; // è¿™é‡Œä¹Ÿå¯ä»¥æ”¹ä¸ºc[i+1]+=1 å› ä¸ºæœ€å¤šä¹Ÿå°±9+9=18,è¿›1ä½</span></span><br><span class=\"line\">\t\t\tc[i<span class=\"number\">+1</span>]+=<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t\tc[i]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e6</span><span class=\"number\">+10</span>; <span class=\"comment\">// æœ€å¤§é•¿åº¦</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åŠ å¼•ç”¨æ˜¯ä¸ºäº†æé«˜æ•ˆç‡,æ²¡æœ‰å¼•ç”¨çš„è¯ä¼šå†copyä¸€é</span></span><br><span class=\"line\"><span class=\"comment\">// C=A+B</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">add</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¿ç•™ä¸Šä¸€ä½çš„è¿›ä½</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// &quot;||&quot;ä¿è¯äº†Aå’ŒBè°çš„æ•°ä½æ›´é«˜æˆ–æ›´ä½éƒ½èƒ½è®¡ç®—</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>() || i&lt;B.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;A.<span class=\"built_in\">size</span>()) t+=A[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t+=B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(t%<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœ€é«˜ä½è¿˜è¦è¿›ä½çš„è¯,å°±è¡¥ä¸ª1</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(t) C.<span class=\"built_in\">push_back</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">add</span>(A,B); </span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2-é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\"><a href=\"#2-é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\" class=\"headerlink\" title=\"2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰\"></a>2. é«˜ç²¾åº¦å‡æ³•ï¼ˆé«˜ç²¾-é«˜ç²¾ï¼‰</h2><blockquote>\n<p>é‡ç‚¹åœ¨äºåˆ¤å®šæ˜¯Aå¤§è¿˜æ˜¯Bå¤§</p>\n</blockquote>\n<ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAXN 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"type\">int</span> a[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAXN];</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦å‡æ³•ä¸¤ç§æƒ…å†µ</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\tstring s1,s2;</span><br><span class=\"line\">\tcin&gt;&gt;s1&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// åˆ¤æ–­å“ªä¸ªæ•°å­—æ›´å¤§</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(n1&lt;n2 || (n1==n2 &amp;&amp; s1&lt;s2)) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">swap</span>(s1,s2);</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&#x27;-&#x27;</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœäº¤æ¢äº†,n1å’Œn2è¦æ›´æ–°ä¸€ä¸‹</span></span><br><span class=\"line\">\t\tn1=s<span class=\"number\">1.l</span>ength();</span><br><span class=\"line\">\t\tn2=s<span class=\"number\">2.l</span>ength();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨,æœ€åéƒ½ç”¨a-b</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// ç«–å¼ç›¸å‡</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=<span class=\"built_in\">max</span>(n1,n2);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n3;i++) &#123;</span><br><span class=\"line\">\t\tc[i]+=a[i]-b[i];</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(c[i]&lt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t\tc[i<span class=\"number\">+1</span>]--;</span><br><span class=\"line\">\t\t\tc[i]+=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;\t</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ¤æ–­æ˜¯å¦æœ‰A&gt;=B</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(A.<span class=\"built_in\">size</span>()!=B.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> A.<span class=\"built_in\">size</span>()&gt;B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=A.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(A[i]!=B[i])</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> A[i]&gt;B[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// è¯´æ˜A==B,ä¹Ÿæ˜¯A&gt;=Bçš„å­é›†</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// C=A-B(A&gt;=B)</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sub</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¿ç•™è¿›ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tt=A[i]-t;</span><br><span class=\"line\">\t\t<span class=\"comment\">// åˆ¤æ–­B[i]æ˜¯å¦å­˜åœ¨,å› ä¸ºBçš„ä½æ•°å¯èƒ½æ¯”Aæ›´å°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t-=B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>((t<span class=\"number\">+10</span>)%<span class=\"number\">10</span>); <span class=\"comment\">// å¦‚æœt&gt;=0,åˆ™(t+10)%10=t;å¦‚æœt&lt;0,åˆ™(t+10)%10å˜ä¸ºæ­£æ•°</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t&lt;<span class=\"number\">0</span>) t=<span class=\"number\">1</span>; <span class=\"comment\">// å€Ÿä½,å†ç®—ä¸‹ä¸€ä½çš„æ—¶å€™è¦å¤šå‡å»ä¸€ä¸ª1</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> t=<span class=\"number\">0</span>; <span class=\"comment\">// ä¸å€Ÿä½</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»å‰å¯¼0(vectoråšé«˜ç²¾åŠ çš„è¯å°±ä¸ä¼šå‡ºç°å‰å¯¼0,ç›¸å‡çš„è¯å¯èƒ½å‡ºç°003è¿™ç§æ•°å­—)</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(<span class=\"built_in\">cmp</span>(A,B)) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">sub</span>(A,B);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">sub</span>(B,A);</span><br><span class=\"line\">\t\tcout&lt;&lt;<span class=\"string\">&quot;-&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3-é«˜ç²¾åº¦ä¹˜æ³•\"><a href=\"#3-é«˜ç²¾åº¦ä¹˜æ³•\" class=\"headerlink\" title=\"3. é«˜ç²¾åº¦ä¹˜æ³•\"></a>3. é«˜ç²¾åº¦ä¹˜æ³•</h2><h3 id=\"3-1-é«˜ç²¾Ã—ä½ç²¾\"><a href=\"#3-1-é«˜ç²¾Ã—ä½ç²¾\" class=\"headerlink\" title=\"3.1. é«˜ç²¾Ã—ä½ç²¾\"></a>3.1. é«˜ç²¾Ã—ä½ç²¾</h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> N=<span class=\"number\">1e5</span><span class=\"number\">+10</span>;</span><br><span class=\"line\">string str;</span><br><span class=\"line\"><span class=\"type\">int</span> len1,len2;</span><br><span class=\"line\"><span class=\"type\">int</span> a[N],b,c[N];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">mul</span><span class=\"params\">(<span class=\"type\">int</span> a[],<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len1||t;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;=len1) t+=a[i]*b;</span><br><span class=\"line\">\t\tc[++len2]=t%<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å»å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[len2]==<span class=\"number\">0</span> &amp;&amp; len2&gt;<span class=\"number\">1</span>) len2--;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tcin&gt;&gt;str&gt;&gt;b;</span><br><span class=\"line\">\tlen1=str.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;=len1;i++) a[i]=str[len1-i]-<span class=\"string\">&#x27;0&#x27;</span>; <span class=\"comment\">// å°†æ•°aå€’åº</span></span><br><span class=\"line\">\t<span class=\"built_in\">mul</span>(a,b);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=len2;i&gt;=<span class=\"number\">1</span>;i--) cout&lt;&lt;c[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">mul</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"type\">int</span> b)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// å¦‚æœæœ‰&quot;||t&quot;å°±ä¸ç”¨å•ç‹¬å¤„ç†å‰©ä½™çš„täº†,åªè¦tä¸æ˜¯0å°±ä¼šä¸€ç›´å¤„ç†tçš„è¿›ä½</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>() || t;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;A.<span class=\"built_in\">size</span>()) t+=A[i]*b;</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(t%<span class=\"number\">10</span>); <span class=\"comment\">// åªå–ä¸ªä½</span></span><br><span class=\"line\">\t\tt/=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å¤„ç†æœ€åå‰©ä½™çš„t</span></span><br><span class=\"line\"><span class=\"comment\">//\twhile(t) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tC.push_back(t%10);</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tt/=10;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸ºäº†é¿å…1234*0=0000çš„è¿™ç§æƒ…å†µ,è¿˜æ˜¯éœ€è¦å»é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring a;</span><br><span class=\"line\">\t<span class=\"type\">int</span> b;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">mul</span>(A,b);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-2-é«˜ç²¾Ã—é«˜ç²¾\"><a href=\"#3-2-é«˜ç²¾Ã—é«˜ç²¾\" class=\"headerlink\" title=\"3.2. é«˜ç²¾Ã—é«˜ç²¾\"></a>3.2. é«˜ç²¾Ã—é«˜ç²¾</h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> MAXN 200</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> s1[MAXN];</span><br><span class=\"line\"><span class=\"type\">char</span> s2[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> a[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> b[MAXN];</span><br><span class=\"line\"><span class=\"type\">int</span> c[MAXN+MAXN]; <span class=\"comment\">// 100(3)*100(3)=10000(6)</span></span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// é«˜ç²¾åº¦ä¹˜æ³•</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¾“å…¥å¤§æ•´æ•°</span></span><br><span class=\"line\">\t<span class=\"comment\">// è¿™é‡Œå¦‚æœç”¨gets,åœ¨ä¿¡å¥¥ä¸€æœ¬é€šä¸Šæ— æ³•é€šè¿‡</span></span><br><span class=\"line\">\t<span class=\"comment\">// cin.getline(s1,MAXN);</span></span><br><span class=\"line\">\t<span class=\"comment\">// cin.getline(s2,MAXN);</span></span><br><span class=\"line\">\tcin&gt;&gt;s1;</span><br><span class=\"line\">\tcin&gt;&gt;s2;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=<span class=\"built_in\">strlen</span>(s1);</span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=<span class=\"built_in\">strlen</span>(s2);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\ta[i]=s1[n1-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n2;i++) &#123;</span><br><span class=\"line\">\t\tb[i]=s2[n2-i<span class=\"number\">-1</span>]-<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// ç«–å¼ä¹˜æ³•</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n3=n1+n2;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;n2;j++) &#123;</span><br><span class=\"line\">\t\t\tc[i+j]+=a[i]*b[j];</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(c[i+j]&gt;=<span class=\"number\">10</span>) <span class=\"comment\">// è¯´æ˜è¦è¿›ä½</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tc[i+j<span class=\"number\">+1</span>]+=c[i+j]/<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t\tc[i+j]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"comment\">//\t// å¤„ç†è¿›ä½é—®é¢˜</span></span><br><span class=\"line\"><span class=\"comment\">//\tfor(int i=0;i&lt;n3;i++) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//\t\tc[i+1]+=c[i]/10; </span></span><br><span class=\"line\"><span class=\"comment\">//\t\tc[i]%=10;</span></span><br><span class=\"line\"><span class=\"comment\">//\t&#125;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å¤„ç†å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(c[n3]==<span class=\"number\">0</span> &amp;&amp; n3&gt;<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tn3--;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºè¾“å‡º</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n3;i&gt;=<span class=\"number\">0</span>;i--) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;c[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\">using namespace <span class=\"built_in\">std</span>;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"built_in\">pair</span>&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; <span class=\"title function_\">mul</span><span class=\"params\">(<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; &amp;B)</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; <span class=\"title function_\">C</span><span class=\"params\">(A.size()+B.size(),<span class=\"number\">0</span>)</span>; <span class=\"comment\">// Cæœ€å¤§æ•°ä½ä¸ºsize_A+size_B,å¦‚100(3)Ã—100(3)=10000(5)</span></span><br><span class=\"line\">\t<span class=\"comment\">// å¯¹Cé¢„å¼€å¤§å°,æ˜¯ä¸ºäº†ç”¨ç±»ä¼¼äºæ•°ç»„çš„æ–¹å¼æ¥æ“æ§C</span></span><br><span class=\"line\">\t<span class=\"comment\">// å› ä¸ºA[i]è¦ä¹˜ä»¥æ¯ä¸€ä½B[j]</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.size();i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">0</span>;j&lt;B.size();j++) &#123;</span><br><span class=\"line\">\t\t\tC[i+j]+=A[i]*B[j];</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// è¯´æ˜éœ€è¦è¿›ä½</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(C[i+j]&gt;=<span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">\t\t\t\tC[i+j+<span class=\"number\">1</span>]+=C[i+j]/<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t\tC[i+j]%=<span class=\"number\">10</span>;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;\t</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤å‰å¯¼0,å› ä¸ºå¼€äº†å¤§å°ä¸ºA.size()+B.size()çš„å…¨ä¸º0çš„æ•°ç»„,æœ‰å¯èƒ½ç”¨ä¸å®Œè¿™äº›ç©ºé—´</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.size()&gt;<span class=\"number\">1</span> &amp;&amp; C.back()==<span class=\"number\">0</span>) C.pop_back();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">main</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">string</span> a,b;</span><br><span class=\"line\">\t<span class=\"built_in\">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\t<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt; A,B;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.push_back(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.push_back(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=mul(A,B);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.size()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">cout</span>&lt;&lt;C[i];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"4-é«˜ç²¾åº¦é™¤æ³•\"><a href=\"#4-é«˜ç²¾åº¦é™¤æ³•\" class=\"headerlink\" title=\"4. é«˜ç²¾åº¦é™¤æ³•\"></a>4. é«˜ç²¾åº¦é™¤æ³•</h2><h3 id=\"4-1-é«˜ç²¾Ã·ä½ç²¾\"><a href=\"#4-1-é«˜ç²¾Ã·ä½ç²¾\" class=\"headerlink\" title=\"4.1. é«˜ç²¾Ã·ä½ç²¾\"></a>4.1. é«˜ç²¾Ã·ä½ç²¾</h3><ul>\n<li>åŸºäºæ•°ç»„</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"type\">const</span> <span class=\"type\">int</span> maxn=<span class=\"number\">1e2</span><span class=\"number\">+2</span>;</span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> N[maxn]; <span class=\"comment\">// å­˜æ”¾å¤§æ•´æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> ans[maxn]; <span class=\"comment\">// å­˜æ”¾å•†æ•°</span></span><br><span class=\"line\"><span class=\"type\">int</span> b=<span class=\"number\">13</span>; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring s;</span><br><span class=\"line\">\tcin&gt;&gt;s;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n1=s.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">\t<span class=\"type\">int</span> x=<span class=\"number\">0</span>; </span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\tans[i]=(x*<span class=\"number\">10</span>+(s[i]-<span class=\"string\">&#x27;0&#x27;</span>))/b; <span class=\"comment\">// è®°å½•ä½™æ•°</span></span><br><span class=\"line\">\t\tx=(x*<span class=\"number\">10</span>+(s[i]-<span class=\"string\">&#x27;0&#x27;</span>))%b; <span class=\"comment\">// ä½™æ•°ç»§ç»­å‚ä¸è®¡ç®—</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// å»é™¤ansçš„å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> n2=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(ans[n2]==<span class=\"number\">0</span> &amp;&amp; n2&lt;n1) &#123;</span><br><span class=\"line\">\t\tn2++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°å‡ºå•†æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=n2;i&lt;n1;i++) &#123;</span><br><span class=\"line\">\t\tcout&lt;&lt;ans[i];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout&lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"comment\">// æ‰“å°ä½™æ•°</span></span><br><span class=\"line\">\tcout&lt;&lt;x;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;bits/stdc++.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> x first</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> y second</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ll;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"type\">unsigned</span> <span class=\"type\">long</span> <span class=\"type\">long</span> ull;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; PII;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¼ åœ°å€æ–¹ä¾¿ç›´æ¥å¯¹ä½™æ•°rè¿›è¡Œä¿®æ”¹</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">div</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,<span class=\"type\">int</span> B,<span class=\"type\">int</span> &amp;r)</span> </span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>();i++) &#123;</span><br><span class=\"line\">\t\tr=r*<span class=\"number\">10</span>+A[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(r/B); <span class=\"comment\">// å•†</span></span><br><span class=\"line\">\t\tr=r%B; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// ç”±äºé™¤æ³•è¿ç®—ä¸­é«˜ä½åˆ°ä½ä½è¿ç®—,å› æ­¤Cçš„å‰å¯¼0éƒ½åœ¨vectorçš„å‰é¢è€Œä¸æ˜¯å°¾éƒ¨</span></span><br><span class=\"line\">\t<span class=\"comment\">// æ‰€ä»¥åè½¬C,è¿™æ ·0å°±ä½äºæ•°ç»„å°¾éƒ¨,ä»è€Œç”¨popåˆ é™¤å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"built_in\">reverse</span>(C.<span class=\"built_in\">begin</span>(),C.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span> &amp;&amp; C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\tstring str;</span><br><span class=\"line\">\t<span class=\"type\">int</span> B,r=<span class=\"number\">0</span>; <span class=\"comment\">// ä»£è¡¨ä½™æ•°</span></span><br><span class=\"line\">\tcin&gt;&gt;str&gt;&gt;B;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;str.<span class=\"built_in\">size</span>();i++) A.<span class=\"built_in\">push_back</span>(str[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C=<span class=\"built_in\">div</span>(A,B,r);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) cout&lt;&lt;C[i]; <span class=\"comment\">// å†é€†åºä¸€éå˜æˆæ­£åº</span></span><br><span class=\"line\">\tcout&lt;&lt;endl&lt;&lt;r&lt;&lt;endl; <span class=\"comment\">// ä½™æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"4-2-é«˜ç²¾Ã·é«˜ç²¾\"><a href=\"#4-2-é«˜ç²¾Ã·é«˜ç²¾\" class=\"headerlink\" title=\"4.2. é«˜ç²¾Ã·é«˜ç²¾\"></a>4.2. é«˜ç²¾Ã·é«˜ç²¾</h3><blockquote>\n<p>ç”¨æ•°ç»„æ¨¡æ‹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè¿™é‡Œåªä»‹ç»åŸºäºSTLåº“ä¸­çš„vectorå®ç°æ–¹æ³•</p>\n</blockquote>\n<ul>\n<li>åŸºäºSTL</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¯”è¾ƒAå’ŒBè°æ›´å¤§</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">cmp</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A, vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(A.<span class=\"built_in\">size</span>()!=B.<span class=\"built_in\">size</span>()) <span class=\"keyword\">return</span> A.<span class=\"built_in\">size</span>()&gt;B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=A.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(A[i]!=B[i]) <span class=\"keyword\">return</span> A[i]&gt;B[i]; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”¨é«˜ç²¾åº¦å‡æ³•æ¥æ¨¡æ‹Ÿé«˜ç²¾åº¦é™¤æ³•(é«˜ç²¾Ã·é«˜ç²¾)</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sub</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A,vector&lt;<span class=\"type\">int</span>&gt; &amp;B)</span></span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C;</span><br><span class=\"line\">\t<span class=\"type\">int</span> t=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;A.<span class=\"built_in\">size</span>()||t;i++)&#123;</span><br><span class=\"line\">\t\tt = A[i] - t;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(i&lt;B.<span class=\"built_in\">size</span>()) t -= B[i];</span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>((t<span class=\"number\">+10</span>)%<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t&lt;<span class=\"number\">0</span>) t = <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> t = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// r:å­˜å‚¨æ¯æ¬¡è¿­ä»£åçš„ä½™æ•°</span></span><br><span class=\"line\"><span class=\"comment\">// C:å­˜å‚¨æ¯æ¬¡è¿”å›åç»„æˆçš„å•†æ•°</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">div</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp;A, vector&lt;<span class=\"type\">int</span>&gt; &amp;B, vector&lt;<span class=\"type\">int</span>&gt; &amp;r)</span></span>&#123;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; C; </span><br><span class=\"line\">\t<span class=\"type\">int</span> j = B.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">\t<span class=\"comment\">// æ¯”å¦‚12345Ã·67,j=2,é‚£ä¹ˆåˆå§‹ä½™æ•°å°±ä¸º45</span></span><br><span class=\"line\">\tr.<span class=\"built_in\">assign</span>(A.<span class=\"built_in\">end</span>()-j,A.<span class=\"built_in\">end</span>()); <span class=\"comment\">// åˆå§‹åŒ–ä½™æ•°rä¸ºAçš„æœ€åjä½</span></span><br><span class=\"line\">\t<span class=\"comment\">// å½“jå°äºç­‰äºAçš„é•¿åº¦æ—¶å¾ªç¯</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(j&lt;=A.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">int</span> k=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"comment\">// å½“ä½™æ•°rå¤§äºç­‰äºBæ—¶å¾ªç¯</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(<span class=\"built_in\">cmp</span>(r,B))&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// åˆ©ç”¨é«˜ç²¾å‡è®¡ç®—r-Bçš„ç»“æœ</span></span><br><span class=\"line\">\t\t\tvector&lt;<span class=\"type\">int</span>&gt; s = <span class=\"built_in\">sub</span>(r,B);</span><br><span class=\"line\">\t\t\tr.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å°†ç»“æœèµ‹å€¼ç»™r</span></span><br><span class=\"line\">\t\t\tr.<span class=\"built_in\">assign</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t\t\tk++; <span class=\"comment\">// å•†+1</span></span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t\tC.<span class=\"built_in\">push_back</span>(k); <span class=\"comment\">// å­˜å‚¨å•†</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// å¦‚æœjå°äºAçš„é•¿åº¦,åˆ™å°†Aä¸­çš„ä¸‹ä¸€ä½åŠ å…¥åˆ°ä½™æ•°rçš„æœ€å‰é¢</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(j&lt;A.<span class=\"built_in\">size</span>()) r.<span class=\"built_in\">insert</span>(r.<span class=\"built_in\">begin</span>(),A[A.<span class=\"built_in\">size</span>()-j<span class=\"number\">-1</span>]);</span><br><span class=\"line\">\t\t<span class=\"comment\">// å»æ‰ä½™æ•°0,å› ä¸ºéšæ—¶è¦è¿›è¡Œä¸‹ä¸€è½®çš„è®¡ç®—</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(r.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;r.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) r.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t\tj++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// åè½¬ç»“æœ,å› ä¸ºè¦åˆ©ç”¨é«˜ç²¾å‡å¿…é¡»ä»ä½ä½å¼€å§‹</span></span><br><span class=\"line\">\t<span class=\"built_in\">reverse</span>(C.<span class=\"built_in\">begin</span>(),C.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">\t<span class=\"comment\">// å»æ‰å‰å¯¼0</span></span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(C.<span class=\"built_in\">size</span>()&gt;<span class=\"number\">1</span>&amp;&amp;C.<span class=\"built_in\">back</span>()==<span class=\"number\">0</span>) C.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> C;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">\tstring a,b;</span><br><span class=\"line\">\tcin&gt;&gt;a&gt;&gt;b;</span><br><span class=\"line\">\tvector&lt;<span class=\"type\">int</span>&gt; A,B,r;</span><br><span class=\"line\">\t<span class=\"comment\">// é€†åºå­˜å‚¨</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=a.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) A.<span class=\"built_in\">push_back</span>(a[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=b.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) B.<span class=\"built_in\">push_back</span>(b[i]-<span class=\"string\">&#x27;0&#x27;</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">auto</span> C = <span class=\"built_in\">div</span>(A,B,r);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=C.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,C[i]);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=r.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--) <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d&quot;</span>,r[i]);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cm2msrps90009c0nf33m3etdw","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsf000gc0nf3d1i8muh"},{"post_id":"cm2msrps20001c0nf6tpdhvpm","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsg000jc0nfbcxg2yd1"},{"post_id":"cm2msrpsb000bc0nf6s194wgx","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsh000lc0nf35gm2mil"},{"post_id":"cm2msrpsd000ec0nfa25a7t9e","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsi000oc0nf61ayd2g3"},{"post_id":"cm2msrps80007c0nffdtn7mjn","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsj000rc0nf0kvb2ppv"},{"post_id":"cm2msrpse000fc0nf98mn8tie","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsk000vc0nf42av7pfi"},{"post_id":"cm2msrpsg000ic0nf71toa0k8","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsl000yc0nfcu5u6faw"},{"post_id":"cm2msrpsh000kc0nf5k9rf8uk","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsm0012c0nf1hva1r60"},{"post_id":"cm2msrpsi000nc0nf46e14t39","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsn0015c0nfftt639x4"},{"post_id":"cm2msrpsj000qc0nf0ofz7g2e","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsn0019c0nf7q3id5km"},{"post_id":"cm2msrpsk000uc0nf7aexhboj","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpso001cc0nf33bu1ozd"},{"post_id":"cm2msrpsl000xc0nf9148115m","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsq001fc0nf8kmb0eag"},{"post_id":"cm2msrpsl0011c0nfd9q59ut4","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpst001jc0nf6gahf31m"},{"post_id":"cm2msrpsm0014c0nfdrob7ugu","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsu001mc0nf81fi06js"},{"post_id":"cm2msrpsn0018c0nf15ts5r7s","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsx001qc0nfgwsu55le"},{"post_id":"cm2msrpso001bc0nf9uia0efv","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsx001sc0nfdnvp7uyq"},{"post_id":"cm2msrpso001ec0nf3tsg3zcb","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsy001vc0nfe3303pof"},{"post_id":"cm2msrpss001ic0nfgnkcgiac","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsy001xc0nf2plj5tp2"},{"post_id":"cm2msrpst001lc0nf5kzfbuv2","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsy0020c0nfa4aza28o"},{"post_id":"cm2msrpsw001pc0nffp6b04gp","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpsy0022c0nf9obf5ynw"},{"post_id":"cm2msrptc003hc0nf7ym54h8s","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptf003nc0nf5avwakni"},{"post_id":"cm2msrptd003ic0nfh4sg0yvi","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptf003qc0nf3qvead4m"},{"post_id":"cm2msrptd003kc0nf4v97ap5u","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptg003uc0nfab455mny"},{"post_id":"cm2msrpte003mc0nf428xhjbp","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpth003xc0nf62o957hg"},{"post_id":"cm2msrptf003pc0nfazur13i7","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrpti0040c0nf5bkybhjk"},{"post_id":"cm2msrptg003tc0nfeu8h08wv","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptj0045c0nfgruvhd3m"},{"post_id":"cm2msrpth003zc0nfd2ai5d7w","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptk004ac0nfaq9m7ys3"},{"post_id":"cm2msrpti0044c0nf55hcfwxk","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptm004dc0nfdqkv4rmf"},{"post_id":"cm2msrptj0047c0nf3oyo1hi4","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptn004hc0nf2jp23xiw"},{"post_id":"cm2msrpth003wc0nfcmsnhwd3","category_id":"cm2msrpti0041c0nf0mw55go9","_id":"cm2msrptn004kc0nf76s6bdjz"},{"post_id":"cm2msrptk0049c0nf0sbh98l0","category_id":"cm2msrpti0041c0nf0mw55go9","_id":"cm2msrptp004nc0nfga6maaje"},{"post_id":"cm2msrptl004cc0nf0xlk7r7h","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptt004rc0nfev3y9sjd"},{"post_id":"cm2msrptm004gc0nf16ebg2l7","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptt004tc0nf6i69g2u2"},{"post_id":"cm2msrptn004jc0nf25mcgarz","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptu004wc0nf4awnd7ra"},{"post_id":"cm2msrpto004mc0nf5mcs4wu8","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptu004yc0nfgzil5t3o"},{"post_id":"cm2msrptr004qc0nfdmrj400e","category_id":"cm2msrps60004c0nf8xeycxuy","_id":"cm2msrptu0050c0nfg9kq3wu6"}],"PostTag":[{"post_id":"cm2msrps20001c0nf6tpdhvpm","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsi000pc0nfbk771v4k"},{"post_id":"cm2msrps20001c0nf6tpdhvpm","tag_id":"cm2msrpsb000dc0nf5dhp99mm","_id":"cm2msrpsj000sc0nfhf6k1azf"},{"post_id":"cm2msrps20001c0nf6tpdhvpm","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrpsk000wc0nf5ob6anj0"},{"post_id":"cm2msrpsj000qc0nf0ofz7g2e","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsl000zc0nfcfvnda0k"},{"post_id":"cm2msrpsj000qc0nf0ofz7g2e","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrpsm0013c0nf7wff503b"},{"post_id":"cm2msrpsl0011c0nfd9q59ut4","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsn0016c0nf4bjdfvnd"},{"post_id":"cm2msrpsl0011c0nfd9q59ut4","tag_id":"cm2msrpsb000dc0nf5dhp99mm","_id":"cm2msrpso001ac0nf3rup8f9c"},{"post_id":"cm2msrps80007c0nffdtn7mjn","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpso001dc0nfcrifbiw1"},{"post_id":"cm2msrps80007c0nffdtn7mjn","tag_id":"cm2msrpsb000dc0nf5dhp99mm","_id":"cm2msrpsr001hc0nf5kkncpqn"},{"post_id":"cm2msrps80007c0nffdtn7mjn","tag_id":"cm2msrpsl0010c0nfa135eo9c","_id":"cm2msrpst001kc0nf20wx9vj6"},{"post_id":"cm2msrpsn0018c0nf15ts5r7s","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsw001oc0nf107r8wy0"},{"post_id":"cm2msrpsn0018c0nf15ts5r7s","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrpsx001rc0nf19bd5lsq"},{"post_id":"cm2msrps90009c0nf33m3etdw","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsy001uc0nfffvz68zp"},{"post_id":"cm2msrps90009c0nf33m3etdw","tag_id":"cm2msrpsn0017c0nffg6xc198","_id":"cm2msrpsy001wc0nf6j4p9si0"},{"post_id":"cm2msrpsb000bc0nf6s194wgx","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsy001zc0nfby1pbp4v"},{"post_id":"cm2msrpsb000bc0nf6s194wgx","tag_id":"cm2msrpsn0017c0nffg6xc198","_id":"cm2msrpsy0021c0nf1tqkfgbp"},{"post_id":"cm2msrpsd000ec0nfa25a7t9e","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsz0024c0nf6mm7hafm"},{"post_id":"cm2msrpsd000ec0nfa25a7t9e","tag_id":"cm2msrpsn0017c0nffg6xc198","_id":"cm2msrpsz0025c0nfhn7t0bti"},{"post_id":"cm2msrpse000fc0nf98mn8tie","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpsz0026c0nfhnu1hu7u"},{"post_id":"cm2msrpse000fc0nf98mn8tie","tag_id":"cm2msrpsx001tc0nfd9v6clc6","_id":"cm2msrpsz0028c0nfgudvchsm"},{"post_id":"cm2msrpse000fc0nf98mn8tie","tag_id":"cm2msrpsy001yc0nf44qa2kl8","_id":"cm2msrpsz0029c0nf5odhbhen"},{"post_id":"cm2msrpsg000ic0nf71toa0k8","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt0002bc0nfarlwfjha"},{"post_id":"cm2msrpsg000ic0nf71toa0k8","tag_id":"cm2msrpsz0023c0nffdfl6pee","_id":"cm2msrpt0002cc0nf56rkazzj"},{"post_id":"cm2msrpsh000kc0nf5k9rf8uk","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt0002ec0nfftbk8l8s"},{"post_id":"cm2msrpsh000kc0nf5k9rf8uk","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrpt0002fc0nfe9y1fndr"},{"post_id":"cm2msrpsi000nc0nf46e14t39","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt2002hc0nf42ed3zzh"},{"post_id":"cm2msrpsi000nc0nf46e14t39","tag_id":"cm2msrpsz002ac0nf3p7p7j86","_id":"cm2msrpt2002ic0nf2iooc3jb"},{"post_id":"cm2msrpsi000nc0nf46e14t39","tag_id":"cm2msrpt0002dc0nf7gu27ami","_id":"cm2msrpt3002kc0nfglhg1mzj"},{"post_id":"cm2msrpsk000uc0nf7aexhboj","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt3002lc0nf1x7de34l"},{"post_id":"cm2msrpsk000uc0nf7aexhboj","tag_id":"cm2msrpt0002gc0nfgg2k9xpv","_id":"cm2msrpt4002nc0nfatpofzkc"},{"post_id":"cm2msrpsl000xc0nf9148115m","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt5002pc0nf04a31n1l"},{"post_id":"cm2msrpsl000xc0nf9148115m","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrpt5002qc0nff8br6u3s"},{"post_id":"cm2msrpsl000xc0nf9148115m","tag_id":"cm2msrpt4002mc0nfduno2urs","_id":"cm2msrpt5002sc0nffg5b6hp7"},{"post_id":"cm2msrpsm0014c0nfdrob7ugu","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt5002tc0nfalb04ivb"},{"post_id":"cm2msrpsm0014c0nfdrob7ugu","tag_id":"cm2msrpsb000dc0nf5dhp99mm","_id":"cm2msrpt6002vc0nfbm26fhnq"},{"post_id":"cm2msrpsm0014c0nfdrob7ugu","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrpt6002wc0nfdqzo7x7b"},{"post_id":"cm2msrpsm0014c0nfdrob7ugu","tag_id":"cm2msrpt4002oc0nf4bjadwvo","_id":"cm2msrpt6002yc0nf745la4mk"},{"post_id":"cm2msrpso001bc0nf9uia0efv","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt6002zc0nf3spjes3e"},{"post_id":"cm2msrpso001bc0nf9uia0efv","tag_id":"cm2msrpt5002rc0nfbj2u2qka","_id":"cm2msrpt60031c0nfhtlg8a2o"},{"post_id":"cm2msrpso001bc0nf9uia0efv","tag_id":"cm2msrpt0002dc0nf7gu27ami","_id":"cm2msrpt60032c0nf48x46t9z"},{"post_id":"cm2msrpso001ec0nf3tsg3zcb","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt70034c0nf4kxlgtdh"},{"post_id":"cm2msrpso001ec0nf3tsg3zcb","tag_id":"cm2msrpt6002xc0nfdjqz6g77","_id":"cm2msrpt70035c0nf4fgh9ecf"},{"post_id":"cm2msrpso001ec0nf3tsg3zcb","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrpt70037c0nfcxaobguy"},{"post_id":"cm2msrpss001ic0nfgnkcgiac","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt80039c0nf3uo14wma"},{"post_id":"cm2msrpss001ic0nfgnkcgiac","tag_id":"cm2msrpsy001yc0nf44qa2kl8","_id":"cm2msrpt8003ac0nf3hl36mr0"},{"post_id":"cm2msrpss001ic0nfgnkcgiac","tag_id":"cm2msrpt70036c0nfasvf7vud","_id":"cm2msrpt8003cc0nfal451dh7"},{"post_id":"cm2msrpst001lc0nf5kzfbuv2","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt8003dc0nf6smuamyl"},{"post_id":"cm2msrpst001lc0nf5kzfbuv2","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrpt8003ec0nf3kqv6070"},{"post_id":"cm2msrpsw001pc0nffp6b04gp","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpt8003fc0nf3bok30nc"},{"post_id":"cm2msrpsw001pc0nffp6b04gp","tag_id":"cm2msrpt8003bc0nf7cf7cx00","_id":"cm2msrpt9003gc0nfgdp2hkhf"},{"post_id":"cm2msrptd003ic0nfh4sg0yvi","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpte003lc0nfhgwh5t2n"},{"post_id":"cm2msrptd003ic0nfh4sg0yvi","tag_id":"cm2msrpt6002xc0nfdjqz6g77","_id":"cm2msrptf003oc0nf8pwkazmf"},{"post_id":"cm2msrpte003mc0nf428xhjbp","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptg003sc0nf1fvn33du"},{"post_id":"cm2msrpte003mc0nf428xhjbp","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrpth003vc0nffwa63k5p"},{"post_id":"cm2msrpte003mc0nf428xhjbp","tag_id":"cm2msrpt4002oc0nf4bjadwvo","_id":"cm2msrpth003yc0nf3ga94dws"},{"post_id":"cm2msrptc003hc0nf7ym54h8s","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpti0043c0nf9kvv5yed"},{"post_id":"cm2msrptc003hc0nf7ym54h8s","tag_id":"cm2msrpt6002xc0nfdjqz6g77","_id":"cm2msrptj0046c0nf6rx9hpao"},{"post_id":"cm2msrptc003hc0nf7ym54h8s","tag_id":"cm2msrptd003jc0nf70xu8prn","_id":"cm2msrptk0048c0nfbm1g338e"},{"post_id":"cm2msrptf003pc0nfazur13i7","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptl004bc0nfeei51zv9"},{"post_id":"cm2msrptf003pc0nfazur13i7","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrptm004fc0nf8gsy9ggx"},{"post_id":"cm2msrptf003pc0nfazur13i7","tag_id":"cm2msrpt4002mc0nfduno2urs","_id":"cm2msrptn004ic0nf22ej0nig"},{"post_id":"cm2msrptg003tc0nfeu8h08wv","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrpto004lc0nf3o328rfz"},{"post_id":"cm2msrptg003tc0nfeu8h08wv","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrptr004pc0nf7apm5gh4"},{"post_id":"cm2msrptd003kc0nf4v97ap5u","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptt004sc0nf0xixgqqh"},{"post_id":"cm2msrptd003kc0nf4v97ap5u","tag_id":"cm2msrptf003rc0nfewnvc3m0","_id":"cm2msrptu004uc0nf2vjm8qbo"},{"post_id":"cm2msrpth003zc0nfd2ai5d7w","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptu004xc0nfaamcgyn8"},{"post_id":"cm2msrpth003zc0nfd2ai5d7w","tag_id":"cm2msrpt6002xc0nfdjqz6g77","_id":"cm2msrptu004zc0nfa4nag630"},{"post_id":"cm2msrpth003zc0nfd2ai5d7w","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrptv0051c0nfcazq34yx"},{"post_id":"cm2msrpti0044c0nf55hcfwxk","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv0052c0nfc9uc6qf3"},{"post_id":"cm2msrpti0044c0nf55hcfwxk","tag_id":"cm2msrpt0002dc0nf7gu27ami","_id":"cm2msrptv0053c0nf6wry2jg6"},{"post_id":"cm2msrptj0047c0nf3oyo1hi4","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv0054c0nfdjoa7wkm"},{"post_id":"cm2msrptj0047c0nf3oyo1hi4","tag_id":"cm2msrpsy001yc0nf44qa2kl8","_id":"cm2msrptv0055c0nfdfm3cbl3"},{"post_id":"cm2msrpth003wc0nfcmsnhwd3","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv0056c0nf3svb75cd"},{"post_id":"cm2msrpth003wc0nfcmsnhwd3","tag_id":"cm2msrpti0042c0nfg8to8plr","_id":"cm2msrptv0057c0nfa8e5hen2"},{"post_id":"cm2msrpth003wc0nfcmsnhwd3","tag_id":"cm2msrpsy001yc0nf44qa2kl8","_id":"cm2msrptv0058c0nf09xd0pjt"},{"post_id":"cm2msrptl004cc0nf0xlk7r7h","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv0059c0nf2tep8dxo"},{"post_id":"cm2msrptl004cc0nf0xlk7r7h","tag_id":"cm2msrptf003rc0nfewnvc3m0","_id":"cm2msrptv005ac0nf6y4fedxv"},{"post_id":"cm2msrptm004gc0nf16ebg2l7","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv005bc0nf62wk4rtt"},{"post_id":"cm2msrptm004gc0nf16ebg2l7","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrptv005cc0nfgd7lc9yh"},{"post_id":"cm2msrptm004gc0nf16ebg2l7","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrptv005dc0nfficv5orr"},{"post_id":"cm2msrptk0049c0nf0sbh98l0","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv005ec0nfee5c5kcm"},{"post_id":"cm2msrptk0049c0nf0sbh98l0","tag_id":"cm2msrptm004ec0nfdvxe3gbs","_id":"cm2msrptv005fc0nfgwb84kpx"},{"post_id":"cm2msrpto004mc0nf5mcs4wu8","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv005gc0nf22ye5tgu"},{"post_id":"cm2msrpto004mc0nf5mcs4wu8","tag_id":"cm2msrpsf000hc0nf2qugan6z","_id":"cm2msrptv005hc0nf703zbb37"},{"post_id":"cm2msrpto004mc0nf5mcs4wu8","tag_id":"cm2msrpsz0027c0nfh9999kj1","_id":"cm2msrptv005ic0nf7o62fubd"},{"post_id":"cm2msrptn004jc0nf25mcgarz","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptv005jc0nf9at2al27"},{"post_id":"cm2msrptn004jc0nf25mcgarz","tag_id":"cm2msrptq004oc0nf5jjm2bs2","_id":"cm2msrptv005kc0nfhh1v69bf"},{"post_id":"cm2msrptr004qc0nfdmrj400e","tag_id":"cm2msrps70005c0nffva5c8wd","_id":"cm2msrptw005lc0nfdazsbfo3"},{"post_id":"cm2msrptr004qc0nfdmrj400e","tag_id":"cm2msrptu004vc0nf4f1i5eys","_id":"cm2msrptw005mc0nfe00562i8"}],"Tag":[{"name":"ç®—æ³•ç«èµ›","_id":"cm2msrps70005c0nffva5c8wd"},{"name":"å­—ç¬¦ä¸²","_id":"cm2msrpsb000dc0nf5dhp99mm"},{"name":"æ•°æ®ç»“æ„","_id":"cm2msrpsf000hc0nf2qugan6z"},{"name":"æ¨¡å¼åŒ¹é…","_id":"cm2msrpsl0010c0nfa135eo9c"},{"name":"å‡½æ•°é€ŸæŸ¥","_id":"cm2msrpsn0017c0nffg6xc198"},{"name":"ä¹˜æ³•é€†å…ƒ","_id":"cm2msrpsx001tc0nfd9v6clc6"},{"name":"æ•°è®º","_id":"cm2msrpsy001yc0nf44qa2kl8"},{"name":"äºŒåˆ†","_id":"cm2msrpsz0023c0nffdfl6pee"},{"name":"å›¾è®º","_id":"cm2msrpsz0027c0nfh9999kj1"},{"name":"å‰ç¼€å’Œ","_id":"cm2msrpsz002ac0nf3p7p7j86"},{"name":"é¢„å¤„ç†","_id":"cm2msrpt0002dc0nf7gu27ami"},{"name":"å‰ç½®çŸ¥è¯†","_id":"cm2msrpt0002gc0nfgg2k9xpv"},{"name":"æœ€çŸ­è·¯","_id":"cm2msrpt4002mc0nfduno2urs"},{"name":"æ ‘","_id":"cm2msrpt4002oc0nf4bjadwvo"},{"name":"å·®åˆ†","_id":"cm2msrpt5002rc0nfbj2u2qka"},{"name":"æœç´¢","_id":"cm2msrpt6002xc0nfdjqz6g77"},{"name":"å¿«é€Ÿå¹‚","_id":"cm2msrpt70036c0nfasvf7vud"},{"name":"æ’åº","_id":"cm2msrpt8003bc0nf7cf7cx00"},{"name":"ä½è¿ç®—","_id":"cm2msrptd003jc0nf70xu8prn"},{"name":"æ¨¡æ‹Ÿ","_id":"cm2msrptf003rc0nfewnvc3m0"},{"name":"æ¬§æ‹‰ç­›","_id":"cm2msrpti0042c0nfg8to8plr"},{"name":"è´ªå¿ƒ","_id":"cm2msrptm004ec0nfdvxe3gbs"},{"name":"é€’æ¨","_id":"cm2msrptq004oc0nf5jjm2bs2"},{"name":"é«˜ç²¾åº¦","_id":"cm2msrptu004vc0nf4f1i5eys"}]}}